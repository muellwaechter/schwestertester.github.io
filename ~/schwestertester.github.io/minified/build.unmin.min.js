function getTheCookie(e){var t,n=document.cookie.split(/;\s*/),a=[];for(t=0;t<n.length;t++)n[t].match(e)&&(a=n[t].split("=")[1]);return a}function trace(e){if("\n"===e[e.length-1]&&(e=e.substring(0,e.length-1)),window.performance){var t=(window.performance.now()/1e3).toFixed(3);webrtcUtils.log(t+": "+e)}else webrtcUtils.log(e)}function requestUserMedia(e){return new Promise(function(t,n){getUserMedia(e,t,n)})}window.layoutCSS='body#werwolf{background:#000 !important;background-image:url(https://schwestertester.github.io/img/streamers/werwolf_background.jpg) !important;background-repeat:no-repeat !important;background-position:right 0 !important}body#kuhlmann{background-image:url(https://schwestertester.github.io/img/streamers/kuhlmann_background.jpg) !important;background-size:cover !important;background-attachment:fixed}#flames{display:none}#drachenlord #flames{display:block !important}#flames{background:url(https://schwestertester.github.io/img/streamers/drachenlord_flames.gif) repeat-x;position:fixed;bottom:0;background-size:100px 60px;left:0;pointer-events:none;width:100%;height:60px;z-index:2000;mix-blend-mode:screen}.dancing{display:none}#drachenlord .dancing{display:block}.dancing{background:url(https://schwestertester.github.io/img/streamers/drachenlord_item.gif) no-repeat;bottom:-1px;pointer-events:none;background-position:bottom center;background-size:50% 50%;width:195px;height:270px;z-index:1999;position:fixed}.left{left:10px}.right{right:10px}#addSession{padding:10px}#addSession input{width:180px;border:0;height:26px}#addSession btn{borer:none;height:26px;margin-top:-3px !important}#sessions-dropdown li{padding:10px 0}#sessions-dropdown li .name span{font-weight:bold}#sessions-dropdown li .circle-thumb{margin-right:10px}.end-of-broadcast-container .eob-header .broadcast-info .broadcaster-setup-description{top:10px !important}.end-of-broadcast-container .eob-header .broadcast-info .broadcaster-setup-description .short-text{margin-top:0 !important}#update{width:100%;padding:20px;height:100%;text-align:center;position:fixed;top:0;left:0;z-index:10000}button.btn-fan{border:1px solid !important}.main-content-right .mini-player{margin:-11px -11px 12px -11px !important}.social-panel{border-bottom:2px solid}.main-content-right{padding:10px !important;border-radius:3px !important;border:1px solid !important}#leftsidebar{width:256px !important;padding-left:0 !important;top:47px !important;border:0 !important;background:transparent !important}#leftsidebar .trending-users{height:210px !important;margin-left:-5px !important;margin-right:-5px !important;padding-right:4px !important;width:226px !important}#leftsidebar .trending-users a{width:226px !important;padding-left:5px !important}#leftsidebar .trending-tags-list{width:226px !important}#main .main-left{width:222px !important;display:inline-block !important}#main .main-left .channel-menu-content{padding:0 !important;margin-left:0;width:226px;height:100%;border:0 !important;border-right:1px solid !important}#leftsidebar .panel-title{padding:10px 10px !important;margin-bottom:0 !important;margin-top:0 !important;width:225px !important}#leftsidebar .panel-body{padding:0 5px !important}#leftsidebar .left-panel{margin:0 0 !important;padding-bottom:0 !important}#leftsidebar .see-more{display:none !important}#leftsidebar .friends-list h1{margin-top:6px;padding-left:10px}#leftsidebar .friends-list{width:226px !important;margin-left:-5px !important}#leftsidebar .trending-tags-list{width:226px !important;padding:0 5px !important;margin-bottom:0 !important}#leftsidebar .trending-tags-list a{margin-left:-5px !important;padding-left:5px !important;width:220px !important}.activity-panel,[activity-panel]{margin:0 !important}.activity-panel .activity,[activity-panel] .activity{margin-left:-5px;padding-left:5px;width:231px !important}div.main-player,div.mini-player{border:0 solid !important}.result{border:1px solid !important;margin-right:10px !important;border-radius:6px;margin-bottom:10px;width:164px}div.audience-summary,.guest-nav,.modal-header{border-bottom:1px solid !important}.player-overlay{width:643px;height:482px}.modal-content .actions{border-top:1px solid !important;padding-top:5px}#sidebar-container{border:1px solid !important}div div button.btn-fanned{border:1px solid !important}button.btn-cancel{border:1px solid !important}.chat-mention{border-top:1px solid !important;border-bottom:1px solid !important}button.btn-primary,div button.edit-profile,.explore_more,.settings-link,.alert,div.typeahead-container .tag,.connect,.nav-pills li a,.total-views,.comment-actions button.btn-cancel,.searchResult-more{border:1px solid !important}div#chatinput{border:none !important;border-top:1px solid !important}#settinguppanel .snapshot-description{width:258px !important}#update img{position:fixed;bottom:0;height:60%;right:0}form.chat_input_row{margin-top:6px !important}mentio-menu[mentio-for="\'commentInput\'"]{margin-left:2px !important}#sidebar-container #gifttray .premium-gift-desc{width:410px !important}#sidebar-container #gifttray .fanmail-count{right:35px}img.premium-gift,div.premium-gift{display:none !important}#sidebar-container #gifttray .fanmail-desc{margin-bottom:10px !important}div #sidebar-container .gift-tray-open .gift{margin-top:2px !important}div #sidebar-container .gift-tray-open .gifttray-extension{display:none !important}.gifttray-wallet{display:none !important}.fanmail-name{margin-top:10px !important}#playersystem{width:592px;word-wrap:break-word;white-space:normal;padding:5px;font-size:11px !important;text-align:center;height:30px;border-top:1px solid}#playerheader{padding-bottom:0 !important;height:70px !important;border-bottom:1px solid}.tab-icon .ynicon-broadcast{color:#fff !important}.chat_input_row .circle-thumb{width:25px;height:25px}.chat_input_row .selfie-container .ynicon-icon-selfie{font-size:25px !important}.top-fan .circle-thumb{width:25px !important;height:25px !important}#sidebar-container #topfan-slider .top-fan:last-child .see-text{width:120px !important;line-height:11px !important;font-size:8px !important}a.circle-thumb span{margin-top:14px;margin-right:0;float:right;font-weight:bold;text-shadow:1px 1px 1px black,1px -1px 1px black,-1px 1px 1px black,-1px -1px 1px black}.moment-urge{display:none !important}#sidebar-container{height:604px !important}#sidebar-container .sidebar-tab{height:100% !important}#sidebar-container .sidebar-header{height:35px !important;line-height:35px !important;height:43px !important;line-height:0 !important;border-bottom:1px solid !important}#sidebar-container .chatContent{height:100%}#sidebar-container .sidebar-header .tab-icon{font-size:12px !important;padding-top:12px !important}#sidebar-container .sidebar-header .tab-icon i{font-size:18px !important}#sidebar-container #chatinput{height:36px !important}#sidebar-container #topfan-slider .top-fan>*{vertical-align:top !important}#sidebar-container #topfan-slider .top-fan .circle-thumb{margin-right:0 !important}#sidebar-container #topfan-slider .top-fan{height:37px !important;width:120px !important;margin-top:10px !important}#sidebar-container #topfan-slider .top-fan .fan-name{max-width:98px !important}#sidebar-container #topfan-slider{font-size:11px !important;padding:0 20px 0 5px !important}#sidebar-container #chatinput button{margin:0 0 10px 5px !important;height:20px !important;font-size:10px !important}#sidebar-container #chatinput .characterCount{margin:0 !important}#sidebar-container #chatinput input{height:20px !important}#sidebar-container #chatinput .ynicon-icon-selfie{font-size:25px !important}#sidebar-container .selfie-container .ynicon-icon-selfie{left:-4.5px !important;font-size:33px !important}#sidebar-container .selfie-container{width:35px !important;height:33px !important}#sidebar-container #chatinput input[type=text]{top:-11px !important}#sidebar-container #chatinput .ynicon-icon-selfie{position:absolute}#sidebar-container #globalchatcomments .chatcomment,#sidebar-container #chatcomments .chatcomment{padding:1px 10px !important;font-size:12px !important}#sidebar-container .characterCount{visibility:visible !important;top:-5px !important}#sidebar-container #globalchatcomments .chatcomment img,#sidebar-container #chatcomments .chatcomment img{height:33px}#sidebar-container #globalchatcomments .chatcomment .selfie-container,#sidebar-container #chatcomments .chatcomment .selfie-container{margin-left:-5px !important;width:40px !important}#sidebar-container #globalchatcomments .chatcomment .circle-thumb,#sidebar-container #chatcomments .chatcomment .circle-thumb{width:33px !important;height:33px !important;margin-left:5px !important;position:absolute}#sidebar-container #globalchatcomments .chatcomment .emoji,#sidebar-container #chatcomments .chatcomment .emoji{height:14px !important;width:14px !important}#sidebar-container #globalchatcomments .chatcomment .userBox,#sidebar-container #chatcomments .chatcomment .userBox{width:105px;float:left}#sidebar-container #globalchatcomments .chatcomment .messageBox,#sidebar-container #chatcomments .chatcomment .messageBox{width:225px;float:left !important}#sidebar-container #globalchatcomments .old{opacity:.5}#sidebar-container #globalchatcomments .chatcomment a.chat-name,#sidebar-container #chatcomments .chatcomment a.chat-name{width:100px;float:left !important;white-space:nowrap !important;overflow:hidden !important;text-overflow:ellipsis !important;display:block !important}#sidebar-container #globalchatcomments .chatcomment .comment-content,#sidebar-container #chatcomments .chatcomment .comment-content{width:341px !important}#sidebar-container #globalchatcomments .chatcomment span.ynicon-icon-check,#sidebar-container #chatcomments .chatcomment span.ynicon-icon-check{float:right;display:inline-block}#sidebar-container #globalchatcomments .chatcomment.chat-mention .ynicon-icon-reply,#sidebar-container #chatcomments .chatcomment.chat-mention .ynicon-icon-reply{margin-top:8px}#sidebar-container #globalchatcomments .chatcomment .comment-content{display:inline-block}#sidebar-container #globalchatcomments .chatcomment .circle-thumb{margin-right:5px;vertical-align:top}#sidebar-container #globalchatcomments .chatcomment{-ms-word-break:break-all;word-break:break-all;width:400px;word-break:break-word;overflow:hidden;hyphens:auto;min-height:40px}.tab-icon span.unread{left:15px;position:absolute;margin-top:3px;background:red;padding:0 4px;height:14px;font-weight:bold !important;line-height:12px;font-size:9px;border-radius:5px}.gifttray-premium.premium-selected{height:163px !important}.gifttray-premium{border:none !important;width:398px !important}#sidebar-container #gifttray .gifttray-premium .btn-confirm{margin-top:5px !important}.gifttray-extension{padding-right:0 !important;padding-left:0 !important;height:90px !important;bottom:0 !important}#gifttray{padding:5px !important;height:95px !important}img.gift{width:24px !important;height:24px !important;margin:2px !important}#chatInput{margin-top:5px}.gifttray-basic{display:none}#globalchatcomments{position:relative;overflow-y:hidden;overflow-x:hidden !important;transition:height .7s ease;z-index:998;background-color:#fff;padding:0}#audiencepanel .audience{height:calc(100% - 74px) !important}#audiencepanel .viewer{height:37px !important}#sidebar-container .sidebar-tab>div{padding:0 0 !important}.audience-page{padding-left:10px !important;padding-right:10px !important;padding-top:5px !important;padding-bottom:5px !important}#audiencepanel div.audience-summary{padding:6px 10px !important}#audiencepanel .viewer .viewer-information{margin:0 !important}#audiencepanel .viewer .circle-thumb{width:32px !important;margin-top:2px !important;height:32px !important}#sidebar-container{margin-left:0 !important;height:100% !important}#sidebar-container #globalchatcomments .chat-name{font-weight:600;cursor:pointer}#sidebar-container #globalchatcomments:hover{overflow:auto;overflow-y:auto}#sidebar-container #gifttray{padding-left:0 !important}#sidebar-container .chatcomments-global{height:100% !important}#sidebar-container .chatcomments-mediumlarge{height:100% !important}#sidebar-container .chatcomments-mediumlarge #chatcomments{height:calc(100% - 224px) !important}#sidebar-container .chatcomments-global #globalchatcomments{height:calc(100% - 110px) !important}#sidebar-container .chatcomments-mediumlarge #chatinput{bottom:97px !important}#sidebar-container .chatcomments-large #chatcomments{height:calc(100% - 176px) !important}#sidebar-container .chatcomments-large #chatinput{bottom:97px !important}#sidebar-container .chatcomments-medium #chatcomments{height:calc(100% - 249px) !important}#sidebar-container .chatcomments-medium #chatinput{bottom:170px !important}#sidebar-container .chatcomments-small #chatcomments{height:calc(100% - 297px) !important}#sidebar-container .chatcomments-small #chatinput{bottom:170px !important}.fans-tab-fan a:hover,.comment-container a:hover{background:transparent !important}.selfie-chat-view .semi-prog-1{background:transparent !important}.end-of-broadcast-container .social-panel{margin-top:8px;margin-left:8px}.end-of-broadcast-container .stats-container{margin-top:8px;margin-left:7px}.end-of-broadcast-container .stats-container .details{width:280px !important}.main-channel-detail{width:1045px !important}.player-main object{width:643px !important;height:482px !important}.main-chat{height:calc(100% - 40px);position:fixed;margin-left:643px;top:40px !important}.main-channel-detail{width:644px !important}.player-chat{height:100%}div div#playerheader,div div#playerfooter,div div.player-toolbar,div div.player-toolbar-right,div.player-footer,#settingup-toolbar{background-color:transparent !important}#playerheader .broadcaster-name,#playerheader .broadcaster-name span{padding-top:5px !important}#playerheader,#playerfooter,#playerfooter .player-toolbar{width:645px !important}#playerheader{height:44px !important;padding:5px 10px !important}#playerheader .circle-thumb{width:30px !important;height:30px !important}.broadcast-info{width:}.main-content .main-player{border-radius:0 !important;width:643px !important}button.next-fan,button.prev-fan{top:45px !important;height:39px !important}button.next-fan{right:1px !important}button.prev-fan{left:1px !important}.giftImg{float:left;margin-right:5px}div div.connected{border:none !important;background:transparent !important}.end-of-broadcast-container .stats-container .details .detail-container{width:280px !important;padding-left:15px !important;padding-right:15px !important}img.circle-thumb{visibility:hidden !important}div img.circle-thumb[src*="http"]{visibility:visible !important}a:hover{text-decoration:none !important}div.audience-summary.refresh i.ynicon{height:12px !important;width:12px !important}.line-clamp:after{display:none}.newFooter{margin-top:15px;clear:both;bottom:0}.main-left{display:block !important;clear:both !important}.main-right{display:block !important;clear:both !important}#guestpanel .guest,.guest-nav{width:calc(100% - 2px) !important}#main{width:1265px !important;clear:both !important;display:block !important;margin:41px auto 0 !important}.tag .result{width:222px !important}.overlay{background-color:rgba(50,50,50,0.5) !important}.navbar-content .nav-logo{line-height:35px !important;margin-right:26px !important}.navbar{height:42px !important;min-height:42px !important;border-bottom:1px solid !important}.search-box{margin-top:0 !important}.main-channel-detail{margin-left:0 !important}.navbar-content{height:40px !important;padding-right:0 !important}.search-box .ynicon-search{right:unset !important;top:8px !important;left:-30px !important;font-size:20px !important}.searchResult .userInfo,.searchResult .description{width:270px !important}.searchResult .userInfo .description,.searchResult .description .description{width:265px !important}.searchResult .userInfo .short-text,.searchResult .description .short-text{width:225px !important}.search-title{margin:0 0 4px !important}.navbar-content .search-box .dropdown-menu{margin-top:29px !important;width:365px !important}.tiny-search-bar .search-field{padding:0 !important}.navbar-content .tiny-search-active .search-field{padding:6px 12px !important}.tiny-search-active .ynicon-close{top:12px !important;right:3px !important}.search-box{height:35px !important;margin-left:10px !important}.search-box .search-field:focus{border-bottom:none !important}.search-box .search-field{margin-left:0 !important;height:39px !important;border-bottom:none !important;margin-top:0 !important}.navbar-content .user-actions{margin-top:5px;!important}.explore-text.pull-left{margin-left:10px !important;margin-top:6px !important}.user-menu{margin-top:5px !important}.user-menu .circle-thumb{width:30px !important;height:30px !important}#notifications-dropdown{margin-top:3px !important}#notifications-dropdown .ynicon{font-size:26px !important}.notifications{margin-right:5px !important}.notifications .dropdown-menu{margin-top:35px !important;margin-right:-10px !important}.notifications .ynicon-carrot-up{margin-top:-6px !important}.user-menu .ynicon-carrot-up{margin-top:-1px !important}.user-menu .dropdown-menu{margin-top:30px !important;margin-right:-20px !important}.navbar-content .user-actions{margin-top:4px !important}.navbar .gradient-accent,.navbar .progress-buffer{height:2px !important}.main-content .main-content-left{margin-left:0 !important}.main-content.main-async .main-content-left .user-cover{width:645px !important;height:254px !important}.main-content .main-content-left{width:645px !important;margin-left:0 !important}#playerheader .broadcaster-tag{margin-top:3px !important}.nav-absolute .header-nav-text{padding-top:2px !important;padding-bottom:2px !important;font-size:14px !important}.nav-absolute{left:270px !important}#momentpanel{padding-left:20px !important;padding-right:20px !important}#sharepanel{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}.main-content{width:1039px !important}#main .main-content.main-async .main-content-right{margin-left:-2px !important}.main-content .main-content-right{margin-left:-2px !important;width:400px !important;position:fixed}',window.YouNow||(window.YouNow={}),window.YouNow.Bootstrap={},YouNow.Bootstrap.genTmId=function(){YouNow.Bootstrap.tmId=getTheCookie("PHPSESSID").toString()+"_"+Math.round((new Date).getTime()).toString()+"_"+parseInt(1e16*Math.random()).toString()},YouNow.Bootstrap.images1=function(){var e=document.getElementById("images1");e&&e.parentNode.removeChild(e);var t=document.createElement("script");t.id="images1",t.src="https://images1.younow.com/fp/tags.js?org_id=7jnw4jh4&session_id="+window.YouNow.Bootstrap.tmId+"&pageid=1",document.body.appendChild(t)},YouNow.Bootstrap.genTmId(),window.onload=function(){window.YouNow.Bootstrap.images1()},"/"===window.location.pathname&&(window.quickHash=window.location.hash),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,a){return!!t.call(e,a,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return q.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=he[e]={};return Z.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function o(){J.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function l(e,t,n){var a;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(a),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?Z.parseJSON(n):n}catch(i){}be.set(e,t,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function d(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=De.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,a=e.length;a>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,a,i,r,o,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(r=ve.access(e),o=ve.set(t,r),c=r.events)){delete o.handle,o.events={};for(i in c)for(n=0,a=c[i].length;a>n;n++)Z.event.add(t,i,c[i][n])}be.hasData(e)&&(s=be.access(e),l=Z.extend({},s),be.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Te.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var a,i=Z(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(a=e.getDefaultComputedStyle(i[0]))?a.display:Z.css(i[0],"display");return i.detach(),r}function w(e){var t=J,n=Be[e];return n||(n=y(e,t),"none"!==n&&n||(Le=(Le||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Le[0].contentDocument,t.write(),t.close(),n=y(e,t),Le.detach()),Be[e]=n),n}function S(e,t,n){var a,i,r,o,s=e.style;return n=n||Ve(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),Ge.test(o)&&Fe.test(t)&&(a=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=a,s.minWidth=i,s.maxWidth=r)),void 0!==o?o+"":o}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),a=t,i=Ye.length;i--;)if(t=Ye[i]+n,t in e)return t;return a}function T(e,t,n){var a=We.exec(t);return a?Math.max(0,a[1]-(n||0))+(a[2]||"px"):t}function k(e,t,n,a,i){for(var r=n===(a?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Z.css(e,n+_e[r],!0,i)),a?("content"===n&&(o-=Z.css(e,"padding"+_e[r],!0,i)),"margin"!==n&&(o-=Z.css(e,"border"+_e[r]+"Width",!0,i))):(o+=Z.css(e,"padding"+_e[r],!0,i),"padding"!==n&&(o+=Z.css(e,"border"+_e[r]+"Width",!0,i)));return o}function A(e,t,n){var a=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=Ve(e),o="border-box"===Z.css(e,"boxSizing",!1,r);if(0>=i||null==i){if(i=S(e,t,r),(0>i||null==i)&&(i=e.style[t]),Ge.test(i))return i;a=o&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(o?"border":"content"),a,r)+"px"}function x(e,t){for(var n,a,i,r=[],o=0,s=e.length;s>o;o++)a=e[o],a.style&&(r[o]=ve.get(a,"olddisplay"),n=a.style.display,t?(r[o]||"none"!==n||(a.style.display=""),""===a.style.display&&Ce(a)&&(r[o]=ve.access(a,"olddisplay",w(a.nodeName)))):(i=Ce(a),"none"===n&&i||ve.set(a,"olddisplay",i?n:Z.css(a,"display"))));for(o=0;s>o;o++)a=e[o],a.style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?r[o]||"":"none"));return e}function I(e,t,n,a,i){return new I.prototype.init(e,t,n,a,i)}function E(){return setTimeout(function(){Qe=void 0}),Qe=Z.now()}function N(e,t){var n,a=0,i={height:e};for(t=t?1:0;4>a;a+=2-t)n=_e[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var a,i=(nt[t]||[]).concat(nt["*"]),r=0,o=i.length;o>r;r++)if(a=i[r].call(n,t,e))return a}function P(e,t,n){var a,i,r,o,s,l,c,u,d=this,p={},f=e.style,h=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=Z.css(e,"display"),u="none"===c?ve.get(e,"olddisplay")||w(e.nodeName):c,"inline"===u&&"none"===Z.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(a in t)if(i=t[a],Xe.exec(i)){if(delete t[a],r=r||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[a])continue;h=!0}p[a]=m&&m[a]||Z.style(e,a)}else c=void 0;if(Z.isEmptyObject(p))"inline"===("none"===c?w(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(h=m.hidden):m=ve.access(e,"fxshow",{}),r&&(m.hidden=!h),h?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(a in p)o=O(h?m[a]:0,a,d),a in m||(m[a]=o.start,h&&(o.end=o.start,o.start="width"===a||"height"===a?1:0))}}function M(e,t){var n,a,i,r,o;for(n in e)if(a=Z.camelCase(n),i=t[a],r=e[n],Z.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==a&&(e[a]=r,delete e[n]),o=Z.cssHooks[a],o&&"expand"in o){r=o.expand(r),delete e[a];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[a]=i}function j(e,t,n){var a,i,r=0,o=tt.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Qe||E(),n=Math.max(0,c.startTime+c.duration-t),a=n/c.duration||0,r=1-a,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||E(),duration:n.duration,tweens:[],createTween:function(t,n){var a=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var n=0,a=t?c.tweens.length:0;if(i)return this;for(i=!0;a>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(M(u,c.opts.specialEasing);o>r;r++)if(a=tt[r].call(c,e,u,c.opts))return a;return Z.map(u,O,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var a,i=0,r=t.toLowerCase().match(fe)||[];if(Z.isFunction(n))for(;a=r[i++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function D(e,t,n,a){function i(s){var l;return r[s]=!0,Z.each(e[s]||[],function(e,s){var c=s(t,n,a);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var r={},o=e===yt;return i(t.dataTypes[0])||!r["*"]&&i("*")}function R(e,t){var n,a,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:a||(a={}))[n]=t[n]);return a&&Z.extend(!0,e,a),e}function U(e,t,n){for(var a,i,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(i in s)if(s[i]&&s[i].test(a)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}o||(o=i)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function L(e,t,n,a){var i,r,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=c[l+" "+r]||c["* "+r],!o)for(i in c)if(s=i.split(" "),s[1]===r&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[i]:c[i]!==!0&&(r=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function B(e,t,n,a){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Tt.test(e)?a(e,i):B(e+"["+("object"==typeof i?t:"")+"]",i,n,a)});else if(n||"object"!==Z.type(t))a(e,t);else for(i in t)B(e+"["+i+"]",t[i],n,a)}function F(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],V=G.slice,H=G.concat,W=G.push,q=G.indexOf,K={},z=K.toString,Y=K.hasOwnProperty,Q={},J=e.document,X="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ae=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:X,constructor:Z,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:G.sort,splice:G.splice},Z.extend=Z.fn.extend=function(){var e,t,n,a,i,r,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||Z.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],a=e[t],o!==a&&(c&&a&&(Z.isPlainObject(a)||(i=Z.isArray(a)))?(i?(i=!1,r=n&&Z.isArray(n)?n:[]):r=n&&Z.isPlainObject(n)?n:{},o[t]=Z.extend(c,r,a)):void 0!==a&&(o[t]=a));return o},Z.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[z.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ae)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var i,r=0,o=e.length,s=n(e);if(a){if(s)for(;o>r&&(i=t.apply(e[r],a),i!==!1);r++);else for(r in e)if(i=t.apply(e[r],a),i===!1)break}else if(s)for(;o>r&&(i=t.call(e[r],r,e[r]),i!==!1);r++);else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(n(Object(e))?Z.merge(a,"string"==typeof e?[e]:e):W.call(a,e)),a},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,i=e.length;n>a;a++)e[i++]=t[a];return e.length=i,e},grep:function(e,t,n){for(var a,i=[],r=0,o=e.length,s=!n;o>r;r++)a=!t(e[r],r),a!==s&&i.push(e[r]);return i},map:function(e,t,a){var i,r=0,o=e.length,s=n(e),l=[];if(s)for(;o>r;r++)i=t(e[r],r,a),null!=i&&l.push(i);else for(r in e)i=t(e[r],r,a),null!=i&&l.push(i);return H.apply([],l)},guid:1,proxy:function(e,t){var n,a,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(a=V.call(arguments,2),i=function(){return e.apply(t||this,a.concat(V.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){
K["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,a){var i,r,o,s,l,c,d,f,h,m;if((t?t.ownerDocument||t:B)!==P&&O(t),t=t||P,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!a&&j){if(11!==s&&(i=be.exec(e)))if(o=i[1]){if(9===s){if(r=t.getElementById(o),!r||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&U(t,r)&&r.id===o)return n.push(r),n}else{if(i[2])return X.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&S.getElementsByClassName)return X.apply(n,t.getElementsByClassName(o)),n}if(S.qsa&&(!$||!$.test(e))){if(f=d=L,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=k(e),(d=t.getAttribute("id"))?f=d.replace(we,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);h=ye.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return X.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return x(e.replace(le,"$1"),t,n,a)}function n(){function e(n,a){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=a}var t=[];return e}function a(e){return e[L]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),a=e.length;a--;)_.attrHandle[n[a]]=t}function o(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return a(function(t){return t=+t,a(function(n,a){for(var i,r=e([],n.length,t),o=r.length;o--;)n[i=r[o]]&&(n[i]=!(a[i]=n[i]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,a="";n>t;t++)a+=e[t].value;return a}function f(e,t,n){var a=t.dir,i=n&&"parentNode"===a,r=G++;return t.first?function(t,n,r){for(;t=t[a];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,o){var s,l,c=[F,r];if(o){for(;t=t[a];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[a];)if(1===t.nodeType||i){if(l=t[L]||(t[L]={}),(s=l[a])&&s[0]===F&&s[1]===r)return c[2]=s[2];if(l[a]=c,c[2]=e(t,n,o))return!0}}}function h(e){return e.length>1?function(t,n,a){for(var i=e.length;i--;)if(!e[i](t,n,a))return!1;return!0}:e[0]}function m(e,n,a){for(var i=0,r=n.length;r>i;i++)t(e,n[i],a);return a}function g(e,t,n,a,i){for(var r,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,a,i))&&(o.push(r),c&&t.push(s));return o}function v(e,t,n,i,r,o){return i&&!i[L]&&(i=v(i)),r&&!r[L]&&(r=v(r,o)),a(function(a,o,s,l){var c,u,d,p=[],f=[],h=o.length,v=a||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!a&&t?v:g(v,p,e,s,l),y=n?r||(a?e:h||i)?[]:o:b;if(n&&n(b,y,s,l),i)for(c=g(y,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(b[f[u]]=d));if(a){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?ee(a,d):p[u])>-1&&(a[c]=!(o[c]=d))}}else y=g(y===o?y.splice(h,y.length):y),r?r(null,o,y,l):X.apply(o,y)})}function b(e){for(var t,n,a,i=e.length,r=_.relative[e[0].type],o=r||_.relative[" "],s=r?1:0,l=f(function(e){return e===t},o,!0),c=f(function(e){return ee(t,e)>-1},o,!0),u=[function(e,n,a){var i=!r&&(a||n!==I)||((t=n).nodeType?l(e,n,a):c(e,n,a));return t=null,i}];i>s;s++)if(n=_.relative[e[s].type])u=[f(h(u),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[L]){for(a=++s;i>a&&!_.relative[e[a].type];a++);return v(s>1&&h(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,a>s&&b(e.slice(s,a)),i>a&&b(e=e.slice(a)),i>a&&p(e))}u.push(n)}return h(u)}function y(e,n){var i=n.length>0,r=e.length>0,o=function(a,o,s,l,c){var u,d,p,f=0,h="0",m=a&&[],v=[],b=I,y=a||r&&_.find.TAG("*",c),w=F+=null==b?1:Math.random()||.1,S=y.length;for(c&&(I=o!==P&&o);h!==S&&null!=(u=y[h]);h++){if(r&&u){for(d=0;p=e[d++];)if(p(u,o,s)){l.push(u);break}c&&(F=w)}i&&((u=!p&&u)&&f--,a&&m.push(u))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,o,s);if(a){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(l));v=g(v)}X.apply(l,v),c&&!a&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(F=w,I=b),m};return i?a(o):o}var w,S,_,C,T,k,A,x,I,E,N,O,P,M,j,$,D,R,U,L="sizzle"+1*new Date,B=e.document,F=0,G=0,V=n(),H=n(),W=n(),q=function(e,t){return e===t&&(N=!0),0},K=1<<31,z={}.hasOwnProperty,Y=[],Q=Y.pop,J=Y.push,X=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ae.replace("w","w#"),re="\\["+ne+"*("+ae+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(oe),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,Se=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var a="0x"+t-65536;return a!==a||n?t:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Ce=function(){O()};try{X.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(Te){X={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}S=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,a=e?e.ownerDocument||e:B;return a!==P&&9===a.nodeType&&a.documentElement?(P=a,M=a.documentElement,n=a.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),j=!T(a),S.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=i(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=ve.test(a.getElementsByClassName),S.getById=i(function(e){return M.appendChild(e).id=L,!a.getElementsByName||!a.getElementsByName(L).length}),S.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(Se,_e);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(Se,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=S.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):S.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,a=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&a.push(n);return a}return r},_.find.CLASS=S.getElementsByClassName&&function(e,t){return j?t.getElementsByClassName(e):void 0},D=[],$=[],(S.qsa=ve.test(a.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||$.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+L+"-]").length||$.push("~="),e.querySelectorAll(":checked").length||$.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||$.push(".#.+[+~]")}),i(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&$.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),$.push(",.*:")})),(S.matchesSelector=ve.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){S.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),D.push("!=",oe)}),$=$.length&&new RegExp($.join("|")),D=D.length&&new RegExp(D.join("|")),t=ve.test(M.compareDocumentPosition),U=t||ve.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!S.sortDetached&&t.compareDocumentPosition(e)===n?e===a||e.ownerDocument===B&&U(B,e)?-1:t===a||t.ownerDocument===B&&U(B,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===a?-1:t===a?1:r?-1:s?1:E?ee(E,e)-ee(E,t):0;if(r===s)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?o(l[i],c[i]):l[i]===B?-1:c[i]===B?1:0},a):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&O(e),n=n.replace(de,"='$1']"),S.matchesSelector&&j&&(!D||!D.test(n))&&(!$||!$.test(n)))try{var a=R.call(e,n);if(a||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(i){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&O(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&O(e);var n=_.attrHandle[t.toLowerCase()],a=n&&z.call(_.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==a?a:S.attributes||!j?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],a=0,i=0;if(N=!S.detectDuplicates,E=!S.sortStable&&e.slice(0),e.sort(q),N){for(;t=e[i++];)t===e[i]&&(a=n.push(i));for(;a--;)e.splice(n[a],1)}return E=null,e},C=t.getText=function(e){var t,n="",a=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[a++];)n+=C(t);return n},_=t.selectors={cacheLength:50,createPseudo:a,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Se,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(Se,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Se,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var r=t.attr(i,e);return null==r?"!="===n:n?(r+="","="===n?r===a:"!="===n?r!==a:"^="===n?a&&0===r.indexOf(a):"*="===n?a&&r.indexOf(a)>-1:"$="===n?a&&r.slice(-a.length)===a:"~="===n?(" "+r.replace(se," ")+" ").indexOf(a)>-1:"|="===n?r===a||r.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,t,n,a,i){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===a&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=r!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&b){for(u=g[L]||(g[L]={}),c=u[e]||[],f=c[0]===F&&c[1],p=c[0]===F&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[F,f,p];break}}else if(b&&(c=(t[L]||(t[L]={}))[e])&&c[0]===F)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(b&&((d[L]||(d[L]={}))[e]=[F,p]),d!==t)););return p-=i,p===a||p%a===0&&p/a>=0}}},PSEUDO:function(e,n){var i,r=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(n):r.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,i=r(e,n),o=i.length;o--;)a=ee(e,i[o]),e[a]=!(t[a]=i[o])}):function(e){return r(e,0,i)}):r}},pseudos:{not:a(function(e){var t=[],n=[],i=A(e.replace(le,"$1"));return i[L]?a(function(e,t,n,a){for(var r,o=i(e,null,a,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return t(e,n).length>0}}),contains:a(function(e){return e=e.replace(Se,_e),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:a(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Se,_e).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var a=0>n?n+t:n;--a>=0;)e.push(a);return e}),gt:c(function(e,t,n){for(var a=0>n?n+t:n;++a<t;)e.push(a);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,k=t.tokenize=function(e,n){var a,i,r,o,s,l,c,u=H[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=_.preFilter;s;){(!a||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),a=!1,(i=ue.exec(s))&&(a=i.shift(),r.push({value:a,type:i[0].replace(le," ")}),s=s.slice(a.length));for(o in _.filter)!(i=he[o].exec(s))||c[o]&&!(i=c[o](i))||(a=i.shift(),r.push({value:a,type:o,matches:i}),s=s.slice(a.length));if(!a)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},A=t.compile=function(e,t){var n,a=[],i=[],r=W[e+" "];if(!r){for(t||(t=k(e)),n=t.length;n--;)r=b(t[n]),r[L]?a.push(r):i.push(r);r=W(e,y(i,a)),r.selector=e}return r},x=t.select=function(e,t,n,a){var i,r,o,s,l,c="function"==typeof e&&e,d=!a&&k(e=c.selector||e);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&S.getById&&9===t.nodeType&&j&&_.relative[r[1].type]){if(t=(_.find.ID(o.matches[0].replace(Se,_e),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=he.needsContext.test(e)?0:r.length;i--&&(o=r[i],!_.relative[s=o.type]);)if((l=_.find[s])&&(a=l(o.matches[0].replace(Se,_e),ye.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),e=a.length&&p(r),!e)return X.apply(n,a),n;break}}return(c||A(e,d))(a,t,!j,n,ye.test(e)&&u(t.parentNode)||t),n},S.sortStable=L.split("").sort(q).join("")===L,S.detectDuplicates=!!N,O(),S.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var a;return n?void 0:e[t]===!0?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var re=Z.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?Z.find.matchesSelector(a,e)?[a]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,a=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,i[t],a);return a=this.pushStack(n>1?Z.unique(a):a),a.selector=this.selector?this.selector+" "+e:e,a},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&re.test(e)?Z(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Z.fn.init=function(e,t){var n,a;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),oe.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return a=J.getElementById(n[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ue.prototype=Z.fn,le=Z(J);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var a=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;a.push(e)}return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,a=0,i=this.length,r=[],o=re.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>a;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?Z.unique(r):r)},index:function(e){return e?"string"==typeof e?q.call(Z(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,a){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(i=Z.filter(a,i)),this.length>1&&(pe[e]||Z.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var fe=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||r(e):Z.extend({},e);var t,n,a,i,o,s,l=[],c=!e.once&&[],u=function(r){for(t=e.memory&&r,n=!0,s=i||0,i=0,o=l.length,a=!0;l&&o>s;s++)if(l[s].apply(r[0],r[1])===!1&&e.stopOnFalse){t=!1;break}a=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function r(t){Z.each(t,function(t,n){var a=Z.type(n);"function"===a?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==a&&r(n)})}(arguments),a?o=l.length:t&&(i=n,u(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),a&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],a?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",a={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,r){var o=Z.isFunction(e[t])&&e[t];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===a?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,a):a}},i={};return a.pipe=a.then,Z.each(t,function(e,r){var o=r[2],s=r[3];a[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?a:this,arguments),this},i[r[0]+"With"]=o.fireWith}),a.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,a,i=0,r=V.call(arguments),o=r.length,s=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===s?e:Z.Deferred(),c=function(e,n,a){return function(i){n[e]=this,a[e]=arguments.length>1?V.call(arguments):i,a===t?l.notifyWith(n,a):--s||l.resolveWith(n,a)}};if(o>1)for(t=new Array(o),n=new Array(o),a=new Array(o);o>i;i++)r[i]&&Z.isFunction(r[i].promise)?r[i].promise().done(c(i,a,r)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(a,r),l.promise()}});var me;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(me.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return me||(me=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),me.promise(t)},Z.ready.promise();var ge=Z.access=function(e,t,n,a,i,r,o){var s=0,l=e.length,c=null==n;if("object"===Z.type(n)){i=!0;for(s in n)Z.access(e,t,s,n[s],!0,r,o)}else if(void 0!==a&&(i=!0,Z.isFunction(a)||(o=!0),c&&(o?(t.call(e,a),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>s;s++)t(e[s],n,o?a:a.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):r};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(a){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var a,i=this.key(e),r=this.cache[i];if("string"==typeof t)r[t]=n;else if(Z.isEmptyObject(r))Z.extend(this.cache[i],t);else for(a in t)r[a]=t[a];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var a;return void 0===t||t&&"string"==typeof t&&void 0===n?(a=this.get(e,t),void 0!==a?a:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,a,i,r=this.key(e),o=this.cache[r];if(void 0===t)this.cache[r]={};else{Z.isArray(t)?a=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in o?a=[t,i]:(a=i,a=a in o?[a]:a.match(fe)||[])),n=a.length;for(;n--;)delete o[a[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Z.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,a,i,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(i=be.get(r),1===r.nodeType&&!ve.get(r,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(a=o[n].name,0===a.indexOf("data-")&&(a=Z.camelCase(a.slice(5)),l(r,a,i[a])));ve.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,a=Z.camelCase(e);if(r&&void 0===t){if(n=be.get(r,e),void 0!==n)return n;if(n=be.get(r,a),void 0!==n)return n;if(n=l(r,a,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,a);be.set(this,a,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var a;return e?(t=(t||"fx")+"queue",a=ve.get(e,t),n&&(!a||Z.isArray(n)?a=ve.access(e,t,Z.makeArray(n)):a.push(n)),a||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),a=n.length,i=n.shift(),r=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),a--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,o,r)),!a&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,i=Z.Deferred(),r=this,o=this.length,s=function(){--a||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=ve.get(r[o],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(s));return s(),i.promise(t)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Te=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var Ae=/^key/,xe=/^(?:mouse|pointer|contextmenu)|click/,Ie=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,a,i){var r,o,s,l,c,u,d,p,f,h,m,g=ve.get(e);if(g)for(n.handler&&(r=n,n=r.handler,i=r.selector),n.guid||(n.guid=Z.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],c=t.length;c--;)s=Ee.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=Z.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=Z.event.special[f]||{},u=Z.extend({type:f,origType:m,data:a,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},r),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,a,h,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),Z.event.global[f]=!0)},remove:function(e,t,n,a,i){var r,o,s,l,c,u,d,p,f,h,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=Ee.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=Z.event.special[f]||{},f=(a?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)u=p[r],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||a&&a!==u.selector&&("**"!==a||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));o&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||Z.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)Z.event.remove(e,f+t[c],n,a,!0);Z.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,a,i){var r,o,s,l,c,u,d,p=[a||J],f=Y.call(t,"type")?t.type:t,h=Y.call(t,"namespace")?t.namespace.split("."):[];if(o=s=a=a||J,3!==a.nodeType&&8!==a.nodeType&&!Ie.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,
t.result=void 0,t.target||(t.target=a),n=null==n?[t]:Z.makeArray(n,[t]),d=Z.event.special[f]||{},i||!d.trigger||d.trigger.apply(a,n)!==!1)){if(!i&&!d.noBubble&&!Z.isWindow(a)){for(l=d.delegateType||f,Ie.test(l+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(a.ownerDocument||J)&&p.push(s.defaultView||s.parentWindow||e)}for(r=0;(o=p[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||f,u=(ve.get(o,"events")||{})[t.type]&&ve.get(o,"handle"),u&&u.apply(o,n),u=c&&o[c],u&&u.apply&&Z.acceptData(o)&&(t.result=u.apply(o,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Z.acceptData(a)||c&&Z.isFunction(a[f])&&!Z.isWindow(a)&&(s=a[c],s&&(a[c]=null),Z.event.triggered=f,a[f](),Z.event.triggered=void 0,s&&(a[c]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,a,i,r,o=[],s=V.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,l),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,a=((Z.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==a&&(e.result=a)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,a,i,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(a=[],n=0;s>n;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Z(i,this).index(l)>=0:Z.find(i,this,null,[l]).length),a[i]&&a.push(r);a.length&&o.push({elem:l,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,a,i,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,a=n.documentElement,i=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,a,i=e.type,r=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=xe.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),a=o.props?this.props.concat(o.props):this.props,e=new Z.Event(r),t=a.length;t--;)n=a[t],e[n]=r[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,a){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});a?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,a=this,i=e.relatedTarget,r=e.handleObj;return(!i||i!==a&&!Z.contains(a,i))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var a=this.ownerDocument||this,i=ve.access(a,t);i||a.addEventListener(e,n,!0),ve.access(a,t,(i||0)+1)},teardown:function(){var a=this.ownerDocument||this,i=ve.access(a,t)-1;i?ve.access(a,t,i):(a.removeEventListener(e,n,!0),ve.remove(a,t))}}}),Z.fn.extend({on:function(e,t,n,a,i){var r,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==a?(a=t,n=t=void 0):null==a&&("string"==typeof t?(a=n,n=void 0):(a=n,n=t,t=void 0)),a===!1)a=u;else if(!a)return this;return 1===i&&(r=a,a=function(e){return Z().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,a,n,t)})},one:function(e,t,n,a){return this.on(e,t,n,a,1)},off:function(e,t,n){var a,i;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,Z(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Pe=/<|&#?\w+;/,Me=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,Z.extend({clone:function(e,t,n){var a,i,r,o,s=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=v(s),r=v(e),a=0,i=r.length;i>a;a++)b(r[a],o[a]);if(t)if(n)for(r=r||v(e),o=o||v(s),a=0,i=r.length;i>a;a++)g(r[a],o[a]);else g(e,s);return o=v(s,"script"),o.length>0&&m(o,!l&&v(e,"script")),s},buildFragment:function(e,t,n,a){for(var i,r,o,s,l,c,u=t.createDocumentFragment(),d=[],p=0,f=e.length;f>p;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(d,i.nodeType?[i]:i);else if(Pe.test(i)){for(r=r||u.appendChild(t.createElement("div")),o=(Oe.exec(i)||["",""])[1].toLowerCase(),s=Ue[o]||Ue._default,r.innerHTML=s[1]+i.replace(Ne,"<$1></$2>")+s[2],c=s[0];c--;)r=r.lastChild;Z.merge(d,r.childNodes),r=u.firstChild,r.textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",p=0;i=d[p++];)if((!a||-1===Z.inArray(i,a))&&(l=Z.contains(i.ownerDocument,i),r=v(u.appendChild(i),"script"),l&&m(r),n))for(c=0;i=r[c++];)$e.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,a,i,r=Z.event.special,o=0;void 0!==(n=e[o]);o++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(a in t.events)r[a]?Z.event.remove(n,a):Z.removeEvent(n,a,t.handle);ve.cache[i]&&delete ve.cache[i]}delete be.cache[n[be.expando]]}}}),Z.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,a=e?Z.filter(e,this):this,i=0;null!=(n=a[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!Ue[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ne,"<$1></$2>");try{for(;a>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=H.apply([],e);var n,a,i,r,o,s,l=0,c=this.length,u=this,d=c-1,p=e[0],m=Z.isFunction(p);if(m||c>1&&"string"==typeof p&&!Q.checkClone&&je.test(p))return this.each(function(n){var a=u.eq(n);m&&(e[0]=p.call(this,n,a.html())),a.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),a=n.firstChild,1===n.childNodes.length&&(n=a),a)){for(i=Z.map(v(n,"script"),f),r=i.length;c>l;l++)o=n,l!==d&&(o=Z.clone(o,!0,!0),r&&Z.merge(i,v(o,"script"))),t.call(this[l],o,l);if(r)for(s=i[i.length-1].ownerDocument,Z.map(i,h),l=0;r>l;l++)o=i[l],$e.test(o.type||"")&&!ve.access(o,"globalEval")&&Z.contains(s,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,a=[],i=Z(e),r=i.length-1,o=0;r>=o;o++)n=o===r?this:this.clone(!0),Z(i[o])[t](n),W.apply(a,n.get());return this.pushStack(a)}});var Le,Be={},Fe=/^margin/,Ge=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),Ve=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var t=e.getComputedStyle(o,null);n="1%"!==t.top,a="4px"===t.width,i.removeChild(r)}var n,a,i=J.documentElement,r=J.createElement("div"),o=J.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n=o.appendChild(J.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",i.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(r),o.removeChild(n),t}}))}(),Z.swap=function(e,t,n,a){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.apply(e,a||[]);for(r in t)e.style[r]=o[r];return i};var He=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+Se+")(.*)$","i"),qe=new RegExp("^([+-])=("+Se+")","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,o,s=Z.camelCase(t),l=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=C(l,s)),o=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(i=o.get(e,!1,a))?i:l[t]:(r=typeof n,"string"===r&&(i=qe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),r="number"),void(null!=n&&n===n&&("number"!==r||Z.cssNumber[s]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,a))||(l[t]=n))))}},css:function(e,t,n,a){var i,r,o,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=C(e.style,s)),o=Z.cssHooks[t]||Z.cssHooks[s],o&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=S(e,t,a)),"normal"===i&&t in ze&&(i=ze[t]),""===n||n?(r=parseFloat(i),n===!0||Z.isNumeric(r)?r||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,a){return n?He.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ke,function(){return A(e,t,a)}):A(e,t,a):void 0},set:function(e,n,a){var i=a&&Ve(e);return T(e,n,a?k(e,t,a,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=_(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var a=0,i={},r="string"==typeof n?n.split(" "):[n];4>a;a++)i[e+_e[a]+t]=r[a]||r[a-2]||r[0];return i}},Fe.test(e)||(Z.cssHooks[e+t].set=T)}),Z.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var a,i,r={},o=0;if(Z.isArray(t)){for(a=Ve(e),i=t.length;i>o;o++)r[t[o]]=Z.css(e,t[o],!1,a);return r}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=I,I.prototype={constructor:I,init:function(e,t,n,a,i,r){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=r||(Z.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=I.prototype.init,Z.fx.step={};var Qe,Je,Xe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[P],nt={"*":[function(e,t){var n=this.createTween(e,t),a=n.cur(),i=Ze.exec(t),r=i&&i[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==r&&+a)&&Ze.exec(Z.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==r){r=r||o[3],i=i||[],o=+a||1;do s=s||".5",o/=s,Z.style(n.elem,e,o+r);while(s!==(s=n.cur()/a)&&1!==s&&--l)}return i&&(o=n.start=+o||+a||0,n.unit=r,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(j,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,a=0,i=e.length;i>a;a++)n=e[a],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var a=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return a.duration=Z.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in Z.fx.speeds?Z.fx.speeds[a.duration]:Z.fx.speeds._default,(null==a.queue||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){Z.isFunction(a.old)&&a.old.call(this),a.queue&&Z.dequeue(this,a.queue)},a},Z.fn.extend({fadeTo:function(e,t,n,a){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var i=Z.isEmptyObject(e),r=Z.speed(t,n,a),o=function(){var t=j(this,Z.extend({},e),r);(i||ve.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=Z.timers,o=ve.get(this);if(i)o[i]&&o[i].stop&&a(o[i]);else for(i in o)o[i]&&o[i].stop&&et.test(i)&&a(o[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),a=n[e+"queue"],i=n[e+"queueHooks"],r=Z.timers,o=a?a.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,a,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,a,i)}}),Z.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var a=setTimeout(t,e);n.stop=function(){clearTimeout(a)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var at,it,rt=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return ge(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var a,i,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===ke?Z.prop(e,t,n):(1===r&&Z.isXMLDoc(e)||(t=t.toLowerCase(),a=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:at)),void 0===n?a&&"get"in a&&null!==(i=a.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,a,i=0,r=t&&t.match(fe);if(r&&1===e.nodeType)for(;n=r[i++];)a=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[a]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=rt[t]||Z.find.attr;rt[t]=function(e,t,a){var i,r;return a||(r=rt[t],rt[t]=i,i=null!=n(e,t,a)?t.toLowerCase():null,rt[t]=r),i}});var ot=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return ge(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var a,i,r,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(r=1!==o||!Z.isXMLDoc(e),r&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:e[t]=n:i&&"get"in i&&null!==(a=i.get(e,t))?a:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,a,i,r,o,s="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],a=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(r=0;i=t[r++];)a.indexOf(" "+i+" ")<0&&(a+=i+" ");o=Z.trim(a),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,a,i,r,o,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],a=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(r=0;i=t[r++];)for(;a.indexOf(" "+i+" ")>=0;)a=a.replace(" "+i+" "," ");o=e?Z.trim(a):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,a=0,i=Z(this),r=e.match(fe)||[];t=r[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,a=this.length;a>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,n,a,i=this[0];return arguments.length?(a=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=a?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,a=e.options,i=e.selectedIndex,r="select-one"===e.type||0>i,o=r?null:[],s=r?i+1:a.length,l=0>i?s:r?i:0;s>l;l++)if(n=a[l],(n.selected||l===i)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,a,i=e.options,r=Z.makeArray(t),o=i.length;o--;)a=i[o],(a.selected=Z.inArray(a.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=Z.now(),ut=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(a){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},wt="*/".concat("*"),St=e.location.href,_t=vt.exec(St.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St,type:"GET",isLocal:ht.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:$(bt),ajaxTransport:$(yt),ajax:function(e,t){function n(e,t,n,o){var l,u,v,b,w,_=t;2!==y&&(y=2,s&&clearTimeout(s),a=void 0,r=o||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=U(d,S,n)),b=L(d,b,S,l),l?(d.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(Z.lastModified[i]=w),w=S.getResponseHeader("etag"),w&&(Z.etag[i]=w)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,u=b.data,v=b.error,l=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),S.status=e,S.statusText=(t||_)+"",l?h.resolveWith(p,[u,_,S]):h.rejectWith(p,[S,_,v]),S.statusCode(g),g=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[S,d,l?u:v]),m.fireWith(p,[S,_]),c&&(f.trigger("ajaxComplete",[S,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,i,r,o,s,l,c,u,d=Z.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),m=Z.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=ft.exec(r);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),n(0,t),this}};if(h.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,d.url=((e||d.url||St)+"").replace(dt,"").replace(gt,_t[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===_t[1]&&l[2]===_t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),D(bt,d,t,S),2===y)return S;c=Z.event&&d.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ut.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(i)?i.replace(pt,"$1_="+ct++):i+(ut.test(i)?"&":"?")+"_="+ct++)),d.ifModified&&(Z.lastModified[i]&&S.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&S.setRequestHeader("If-None-Match",Z.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)S.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,S,d)===!1||2===y))return S.abort();w="abort";for(u in{success:1,error:1,complete:1})S[u](d[u]);if(a=D(yt,d,t,S)){S.readyState=1,c&&f.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){S.abort("timeout")},d.timeout));try{y=1,a.send(v,n)}catch(_){if(!(2>y))throw _;n(-1,_)}}else n(-1,"No Transport");return S},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,a,i){return Z.isFunction(n)&&(i=i||a,a=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:a})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,Tt=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){
var n,a=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)B(n,e[n],t,i);return a.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&xt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var It=0,Et={},Nt={0:200,1223:204},Ot=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),Q.cors=!!Ot&&"withCredentials"in Ot,Q.ajax=Ot=!!Ot,Z.ajaxTransport(function(e){var t;return Q.cors||Ot&&!e.crossDomain?{send:function(n,a){var i,r=e.xhr(),o=++It;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)r.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Et[o],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?a(r.status,r.statusText):a(Nt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Et[o]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(a,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Mt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||Z.expando+"_"+ct++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,a){var i,r,o,s=t.jsonp!==!1&&(Mt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Mt,"$1"+i):t.jsonp!==!1&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||Z.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){o=arguments},a.always(function(){e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),o&&Z.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var a=oe.exec(e),i=!n&&[];return a?[t.createElement(a[1])]:(a=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],a.childNodes))};var jt=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var a,i,r,o=this,s=e.indexOf(" ");return s>=0&&(a=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){r=arguments,o.html(a?Z("<div>").append(Z.parseHTML(e)).find(a):e)}).complete(n&&function(e,t){o.each(n,r||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var $t=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var a,i,r,o,s,l,c,u=Z.css(e,"position"),d=Z(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),r=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(a=d.position(),o=a.top,i=a.left):(o=parseFloat(r)||0,i=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,a=this[0],i={top:0,left:0},r=a&&a.ownerDocument;return r?(t=r.documentElement,Z.contains(t,a)?(typeof a.getBoundingClientRect!==ke&&(i=a.getBoundingClientRect()),n=F(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],a={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(a=e.offset()),a.top+=Z.css(e[0],"borderTopWidth",!0),a.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-a.top-Z.css(n,"marginTop",!0),left:t.left-a.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$t;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||$t})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var a="pageYOffset"===n;Z.fn[t]=function(i){return ge(this,function(t,i,r){var o=F(t);return void 0===r?o?o[n]:t[i]:void(o?o.scrollTo(a?e.pageXOffset:r,a?r:e.pageYOffset):t[i]=r)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=_(Q.pixelPosition,function(e,n){return n?(n=S(e,t),Ge.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){Z.fn[a]=function(a,i){var r=arguments.length&&(n||"boolean"!=typeof a),o=n||(a===!0||i===!0?"margin":"border");return ge(this,function(t,n,a){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?Z.css(t,n,o):Z.style(t,n,a,o)},t,r?a:void 0,r,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Dt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Dt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z}),function(e,t,n,a){var i,r,o,s,l,c,u,d,p,f,h,m,g,v;i=function(){var a={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:function(){var e=n.getUserMedia||n.webkitGetUserMedia||n.mozGetUserMedia||n.msGetUserMedia;return e?e.bind(n):e}(),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(e,t){function n(){var a=(new Date).getTime(),s=a-i;s>=t?e.call():r.value=o(n)}if(e=e||a.noop,t=t||0,!a.requestAnimFrame)return setTimeout(e,t);var i=(new Date).getTime(),r=new Object,o=a.requestAnimFrame;return r.value=o(n),r},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:function(){var t=e.btoa||function(e){for(var t,n,a,i,r,o,s,l="",c=0,u=e.length,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u>c;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),a=e.charCodeAt(c++),i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,s=63&a,isNaN(n)?o=s=64:isNaN(a)&&(s=64),l=l+d.charAt(i)+d.charAt(r)+d.charAt(o)+d.charAt(s);return l};return t?t.bind(e):function(){}}(),isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){return a.isObject(e)&&!Object.keys(e).length},isArray:function(e){return e&&Array.isArray(e)},isFunction:function(e){return e&&"function"==typeof e},isElement:function(e){return e&&1===e.nodeType},isString:function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function(){var e=t.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function(){return e.Worker},blob:function(){return a.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var e=t.createElement("video"),n={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(n.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),n.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),n.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),n.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),n.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(a){}return n}()},noop:function(){},each:function(e,t){var n,i;if(a.isArray(e))for(n=-1,i=e.length;++n<i&&t(n,e[n])!==!1;);else if(a.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break},mergeOptions:function i(e,t){if(a.isObject(e)&&a.isObject(t)&&Object.keys){var n={};return a.each(e,function(t,a){n[t]=e[t]}),a.each(t,function(r,o){var s=t[r];a.isObject(s)&&e[r]?n[r]=i(e[r],s):n[r]=s}),n}},setCSSAttr:function(e,t,n){a.isElement(e)&&(a.isString(t)&&a.isString(n)?e.style[t]=n:a.isObject(t)&&a.each(t,function(t,n){e.style[t]=n}))},removeElement:function(e){a.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!a.isString(e))return{};try{var t=new a.Blob([e],{type:"text/javascript"}),n=a.URL.createObjectURL(t),i=new Worker(n);return{objectUrl:n,worker:i}}catch(r){return""+r}},getExtension:function(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function(e){if(e=e||{},!t.body||e.resizeFont===!1)return e.fontSize;var n=e.text,a=e.gifWidth,i=parseInt(e.fontSize,10),r=parseInt(e.minFontSize,10),o=t.createElement("div"),s=t.createElement("span");for(o.setAttribute("width",a),o.appendChild(s),s.innerHTML=n,s.style.fontSize=i+"px",s.style.textIndent="-9999px",s.style.visibility="hidden",t.body.appendChild(s);s.offsetWidth>a&&i>=r;)s.style.fontSize=--i+"px";return t.body.removeChild(s),i+"px"},webWorkerError:!1};return a}(),r=function(e){var t={validate:function(n){n=e.isObject(n)?n:{};var a={};return e.each(t.validators,function(e,t){var i=t.errorCode;return n[i]||t.condition?void 0:(a=t,a.error=!0,!1)}),delete a.condition,a},isValid:function(e){var n=t.validate(e),a=n.error!==!0?!0:!1;return a},validators:[{condition:e.isFunction(e.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:e.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:e.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:e.isFunction(e.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:e.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:e.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:e.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}};return t}(i),o={sampleInterval:10,numWorkers:2,gifWidth:200,gifHeight:200,interval:.1,numFrames:10,images:[],video:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:function(e){},completeCallback:function(){},saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},s=function(){return r.isValid()},l=function(){var e={getUserMedia:!0};return r.isValid(e)},c=function(){function e(){function e(e,t,n){var a,i;for(d=e,p=t,f=n,h=new Array(m),a=0;m>a;a++)h[a]=new Array(4),i=h[a],i[0]=i[1]=i[2]=(a<<_+8)/m|0,V[a]=k/m|0,G[a]=0}function t(){for(var e=[],t=new Array(m),n=0;m>n;n++)t[h[n][3]]=n;for(var a=0,i=0;m>i;i++){var r=t[i];e[a++]=h[r][0],e[a++]=h[r][1],e[a++]=h[r][2]}return e}function n(){var e,t,n,a,i,r,o,s;for(o=0,s=0,e=0;m>e;e++){for(i=h[e],n=e,a=i[1],t=e+1;m>t;t++)r=h[t],r[1]<a&&(n=t,a=r[1]);if(r=h[n],e!=n&&(t=r[0],r[0]=i[0],i[0]=t,t=r[1],r[1]=i[1],i[1]=t,t=r[2],r[2]=i[2],i[2]=t,t=r[3],r[3]=i[3],i[3]=t),a!=o){for(F[o]=s+e>>1,t=o+1;a>t;t++)F[t]=e;o=a,s=e}}for(F[o]=s+S>>1,t=o+1;256>t;t++)F[t]=S}function a(){var e,t,n,a,i,r,o,h,m,S,T,k,A,x;for(w>p&&(f=1),u=30+(f-1)/3,k=d,A=0,x=p,T=p/(3*f),S=T/C|0,h=D,r=M,o=r>>O,1>=o&&(o=0),e=0;o>e;e++)H[e]=h*((o*o-e*e)*U/(o*o));for(m=w>p?3:p%g!==0?3*g:p%v!==0?3*v:p%b!==0?3*b:3*y,e=0;T>e;)if(n=(255&k[A+0])<<_,a=(255&k[A+1])<<_,i=(255&k[A+2])<<_,t=c(n,a,i),l(h,t,n,a,i),0!==o&&s(o,t,n,a,i),A+=m,A>=x&&(A-=p),e++,0===S&&(S=1),e%S===0)for(h-=h/u,r-=r/j,o=r>>O,1>=o&&(o=0),t=0;o>t;t++)H[t]=h*((o*o-t*t)*U/(o*o))}function i(e,t,n){var a,i,r,o,s,l,c;for(s=1e3,c=-1,a=F[t],i=a-1;m>a||i>=0;)m>a&&(l=h[a],r=l[1]-t,r>=s?a=m:(a++,0>r&&(r=-r),o=l[0]-e,0>o&&(o=-o),r+=o,s>r&&(o=l[2]-n,0>o&&(o=-o),r+=o,s>r&&(s=r,c=l[3])))),i>=0&&(l=h[i],r=t-l[1],r>=s?i=-1:(i--,0>r&&(r=-r),o=l[0]-e,0>o&&(o=-o),r+=o,s>r&&(o=l[2]-n,0>o&&(o=-o),r+=o,s>r&&(s=r,c=l[3]))));return c}function r(){return a(),o(),n(),t()}function o(){var e;for(e=0;m>e;e++)h[e][0]>>=_,h[e][1]>>=_,h[e][2]>>=_,h[e][3]=e}function s(e,t,n,a,i){var r,o,s,l,c,u,d;for(s=t-e,-1>s&&(s=-1),l=t+e,l>m&&(l=m),r=t+1,o=t-1,u=1;l>r||o>s;){if(c=H[u++],l>r){d=h[r++];try{d[0]-=c*(d[0]-n)/B|0,d[1]-=c*(d[1]-a)/B|0,d[2]-=c*(d[2]-i)/B|0}catch(p){}}if(o>s){d=h[o--];try{d[0]-=c*(d[0]-n)/B|0,d[1]-=c*(d[1]-a)/B|0,d[2]-=c*(d[2]-i)/B|0}catch(p){}}}}function l(e,t,n,a,i){var r=h[t],o=e/D;r[0]-=o*(r[0]-n)|0,r[1]-=o*(r[1]-a)|0,r[2]-=o*(r[2]-i)|0}function c(e,t,n){var a,i,r,o,s,l,c,u,d,p;for(u=~(1<<31),d=u,l=-1,c=l,a=0;m>a;a++)p=h[a],i=p[0]-e,0>i&&(i=-i),r=p[1]-t,0>r&&(r=-r),i+=r,r=p[2]-n,0>r&&(r=-r),i+=r,u>i&&(u=i,l=a),o=i-(G[a]>>T-_),d>o&&(d=o,c=a),s=V[a]>>x,V[a]-=s,G[a]+=s<<A;return V[l]+=I,G[l]-=E,c}var u,d,p,f,h,m=256,g=499,v=491,b=487,y=503,w=3*y,S=m-1,_=4,C=100,T=16,k=1<<T,A=10,x=10,I=k>>x,E=k<<A-x,N=m>>3,O=6,P=1<<O,M=N*P,j=30,$=10,D=1<<$,R=8,U=1<<R,L=$+R,B=1<<L,F=[],G=[],V=[],H=[];e.apply(this,arguments);var W={};return W.map=i,W.process=r,W}return e}(),u=function(e){var t=function(){try{self.onmessage=function(e){var t,a=e.data||{};a.gifshot&&(t=n.run(a),postMessage(t))}}catch(t){}var n={dataToRGB:function(e,t,n){for(var a=0,i=t*n*4,r=[];i>a;)r.push(e[a++]),r.push(e[a++]),r.push(e[a++]),a++;return r},componentizedPaletteToArray:function(e){var t,n,a,i,r=[];for(t=0;t<e.length;t+=3)n=e[t],a=e[t+1],i=e[t+2],r.push(n<<16|a<<8|i);return r},processFrameWithQuantizer:function(t,n,a,i){var r,o,s,l,c=this.dataToRGB(t,n,a),u=new e(c,c.length,i),d=u.process(),p=new Uint32Array(this.componentizedPaletteToArray(d)),f=n*a,h=new Uint8Array(f),m=0;for(r=0;f>r;r++)o=c[m++],s=c[m++],l=c[m++],h[r]=u.map(o,s,l);return{pixels:h,palette:p}},run:function(e){var t=e.width,n=e.height,a=e.data,i=(e.palette,e.sampleInterval);return this.processFrameWithQuantizer(a,t,n,i)}};return n};return t}(c),d=function(e,t,n,i){function r(e){var t=e.length;if(2>t||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}function o(e,t,n,i){function r(n){for(;f>=n;)e[t++]=255&h,h>>=8,f-=8,t===s+256&&(e[s]=255,s=t++)}function o(e){h|=e<<f,f+=p,r(8)}e[t++]=n;var s=t++,l=1<<n,c=l-1,u=l+1,d=u+1,p=n+1,f=0,h=0,m=i[0]&c,g={};o(l);for(var v=1,b=i.length;b>v;++v){var y=i[v]&c,w=m<<8|y,S=g[w];if(S===a){for(h|=m<<f,f+=p;f>=8;)e[t++]=255&h,h>>=8,f-=8,t===s+256&&(e[s]=255,s=t++);4096===d?(o(l),d=u+1,p=n+1,g={}):(d>=1<<p&&++p,g[w]=d++),m=y}else m=S}return o(m),o(u),r(1),s+1===t?e[s]=0:(e[s]=t-s-1,e[t++]=0),t}var s=0;i=i===a?{}:i;var l=i.loop===a?null:i.loop,c=i.palette===a?null:i.palette;if(0>=t||0>=n||t>65535||n>65535)throw"Width/Height invalid.";e[s++]=71,e[s++]=73,e[s++]=70,e[s++]=56,e[s++]=57,e[s++]=97;var u=0,d=0;if(e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&n,e[s++]=n>>8&255,e[s++]=(null!==c?128:0)|u,e[s++]=d,e[s++]=0,null!==l){if(0>l||l>65535)throw"Loop count invalid.";e[s++]=33,e[s++]=255,e[s++]=11,e[s++]=78,e[s++]=69,e[s++]=84,e[s++]=83,e[s++]=67,e[s++]=65,e[s++]=80,e[s++]=69,e[s++]=50,e[s++]=46,e[s++]=48,e[s++]=3,e[s++]=1,e[s++]=255&l,e[s++]=l>>8&255,e[s++]=0}var p=!1;this.addFrame=function(t,n,i,l,u,d){if(p===!0&&(--s,p=!1),d=d===a?{}:d,0>t||0>n||t>65535||n>65535)throw"x/y invalid.";if(0>=i||0>=l||i>65535||l>65535)throw"Width/Height invalid.";if(u.length<i*l)throw"Not enough pixels for the frame size.";var f=!0,h=d.palette;if((h===a||null===h)&&(f=!1,h=c),h===a||null===h)throw"Must supply either a local or global palette.";for(var m=r(h),g=0;m>>=1;)++g;m=1<<g;var v=d.delay===a?0:d.delay,b=d.disposal===a?0:d.disposal;if(0>b||b>3)throw"Disposal out of range.";var y=!1,w=0;if(d.transparent!==a&&null!==d.transparent&&(y=!0,w=d.transparent,0>w||w>=m))throw"Transparent color index.";if((0!==b||y||0!==v)&&(e[s++]=33,e[s++]=249,e[s++]=4,e[s++]=b<<2|(y===!0?1:0),e[s++]=255&v,e[s++]=v>>8&255,e[s++]=w,e[s++]=0),e[s++]=44,e[s++]=255&t,e[s++]=t>>8&255,e[s++]=255&n,e[s++]=n>>8&255,e[s++]=255&i,e[s++]=i>>8&255,e[s++]=255&l,e[s++]=l>>8&255,e[s++]=f===!0?128|g-1:0,f===!0)for(var S=0,_=h.length;_>S;++S){var C=h[S];e[s++]=C>>16&255,e[s++]=C>>8&255,e[s++]=255&C}s=o(e,s,2>g?2:g,u)},this.end=function(){return p===!1&&(e[s++]=59,p=!0),s}},p=function(e,n,a,i){var r=function(t){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=e.noop,this.onRenderProgressCallback=e.noop,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=t,this.initializeWebWorkers(t)};return r.prototype={workerMethods:n(),initializeWebWorkers:function(i){var r,o,s,l,c=a.toString()+"("+n.toString()+"());",u=-1,d="";for(l=i.numWorkers;++u<l;)r=e.createWebWorker(c),e.isObject(r)?(o=r.objectUrl,s=r.worker,this.workers.push({worker:s,objectUrl:o}),this.availableWorkers.push(s)):(d=r,e.webWorkerError=!!r);this.workerError=d,this.canvas=t.createElement("canvas"),this.canvas.width=i.gifWidth,this.canvas.height=i.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;256>t;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function(e){for(var t=e.length,n="",a=-1;++a<t;)n+=this.byteMap[e[a]];return n},onFrameFinished:function(t){var n=this,a=n.frames,i=n.options;hasExistingImages=!!(i.images||[]).length,allDone=a.every(function(e){return!e.beingProcessed&&e.done}),n.numRenderedFrames++,hasExistingImages&&t(n.numRenderedFrames/a.length),n.onRenderProgressCallback(.75*n.numRenderedFrames/a.length),allDone?n.generatingGIF||n.generateGIF(a,n.onRenderCompleteCallback):e.requestTimeout(function(){n.processNextFrame()},1)},processFrame:function(e){var t,n,a=this,i=this.options,r=i.progressCallback,o=i.sampleInterval,s=this.frames,l=function(e){var i=e.data;delete t.data,t.pixels=Array.prototype.slice.call(i.pixels),t.palette=Array.prototype.slice.call(i.palette),t.done=!0,t.beingProcessed=!1,a.freeWorker(n),a.onFrameFinished(r)};return t=s[e],t.beingProcessed||t.done?void this.onFrameFinished():(t.sampleInterval=o,t.beingProcessed=!0,t.gifshot=!0,n=this.getWorker(),void(n?(n.onmessage=l,n.postMessage(t)):l({data:a.workerMethods.run(t)})))},startRendering:function(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function(){for(var e=-1,t=0;t<this.frames.length;t++){var n=this.frames[t];if(!n.done&&!n.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function(t,n){var a,r,o=[],s={loop:this.repeat},l=this.options,c=l.interval,u=l.images,d=!!u.length,p=l.gifHeight,f=l.gifWidth,h=new i(o,f,p,s),m=this.onRenderProgressCallback,g=d?100*c:0;this.generatingGIF=!0,e.each(t,function(e,n){var a=n.palette;m(.75+.25*n.position*1/t.length),h.addFrame(0,0,f,p,n.pixels,{palette:a,delay:g})}),h.end(),m(1),this.frames=[],this.generatingGIF=!1,e.isFunction(n)&&(a=this.bufferToString(o),r="data:image/gif;base64,"+e.btoa(a),n(r))},setRepeat:function(e){this.repeat=e},addFrame:function(t,n){n=e.isObject(n)?n:{};var a,i=this,r=i.ctx,o=i.options,s=o.gifWidth,l=o.gifHeight,c=(n.gifHeight,n.gifWidth,n.text),u=n.fontWeight,d=e.getFontSize(n),p=n.fontFamily,f=n.fontColor,h=n.textAlign,m=n.textBaseline,g=n.textXCoordinate?n.textXCoordinate:"left"===h?1:"right"===h?s:s/2,v=n.textYCoordinate?n.textYCoordinate:"top"===m?1:"center"===m?l/2:l,b=u+" "+d+" "+p;try{r.drawImage(t,0,0,s,l),c&&(r.font=b,r.fillStyle=f,r.textAlign=h,r.textBaseline=m,r.fillText(c,g,v)),a=r.getImageData(0,0,s,l),i.addFrameImageData(a)}catch(y){return""+y}},addFrameImageData:function(e){var t=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function(e){this.onRenderProgressCallback=e},isRendering:function(){return this.generatingGIF},getBase64GIF:function(t){var n=this,a=function(a){n.destroyWorkers(),e.requestTimeout(function(){t(a)},0)};n.startRendering(a)},destroyWorkers:function(){if(!this.workerError){var t=this.workers;e.each(t,function(t,n){var a=n.worker,i=n.objectUrl;a.terminate(),e.URL.revokeObjectURL(i)})}}},r}(i,u,c,d),f=function(e,t){e.getBase64GIF(function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})})},h=function(e){function n(){i.each(g,function(e,t){t&&s.addFrame(t,d)}),f(s,u)}var o,s,l=e.images,c=e.imagesLength,u=e.callback,d=e.options,h={getUserMedia:!0,"window.URL":!0},m=r.validate(h),g=[],v=0;return m.error?u(m):(s=new p(d),void i.each(l,function(e,r){i.isElement(r)?(d.crossOrigin&&(r.crossOrigin=d.crossOrigin),g[e]=r,v+=1,v===c&&n()):i.isString(r)&&(o=t.createElement("img"),d.crossOrigin&&(o.crossOrigin=d.crossOrigin),o.onerror=function(t){g.length>e&&(g[e]=a)}(function(t){t.onload=function(){g[e]=t,v+=1,v===c&&n(),i.removeElement(t)}}(o)),o.src=r,i.setCSSAttr(o,{position:"fixed",opacity:"0"}),t.body.appendChild(o))}))},m={getGIF:function(e,n){n=i.isFunction(n)?n:i.noop;var a,r=t.createElement("canvas"),o=e.images,s=!!o.length,l=e.videoElement,c=+e.gifWidth,u=+e.gifHeight,d=e.videoWidth,f=e.videoHeight,h=(+e.sampleInterval,+e.numWorkers,e.crop),m=+e.interval,g=s?0:1e3*m,v=e.progressCallback,b=e.savedRenderingContexts,y=e.saveRenderingContexts,w=[],S=b.length?b.length:e.numFrames,_=S,C=new p(e),T=e.text,k=e.fontWeight,A=i.getFontSize(e),x=e.fontFamily,I=e.fontColor,E=e.textAlign,N=e.textBaseline,O=e.textXCoordinate?e.textXCoordinate:"left"===E?1:"right"===E?c:c/2,P=e.textYCoordinate?e.textYCoordinate:"top"===N?1:"center"===N?u/2:u,M=k+" "+A+" "+x,j=h?Math.floor(h.scaledWidth/2):0,$=h?d-h.scaledWidth:0,D=h?Math.floor(h.scaledHeight/2):0,R=h?f-h.scaledHeight:0,U=function L(){function e(){try{$>d&&($=d),R>f&&(R=f),0>j&&(j=0),0>D&&(D=0),a.drawImage(l,j,D,$,R,0,0,c,u),t()}catch(n){if("NS_ERROR_NOT_AVAILABLE"!==n.name)throw n;i.requestTimeout(e,100)}}function t(){_=r;var t,o,s,d,p=S-_;y&&w.push(a.getImageData(0,0,c,u)),T&&(a.font=M,a.fillStyle=I,a.textAlign=E,a.textBaseline=N,a.fillText(T,O,P)),t=a.getImageData(0,0,c,u),o=t.data,s=o[0]+o[1]+o[2]+o[3],d=0===s,d?1===p&&1===S&&e():C.addFrameImageData(t),v(p/S),r>0&&i.requestTimeout(L,g),_||C.getBase64GIF(function(e){n({error:!1,errorCode:"",errorMsg:"",image:e,videoElement:l,savedRenderingContexts:w})})}var r=_-1;b.length?(a.putImageData(b[S-_],0,0),t()):e()};S=null!=S?S:10,m=null!=m?m:.1,r.width=c,r.height=u,a=r.getContext("2d"),function B(){return b.length||0!==l.currentTime?void U():void i.requestTimeout(B,100)}()},getCropDimensions:function(e){var t=e.videoWidth,n=e.videoHeight,a=e.gifWidth,i=e.gifHeight,r={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>n?(r.width=Math.round(t*(i/n))-a,r.scaledWidth=Math.round(r.width*(n/i))):(r.height=Math.round(n*(a/t))-i,r.scaledHeight=Math.round(r.height*(t/a))),r}},g=function(e,t){if(t=i.isFunction(e)?e:t,e=i.isObject(e)?e:{},i.isFunction(t)){var n=i.mergeOptions(o,e)||{},a=n.images,r=a?a.length:0;if(n=i.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),!r)throw new Error("Requires an array of images!");h({images:a,imagesLength:r,callback:t,options:n})}},v=function(e,t,n,a,i,r){var o={utils:e,error:t,defaultOptions:n,createGIF:r,isSupported:a,isExistingImagesGIFSupported:i};return o}(i,r,o,s,l,g),function(t){"function"==typeof define&&define.amd?define([],function(){return t}):"undefined"!=typeof exports?module.exports=t:(e.SuperGif||(e.SuperGif={}),e.SuperGif.encoder=t)}(v)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():(e.SuperGif||(e.SuperGif={}),e.SuperGif.decoder=t())}(this,function(){var e=function(e){return e.reduce(function(e,t){return 2*e+t},0)},t=function(e){for(var t=[],n=7;n>=0;n--)t.push(!!(e&1<<n));return t},n=function(e){this.data=e,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return e instanceof Uint8Array?e[this.pos++]:255&e.charCodeAt(this.pos++)},this.readBytes=function(e){for(var t=[],n=0;e>n;n++)t.push(this.readByte());return t},this.read=function(e){for(var t="",n=0;e>n;n++)t+=String.fromCharCode(this.readByte());return t},this.readUnsigned=function(){var e=this.readBytes(2);return(e[1]<<8)+e[0]}},a=function(e,t){for(var n,a,i=0,r=function(e){for(var n=0,a=0;e>a;a++)t.charCodeAt(i>>3)&1<<(7&i)&&(n|=1<<a),i++;return n},o=[],s=1<<e,l=s+1,c=e+1,u=[],d=function(){u=[],c=e+1;for(var t=0;s>t;t++)u[t]=[t];u[s]=[],u[l]=null};;)if(a=n,n=r(c),n!==s){if(n===l)break;if(n<u.length)a!==s&&u.push(u[a].concat(u[n][0]));else{if(n!==u.length)throw new Error("Invalid LZW code.");u.push(u[a].concat(u[a][0]))}o.push.apply(o,u[n]),u.length===1<<c&&12>c&&c++}else d();return o},i=function(n,i){i||(i={});var r=function(e){for(var t=[],a=0;e>a;a++)t.push(n.readBytes(3));return t},o=function(){var e,t;t="";do e=n.readByte(),t+=n.read(e);while(0!==e);return t},s=function(){var a={};if(a.sig=n.read(3),a.ver=n.read(3),"GIF"!==a.sig)throw new Error("Not a GIF file.");a.width=n.readUnsigned(),a.height=n.readUnsigned();var o=t(n.readByte());a.gctFlag=o.shift(),a.colorRes=e(o.splice(0,3)),a.sorted=o.shift(),a.gctSize=e(o.splice(0,3)),a.bgColor=n.readByte(),a.pixelAspectRatio=n.readByte(),a.gctFlag&&(a.gct=r(1<<a.gctSize+1)),i.hdr&&i.hdr(a)},l=function(a){var r=function(a){var r=(n.readByte(),t(n.readByte()));a.reserved=r.splice(0,3),a.disposalMethod=e(r.splice(0,3)),a.userInput=r.shift(),a.transparencyGiven=r.shift(),a.delayTime=n.readUnsigned(),a.transparencyIndex=n.readByte(),a.terminator=n.readByte(),i.gce&&i.gce(a)},s=function(e){e.comment=o(),i.com&&i.com(e)},l=function(e){n.readByte(),e.ptHeader=n.readBytes(12),e.ptData=o(),i.pte&&i.pte(e)},c=function(e){var t=function(e){n.readByte(),e.unknown=n.readByte(),e.iterations=n.readUnsigned(),e.terminator=n.readByte(),i.app&&i.app.NETSCAPE&&i.app.NETSCAPE(e)},a=function(e){e.appData=o(),i.app&&i.app[e.identifier]&&i.app[e.identifier](e)};switch(n.readByte(),e.identifier=n.read(8),e.authCode=n.read(3),e.identifier){case"NETSCAPE":t(e);break;default:a(e)}},u=function(e){e.data=o(),i.unknown&&i.unknown(e)};switch(a.label=n.readByte(),a.label){case 249:a.extType="gce",r(a);break;case 254:a.extType="com",s(a);break;case 1:a.extType="pte",l(a);break;case 255:a.extType="app",c(a);break;default:a.extType="unknown",u(a)}},c=function(s){var l=function(e,t){for(var n=new Array(e.length),a=e.length/t,i=function(a,i){var r=e.slice(i*t,(i+1)*t);n.splice.apply(n,[a*t,t].concat(r))},r=[0,4,2,1],o=[8,8,4,2],s=0,l=0;4>l;l++)for(var c=r[l];a>c;c+=o[l])i(c,s),s++;return n};s.leftPos=n.readUnsigned(),s.topPos=n.readUnsigned(),s.width=n.readUnsigned(),s.height=n.readUnsigned();var c=t(n.readByte());s.lctFlag=c.shift(),s.interlaced=c.shift(),s.sorted=c.shift(),s.reserved=c.splice(0,2),s.lctSize=e(c.splice(0,3)),s.lctFlag&&(s.lct=r(1<<s.lctSize+1)),s.lzwMinCodeSize=n.readByte();var u=o();s.pixels=a(s.lzwMinCodeSize,u),s.interlaced&&(s.pixels=l(s.pixels,s.width)),i.img&&i.img(s)},u=function(){var e={};switch(e.sentinel=n.readByte(),String.fromCharCode(e.sentinel)){case"!":e.type="ext",l(e);break;case",":e.type="img",c(e);break;case";":e.type="eof",i.eof&&i.eof(e);break;default:throw new Error("Unknown block: 0x"+e.sentinel.toString(16))}"eof"!==e.type&&setTimeout(u,0)},d=function(){s(),setTimeout(u,0)};d()},r=function(e){var t={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var a in e)t[a]=e[a];t.vp_w&&t.vp_h&&(t.is_vp=!0);var r,o,s=null,l=!1,c=null,u=null,d=null,p=null,f=null,h=null,m=null,g=!0,v=!0,b=!1,y=[],w=[],S=t.gif;"undefined"==typeof t.auto_play&&(t.auto_play=!S.getAttribute("rel:auto_play")||"1"==S.getAttribute("rel:auto_play"));var _,C,T,k=t.hasOwnProperty("on_end")?t.on_end:null,A=t.hasOwnProperty("loop_delay")?t.loop_delay:0,x=t.hasOwnProperty("loop_mode")?t.loop_mode:"auto",I=(t.hasOwnProperty("draw_while_loading")?t.draw_while_loading:!0,function(){c=null,u=null,f=d,d=null,h=null}),E=function(){try{i(r,B)}catch(e){}},N=function(e,n){t.drawImageWith||(_.width=e*G(),_.height=n*G()),T.width=e,T.height=n,T.style.width=e+"px",T.style.height=n+"px",T.getContext("2d").setTransform(1,0,0,1,0,0)},O=function(e,t){return w[e]?("undefined"!=typeof t.x&&(w[e].x=t.x),void("undefined"!=typeof t.y&&(w[e].y=t.y))):void(w[e]=t)},P=function(e){o=e,N(o.width,o.height)},M=function(e){j(),I(),c=e.transparencyGiven?e.transparencyIndex:null,u=e.delayTime,d=e.disposalMethod},j=function(){h&&(y.push({data:h.getImageData(0,0,o.width,o.height),delay:u}),w.push({x:0,y:0}))},$=function(e){h||(h=T.getContext("2d"));var t=y.length,n=e.lctFlag?e.lct:o.gct;t>0&&(3===f?null!==p?h.putImageData(y[p].data,0,0):h.clearRect(m.leftPos,m.topPos,m.width,m.height):p=t-1,2===f&&h.clearRect(m.leftPos,m.topPos,m.width,m.height));var a=h.getImageData(e.leftPos,e.topPos,e.width,e.height);e.pixels.forEach(function(e,t){e!==c&&(a.data[4*t+0]=n[e][0],a.data[4*t+1]=n[e][1],a.data[4*t+2]=n[e][2],a.data[4*t+3]=255)}),h.putImageData(a,e.leftPos,e.topPos),b||(C.scale(G(),G()),b=!0),m=e},D=function(){var e=-1,n=0,a=function(){var t=v?1:-1;return(e+t+y.length)%y.length},i=function(t){e+=t,o()},r=function(){var t=!1,r=function(){null!==k&&k(S),n++,x!==!1||0>n?o():(t=!1,g=!1)},o=function(){if(t=g){i(1);var n=10*y[e].delay;n||(n=100);var s=a();0===s?(n+=A,setTimeout(r,n)):setTimeout(o,n)}};return function(){t||setTimeout(o,0)}}(),o=function(){var n;if(e=parseInt(e,10),e>y.length-1&&(e=0),0>e&&(e=0),n=w[e],T.getContext("2d").putImageData(y[e].data,n.x,n.y),t.drawImageWith){var a=t.drawImageWith;C.drawImage(T,a.sx,a.sy,a.swidth,a.sheight,a.x,a.y,a.width,a.height)}else C.globalCompositeOperation="copy",C.drawImage(T,0,0)},l=function(){g=!0,r()},c=function(){g=!1};return{init:function(){s||(t.c_w&&t.c_h||C.scale(G(),G()),t.auto_play?r():(e=0,
o()))},step:r,play:l,pause:c,playing:g,move_relative:i,current_frame:function(){return e},length:function(){return y.length},move_to:function(t){e=t,o()}}}(),R=function(e){},U=function(){},L=function(e,t){return function(n){e(n),R(t)}},B={hdr:L(P),gce:L(M),com:L(U),app:{NETSCAPE:L(U)},img:L($,!0),eof:function(e){j(),R(!1),t.c_w&&t.c_h||t.canvas||(_.width=o.width*G(),_.height=o.height*G()),D.init(),l=!1,H&&H(S)}},F=function(){var e=S.parentNode;if(_=t.canvas?t.canvas:document.createElement("canvas"),C=_.getContext("2d"),T=document.createElement("canvas"),!t.drawImageWith){var n=document.createElement("div");n.className="jsgif",n.width=_.width=S.width,n.height=_.height=S.height,n.appendChild(_)}e&&!t.drawImageWith&&(e.insertBefore(n,S),e.removeChild(S)),t.c_w&&t.c_h&&N(t.c_w,t.c_h),V=!0},G=function(){var e;return e=t.max_width&&o&&o.width>t.max_width?t.max_width/o.width:1},V=!1,H=!1,W=function(e){return l?!1:(H=e?e:!1,l=!0,y=[],I(),p=null,f=null,h=null,m=null,!0)};return{play:D.play,pause:D.pause,move_relative:D.move_relative,move_to:D.move_to,get_playing:function(){return D.playing},get_canvas:function(){return _},get_canvas_scale:function(){return G()},get_loading:function(){return l},get_auto_play:function(){return t.auto_play},get_length:function(){return D.length()},get_current_frame:function(){return D.current_frame()},load_url:function(e,t){if(W(t)){var a=new XMLHttpRequest;a.open("GET",e,!0),"overrideMimeType"in a?a.overrideMimeType("text/plain; charset=x-user-defined"):"responseType"in a?a.responseType="arraybuffer":a.setRequestHeader("Accept-Charset","x-user-defined"),a.onloadstart=function(){V||F()},a.onload=function(e){if(200!=this.status)throw Error("Gif failed to load with a "+this.status);"response"in this||(this.response=new VBArray(this.responseText).toArray().map(String.fromCharCode).join(""));var t=this.response;t.toString().indexOf("ArrayBuffer")>0&&(t=new Uint8Array(t)),r=new n(t),setTimeout(E,0)},a.onerror=function(){throw Error("Gif failed to load")},a.send()}},load:function(e){this.load_url(S.getAttribute("rel:animated_src")||S.src,e)},load_raw:function(e,t){W(t)&&(V||F(),r=new n(e),setTimeout(E,0))},set_frame_offset:O}};return r}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function t(e,n,a){function i(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,t,e,n,a)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,n){(function(n){var a="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var r=a["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=a["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){var a=e("../internal/getNative"),i=a(Date,"now"),r=i||function(){return(new Date).getTime()};t.exports=r},{"../internal/getNative":20}],5:[function(e,t,n){function a(e,t,n){function a(){v&&clearTimeout(v),f&&clearTimeout(f),y=0,f=v=b=void 0}function l(t,n){n&&clearTimeout(n),f=v=b=void 0,t&&(y=r(),h=e.apply(g,p),v||f||(p=g=void 0))}function c(){var e=t-(r()-m);0>=e||e>t?l(b,f):v=setTimeout(c,e)}function u(){l(S,v)}function d(){if(p=arguments,m=r(),g=this,b=S&&(v||!_),w===!1)var n=_&&!v;else{f||_||(y=m);var a=w-(m-y),i=0>=a||a>w;i?(f&&(f=clearTimeout(f)),y=m,h=e.apply(g,p)):f||(f=setTimeout(u,a))}return i&&v?v=clearTimeout(v):v||t===w||(v=setTimeout(c,t)),n&&(i=!0,h=e.apply(g,p)),!i||v||f||(p=g=void 0),h}var p,f,h,m,g,v,b,y=0,w=!1,S=!0;if("function"!=typeof e)throw new TypeError(o);if(t=0>t?0:+t||0,n===!0){var _=!0;S=!1}else i(n)&&(_=!!n.leading,w="maxWait"in n&&s(+n.maxWait||0,t),S="trailing"in n?!!n.trailing:S);return d.cancel=a,d}var i=e("../lang/isObject"),r=e("../date/now"),o="Expected a function",s=Math.max;t.exports=a},{"../date/now":4,"../lang/isObject":33}],6:[function(e,t,n){function a(e,t){if("function"!=typeof e)throw new TypeError(i);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,a=-1,i=r(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var s=Array(t+1);for(a=-1;++a<t;)s[a]=n[a];return s[t]=o,e.apply(this,s)}}var i="Expected a function",r=Math.max;t.exports=a},{}],7:[function(e,t,n){function a(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return n===!1?a=!1:r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:a,maxWait:+t,trailing:s})}var i=e("./debounce"),r=e("../lang/isObject"),o="Expected a function";t.exports=a},{"../lang/isObject":33,"./debounce":5}],8:[function(e,t,n){function a(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}t.exports=a},{}],9:[function(e,t,n){function a(e,t){for(var n=-1,a=e.length;++n<a&&t(e[n],n,e)!==!1;);return e}t.exports=a},{}],10:[function(e,t,n){function a(e,t,n){n||(n={});for(var a=-1,i=t.length;++a<i;){var r=t[a];n[r]=e[r]}return n}t.exports=a},{}],11:[function(e,t,n){var a=e("./createBaseFor"),i=a();t.exports=i},{"./createBaseFor":18}],12:[function(e,t,n){function a(e,t){return i(e,t,r)}var i=e("./baseFor"),r=e("../object/keysIn");t.exports=a},{"../object/keysIn":39,"./baseFor":11}],13:[function(e,t,n){function a(e,t,n,p,f){if(!l(e))return e;var h=s(t)&&(o(t)||u(t)),m=h?void 0:d(t);return i(m||t,function(i,o){if(m&&(o=i,i=t[o]),c(i))p||(p=[]),f||(f=[]),r(e,t,o,a,n,p,f);else{var s=e[o],l=n?n(s,i,o,e,t):void 0,u=void 0===l;u&&(l=i),void 0===l&&(!h||o in e)||!u&&(l===l?l===s:s!==s)||(e[o]=l)}}),e}var i=e("./arrayEach"),r=e("./baseMergeDeep"),o=e("../lang/isArray"),s=e("./isArrayLike"),l=e("../lang/isObject"),c=e("./isObjectLike"),u=e("../lang/isTypedArray"),d=e("../object/keys");t.exports=a},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(e,t,n){function a(e,t,n,a,d,p,f){for(var h=p.length,m=t[n];h--;)if(p[h]==m)return void(e[n]=f[h]);var g=e[n],v=d?d(g,m,n,e,t):void 0,b=void 0===v;b&&(v=m,s(m)&&(o(m)||c(m))?v=o(g)?g:s(g)?i(g):[]:l(m)||r(m)?v=r(g)?u(g):l(g)?g:{}:b=!1),p.push(m),f.push(v),b?e[n]=a(v,m,d,p,f):(v===v?v!==g:g===g)&&(e[n]=v)}var i=e("./arrayCopy"),r=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("./isArrayLike"),l=e("../lang/isPlainObject"),c=e("../lang/isTypedArray"),u=e("../lang/toPlainObject");t.exports=a},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(e,t,n){function a(e){return function(t){return null==t?void 0:i(t)[e]}}var i=e("./toObject");t.exports=a},{"./toObject":28}],16:[function(e,t,n){function a(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,r){return e.call(t,n,a,i,r)};case 5:return function(n,a,i,r,o){return e.call(t,n,a,i,r,o)}}return function(){return e.apply(t,arguments)}}var i=e("../utility/identity");t.exports=a},{"../utility/identity":42}],17:[function(e,t,n){function a(e){return o(function(t,n){var a=-1,o=null==t?0:n.length,s=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,c=o>1?n[o-1]:void 0;for("function"==typeof s?(s=i(s,c,5),o-=2):(s="function"==typeof c?c:void 0,o-=s?1:0),l&&r(n[0],n[1],l)&&(s=3>o?void 0:s,o=1);++a<o;){var u=n[a];u&&e(t,u,s)}return t})}var i=e("./bindCallback"),r=e("./isIterateeCall"),o=e("../function/restParam");t.exports=a},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(e,t,n){function a(e){return function(t,n,a){for(var r=i(t),o=a(t),s=o.length,l=e?s:-1;e?l--:++l<s;){var c=o[l];if(n(r[c],c,r)===!1)break}return t}}var i=e("./toObject");t.exports=a},{"./toObject":28}],19:[function(e,t,n){var a=e("./baseProperty"),i=a("length");t.exports=i},{"./baseProperty":15}],20:[function(e,t,n){function a(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=e("../lang/isNative");t.exports=a},{"../lang/isNative":32}],21:[function(e,t,n){function a(e){return null!=e&&r(i(e))}var i=e("./getLength"),r=e("./isLength");t.exports=a},{"./getLength":19,"./isLength":25}],22:[function(e,t,n){var a=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=a},{}],23:[function(e,t,n){function a(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?r:t,e>-1&&e%1==0&&t>e}var i=/^\d+$/,r=9007199254740991;t.exports=a},{}],24:[function(e,t,n){function a(e,t,n){if(!o(n))return!1;var a=typeof t;if("number"==a?i(n)&&r(t,n.length):"string"==a&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=e("./isArrayLike"),r=e("./isIndex"),o=e("../lang/isObject");t.exports=a},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(e,t,n){function a(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=a},{}],26:[function(e,t,n){function a(e){return!!e&&"object"==typeof e}t.exports=a},{}],27:[function(e,t,n){function a(e){for(var t=c(e),n=t.length,a=n&&e.length,u=!!a&&s(a)&&(r(e)||i(e)||l(e)),p=-1,f=[];++p<n;){var h=t[p];(u&&o(h,a)||d.call(e,h))&&f.push(h)}return f}var i=e("../lang/isArguments"),r=e("../lang/isArray"),o=e("./isIndex"),s=e("./isLength"),l=e("../lang/isString"),c=e("../object/keysIn"),u=Object.prototype,d=u.hasOwnProperty;t.exports=a},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(e,t,n){function a(e){if(o.unindexedChars&&r(e)){for(var t=-1,n=e.length,a=Object(e);++t<n;)a[t]=e.charAt(t);return a}return i(e)?e:Object(e)}var i=e("../lang/isObject"),r=e("../lang/isString"),o=e("../support");t.exports=a},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(e,t,n){function a(e){return r(e)&&i(e)&&s.call(e,"callee")&&!l.call(e,"callee")}var i=e("../internal/isArrayLike"),r=e("../internal/isObjectLike"),o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;t.exports=a},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(e,t,n){var a=e("../internal/getNative"),i=e("../internal/isLength"),r=e("../internal/isObjectLike"),o="[object Array]",s=Object.prototype,l=s.toString,c=a(Array,"isArray"),u=c||function(e){return r(e)&&i(e.length)&&l.call(e)==o};t.exports=u},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(e,t,n){function a(e){return i(e)&&s.call(e)==r}var i=e("./isObject"),r="[object Function]",o=Object.prototype,s=o.toString;t.exports=a},{"./isObject":33}],32:[function(e,t,n){function a(e){return null==e?!1:i(e)?d.test(c.call(e)):o(e)&&(r(e)?d:s).test(e)}var i=e("./isFunction"),r=e("../internal/isHostObject"),o=e("../internal/isObjectLike"),s=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=a},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(e,t,n){function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=a},{}],34:[function(e,t,n){function a(e){var t;if(!s(e)||p.call(e)!=c||o(e)||r(e)||!d.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return l.ownLast?(i(e,function(e,t,a){return n=d.call(a,t),!1}),n!==!1):(i(e,function(e,t){n=t}),void 0===n||d.call(e,n))}var i=e("../internal/baseForIn"),r=e("./isArguments"),o=e("../internal/isHostObject"),s=e("../internal/isObjectLike"),l=e("../support"),c="[object Object]",u=Object.prototype,d=u.hasOwnProperty,p=u.toString;t.exports=a},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(e,t,n){function a(e){return"string"==typeof e||i(e)&&s.call(e)==r}var i=e("../internal/isObjectLike"),r="[object String]",o=Object.prototype,s=o.toString;t.exports=a},{"../internal/isObjectLike":26}],36:[function(e,t,n){function a(e){return r(e)&&i(e.length)&&!!E[O.call(e)]}var i=e("../internal/isLength"),r=e("../internal/isObjectLike"),o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object Float32Array]",S="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",I="[object Uint32Array]",E={};E[w]=E[S]=E[_]=E[C]=E[T]=E[k]=E[A]=E[x]=E[I]=!0,E[o]=E[s]=E[y]=E[l]=E[c]=E[u]=E[d]=E[p]=E[f]=E[h]=E[m]=E[g]=E[v]=E[b]=!1;var N=Object.prototype,O=N.toString;t.exports=a},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(e,t,n){function a(e){return i(e,r(e))}var i=e("../internal/baseCopy"),r=e("../object/keysIn");t.exports=a},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(e,t,n){var a=e("../internal/getNative"),i=e("../internal/isArrayLike"),r=e("../lang/isObject"),o=e("../internal/shimKeys"),s=e("../support"),l=a(Object,"keys"),c=l?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?s.enumPrototypes:i(e))?o(e):r(e)?l(e):[]}:o;t.exports=c},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(e,t,n){function a(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&c(t)&&(o(e)||r(e)||d(e))&&t||0;for(var n=e.constructor,a=-1,i=s(n)&&n.prototype||T,f=i===e,h=Array(t),m=t>0,v=p.enumErrorProps&&(e===C||e instanceof Error),b=p.enumPrototypes&&s(e);++a<t;)h[a]=a+"";for(var w in e)b&&"prototype"==w||v&&("message"==w||"name"==w)||m&&l(w,t)||"constructor"==w&&(f||!A.call(e,w))||h.push(w);if(p.nonEnumShadows&&e!==T){var E=e===k?S:e===C?g:x.call(e),N=I[E]||I[y];for(E==y&&(i=T),t=_.length;t--;){w=_[t];var O=N[w];f&&O||(O?!A.call(e,w):e[w]===i[w])||h.push(w)}}return h}var i=e("../internal/arrayEach"),r=e("../lang/isArguments"),o=e("../lang/isArray"),s=e("../lang/isFunction"),l=e("../internal/isIndex"),c=e("../internal/isLength"),u=e("../lang/isObject"),d=e("../lang/isString"),p=e("../support"),f="[object Array]",h="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",b="[object Number]",y="[object Object]",w="[object RegExp]",S="[object String]",_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],C=Error.prototype,T=Object.prototype,k=String.prototype,A=T.hasOwnProperty,x=T.toString,I={};I[f]=I[m]=I[b]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},I[h]=I[S]={constructor:!0,toString:!0,valueOf:!0},I[g]=I[v]=I[w]={constructor:!0,toString:!0},I[y]={constructor:!0},i(_,function(e){for(var t in I)if(A.call(I,t)){var n=I[t];n[e]=A.call(n,e)}}),t.exports=a},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(e,t,n){var a=e("../internal/baseMerge"),i=e("../internal/createAssigner"),r=i(a);t.exports=r},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(e,t,n){var a=Array.prototype,i=Error.prototype,r=Object.prototype,o=r.propertyIsEnumerable,s=a.splice,l={};!function(e){var t=function(){this.x=e},n={0:e,length:e},a=[];t.prototype={valueOf:e,y:e};for(var r in new t)a.push(r);l.enumErrorProps=o.call(i,"message")||o.call(i,"name"),l.enumPrototypes=o.call(t,"prototype"),l.nonEnumShadows=!/valueOf/.test(a),l.ownLast="x"!=a[0],l.spliceObjects=(s.call(n,0,1),!n[0]),l.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),t.exports=l},{}],42:[function(e,t,n){function a(e){return e}t.exports=a},{}],43:[function(e,t,n){"use strict";var a=e("object-keys");t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test");if("string"==typeof t)return!1;var n=42;e[t]=n;for(t in e)return!1;if(0!==a(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(r.value!==n||r.enumerable!==!0)return!1}return!0}},{"object-keys":50}],44:[function(e,t,n){"use strict";var a=e("object-keys"),i=e("function-bind"),r=function(e){return"undefined"!=typeof e&&null!==e},o=e("./hasSymbols")(),s=Object,l=i.call(Function.call,Array.prototype.push),c=i.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e,t){if(!r(e))throw new TypeError("target must be an object");var n,i,u,d,p,f,h,m=s(e);for(n=1;n<arguments.length;++n){if(i=s(arguments[n]),d=a(i),o&&Object.getOwnPropertySymbols)for(p=Object.getOwnPropertySymbols(i),u=0;u<p.length;++u)h=p[u],c(i,h)&&l(d,h);for(u=0;u<d.length;++u)h=d[u],f=i[h],c(i,h)&&(m[h]=f)}return m}},{"./hasSymbols":43,"function-bind":49,"object-keys":50}],45:[function(e,t,n){"use strict";var a=e("define-properties"),i=e("./implementation"),r=e("./polyfill"),o=e("./shim");a(i,{implementation:i,getPolyfill:r,shim:o}),t.exports=i},{"./implementation":44,"./polyfill":52,"./shim":53,"define-properties":46}],46:[function(e,t,n){"use strict";var a=e("object-keys"),i=e("foreach"),r="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,s=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},l=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},c=Object.defineProperty&&l(),u=function(e,t,n,a){(!(t in e)||s(a)&&a())&&(c?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=a(t);r&&(o=o.concat(Object.getOwnPropertySymbols(t))),i(o,function(a){u(e,a,t[a],n[a])})};d.supportsDescriptors=!!c,t.exports=d},{foreach:47,"object-keys":50}],47:[function(e,t,n){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==i.call(t))throw new TypeError("iterator must be a function");var r=e.length;if(r===+r)for(var o=0;r>o;o++)t.call(n,e[o],o,e);else for(var s in e)a.call(e,s)&&t.call(n,e[s],s,e)}},{}],48:[function(e,t,n){var a="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||r.call(t)!==o)throw new TypeError(a+t);for(var n,s=i.call(arguments,1),l=function(){if(this instanceof n){var a=t.apply(this,s.concat(i.call(arguments)));return Object(a)===a?a:this}return t.apply(e,s.concat(i.call(arguments)))},c=Math.max(0,t.length-s.length),u=[],d=0;c>d;d++)u.push("$"+d);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},{}],49:[function(e,t,n){var a=e("./implementation");t.exports=Function.prototype.bind||a},{"./implementation":48}],50:[function(e,t,n){"use strict";var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Array.prototype.slice,o=e("./isArguments"),s=!{toString:null}.propertyIsEnumerable("toString"),l=function(){}.propertyIsEnumerable("prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(t){return!1}},h=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=o(e),u=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(u&&e.length>0&&!a.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(r&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!a.call(e,g)||d.push(String(g));if(s)for(var v=f(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!a.call(e,c[b])||d.push(c[b]);return d};h.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(o(e)?r.call(e):e)}}}else Object.keys=h;return Object.keys||h},t.exports=h},{"./isArguments":51}],51:[function(e,t,n){"use strict";var a=Object.prototype.toString;t.exports=function(e){var t=a.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===a.call(e.callee)),n}},{}],52:[function(e,t,n){"use strict";var a=e("./implementation"),i=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},a=0;a<t.length;++a)n[t[a]]=t[a];var i=Object.assign({},n),r="";for(var o in i)r+=o;return e!==r},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};t.exports=function(){return Object.assign?i()?a:r()?a:Object.assign:a}},{"./implementation":44}],53:[function(e,t,n){"use strict";var a=e("define-properties"),i=e("./polyfill");t.exports=function(){var e=i();return a(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{"./polyfill":52,"define-properties":46}],54:[function(e,t,n){function a(e,t){var n,a=null;try{n=JSON.parse(e,t)}catch(i){a=i}return[a,n]}t.exports=a},{}],55:[function(e,t,n){function a(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=a(e[n])+(arguments[n+1]||"");return t}},{}],56:[function(e,t,n){"use strict";function a(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t,n){var a=e;return d(t)?(n=t,"string"==typeof e&&(a={uri:e})):a=f(t,{uri:e}),a.callback=n,a}function o(e,t,n){return t=r(e,t,n),s(t)}function s(e){function t(){4===c.readyState&&r()}function n(){var e=void 0;if(c.response?e=c.response:"text"!==c.responseType&&c.responseType||(e=c.responseText||c.responseXML),w)try{e=JSON.parse(e)}catch(t){}return e}function a(e){clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,l)}function r(){if(!f){var t;clearTimeout(h),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var a=l,i=null;0!==t?(a={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(a.headers=p(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,a,a.body)}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=u(s);var l={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:c},c=e.xhr||null;c||(c=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var d,f,h,m=c.url=e.uri||e.url,g=c.method=e.method||"GET",v=e.body||e.data||null,b=c.headers=e.headers||{},y=!!e.sync,w=!1;if("json"in e&&(w=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),v=JSON.stringify(e.json))),c.onreadystatechange=t,c.onload=r,c.onerror=a,c.onprogress=function(){},c.ontimeout=a,c.open(g,m,!y,e.username,e.password),y||(c.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(h=setTimeout(function(){f=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)},e.timeout)),c.setRequestHeader)for(d in b)b.hasOwnProperty(d)&&c.setRequestHeader(d,b[d]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(v),c}function l(){}var c=e("global/window"),u=e("once"),d=e("is-function"),p=e("parse-headers"),f=e("xtend");t.exports=o,o.XMLHttpRequest=c.XMLHttpRequest||l,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:c.XDomainRequest,a(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,a){return n=r(t,n,a),n.method=e.toUpperCase(),s(n)}})},{"global/window":2,"is-function":57,once:58,"parse-headers":61,xtend:62}],57:[function(e,t,n){function a(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=a;var i=Object.prototype.toString},{}],58:[function(e,t,n){function a(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=a,a.proto=a(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0})})},{}],59:[function(e,t,n){function a(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(e)?i(e,t,n):"string"==typeof e?r(e,t,n):o(e,t,n)}function i(e,t,n){for(var a=0,i=e.length;i>a;a++)c.call(e,a)&&t.call(n,e[a],a,e)}function r(e,t,n){for(var a=0,i=e.length;i>a;a++)t.call(n,e.charAt(a),a,e)}function o(e,t,n){for(var a in e)c.call(e,a)&&t.call(n,e[a],a,e)}var s=e("is-function");t.exports=a;var l=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":57}],60:[function(e,t,n){function a(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=a,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],61:[function(e,t,n){var a=e("trim"),i=e("for-each"),r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(a(e).split("\n"),function(e){var n=e.indexOf(":"),i=a(e.slice(0,n)).toLowerCase(),o=a(e.slice(n+1));"undefined"==typeof t[i]?t[i]=o:r(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}},{"for-each":59,trim:60}],62:[function(e,t,n){function a(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var a in n)i.call(n,a)&&(e[a]=n[a])}return e}t.exports=a;var i=Object.prototype.hasOwnProperty},{}],63:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./button.js"),s=a(o),l=e("./component.js"),c=a(l),u=function(e){function t(n,a){i(this,t),e.call(this,n,a)}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(){this.player_.play()},t}(s["default"]);u.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",u),n["default"]=u,t.exports=n["default"]},{"./button.js":64,"./component.js":67}],64:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),c=e("./component"),u=i(c),d=e("./utils/events.js"),p=(a(d),e("./utils/fn.js")),f=(a(p),e("./utils/log.js")),h=i(f),m=e("global/document"),g=(i(m),e("object.assign")),v=i(g),b=function(e){function t(n,a){r(this,t),e.call(this,n,a)}return o(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=v["default"]({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=v["default"]({tabIndex:0},t),n=v["default"]({role:"button"},n)),n=v["default"]({type:"button","aria-live":"polite"},n);var a=u["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(a),a},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),u["default"].prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t}(l["default"]);u["default"].registerComponent("Button",b),n["default"]=b,t.exports=n["default"]},{"./clickable-component.js":65,"./component":67,"./utils/events.js":135,"./utils/fn.js":136,"./utils/log.js":139,"global/document":1,"object.assign":45}],65:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),c=e("./utils/dom.js"),u=a(c),d=e("./utils/events.js"),p=a(d),f=e("./utils/fn.js"),h=a(f),m=e("./utils/log.js"),g=i(m),v=e("global/document"),b=i(v),y=e("object.assign"),w=i(y),S=function(e){
function t(n,a){r(this,t),e.call(this,n,a),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return o(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=w["default"]({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),a=w["default"]({role:"button","aria-live":"polite"},a);var i=e.prototype.createEl.call(this,t,n,a);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=u.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_),this.controlTextEl_},t.prototype.controlText=function(e){return e?(this.controlText_=e,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||"Need Text"},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,n)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){p.on(b["default"],"keydown",h.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){p.off(b["default"],"keydown",h.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("ClickableComponent",S),n["default"]=S,t.exports=n["default"]},{"./component":67,"./utils/dom.js":134,"./utils/events.js":135,"./utils/fn.js":136,"./utils/log.js":139,"global/document":1,"object.assign":45}],66:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./button"),s=a(o),l=e("./component"),c=a(l),u=function(e){function t(n,a){i(this,t),e.call(this,n,a),this.controlText(a&&a.controlText||this.localize("Close"))}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(s["default"]);c["default"].registerComponent("CloseButton",u),n["default"]=u,t.exports=n["default"]},{"./button":64,"./component":67}],67:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("global/window"),s=i(o),l=e("./utils/dom.js"),c=a(l),u=e("./utils/fn.js"),d=a(u),p=e("./utils/guid.js"),f=a(p),h=e("./utils/events.js"),m=a(h),g=e("./utils/log.js"),v=i(g),b=e("./utils/to-title-case.js"),y=i(b),w=e("object.assign"),S=i(w),_=e("./utils/merge-options.js"),C=i(_),T=function(){function e(t,n,a){if(r(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=C["default"]({},this.options_),n=this.options_=C["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+f.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(a),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),c.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=C["default"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return c.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var a=n[t];if(a&&a[e])return a[e];var i=t.split("-")[0],r=n[i];return r&&r[e]?r[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],i=void 0,r=void 0;if("string"==typeof t){r=t,n||(n={}),n===!0&&(v["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var o=n.componentClass||y["default"](r);n.name=r;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(a,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&i.name(),r&&(this.childNameIndex_[r]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children,c=l[a]||null;this.contentEl().insertBefore(i.el(),c)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var a=e.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&!function(){var a=t.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==a[n]&&(i=a[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var r=t.addChild(n,i);r&&(t[n]=r)}},r=void 0,o=e.getComponent("Tech");r=Array.isArray(n)?n:Object.keys(n),r.concat(Object.keys(t.options_).filter(function(e){return!r.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var a=void 0,i=void 0;return"string"==typeof e?(a=e,i=n[a]||t.options_[a]||{}):(a=e.name,i=e),{name:a,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||y["default"](t.name));return n&&!o.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var a=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,d.bind(this,t)):!function(){var i=e,r=t,o=d.bind(a,n),s=function(){return a.off(i,r,o)};s.guid=o.guid,a.on("dispose",s);var l=function(){return a.off("dispose",s)};l.guid=o.guid,e.nodeName?(m.on(i,r,o),m.on(i,"dispose",l)):"function"==typeof e.on&&(i.on(r,o),i.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var a=e,i=t,r=d.bind(this,n);this.off("dispose",r),e.nodeName?(m.off(a,i,r),m.off(a,"dispose",r)):(a.off(i,r),a.off("dispose",r))}return this},e.prototype.one=function(e,t,n){var a=this,i=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,d.bind(this,t)):!function(){var r=e,o=t,s=d.bind(a,n),l=function c(){a.off(r,o,c),s.apply(null,i)};l.guid=s.guid,a.on(r,o,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return c.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return c.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return c.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return c.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return c.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return c.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||t!==t)&&(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var a=this.el_.style[e],i=a.indexOf("px");return-1!==i?parseInt(a.slice(0,i),10):parseInt(this.el_["offset"+y["default"](e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}else if(this.el_.currentStyle){var a="offset"+y["default"](e);t=this.el_[a]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,a=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t=S["default"]({},n.touches[0]),e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var a=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY,o=Math.sqrt(a*a+r*r);o>n&&(i=!1)}});var r=function(){i=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(n){if(t=null,i===!0){var r=(new Date).getTime()-e;a>r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var n=s["default"].setTimeout(e,t),a=function(){this.clearTimeout(n)};return a.guid="vjs-timeout-"+n,this.on("dispose",a),n},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var n=s["default"].setInterval(e,t),a=function(){this.clearInterval(n)};return a.guid="vjs-interval-"+n,this.on("dispose",a),n},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(v["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},v["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},a=function(){n.apply(this,arguments)};a.prototype=Object.create(this.prototype),a.prototype.constructor=a,a.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(a.prototype[i]=t[i]);return a},e}();T.registerComponent("Component",T),n["default"]=T,t.exports=n["default"]},{"./utils/dom.js":134,"./utils/events.js":135,"./utils/fn.js":136,"./utils/guid.js":138,"./utils/log.js":139,"./utils/merge-options.js":140,"./utils/to-title-case.js":143,"global/window":2,"object.assign":45}],68:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../component.js"),s=a(o),l=e("./play-toggle.js"),c=(a(l),e("./time-controls/current-time-display.js")),u=(a(c),e("./time-controls/duration-display.js")),d=(a(u),e("./time-controls/time-divider.js")),p=(a(d),e("./time-controls/remaining-time-display.js")),f=(a(p),e("./live-display.js")),h=(a(f),e("./progress-control/progress-control.js")),m=(a(h),e("./fullscreen-toggle.js")),g=(a(m),e("./volume-control/volume-control.js")),v=(a(g),e("./volume-menu-button.js")),b=(a(v),e("./mute-toggle.js")),y=(a(b),e("./text-track-controls/chapters-button.js")),w=(a(y),e("./text-track-controls/descriptions-button.js")),S=(a(w),e("./text-track-controls/subtitles-button.js")),_=(a(S),e("./text-track-controls/captions-button.js")),C=(a(_),e("./playback-rate-menu/playback-rate-menu-button.js")),T=(a(C),e("./spacer-controls/custom-control-spacer.js")),k=(a(T),function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(s["default"]));k.prototype.options_={loadEvent:"play",children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",k),n["default"]=k,t.exports=n["default"]},{"../component.js":67,"./fullscreen-toggle.js":69,"./live-display.js":70,"./mute-toggle.js":71,"./play-toggle.js":72,"./playback-rate-menu/playback-rate-menu-button.js":73,"./progress-control/progress-control.js":78,"./spacer-controls/custom-control-spacer.js":81,"./text-track-controls/captions-button.js":84,"./text-track-controls/chapters-button.js":85,"./text-track-controls/descriptions-button.js":87,"./text-track-controls/subtitles-button.js":89,"./time-controls/current-time-display.js":92,"./time-controls/duration-display.js":93,"./time-controls/remaining-time-display.js":94,"./time-controls/time-divider.js":95,"./volume-control/volume-control.js":97,"./volume-menu-button.js":99}],69:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),s=a(o),l=e("../component.js"),c=a(l),u=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))},t}(s["default"]);u.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",u),n["default"]=u,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],70:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=i(s),c=e("../utils/dom.js"),u=a(c),d=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(l["default"]);l["default"].registerComponent("LiveDisplay",d),n["default"]=d,t.exports=n["default"]},{"../component":67,"../utils/dom.js":134}],71:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../button"),l=i(s),c=e("../component"),u=i(c),d=e("../utils/dom.js"),p=a(d),f=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"volumechange",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var a=0;4>a;a++)p.removeElClass(this.el_,"vjs-vol-"+a);p.addElClass(this.el_,"vjs-vol-"+t)},t}(l["default"]);f.prototype.controlText_="Mute",u["default"].registerComponent("MuteToggle",f),n["default"]=f,t.exports=n["default"]},{"../button":64,"../component":67,"../utils/dom.js":134}],72:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../button.js"),s=a(o),l=e("../component.js"),c=a(l),u=function(e){function t(n,a){i(this,t),e.call(this,n,a),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(s["default"]);u.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",u),n["default"]=u,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],73:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-button.js"),l=i(s),c=e("../../menu/menu.js"),u=i(c),d=e("./playback-rate-menu-item.js"),p=i(d),f=e("../../component.js"),h=i(f),m=e("../../utils/dom.js"),g=a(m),v=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new u["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],a=0;a<t.length;a++)if(t[a]>e){n=t[a];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l["default"]);v.prototype.controlText_="Playback Rate",h["default"].registerComponent("PlaybackRateMenuButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-button.js":106,"../../menu/menu.js":108,"../../utils/dom.js":134,"./playback-rate-menu-item.js":74}],74:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../menu/menu-item.js"),s=a(o),l=e("../../component.js"),c=a(l),u=function(e){function t(n,a){i(this,t);var r=a.rate,o=parseFloat(r,10);a.label=r,a.selected=1===o,e.call(this,n,a),this.label=r,this.rate=o,this.on(n,"ratechange",this.update)}return r(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(s["default"]);u.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":107}],75:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/dom.js"),u=a(c),d=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"progress",this.update)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),a=this.el_.children,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,t);for(var r=0;r<e.length;r++){var o=e.start(r),s=e.end(r),l=a[r];l||(l=this.el_.appendChild(u.createEl())),l.style.left=i(o,n),l.style.width=i(s-o,n)}for(var r=a.length;r>e.length;r--)this.el_.removeChild(a[r-1])},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134}],76:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/dom.js"),p=a(d),f=e("../../utils/fn.js"),h=a(f),m=e("../../utils/format-time.js"),g=i(m),v=e("lodash-compat/function/throttle"),b=i(v),y=function(e){function t(n,a){var i=this;r(this,t),e.call(this,n,a),a.playerOptions&&a.playerOptions.controlBar&&a.playerOptions.controlBar.progressControl&&a.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=a.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",b["default"](h.bind(i,i.handleMouseMove),25))})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,a=e.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,a)},t.prototype.update=function(e,t){var n=g["default"](e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var a=this.clampPosition_(t),i=t-a+1,r=parseFloat(l["default"].getComputedStyle(this.tooltip).width),o=r/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(o-i)+"px"}},t.prototype.calculateDistance=function(e){return p.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=parseFloat(l["default"].getComputedStyle(this.tooltip).width),a=n/2,i=e;return a>e?i=Math.ceil(a):e>t-a&&(i=Math.floor(t-a)),i},t}(u["default"]);u["default"].registerComponent("MouseTimeDisplay",y),n["default"]=y,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/fn.js":136,"../../utils/format-time.js":137,"global/window":2,"lodash-compat/function/throttle":7}],77:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/fn.js"),u=a(c),d=e("../../utils/dom.js"),p=(a(d),e("../../utils/format-time.js")),f=i(p),h=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(u.bind(this,this.updateDataAttr)),a.playerOptions&&a.playerOptions.controlBar&&a.playerOptions.controlBar.progressControl&&a.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=a.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{
className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",f["default"](e,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/fn.js":136,"../../utils/format-time.js":137}],78:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),s=a(o),l=e("./seek-bar.js"),c=(a(l),e("./mouse-time-display.js")),u=(a(c),function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(s["default"]));u.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./mouse-time-display.js":76,"./seek-bar.js":79}],79:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),c=e("../../slider/slider.js"),u=i(c),d=e("../../component.js"),p=i(d),f=e("./load-progress-bar.js"),h=(i(f),e("./play-progress-bar.js")),m=(i(h),e("./tooltip-progress-bar.js")),g=(i(m),e("../../utils/fn.js")),v=a(g),b=e("../../utils/format-time.js"),y=i(b),w=e("object.assign"),S=(i(w),function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"timeupdate",this.updateProgress),this.on(n,"ended",this.updateProgress),n.ready(v.bind(this,this.updateProgress)),a.playerOptions&&a.playerOptions.controlBar&&a.playerOptions.controlBar.progressControl&&a.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=a.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(l["default"].getComputedStyle(this.player().el()).width),t=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-t/2)+"px",n.minWidth=Math.ceil(t/2)+"px",n.right="-"+t/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",y["default"](t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(u["default"]));S.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},S.prototype.playerEvent="timeupdate",p["default"].registerComponent("SeekBar",S),n["default"]=S,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":116,"../../utils/fn.js":136,"../../utils/format-time.js":137,"./load-progress-bar.js":75,"./play-progress-bar.js":77,"./tooltip-progress-bar.js":80,"global/window":2,"object.assign":45}],80:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/fn.js"),u=a(c),d=e("../../utils/dom.js"),p=(a(d),e("../../utils/format-time.js")),f=i(p),h=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(u.bind(this,this.updateDataAttr))}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=f["default"](e,this.player_.duration());this.el_.setAttribute("data-current-time",t),this.tooltip.innerHTML=t},t}(l["default"]);l["default"].registerComponent("TooltipProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/fn.js":136,"../../utils/format-time.js":137}],81:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./spacer.js"),s=a(o),l=e("../../component.js"),c=a(l),u=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(s["default"]);c["default"].registerComponent("CustomControlSpacer",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./spacer.js":82}],82:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),s=a(o),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(s["default"]);s["default"].registerComponent("Spacer",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],83:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-menu-item.js"),s=a(o),l=e("../../component.js"),c=a(l),u=function(e){function t(n,a){i(this,t),a.track={kind:a.kind,player:n,label:a.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},a.selectable=!1,e.call(this,n,a),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+a.kind+" settings dialog")}return r(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(s["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":91}],84:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-button.js"),s=a(o),l=e("../../component.js"),c=a(l),u=e("./caption-settings-menu-item.js"),d=a(u),p=function(e){function t(n,a,r){i(this,t),e.call(this,n,a,r),this.el_.setAttribute("aria-label","Captions Menu")}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new d["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(s["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":67,"./caption-settings-menu-item.js":83,"./text-track-button.js":90}],85:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("./text-track-menu-item.js"),p=i(d),f=e("./chapters-track-menu-item.js"),h=i(f),m=e("../../menu/menu.js"),g=i(m),v=e("../../utils/dom.js"),b=a(v),y=e("../../utils/fn.js"),w=(a(y),e("../../utils/to-title-case.js")),S=i(w),_=e("global/window"),C=(i(_),function(e){function t(n,a,i){r(this,t),e.call(this,n,a,i),this.el_.setAttribute("aria-label","Chapters Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var a=t[n];a.kind===this.kind_&&e.push(new p["default"](this.player_,{track:a}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],n=void 0,a=this.items=[],i=0,r=t.length;r>i;i++){var o=t[i];if(o.kind===this.kind_){n=o;break}}var s=this.menu;if(void 0===s){s=new g["default"](this.player_);var l=b.createEl("li",{className:"vjs-menu-title",innerHTML:S["default"](this.kind_),tabIndex:-1});s.children_.unshift(l),b.insertElFirst(l,s.contentEl())}if(n&&null==n.cues){n.mode="hidden";var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);c&&c.addEventListener("load",function(t){return e.update()})}if(n&&n.cues&&n.cues.length>0){for(var u=n.cues,d=void 0,i=0,p=u.length;p>i;i++){d=u[i];var f=new h["default"](this.player_,{track:n,cue:d});a.push(f),s.addChild(f)}this.addChild(s)}return this.items.length>0&&this.show(),s},t}(l["default"]));C.prototype.kind_="chapters",C.prototype.controlText_="Chapters",u["default"].registerComponent("ChaptersButton",C),n["default"]=C,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu.js":108,"../../utils/dom.js":134,"../../utils/fn.js":136,"../../utils/to-title-case.js":143,"./chapters-track-menu-item.js":86,"./text-track-button.js":90,"./text-track-menu-item.js":91,"global/window":2}],86:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/fn.js"),p=a(d),f=function(e){function t(n,a){r(this,t);var i=a.track,o=a.cue,s=n.currentTime();a.label=o.text,a.selected=o.startTime<=s&&s<o.endTime,e.call(this,n,a),this.track=i,this.cue=o,i.addEventListener("cuechange",p.bind(this,this.update))}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l["default"]);u["default"].registerComponent("ChaptersTrackMenuItem",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":107,"../../utils/fn.js":136}],87:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/fn.js"),p=a(d),f=function(e){function t(n,a,i){var o=this;r(this,t),e.call(this,n,a,i),this.el_.setAttribute("aria-label","Descriptions Menu");var s=n.textTracks();s&&!function(){var e=p.bind(o,o.handleTracksChange);s.addEventListener("change",e),o.on("dispose",function(){s.removeEventListener("change",e)})}()}return o(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,a=0,i=t.length;i>a;a++){var r=t[a];if(r.kind!==this.kind_&&"showing"===r.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",u["default"].registerComponent("DescriptionsButton",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":136,"./text-track-button.js":90}],88:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-menu-item.js"),s=a(o),l=e("../../component.js"),c=a(l),u=function(e){function t(n,a){i(this,t),a.track={kind:a.kind,player:n,label:a.kind+" off","default":!1,mode:"disabled"},a.selectable=!0,e.call(this,n,a),this.selected(!0)}return r(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,a=0,i=t.length;i>a;a++){var r=t[a];if(r.kind===this.track.kind&&"showing"===r.mode){n=!1;break}}this.selected(n)},t}(s["default"]);c["default"].registerComponent("OffTextTrackMenuItem",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":91}],89:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./text-track-button.js"),s=a(o),l=e("../../component.js"),c=a(l),u=function(e){function t(n,a,r){i(this,t),e.call(this,n,a,r),this.el_.setAttribute("aria-label","Subtitles Menu")}return r(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(s["default"]);u.prototype.kind_="subtitles",u.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./text-track-button.js":90}],90:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-button.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/fn.js"),p=a(d),f=e("./text-track-menu-item.js"),h=i(f),m=e("./off-text-track-menu-item.js"),g=i(m),v=function(e){function t(n,a){r(this,t),e.call(this,n,a);var i=this.player_.textTracks();if(this.items.length<=1&&this.hide(),i){var o=p.bind(this,this.update);i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),this.player_.on("dispose",function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)})}}return o(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new g["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var a=t[n];a.kind===this.kind_&&e.push(new h["default"](this.player_,{selectable:!0,track:a}))}return e},t}(l["default"]);u["default"].registerComponent("TextTrackButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-button.js":106,"../../utils/fn.js":136,"./off-text-track-menu-item.js":88,"./text-track-menu-item.js":91}],91:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/fn.js"),p=a(d),f=e("global/window"),h=i(f),m=e("global/document"),g=i(m),v=function(e){function t(n,a){var i=this;r(this,t);var o=a.track,s=n.textTracks();a.label=o.label||o.language||"Unknown",a.selected=o["default"]||"showing"===o.mode,e.call(this,n,a),this.track=o,s&&!function(){var e=p.bind(i,i.handleTracksChange);s.addEventListener("change",e),i.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&!function(){var e=void 0;i.on(["tap","click"],function(){if("object"!=typeof h["default"].Event)try{e=new h["default"].Event("change")}catch(t){}e||(e=g["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}()}return o(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,a=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),a)for(var i=0;i<a.length;i++){var r=a[i];r.kind===n&&(r===this.track?r.mode="showing":r.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(l["default"]);u["default"].registerComponent("TextTrackMenuItem",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":107,"../../utils/fn.js":136,"global/document":1,"global/window":2}],92:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/dom.js"),u=a(c),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"timeupdate",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),n=p["default"](e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n)},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/format-time.js":137}],93:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/dom.js"),u=a(c),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),n=p["default"](e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n}},t}(l["default"]);l["default"].registerComponent("DurationDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/format-time.js":137}],94:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),c=e("../../utils/dom.js"),u=a(c),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"timeupdate",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=p["default"](this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+t)}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":134,"../../utils/format-time.js":137}],95:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),s=a(o),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(s["default"]);s["default"].registerComponent("TimeDivider",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],96:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../slider/slider.js"),l=i(s),c=e("../../component.js"),u=i(c),d=e("../../utils/fn.js"),p=a(d),f=e("./volume-level.js"),h=(i(f),function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(p.bind(this,this.updateARIAAttributes))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(l["default"]));h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},h.prototype.playerEvent="volumechange",u["default"].registerComponent("VolumeBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":116,"../../utils/fn.js":136,"./volume-level.js":98}],97:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),s=a(o),l=e("./volume-bar.js"),c=(a(l),function(e){function t(n,a){i(this,t),e.call(this,n,a),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(s["default"]));c.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./volume-bar.js":96}],98:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../../component.js"),s=a(o),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(s["default"]);s["default"].registerComponent("VolumeLevel",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],99:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/fn.js"),l=i(s),c=e("../component.js"),u=a(c),d=e("../popup/popup.js"),p=a(d),f=e("../popup/popup-button.js"),h=a(f),m=e("./mute-toggle.js"),g=a(m),v=e("./volume-control/volume-bar.js"),b=a(v),y=function(e){function t(n){function a(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,e.call(this,n,i),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),a.call(this),this.on(n,"loadstart",a),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),this.on(this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),this.on(this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")})}return o(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p["default"](this.player_,{contentElType:"div"}),t=new b["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){g["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(h["default"]);y.prototype.volumeUpdate=g["default"].prototype.update,y.prototype.controlText_="Mute",u["default"].registerComponent("VolumeMenuButton",y),n["default"]=y,t.exports=n["default"]},{"../component.js":67,"../popup/popup-button.js":112,"../popup/popup.js":113,"../utils/fn.js":136,"./mute-toggle.js":71,"./volume-control/volume-bar.js":96}],100:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),c=e("./modal-dialog"),u=i(c),d=e("./utils/dom"),p=(a(d),e("./utils/merge-options")),f=i(p),h=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.on(n,"error",this.open)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(u["default"]);h.prototype.options_=f["default"](u["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",h),n["default"]=h,t.exports=n["default"]},{"./component":67,"./modal-dialog":109,"./utils/dom":134,"./utils/merge-options":140}],101:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e("./utils/events.js"),r=a(i),o=function(){};o.prototype.allowedEvents_={},o.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=Function.prototype,r.on(this,e,t),this.addEventListener=n},o.prototype.addEventListener=o.prototype.on,o.prototype.off=function(e,t){r.off(this,e,t)},o.prototype.removeEventListener=o.prototype.off,o.prototype.one=function(e,t){r.one(this,e,t)},o.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=r.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),r.trigger(this,e)},o.prototype.dispatchEvent=o.prototype.trigger,n["default"]=o,t.exports=n["default"]},{"./utils/events.js":135}],102:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./utils/log"),r=a(i),o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},a={};"object"==typeof t?("function"==typeof t.init&&(r["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),a=t):"function"==typeof t&&(n=t),o(n,e);for(var i in a)a.hasOwnProperty(i)&&(n.prototype[i]=a[i]);return n};n["default"]=s,t.exports=n["default"]},{"./utils/log":139}],103:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e("global/document"),r=a(i),o={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],c=void 0,u=0;u<s.length;u++)if(s[u][1]in r["default"]){c=s[u];break}if(c)for(var u=0;u<c.length;u++)o[l[u]]=c[u];n["default"]=o,t.exports=n["default"]},{"global/document":1}],104:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("./component"),s=a(o),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(s["default"]);s["default"].registerComponent("LoadingSpinner",l),n["default"]=l,t.exports=n["default"]},{"./component":67}],105:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("object.assign"),r=a(i),o=function l(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&r["default"](this,e),this.message||(this.message=l.defaultMessages[this.code]||"")};o.prototype.code=0,o.prototype.message="",o.prototype.status=null,o.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],o.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<o.errorTypes.length;s++)o[o.errorTypes[s]]=s,o.prototype[o.errorTypes[s]]=s;n["default"]=o,t.exports=n["default"]},{"object.assign":45}],106:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),c=e("../component.js"),u=i(c),d=e("./menu.js"),p=i(d),f=e("../utils/dom.js"),h=a(f),m=e("../utils/fn.js"),g=a(m),v=e("../utils/to-title-case.js"),b=i(v),y=function(e){function t(n){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),e.call(this,n,a),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress)}return o(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.options_.title){var t=h.createEl("li",{className:"vjs-menu-title",innerHTML:b["default"](this.options_.title),tabIndex:-1});e.children_.unshift(t),h.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.one("mouseout",g.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){(27===e.which||9===e.which)&&(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l["default"]);u["default"].registerComponent("MenuButton",y),n["default"]=y,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":134,"../utils/fn.js":136,"../utils/to-title-case.js":143,"./menu.js":108}],107:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../clickable-component.js"),s=a(o),l=e("../component.js"),c=a(l),u=e("object.assign"),d=a(u),p=function(e){function t(n,a){i(this,t),e.call(this,n,a),this.selectable=a.selectable,this.selected(a.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return r(t,e),t.prototype.createEl=function(t,n,a){return e.prototype.createEl.call(this,"li",d["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),a)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(s["default"]);c["default"].registerComponent("MenuItem",p),n["default"]=p,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"object.assign":45}],108:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),c=e("../utils/dom.js"),u=a(c),d=e("../utils/fn.js"),p=a(d),f=e("../utils/events.js"),h=a(f),m=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=u.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(0>e?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":134,"../utils/events.js":135,"../utils/fn.js":136}],109:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./utils/dom"),l=i(s),c=e("./utils/fn"),u=i(c),d=e("./utils/log"),p=(a(d),e("./component")),f=a(p),h=e("./close-button"),m=(a(h),"vjs-modal-dialog"),g=27,v=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl("div",{className:m+"-content"},{role:"document"}),this.descEl_=l.createEl("p",{className:m+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return m+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===g&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",u.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",u.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var a=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton"),this.contentEl_=a,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,a=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),a?n.insertBefore(t,a):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(f["default"]);v.prototype.options_={temporary:!0},f["default"].registerComponent("ModalDialog",v),n["default"]=v,t.exports=n["default"]},{"./close-button":66,"./component":67,"./utils/dom":134,"./utils/fn":136,"./utils/log":139}],110:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component.js"),l=i(s),c=e("global/document"),u=i(c),d=e("global/window"),p=i(d),f=e("./utils/events.js"),h=a(f),m=e("./utils/dom.js"),g=a(m),v=e("./utils/fn.js"),b=a(v),y=e("./utils/guid.js"),w=a(y),S=e("./utils/browser.js"),_=a(S),C=e("./utils/log.js"),T=i(C),k=e("./utils/to-title-case.js"),A=i(k),x=e("./utils/time-ranges.js"),I=e("./utils/buffer.js"),E=e("./utils/stylesheet.js"),N=a(E),O=e("./fullscreen-api.js"),P=i(O),M=e("./media-error.js"),j=i(M),$=e("safe-json-parse/tuple"),D=i($),R=e("object.assign"),U=i(R),L=e("./utils/merge-options.js"),B=i(L),F=e("./tracks/text-track-list-converter.js"),G=i(F),V=e("./tech/loader.js"),H=(i(V),e("./poster-image.js")),W=(i(H),e("./tracks/text-track-display.js")),q=(i(W),e("./loading-spinner.js")),K=(i(q),e("./big-play-button.js")),z=(i(K),e("./control-bar/control-bar.js")),Y=(i(z),e("./error-display.js")),Q=(i(Y),e("./tracks/text-track-settings.js")),J=(i(Q),e("./modal-dialog")),X=i(J),Z=e("./tech/tech.js"),ee=i(Z),te=e("./tech/html5.js"),ne=(i(te),function(e){function t(n,a,i){var o=this;if(r(this,t),n.id=n.id||"vjs_video_"+w.newGUID(),a=U["default"](t.getTagSettings(n),a),a.initChildren=!1,a.createEl=!1,a.reportTouchActivity=!1,e.call(this,null,a,i),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&g.getElAttributes(n),this.language(this.options_.language),a.languages?!function(){var e={};Object.getOwnPropertyNames(a.languages).forEach(function(t){e[t.toLowerCase()]=a.languages[t]}),o.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},this.poster_=a.poster||"",this.controls_=!!a.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var s=B["default"](this.options_);a.plugins&&!function(){var e=a.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):T["default"].error("Unable to find plugin:",t)},o)}(),this.options_.playerOptions=s,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label","audio player"):this.el_.setAttribute("aria-label","video player"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),_.IS_IOS||this.addClass("vjs-workinghover"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return o(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var a=g.getElAttributes(n);if(Object.getOwnPropertyNames(a).forEach(function(e){"class"===e?t.className=a[e]:t.setAttribute(e,a[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),p["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=N.createStyleElement("vjs-styles-dimensions");var i=g.$(".vjs-styles-defaults"),r=g.$("head");r.insertBefore(this.styleEl_,i?i.nextSibling:r.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=n.getElementsByTagName("a"),s=0;s<o.length;s++){var l=o.item(s);g.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),g.insertElFirst(n,t),this.children_.unshift(n),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var a=parseFloat(t);if(isNaN(a))return T["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=a}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var a=void 0,i=void 0,r=void 0,o=void 0;r=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var s=r.split(":"),l=s[1]/s[0];a=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,i=void 0!==this.height_?this.height_:a*l,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),N.setTextContent(this.styleEl_,"\n      ."+o+" {\n        width: "+a+"px;\n        height: "+i+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(ee["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=U["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:this.id()+"_"+e+"_api",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var a=ee["default"].getTech(e);a||(a=l["default"].getComponent(e)),this.tech_=new a(n),this.tech_.ready(b.bind(this,this.handleTechReady_),!0),G["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),
this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.textTracks_=this.textTracks(),this.textTracksJson_=G["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e&&e.code)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_[e](t)}catch(n){throw T["default"](n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?T["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(T["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):T["default"](t),t}},t.prototype.play=function(){return this.techCall_("play"),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")===!1?!1:!0},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):this.cache_.currentTime=this.techGet_("currentTime")||0},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,0>e&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=x.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return I.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=P["default"];return this.isFullscreen(!0),e.requestFullscreen?(h.on(u["default"],e.fullscreenchange,b.bind(this,function t(n){this.isFullscreen(u["default"][e.fullscreenElement]),this.isFullscreen()===!1&&h.off(u["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=P["default"];return this.isFullscreen(!1),e.requestFullscreen?u["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=u["default"].documentElement.style.overflow,h.on(u["default"],"keydown",b.bind(this,this.fullWindowOnEscKey)),u["default"].documentElement.style.overflow="hidden",g.addElClass(u["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,h.off(u["default"],"keydown",this.fullWindowOnEscKey),u["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(u["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,a=this.options_.techOrder;n<a.length;n++){var i=A["default"](a[n]),r=ee["default"].getTech(i);if(r||(r=l["default"].getComponent(i)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else T["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this.options_.techOrder.map(A["default"]).map(function(e){return[e,ee["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(T["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,n){var a=void 0;return e.some(function(e){return t.some(function(t){return a=n(e,t),a?!0:void 0})}),a},a=void 0,i=function(e){return function(t,n){return e(n,t)}},r=function(e,t){var n=e[0],a=e[1];return a.canPlaySource(t)?{source:t,tech:n}:void 0};return a=this.options_.sourceOrder?n(e,t,i(r)):n(t,e,r),a||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=ee["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(A["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay.close(),this):(e instanceof j["default"]?this.error_=e:this.error_=new j["default"](e),this.addClass("vjs-error"),T["default"].error("(CODE:"+this.error_.code+" "+j["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,a=b.bind(this,this.reportUserActivity),i=function(e){(e.screenX!==t||e.screenY!==n)&&(t=e.screenX,n=e.screenY,a())},r=function(){a(),this.clearInterval(e),e=this.setInterval(a,250)},o=function(t){a(),this.clearInterval(e)};this.on("mousedown",r),this.on("mousemove",i),this.on("mouseup",o),this.on("keydown",a),this.on("keyup",a);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.track,n=void 0===t?arguments[0]:t;this.tech_&&this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return B["default"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=B["default"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var a=t[n];a=B["default"](a),a.player=void 0,e.tracks[n]=a}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var a=new X["default"](n,t);return n.addChild(a),a.on("dispose",function(){n.removeChild(a)}),a.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),a=n["data-setup"];if(null!==a){var i=D["default"](a||"{}"),r=i[0],o=i[1];r&&T["default"].error(r),U["default"](n,o)}if(U["default"](t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,c=s.length;c>l;l++){var u=s[l],d=u.nodeName.toLowerCase();"source"===d?t.sources.push(g.getElAttributes(u)):"track"===d&&t.tracks.push(g.getElAttributes(u))}return t},t}(l["default"]));ne.players={};var ae=p["default"].navigator;ne.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:u["default"].getElementsByTagName("html")[0].getAttribute("lang")||ae.languages&&ae.languages[0]||ae.userLanguage||ae.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},ne.prototype.handleLoadedMetaData_,ne.prototype.handleLoadedData_,ne.prototype.handleUserActive_,ne.prototype.handleUserInactive_,ne.prototype.handleTimeUpdate_,ne.prototype.handleTechEnded_,ne.prototype.handleVolumeChange_,ne.prototype.handleError_,ne.prototype.flexNotSupported_=function(){var e=u["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l["default"].registerComponent("Player",ne),n["default"]=ne,t.exports=n["default"]},{"./big-play-button.js":63,"./component.js":67,"./control-bar/control-bar.js":68,"./error-display.js":100,"./fullscreen-api.js":103,"./loading-spinner.js":104,"./media-error.js":105,"./modal-dialog":109,"./poster-image.js":114,"./tech/html5.js":119,"./tech/loader.js":120,"./tech/tech.js":121,"./tracks/text-track-display.js":125,"./tracks/text-track-list-converter.js":127,"./tracks/text-track-settings.js":129,"./utils/browser.js":131,"./utils/buffer.js":132,"./utils/dom.js":134,"./utils/events.js":135,"./utils/fn.js":136,"./utils/guid.js":138,"./utils/log.js":139,"./utils/merge-options.js":140,"./utils/stylesheet.js":141,"./utils/time-ranges.js":142,"./utils/to-title-case.js":143,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":54}],111:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./player.js"),r=a(i),o=function(e,t){r["default"].prototype[e]=t};n["default"]=o,t.exports=n["default"]},{"./player.js":110}],112:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),c=e("../component.js"),u=i(c),d=e("./popup.js"),p=(i(d),e("../utils/dom.js")),f=(a(p),e("../utils/fn.js")),h=(a(f),e("../utils/to-title-case.js")),m=(i(h),function(e){function t(n){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),e.call(this,n,a),this.update()}return o(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]));u["default"].registerComponent("PopupButton",m),n["default"]=m,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":134,"../utils/fn.js":136,"../utils/to-title-case.js":143,"./popup.js":113}],113:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),c=e("../utils/dom.js"),u=a(c),d=e("../utils/fn.js"),p=a(d),f=e("../utils/events.js"),h=a(f),m=function(e){function t(){r(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=u.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Popup",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":134,"../utils/events.js":135,"../utils/fn.js":136}],114:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),c=e("./component.js"),u=i(c),d=e("./utils/fn.js"),p=a(d),f=e("./utils/dom.js"),h=a(f),m=e("./utils/browser.js"),g=a(m),v=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.update(),n.on("posterchange",p.bind(this,this.update))}return o(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=h.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=h.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);u["default"].registerComponent("PosterImage",v),n["default"]=v,t.exports=n["default"]},{"./clickable-component.js":65,"./component.js":67,"./utils/browser.js":131,"./utils/dom.js":134,"./utils/fn.js":136}],115:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var r=e("./utils/events.js"),o=i(r),s=e("global/document"),l=a(s),c=e("global/window"),u=a(c),d=!1,p=void 0,f=function(){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var a=0,i=e.length;i>a;a++)n.push(e[a]);if(t&&t.length>0)for(var a=0,i=t.length;i>a;a++)n.push(t[a]);if(n&&n.length>0)for(var a=0,i=n.length;i>a;a++){var r=n[a];if(!r||!r.getAttribute){h(1);break}if(void 0===r.player){var o=r.getAttribute("data-setup");null!==o&&p(r)}}else d||h(1)},h=function(e,t){t&&(p=t),setTimeout(f,e)};"complete"===l["default"].readyState?d=!0:o.one(u["default"],"load",function(){d=!0});var m=function(){return d};n.autoSetup=f,n.autoSetupTimeout=h,n.hasLoaded=m},{"./utils/events.js":135,"global/document":1,"global/window":2}],116:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),c=e("../utils/dom.js"),u=a(c),d=e("object.assign"),p=i(d),f=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return o(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=p["default"]({tabIndex:0},n),a=p["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),e.prototype.createEl.call(this,t,n,a)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),u.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;u.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||0>e||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=u.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":134,"object.assign":45}],117:[function(e,t,n){"use strict";function a(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),a=void 0;return-1!==n?a=n+1:(n=a=e.lastIndexOf("/")+1,0===n&&(n=a=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(a,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t){var n=e.rtmpSourceHandler.canPlayType(t.type);return n?n:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n){var a=e.streamToParts(t.src);n.setRtmpConnection(a.connection),n.setRtmpStream(a.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=a,t.exports=n["default"]},{}],118:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);A["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){A[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var c=e("./tech"),u=i(c),d=e("../utils/dom.js"),p=a(d),f=e("../utils/url.js"),h=a(f),m=e("../utils/time-ranges.js"),g=e("./flash-rtmp"),v=i(g),b=e("../component"),y=i(b),w=e("global/window"),S=i(w),_=e("object.assign"),C=i(_),T=S["default"].navigator,k=function(e){function t(n,a){r(this,t),e.call(this,n,a),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),S["default"].videojs=S["default"].videojs||{},S["default"].videojs.Flash=S["default"].videojs.Flash||{},S["default"].videojs.Flash.onReady=t.onReady,S["default"].videojs.Flash.onEvent=t.onEvent,S["default"].videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return o(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.0.1/video-js.swf");var n=e.techId,a=C["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=C["default"]({wmode:"opaque",bgcolor:"#000000"},e.params),r=C["default"]({id:n,name:n,"class":"vjs-tech"
},e.attributes);return this.el_=t.embed(e.swf,a,i,r),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=h.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(e){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?m.createTimeRange():m.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?m.createTimeRange():m.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(u["default"]),A=k.prototype,x="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),I="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),E=0;E<x.length;E++)l(x[E]),s(x[E]);for(var E=0;E<I.length;E++)l(I[E]);k.isSupported=function(){return k.version()[0]>=10},u["default"].withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(e){return e in k.formats?"maybe":""},k.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=h.getFileExtension(e);return t?"video/"+t:""}var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():t(e.src),k.nativeSourceHandler.canPlayType(n)},k.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),k.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},k.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&k.checkReady(n)},k.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){k.checkReady(e)},50))},k.onEvent=function(e,t){var n=p.getEl(e).tech;n.trigger(t)},k.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},k.version=function(){var e="0,0,0";try{e=new S["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{T.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(T.plugins["Shockwave Flash 2.0"]||T.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},k.embed=function(e,t,n,a){var i=k.getEmbedCode(e,t,n,a),r=p.createEl("div",{innerHTML:i}).childNodes[0];return r},k.getEmbedCode=function(e,t,n,a){var i='<object type="application/x-shockwave-flash" ',r="",o="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){r+=e+"="+t[e]+"&amp;"}),n=C["default"]({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),a=C["default"]({data:e,width:"100%",height:"100%"},a),Object.getOwnPropertyNames(a).forEach(function(e){s+=e+'="'+a[e]+'" '}),""+i+s+">"+o+"</object>"},v["default"](k),y["default"].registerComponent("Flash",k),u["default"].registerTech("Flash",k),n["default"]=k,t.exports=n["default"]},{"../component":67,"../utils/dom.js":134,"../utils/time-ranges.js":142,"../utils/url.js":144,"./flash-rtmp":117,"./tech":121,"global/window":2,"object.assign":45}],119:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./tech.js"),l=i(s),c=e("../component"),u=i(c),d=e("../utils/dom.js"),p=a(d),f=e("../utils/url.js"),h=a(f),m=e("../utils/fn.js"),g=a(m),v=e("../utils/log.js"),b=i(v),y=e("../utils/browser.js"),w=a(y),S=e("global/document"),_=i(S),C=e("global/window"),T=i(C),k=e("object.assign"),A=i(k),x=e("../utils/merge-options.js"),I=i(x),E=function(e){function t(n,a){r(this,t),e.call(this,n,a);var i=n.source;if(i&&(this.el_.currentSrc!==i.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(i):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var o=this.el_.childNodes,s=o.length,l=[];s--;){var c=o[s],u=c.nodeName.toLowerCase();"track"===u&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(c),this.remoteTextTracks().addTrack_(c.track)):l.push(c))}for(var d=0;d<l.length;d++)this.el_.removeChild(l[d])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=g.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=g.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=g.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(w.TOUCH_ENABLED&&n.nativeControlsForTouch===!0||w.IS_IPHONE||w.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return o(t,e),t.prototype.dispose=function(){var n=this.el().textTracks,a=this.textTracks();n&&n.removeEventListener&&(n.removeEventListener("change",this.handleTextTrackChange_),n.removeEventListener("addtrack",this.handleTextTrackAdd_),n.removeEventListener("removetrack",this.handleTextTrackRemove_));for(var i=a.length;i--;)a.removeTrack_(a[i]);t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=_["default"].createElement("video");var a=this.options_.tag&&p.getElAttributes(this.options_.tag),i=I["default"]({},a);w.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,p.setElAttributes(e,A["default"](i,{id:this.options_.techId,"class":"vjs-tech"}))}for(var r=["autoplay","preload","loop","muted"],o=r.length-1;o>=0;o--){var s=r[o],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),p.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var a=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",a),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",a),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var a=["loadstart"];a.push("loadedmetadata"),e.readyState>=2&&a.push("loadeddata"),e.readyState>=3&&a.push("canplay"),e.readyState>=4&&a.push("canplaythrough"),this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_))}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.play=function(){this.el_.play()},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){b["default"](t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=T["default"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){this.el_.poster=e},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(){return this.el_.error},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,a):e.prototype.addTextTrack.call(this,t,n,a)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=_["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n=void 0,a=void 0,i=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack_(t),n=this.$$("track"),a=n.length;a--;)(t===n[a]||t===n[a].track)&&this.el().removeChild(n[a])},t}(l["default"]);E.TEST_VID=_["default"].createElement("video");var N=_["default"].createElement("track");N.kind="captions",N.srclang="en",N.label="English",E.TEST_VID.appendChild(N),E.isSupported=function(){try{E.TEST_VID.volume=.5}catch(e){return!1}return!!E.TEST_VID.canPlayType},l["default"].withSourceHandlers(E),E.nativeSourceHandler={},E.nativeSourceHandler.canPlayType=function(e){try{return E.TEST_VID.canPlayType(e)}catch(t){return""}},E.nativeSourceHandler.canHandleSource=function(e){var t;return e.type?E.nativeSourceHandler.canPlayType(e.type):e.src?(t=h.getFileExtension(e.src),E.nativeSourceHandler.canPlayType("video/"+t)):""},E.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},E.nativeSourceHandler.dispose=function(){},E.registerSourceHandler(E.nativeSourceHandler),E.canControlVolume=function(){var e=E.TEST_VID.volume;return E.TEST_VID.volume=e/2+.1,e!==E.TEST_VID.volume},E.canControlPlaybackRate=function(){if(w.IS_ANDROID&&w.IS_CHROME)return!1;var e=E.TEST_VID.playbackRate;return E.TEST_VID.playbackRate=e/2+.1,e!==E.TEST_VID.playbackRate},E.supportsNativeTextTracks=function(){var e;return e=!!E.TEST_VID.textTracks,e&&E.TEST_VID.textTracks.length>0&&(e="number"!=typeof E.TEST_VID.textTracks[0].mode),e&&w.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in E.TEST_VID.textTracks||(e=!1),e},E.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],E.prototype.featuresVolumeControl=E.canControlVolume(),E.prototype.featuresPlaybackRate=E.canControlPlaybackRate(),E.prototype.movingMediaElementInDOM=!w.IS_IOS,E.prototype.featuresFullscreenResize=!0,E.prototype.featuresProgressEvents=!0,E.prototype.featuresNativeTextTracks=E.supportsNativeTextTracks();var O=void 0,P=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,M=/^video\/mp4/i;E.patchCanPlayType=function(){w.ANDROID_VERSION>=4&&(O||(O=E.TEST_VID.constructor.prototype.canPlayType),E.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&P.test(e)?"maybe":O.call(this,e)}),w.IS_OLD_ANDROID&&(O||(O=E.TEST_VID.constructor.prototype.canPlayType),E.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&M.test(e)?"maybe":O.call(this,e)})},E.unpatchCanPlayType=function(){var e=E.TEST_VID.constructor.prototype.canPlayType;return E.TEST_VID.constructor.prototype.canPlayType=O,O=null,e},E.patchCanPlayType(),E.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},E.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},u["default"].registerComponent("Html5",E),l["default"].registerTech("Html5",E),n["default"]=E,t.exports=n["default"]},{"../component":67,"../utils/browser.js":131,"../utils/dom.js":134,"../utils/fn.js":136,"../utils/log.js":139,"../utils/merge-options.js":140,"../utils/url.js":144,"./tech.js":121,"global/document":1,"global/window":2,"object.assign":45}],120:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var o=e("../component.js"),s=a(o),l=e("./tech.js"),c=a(l),u=e("global/window"),d=(a(u),e("../utils/to-title-case.js")),p=a(d),f=function(e){function t(n,a,r){if(i(this,t),e.call(this,n,a,r),a.playerOptions.sources&&0!==a.playerOptions.sources.length)n.src(a.playerOptions.sources);else for(var o=0,l=a.playerOptions.techOrder;o<l.length;o++){var u=p["default"](l[o]),d=c["default"].getTech(u);if(u||(d=s["default"].getComponent(u)),d&&d.isSupported()){n.loadTech_(u);break}}}return r(t,e),t}(s["default"]);s["default"].registerComponent("MediaLoader",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/to-title-case.js":143,"./tech.js":121,"global/window":2}],121:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=i(s),c=e("../tracks/html-track-element"),u=i(c),d=e("../tracks/html-track-element-list"),p=i(d),f=e("../utils/merge-options.js"),h=i(f),m=e("../tracks/text-track"),g=i(m),v=e("../tracks/text-track-list"),b=i(v),y=e("../utils/fn.js"),w=a(y),S=e("../utils/log.js"),_=i(S),C=e("../utils/time-ranges.js"),T=e("../utils/buffer.js"),k=e("../media-error.js"),A=i(k),x=e("global/window"),I=i(x),E=e("global/document"),N=i(E),O=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],a=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];r(this,t),n.reportTouchActivity=!1,e.call(this,null,n,a),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(n.nativeCaptions===!1||n.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.emitTapEvents()}return o(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(w.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return C.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return T.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){var t=this.textTracks();if(t)for(var n=t.length;n--;)this.removeRemoteTextTrack(t[n]);this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(e instanceof A["default"]?this.error_=e:this.error_=new A["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?C.createTimeRange(0,0):C.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=w.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",w.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){I["default"].WebVTT||null==this.el().parentNode||!function(){var t=N["default"].createElement("script");t.src=e.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),e.el().parentNode.appendChild(t),I["default"].WebVTT=!0}();var n=function(){return e.trigger("texttrackchange")},a=function(){n();for(var e=0;e<t.length;e++){var a=t[e];a.removeEventListener("cuechange",n),"showing"===a.mode&&a.addEventListener("cuechange",n)}};a(),t.addEventListener("change",a),this.on("dispose",function(){t.removeEventListener("change",a)})}},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new b["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new b["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return P(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=h["default"](e,{tech:this}),n=new u["default"](t);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:I["default"]&&I["default"].videojs&&I["default"].videojs[e]?(_["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),I["default"].videojs[e]):void 0},t}(l["default"]);O.prototype.textTracks_;var P=function(e,t,n,a){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],r=e.textTracks();i.kind=t,n&&(i.label=n),a&&(i.language=a),i.tech=e;var o=new g["default"](i);return r.addTrack_(o),o};O.prototype.featuresVolumeControl=!0,O.prototype.featuresFullscreenResize=!1,O.prototype.featuresPlaybackRate=!1,O.prototype.featuresProgressEvents=!1,O.prototype.featuresTimeupdateEvents=!1,O.prototype.featuresNativeTextTracks=!1,O.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var a=e.sourceHandlers;a||(a=e.sourceHandlers=[]),void 0===n&&(n=a.length),a.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],a=void 0,i=0;i<n.length;i++)if(a=n[i].canPlayType(t))return a;return""},e.selectSourceHandler=function(t){for(var n=e.sourceHandlers||[],a=void 0,i=0;i<n.length;i++)if(a=n[i].canHandleSource(t))return n[i];return null},e.canPlaySource=function(t){var n=e.selectSourceHandler(t);return n?n.canHandleSource(t):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:_["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=t,this.sourceHandler_=n.handleSource(t,this),this.on("dispose",this.disposeSourceHandler),this},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},l["default"].registerComponent("Tech",O),l["default"].registerComponent("MediaTechController",O),O.registerTech("Tech",O),n["default"]=O,t.exports=n["default"]},{"../component":67,"../media-error.js":105,"../tracks/html-track-element":123,"../tracks/html-track-element-list":122,"../tracks/text-track":130,"../tracks/text-track-list":128,"../utils/buffer.js":132,"../utils/fn.js":136,"../utils/log.js":139,"../utils/merge-options.js":140,"../utils/time-ranges.js":142,"global/document":1,"global/window":2}],122:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../utils/browser.js"),s=i(o),l=e("global/document"),c=a(l),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];r(this,e);var n=this;if(s.IS_IE8){n=c["default"].createElement("custom");for(var a in e.prototype)"constructor"!==a&&(n[a]=e.prototype[a])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;o>i;i++)n.addTrackElement_(t[i]);return s.IS_IE8?n:void 0}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,a=this.trackElements_.length;a>n;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;n>t;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=u,t.exports=n["default"]},{"../utils/browser.js":131,"global/document":1}],123:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=i(s),c=e("global/document"),u=a(c),d=e("../event-target"),p=a(d),f=e("../tracks/text-track"),h=a(f),m=0,g=1,v=2,b=3,y=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),e.call(this);var a=void 0,i=this;if(l.IS_IE8){i=u["default"].createElement("custom");for(var o in t.prototype)"constructor"!==o&&(i[o]=t.prototype[o])}var s=new h["default"](n);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i["default"]=s["default"],Object.defineProperty(i,"readyState",{get:function(){return a}}),Object.defineProperty(i,"track",{get:function(){return s}}),a=m,s.addEventListener("loadeddata",function(){a=v,i.trigger({type:"load",target:i})}),l.IS_IE8?i:void 0}return o(t,e),t}(p["default"]);y.prototype.allowedEvents_={load:"load"},y.NONE=m,y.LOADING=g,y.LOADED=v,y.ERROR=b,n["default"]=y,t.exports=n["default"]},{"../event-target":101,"../tracks/text-track":130,"../utils/browser.js":131,"global/document":1}],124:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../utils/browser.js"),s=i(o),l=e("global/document"),c=a(l),u=function(){function e(t){r(this,e);var n=this;if(s.IS_IE8){n=c["default"].createElement("custom");for(var a in e.prototype)"constructor"!==a&&(n[a]=e.prototype[a])}return e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8?n:void 0}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,a=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(a>t)for(n=t;a>n;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,a=this.length;a>n;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=u,t.exports=n["default"]},{"../utils/browser.js":131,"global/document":1}],125:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(a){}}n.__esModule=!0;var c=e("../component"),u=i(c),d=e("../menu/menu.js"),p=(i(d),e("../menu/menu-item.js")),f=(i(p),e("../menu/menu-button.js")),h=(i(f),e("../utils/fn.js")),m=a(h),g=e("global/document"),v=(i(g),e("global/window")),b=i(v),y="#222",w="#ccc",S={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'
},_=function(e){function t(n,a,i){r(this,t),e.call(this,n,a,i),n.on("loadstart",m.bind(this,this.toggleDisplay)),n.on("texttrackchange",m.bind(this,this.updateDisplay)),n.ready(m.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",m.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var a=e[t];this.player_.addRemoteTextTrack(a)}var i={captions:1,subtitles:1},r=this.player_.textTracks(),o=void 0,s=void 0;if(r){for(var t=0;t<r.length;t++){var a=r[t];a["default"]&&("descriptions"!==a.kind||o?a.kind in i&&!s&&(s=a):o=a)}s?s.mode="showing":o&&(o.mode="showing")}}))}return o(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof b["default"].WebVTT&&b["default"].WebVTT.processCues(b["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,a=e.length;a--;){var i=e[a];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?this.updateForTrack(n):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if("function"==typeof b["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],a=0;a<e.activeCues.length;a++)n.push(e.activeCues[a]);b["default"].WebVTT.processCues(b["default"],n,this.el_);for(var i=n.length;i--;){var r=n[i];if(r){var o=r.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&l(o.firstChild,"color",s(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(o.firstChild,"backgroundColor",s(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(o,"backgroundColor",s(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+y+", 2px 2px 4px "+y+", 2px 2px 5px "+y:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+y+", 2px 2px "+y+", 3px 3px "+y:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+w+", 0 1px "+w+", -1px -1px "+y+", 0 -1px "+y:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+y+", 0 0 4px "+y+", 0 0 4px "+y+", 0 0 4px "+y)),t.fontPercent&&1!==t.fontPercent){var c=b["default"].parseFloat(o.style.fontSize);o.style.fontSize=c*t.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=S[t.fontFamily])}}}},t}(u["default"]);u["default"].registerComponent("TextTrackDisplay",_),n["default"]=_,t.exports=n["default"]},{"../component":67,"../menu/menu-button.js":106,"../menu/menu-item.js":107,"../menu/menu.js":108,"../utils/fn.js":136,"global/document":1,"global/window":2}],126:[function(e,t,n){"use strict";n.__esModule=!0;var a={disabled:"disabled",hidden:"hidden",showing:"showing"},i={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};n.TextTrackMode=a,n.TextTrackKind=i},{}],127:[function(e,t,n){"use strict";n.__esModule=!0;var a=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,a){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=a(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(a))},r=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:r,trackToJson_:a},t.exports=n["default"]},{}],128:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../event-target"),l=i(s),c=e("../utils/fn.js"),u=a(c),d=e("../utils/browser.js"),p=a(d),f=e("global/document"),h=i(f),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];r(this,t),e.call(this);var a=this;if(p.IS_IE8){a=h["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(a[i]=t.prototype[i])}a.tracks_=[],Object.defineProperty(a,"length",{get:function(){return this.tracks_.length}});for(var o=0;o<n.length;o++)a.addTrack_(n[o]);return p.IS_IE8?a:void 0}return o(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),e.addEventListener("modechange",u.bind(this,function(){this.trigger("change")})),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,a=this.length;a>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,a=this.length;a>n;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);m.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var g in m.prototype.allowedEvents_)m.prototype["on"+g]=null;n["default"]=m,t.exports=n["default"]},{"../event-target":101,"../utils/browser.js":131,"../utils/fn.js":136,"global/document":1}],129:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){var a=e.options[n];if(a.value===t)break}e.selectedIndex=n}}function c(){var e='<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';return e}n.__esModule=!0;var u=e("../component"),d=i(u),p=e("../utils/events.js"),f=a(p),h=e("../utils/fn.js"),m=a(h),g=e("../utils/log.js"),v=i(g),b=e("safe-json-parse/tuple"),y=i(b),w=e("global/window"),S=i(w),_=function(e){function t(n,a){r(this,t),e.call(this,n,a),this.hide(),void 0===a.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),f.on(this.$(".vjs-done-button"),"click",m.bind(this,function(){this.saveSettings(),this.hide()})),f.on(this.$(".vjs-default-button"),"click",m.bind(this,function(){this.$(".vjs-fg-color > select").selectedIndex=0,this.$(".vjs-bg-color > select").selectedIndex=0,this.$(".window-color > select").selectedIndex=0,this.$(".vjs-text-opacity > select").selectedIndex=0,this.$(".vjs-bg-opacity > select").selectedIndex=0,this.$(".vjs-window-opacity > select").selectedIndex=0,this.$(".vjs-edge-style select").selectedIndex=0,this.$(".vjs-font-family select").selectedIndex=0,this.$(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),f.on(this.$(".vjs-fg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".window-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-text-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-window-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-percent select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-edge-style select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-family select"),"change",m.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:c()})},t.prototype.getValues=function(){var e=s(this.$(".vjs-edge-style select")),t=s(this.$(".vjs-font-family select")),n=s(this.$(".vjs-fg-color > select")),a=s(this.$(".vjs-text-opacity > select")),i=s(this.$(".vjs-bg-color > select")),r=s(this.$(".vjs-bg-opacity > select")),o=s(this.$(".window-color > select")),l=s(this.$(".vjs-window-opacity > select")),c=S["default"].parseFloat(s(this.$(".vjs-font-percent > select"))),u={backgroundOpacity:r,textOpacity:a,windowOpacity:l,edgeStyle:e,fontFamily:t,color:n,backgroundColor:i,windowColor:o,fontPercent:c};for(var d in u)(""===u[d]||"none"===u[d]||"fontPercent"===d&&1===u[d])&&delete u[d];return u},t.prototype.setValues=function(e){l(this.$(".vjs-edge-style select"),e.edgeStyle),l(this.$(".vjs-font-family select"),e.fontFamily),l(this.$(".vjs-fg-color > select"),e.color),l(this.$(".vjs-text-opacity > select"),e.textOpacity),l(this.$(".vjs-bg-color > select"),e.backgroundColor),l(this.$(".vjs-bg-opacity > select"),e.backgroundOpacity),l(this.$(".window-color > select"),e.windowColor),l(this.$(".vjs-window-opacity > select"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),l(this.$(".vjs-font-percent > select"),t)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var n=y["default"](S["default"].localStorage.getItem("vjs-text-track-settings"));e=n[0],t=n[1],e&&v["default"].error(e)}catch(a){v["default"].warn(a)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?S["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):S["default"].localStorage.removeItem("vjs-text-track-settings")}catch(t){v["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(d["default"]);d["default"].registerComponent("TextTrackSettings",_),n["default"]=_,t.exports=n["default"]},{"../component":67,"../utils/events.js":135,"../utils/fn.js":136,"../utils/log.js":139,"global/window":2,"safe-json-parse/tuple":54}],130:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-cue-list"),l=i(s),c=e("../utils/fn.js"),u=a(c),d=e("../utils/guid.js"),p=a(d),f=e("../utils/browser.js"),h=a(f),m=e("./text-track-enums"),g=a(m),v=e("../utils/log.js"),b=i(v),y=e("../event-target"),w=i(y),S=e("global/document"),_=i(S),C=e("global/window"),T=i(C),k=e("../utils/url.js"),A=e("xhr"),x=i(A),I=function(e,t){var n=new T["default"].WebVTT.Parser(T["default"],T["default"].vttjs,T["default"].WebVTT.StringDecoder()),a=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){a.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),a.length>0&&(console.groupCollapsed&&console.groupCollapsed("Text Track parsing errors for "+t.src),a.forEach(function(e){return b["default"].error(e)}),console.groupEnd&&console.groupEnd()),n.flush()},E=function(e,t){var n={uri:e},a=k.isCrossOrigin(e);a&&(n.cors=a),x["default"](n,u.bind(this,function(e,n,a){return e?b["default"].error(e,n):(t.loaded_=!0,void("function"!=typeof T["default"].WebVTT?t.tech_&&!function(){var e=function(){return I(a,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){b["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():I(a,t)))}))},N=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(r(this,t),e.call(this),!n.tech)throw new Error("A tech was not provided.");var a=this;if(h.IS_IE8){a=_["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(a[i]=t.prototype[i])}a.tech_=n.tech;var o=g.TextTrackMode[n.mode]||"disabled",s=g.TextTrackKind[n.kind]||"subtitles",c=n["default"],d=n.label||"",f=n.language||n.srclang||"",m=n.id||"vjs_text_track_"+p.newGUID();("metadata"===s||"chapters"===s)&&(o="hidden"),a.cues_=[],a.activeCues_=[];var v=new l["default"](a.cues_),b=new l["default"](a.activeCues_),y=!1,w=u.bind(a,function(){this.activeCues,y&&(this.trigger("cuechange"),y=!1)});return"disabled"!==o&&a.tech_.on("timeupdate",w),Object.defineProperty(a,"kind",{get:function(){return s},set:function(){}}),Object.defineProperty(a,"label",{get:function(){return d},set:function(){}}),Object.defineProperty(a,"language",{get:function(){return f},set:function(){}}),Object.defineProperty(a,"id",{get:function(){return m},set:function(){}}),Object.defineProperty(a,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(a,"mode",{get:function(){return o},set:function(e){g.TextTrackMode[e]&&(o=e,"showing"===o&&this.tech_.on("timeupdate",w),this.trigger("modechange"))}}),Object.defineProperty(a,"cues",{get:function(){return this.loaded_?v:null},set:function(){}}),Object.defineProperty(a,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return b;for(var e=this.tech_.currentTime(),t=[],n=0,a=this.cues.length;a>n;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(y=!1,t.length!==this.activeCues_.length)y=!0;else for(var n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(y=!0);return this.activeCues_=t,b.setCues_(this.activeCues_),b},set:function(){}}),n.src?(a.src=n.src,E(n.src,a)):a.loaded_=!0,h.IS_IE8?a:void 0}return o(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,a=this.cues_.length;a>n;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(w["default"]);N.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=N,t.exports=n["default"]},{"../event-target":101,"../utils/browser.js":131,"../utils/fn.js":136,"../utils/guid.js":138,"../utils/log.js":139,"../utils/url.js":144,"./text-track-cue-list":124,"./text-track-enums":126,"global/document":1,"global/window":2,xhr:56}],131:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),r=a(i),o=e("global/window"),s=a(o),l=s["default"].navigator.userAgent,c=/AppleWebKit\/([\d.]+)/i.exec(l),u=c?parseFloat(c.pop()):null,d=/iPad/i.test(l);n.IS_IPAD=d;var p=/iPhone/i.test(l)&&!d;n.IS_IPHONE=p;var f=/iPod/i.test(l);n.IS_IPOD=f;var h=p||d||f;n.IS_IOS=h;var m=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}();n.IOS_VERSION=m;var g=/Android/i.test(l);n.IS_ANDROID=g;var v=function(){var e,t,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}();n.ANDROID_VERSION=v;var b=g&&/webkit/i.test(l)&&2.3>v;n.IS_OLD_ANDROID=b;var y=g&&5>v&&537>u;n.IS_NATIVE_ANDROID=y;var w=/Firefox/i.test(l);n.IS_FIREFOX=w;var S=/Edge/i.test(l);n.IS_EDGE=S;var _=!S&&/Chrome/i.test(l);n.IS_CHROME=_;var C=/MSIE\s8\.0/.test(l);n.IS_IE8=C;var T=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&r["default"]instanceof s["default"].DocumentTouch);n.TOUCH_ENABLED=T;var k="backgroundSize"in r["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=k},{"global/document":1,"global/window":2}],132:[function(e,t,n){"use strict";function a(e,t){var n,a,r=0;if(!t)return 0;e&&e.length||(e=i.createTimeRange(0,0));for(var o=0;o<e.length;o++)n=e.start(o),a=e.end(o),a>t&&(a=t),r+=a-n;return r/t}n.__esModule=!0,n.bufferedPercent=a;var i=e("./time-ranges.js")},{"./time-ranges.js":142}],133:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./log.js"),r=a(i),o={get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,!0}};n["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("function"==typeof Proxy){var n=function(){var n={};return Object.keys(t).forEach(function(e){o.hasOwnProperty(e)&&(n[e]=function(){return r["default"].warn(t[e]),o[e].apply(this,arguments)})}),{v:new Proxy(e,n)}}();if("object"==typeof n)return n.v}return e},t.exports=n["default"]},{"./log.js":139}],134:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return e.raw=t,e}function o(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function c(e){return function(t,n){return o(t)?(o(n)&&(n=$["default"].querySelector(n)),(x(n)?n:$["default"])[e](t)):$["default"][e](null)}}function u(e){return 0===e.indexOf("#")&&(e=e.slice(1)),$["default"].getElementById(e)}function d(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=$["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(F["default"].warn(V["default"](M,e,n)),a.setAttribute(e,n)):a[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e],a.setAttribute(e,n[e])}),a}function p(e,t){"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t}function f(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function h(e){var t=e[W];return t||(t=e[W]=L.newGUID()),H[t]||(H[t]={}),H[t]}function m(e){var t=e[W];return t?!!Object.getOwnPropertyNames(H[t]).length:!1}function g(e){var t=e[W];if(t){delete H[t];try{delete e[W]}catch(n){e.removeAttribute?e.removeAttribute(W):e[W]=null}}}function v(e,t){return e.classList?e.classList.contains(t):(s(t),l(t).test(e.className))}function b(e,t){return e.classList?e.classList.add(t):v(e,t)||(e.className=(e.className+" "+t).trim()),e}function y(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function w(e,t,n){var a=v(e,t);return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!a),n!==a?(n?b(e,t):y(e,t),e):void 0}function S(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var a=t[n];null===a||"undefined"==typeof a||a===!1?e.removeAttribute(n):e.setAttribute(n,a===!0?"":a)})}function _(e){var t,n,a,i,r;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){a=e.attributes;for(var o=a.length-1;o>=0;o--)i=a[o].name,r=a[o].value,("boolean"==typeof e[i]||-1!==n.indexOf(","+i+","))&&(r=null!==r?!0:!1),t[i]=r}return t}function C(){$["default"].body.focus(),$["default"].onselectstart=function(){return!1}}function T(){$["default"].onselectstart=function(){return!0}}function k(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=$["default"].documentElement,a=$["default"].body,i=n.clientLeft||a.clientLeft||0,r=R["default"].pageXOffset||a.scrollLeft,o=t.left+r-i,s=n.clientTop||a.clientTop||0,l=R["default"].pageYOffset||a.scrollTop,c=t.top+l-s;return{left:Math.round(o),top:Math.round(c)}}function A(e,t){var n={},a=k(e),i=e.offsetWidth,r=e.offsetHeight,o=a.top,s=a.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-l+r)/r)),n.x=Math.max(0,Math.min(1,(c-s)/i)),n}function x(e){return!!e&&"object"==typeof e&&1===e.nodeType}function I(e){return!!e&&"object"==typeof e&&3===e.nodeType}function E(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function N(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),x(e)||I(e)?e:"string"==typeof e&&/\S/.test(e)?$["default"].createTextNode(e):void 0}).filter(function(e){return e})}function O(e,t){return N(t).forEach(function(t){return e.appendChild(t)}),e}function P(e,t){return O(E(e),t)}n.__esModule=!0,n.getEl=u,n.createEl=d,n.textContent=p,n.insertElFirst=f,n.getElData=h,n.hasElData=m,n.removeElData=g,n.hasElClass=v,n.addElClass=b,n.removeElClass=y,n.toggleElClass=w,n.setElAttributes=S,n.getElAttributes=_,n.blockTextSelection=C,n.unblockTextSelection=T,n.findElPosition=k,n.getPointerPosition=A,n.isEl=x,n.isTextNode=I,n.emptyEl=E,n.normalizeContent=N,n.appendContent=O,n.insertContent=P;var M=r(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),j=e("global/document"),$=i(j),D=e("global/window"),R=i(D),U=e("./guid.js"),L=a(U),B=e("./log.js"),F=i(B),G=e("tsml"),V=i(G),H={},W="vdata"+(new Date).getTime(),q=c("querySelector");n.$=q;var K=c("querySelectorAll");n.$$=K},{"./guid.js":138,"./log.js":139,"global/document":1,"global/window":2,tsml:55}],135:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t,n){if(Array.isArray(t))return d(r,e,t,n);var a=f.getElData(e);a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),a.handlers[t].push(n),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t,n){if(!a.disabled){t=c(t);var i=a.handlers[t.type];if(i)for(var r=i.slice(0),o=0,s=r.length;s>o&&!t.isImmediatePropagationStopped();o++)r[o].call(e,t,n)}}),1===a.handlers[t].length&&(e.addEventListener?e.addEventListener(t,a.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,a.dispatcher))}function o(e,t,n){if(f.hasElData(e)){var a=f.getElData(e);if(a.handlers){if(Array.isArray(t))return d(o,e,t,n);var i=function(t){a.handlers[t]=[],u(e,t)};if(t){var r=a.handlers[t];if(r){if(!n)return void i(t);if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);u(e,t)}}else for(var l in a.handlers)i(l)}}}function s(e,t,n){var a=f.hasElData(e)?f.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=c(t),a.dispatcher&&a.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)s.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var r=f.getElData(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return d(l,e,t,n);var a=function i(){o(e,t,i),n.apply(this,arguments)};a.guid=n.guid=n.guid||m.newGUID(),r(e,t,a)}function c(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var a=e||v["default"].event;e={};for(var i in a)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&a.preventDefault||(e[i]=a[i]));if(e.target||(e.target=e.srcElement||y["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,a.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,a.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var r=y["default"].documentElement,o=y["default"].body;e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function u(e,t){var n=f.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&f.removeElData(e)}function d(e,t,n,a){n.forEach(function(n){e(t,n,a)})}n.__esModule=!0,n.on=r,n.off=o,n.trigger=s,n.one=l,n.fixEvent=c;var p=e("./dom.js"),f=i(p),h=e("./guid.js"),m=i(h),g=e("global/window"),v=a(g),b=e("global/document"),y=a(b)},{"./dom.js":134,
"./guid.js":138,"global/document":1,"global/window":2}],136:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("./guid.js"),i=function(e,t,n){t.guid||(t.guid=a.newGUID());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i};n.bind=i},{"./guid.js":138}],137:[function(e,t,n){"use strict";function a(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=0>e?0:e;var n=Math.floor(e%60),a=Math.floor(e/60%60),i=Math.floor(e/3600),r=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=a=n="-"),i=i>0||o>0?i+":":"",a=((i||r>=10)&&10>a?"0"+a:a)+":",n=10>n?"0"+n:n,i+a+n}()}n.__esModule=!0,n["default"]=a,t.exports=n["default"]},{}],138:[function(e,t,n){"use strict";function a(){return i++}n.__esModule=!0,n.newGUID=a;var i=1},{}],139:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=Array.prototype.slice.call(t),a=function(){},i=o["default"].console||{log:a,warn:a,error:a};e?n.unshift(e.toUpperCase()+":"):e="log",s.history.push(n),n.unshift("VIDEOJS:"),i[e].apply?i[e].apply(i,n):i[e](n.join(" "))}n.__esModule=!0;var r=e("global/window"),o=a(r),s=function(){i(null,arguments)};s.history=[],s.error=function(){i("error",arguments)},s.warn=function(){i("warn",arguments)},n["default"]=s,t.exports=n["default"]},{"global/window":2}],140:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function r(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),s["default"].apply(null,e),e[0]}n.__esModule=!0,n["default"]=r;var o=e("lodash-compat/object/merge"),s=a(o),l=function(e,t){return i(t)?i(e)?void 0:r(t):t};t.exports=n["default"]},{"lodash-compat/object/merge":40}],141:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),r=a(i),o=function(e){var t=r["default"].createElement("style");return t.className=e,t};n.createStyleElement=o;var s=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=s},{"global/document":1}],142:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return Array.isArray(e)?r(e):void 0===e||void 0===t?r():r([[e,t]])}function r(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function o(e,t,n,a){return void 0===a&&(c["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),a=0),s(e,a,n.length-1),n[a][t]}function s(e,t,n){if(0>t||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=i;var l=e("./log.js"),c=a(l);n.createTimeRange=i},{"./log.js":139}],143:[function(e,t,n){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=a,t.exports=n["default"]},{}],144:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),r=a(i),o=e("global/window"),s=a(o),l=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=r["default"].createElement("a");n.href=e;var a=""===n.host&&"file:"!==n.protocol,i=void 0;a&&(i=r["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),r["default"].body.appendChild(i));for(var o={},s=0;s<t.length;s++)o[t[s]]=n[t[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),a&&r["default"].body.removeChild(i),o};n.parseUrl=l;var c=function(e){if(!e.match(/^https?:\/\//)){var t=r["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e};n.getAbsoluteURL=c;var u=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=u;var d=function(e){var t=s["default"].location,n=l(e),a=":"===n.protocol?t.protocol:n.protocol,i=a+n.host!==t.protocol+t.host;return i};n.isCrossOrigin=d},{"global/document":1,"global/window":2}],145:[function(t,n,a){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}a.__esModule=!0;var o=t("global/window"),s=r(o),l=t("global/document"),c=r(l),u=t("./setup"),d=i(u),p=t("./utils/stylesheet.js"),f=i(p),h=t("./component"),m=r(h),g=t("./event-target"),v=r(g),b=t("./utils/events.js"),y=i(b),w=t("./player"),S=r(w),_=t("./plugins.js"),C=r(_),T=t("../../src/js/utils/merge-options.js"),k=r(T),A=t("./utils/fn.js"),x=i(A),I=t("./tracks/text-track.js"),E=r(I),N=t("object.assign"),O=(r(N),t("./utils/time-ranges.js")),P=t("./utils/format-time.js"),M=r(P),j=t("./utils/log.js"),$=r(j),D=t("./utils/dom.js"),R=i(D),U=t("./utils/browser.js"),L=i(U),B=t("./utils/url.js"),F=i(B),G=t("./extend.js"),V=r(G),H=t("lodash-compat/object/merge"),W=r(H),q=t("./utils/create-deprecation-proxy.js"),K=r(q),z=t("xhr"),Y=r(z),Q=t("./tech/tech.js"),J=r(Q),X=t("./tech/html5.js"),Z=(r(X),t("./tech/flash.js"));r(Z),"undefined"==typeof HTMLVideoElement&&(c["default"].createElement("video"),c["default"].createElement("audio"),c["default"].createElement("track"));var ee=function ae(e,t,n){var a=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),ae.getPlayers()[e])return t&&$["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&ae.getPlayers()[e].ready(n),ae.getPlayers()[e];a=R.getEl(e)}else a=e;if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||S["default"].players[a.playerId]||new S["default"](a,t,n)};if(s["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var te=R.$(".vjs-styles-defaults");if(!te){te=f.createStyleElement("vjs-styles-defaults");var ne=R.$("head");ne.insertBefore(te,ne.firstChild),f.setTextContent(te,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,ee),ee.VERSION="5.9.2",ee.options=S["default"].prototype.options_,ee.getPlayers=function(){return S["default"].players},ee.players=K["default"](S["default"].players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"}),ee.getComponent=m["default"].getComponent,ee.registerComponent=function(e,t){J["default"].isTech(t)&&$["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),m["default"].registerComponent.call(m["default"],e,t)},ee.getTech=J["default"].getTech,ee.registerTech=J["default"].registerTech,ee.browser=L,ee.TOUCH_ENABLED=L.TOUCH_ENABLED,ee.extend=V["default"],ee.mergeOptions=k["default"],ee.bind=x.bind,ee.plugin=C["default"],ee.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),W["default"](ee.options.languages,(n={},n[e]=t,n))[e]},ee.log=$["default"],ee.createTimeRange=ee.createTimeRanges=O.createTimeRanges,ee.formatTime=M["default"],ee.parseUrl=F.parseUrl,ee.isCrossOrigin=F.isCrossOrigin,ee.EventTarget=v["default"],ee.on=y.on,ee.one=y.one,ee.off=y.off,ee.trigger=y.trigger,ee.xhr=Y["default"],ee.TextTrack=E["default"],ee.isEl=R.isEl,ee.isTextNode=R.isTextNode,ee.createEl=R.createEl,ee.hasClass=R.hasElClass,ee.addClass=R.addElClass,ee.removeClass=R.removeElClass,ee.toggleClass=R.toggleElClass,ee.setAttributes=R.setElAttributes,ee.getAttributes=R.getElAttributes,ee.emptyEl=R.emptyEl,ee.appendContent=R.appendContent,ee.insertContent=R.insertContent,"function"==typeof e&&e.amd?e("videojs",[],function(){return ee}):"object"==typeof a&&"object"==typeof n&&(n.exports=ee),a["default"]=ee,n.exports=a["default"]},{"../../src/js/utils/merge-options.js":140,"./component":67,"./event-target":101,"./extend.js":102,"./player":110,"./plugins.js":111,"./setup":115,"./tech/flash.js":118,"./tech/html5.js":119,"./tech/tech.js":121,"./tracks/text-track.js":130,"./utils/browser.js":131,"./utils/create-deprecation-proxy.js":133,"./utils/dom.js":134,"./utils/events.js":135,"./utils/fn.js":136,"./utils/format-time.js":137,"./utils/log.js":139,"./utils/stylesheet.js":141,"./utils/time-ranges.js":142,"./utils/url.js":144,"global/document":1,"global/window":2,"lodash-compat/object/merge":40,"object.assign":45,xhr:56}]},{},[145])(145)}),function(e){var t=e.vttjs={},n=t.VTTCue,a=t.VTTRegion,i=e.VTTCue,r=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=a},t.restore=function(){t.VTTCue=i,t.VTTRegion=r}}(this),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return t?e.toLowerCase():!1}function a(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return t?e.toLowerCase():!1}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}function r(e,t,r){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var u="",d=!1,p=e,f=t,h=r,m=null,g="",v=!0,b="auto",y="start",w=50,S="middle",_=50,C="middle";return Object.defineProperty(s,"id",i({},c,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},c,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},c,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},c,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},c,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},c,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},c,{get:function(){return g},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},c,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},c,{get:function(){return b},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},c,{get:function(){return y},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},c,{get:function(){return w},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},c,{get:function(){return S},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},c,{get:function(){return _},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},c,{get:function(){return C},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var o="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||r,t.VTTCue=r}(this,this.vttjs||{}),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=r[e.toLowerCase()];return t?e.toLowerCase():!1}function a(e){return"number"==typeof e&&e>=0&&100>=e}function i(){var e=100,t=3,i=0,r=100,o=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!a(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!a(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!a(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!a(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!a(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var r={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,a){return 3600*(0|e)+60*(0|t)+(0|n)+(0|a)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=h(null)}function i(e,t,n,a){var i=a?e.split(a):[e];for(var r in i)if("string"==typeof i[r]){var o=i[r].split(n);if(2===o.length){var s=o[0],l=o[1];t(s,l)}}}function r(e,r,o){function s(){var a=n(e);if(null===a)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),a}function l(e,t){var n=new a;i(e,function(e,t){switch(e){case"region":for(var a=o.length-1;a>=0;a--)if(o[a].id===t){n.set(e,o[a].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];n.integer(e,r),n.percent(e,r)?n.set("snapToLines",!1):null,n.alt(e,r,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function c(){e=e.replace(/^\s+/,"")}var u=e;if(c(),r.startTime=s(),c(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);e=e.substr(3),c(),r.endTime=s(),c(),l(e,r)}function o(e,t){function a(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return m[e]}function r(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],i);return e}function o(e,t){return!b[t.localName]||b[t.localName]===e.localName}function s(t,n){var a=g[t];if(!a)return null;var i=e.document.createElement(a);i.localName=a;var r=v[t];return r&&n&&(i[r]=n.trim()),i}for(var l,c=e.document.createElement("div"),u=c,d=[];null!==(l=a());)if("<"!==l[0])u.appendChild(e.document.createTextNode(r(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),u=u.parentNode);continue}var p,f=n(l.substr(1,l.length-2));if(f){p=e.document.createProcessingInstruction("timestamp",f),u.appendChild(p);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(p=s(h[1],h[3]),!p)continue;if(!o(u,p))continue;h[2]&&(p.className=h[2].substr(1).replace("."," ")),d.push(h[1]),u.appendChild(p),u=p}return c}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var a=e.pop(),i=a.textContent||a.innerText;if(i){var r=i.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):i}return"ruby"===a.tagName?n(e):a.childNodes?(t(e,a),n(e)):void 0}var a,i=[],r="";if(!e||!e.childNodes)return"ltr";for(t(i,e);r=n(i);)for(var o=0;o<r.length;o++){a=r.charCodeAt(o);for(var s=0;s<y.length;s++)if(y[s]===a)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,a=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&a++;return-1*++a}function c(){}function u(e,t,n){var a=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",r="rgba(0, 0, 0, 0.8)";a&&(i="rgb(255, 255, 255)",r="rgb(0, 0, 0)"),c.call(this),this.cue=t,this.cueDiv=o(e,t.text);var l={color:i,backgroundColor:r,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};a||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},a||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,a,i,r=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,a=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||a,this.lineHeight=void 0!==t?t:e.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,a){function i(e,t){for(var i,r=new d(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(a);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(i=new d(e),o=l),e=new d(r)}return i||r}var r=new d(t),o=t.cue,s=l(o),c=[];if(o.snapToLines){var u;switch(o.vertical){case"":c=["+y","-y"],u="height";break;case"rl":c=["+x","-x"],u="width";break;case"lr":c=["-x","+x"],u="width"}var p=r.lineHeight,f=p*Math.round(s),h=n[u]+p,m=c[0];Math.abs(f)>h&&(f=0>f?-1:1,f*=Math.ceil(h/p)*p),0>s&&(f+=""===o.vertical?n.height:n.width,c=c.reverse()),r.move(m,f)}else{var g=r.lineHeight/n.height*100;switch(o.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}c=["+y","-x","+x","-y"],r=new d(t)}var v=i(r,c);t.move(v.toCSSCompatValues(n))}function f(){}var h=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=h(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var a=0;a<n.length;++a)if(t===n[a]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return(n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&100>=t)?(this.set(e,t),!0):!1}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},b={rt:"ruby"},y=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
c.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},u.prototype=h(c.prototype),u.prototype.constructor=u,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),a=t*n;return a/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,a=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||a,height:e.height||t,bottom:e.bottom||a+(e.height||t),width:e.width||n};return i},f.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},f.convertCueToDOMTree=function(e,t){return e&&t?o(e,t):null};var w=.05,S="sans-serif",_="1.5%";f.processCues=function(e,t,n){function a(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=_,n.appendChild(i),a(t)){var r=[],o=d.getSimpleBoxPosition(i),s=Math.round(o.height*w*100)/100,l={font:s+"px "+S};!function(){for(var n,a,s=0;s<t.length;s++)a=t[s],n=new u(e,a,l),i.appendChild(n.div),p(e,n,o,r),a.displayState=n.div,r.push(d.getSimpleBoxPosition(n))}()}else for(var c=0;c<t.length;c++)i.appendChild(t[c].displayState)},f.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function o(e){var t=new a;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;t.set(e+"X",r.get("x")),t.set(e+"Y",r.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":o(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;c=n();var u=c.match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:c=n(),l.state){case"HEADER":/:/.test(c)?s(c):c||(l.state="ID");continue;case"NOTE":c||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){l.state="NOTE";break}if(!c)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",-1===c.indexOf("-->")){l.cue.id=c;continue}case"CUE":try{r(c,l.cue,l.regionList)}catch(p){l.reportOrThrowError(p),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var f=-1!==c.indexOf("-->");if(!c||f&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=c;continue;case"BADCUE":c||(l.state="ID");continue}}}catch(p){l.reportOrThrowError(p),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=f}(this,this.vttjs||{}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsContribHls=e()}}(function(){return function e(t,n,a){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,a)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t){return e.start(t)+"-"+e.end(t)},i=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},r=function(e){return e>=32&&126>e?String.fromCharCode(e):"."},o={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n=16,a="",o=void 0,s=void 0,l=0;l<t.length/n;l++)o=t.slice(l*n,l*n+n).map(i).join(""),s=t.slice(l*n,l*n+n).map(r).join(""),a+=o+" "+s+"\n";return a},tagDump:function(e){return o.hexDump(e.bytes)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=a(e,n)+" ";return t}};n["default"]=o,t.exports=n["default"]},{}],2:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],a=t[4],i=n[4],r=void 0,o=void 0,s=void 0,l=[],c=[],u=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=void 0;for(r=0;256>r;r++)c[(l[r]=r<<1^283*(r>>7))^r]=r;for(o=s=0;!a[o];o^=u||1,s=c[s]||1)for(f=s^s<<1^s<<2^s<<3^s<<4,f=f>>8^255&f^99,a[o]=f,i[f]=o,p=l[d=l[u=l[o]]],m=16843009*p^65537*d^257*u^16843008*o,h=257*l[f]^16843008*f,r=0;4>r;r++)t[r][o]=h=h<<24^h>>>8,n[r][f]=m=m<<24^m>>>8;for(r=0;5>r;r++)t[r]=t[r].slice(0),n[r]=n[r].slice(0);return e},o=null,s=function(){function e(t){a(this,e),o||(o=r()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var n=void 0,i=void 0,s=void 0,l=void 0,c=void 0,u=this._tables[0][4],d=this._tables[1],p=t.length,f=1;if(4!==p&&6!==p&&8!==p)throw new Error("Invalid aes key size");for(l=t.slice(0),c=[],this._key=[l,c],n=p;4*p+28>n;n++)s=l[n-1],(n%p===0||8===p&&n%p===4)&&(s=u[s>>>24]<<24^u[s>>16&255]<<16^u[s>>8&255]<<8^u[255&s],n%p===0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),l[n]=l[n-p]^s;for(i=0;n;i++,n--)s=l[3&i?n:n-4],4>=n||4>i?c[i]=s:c[i]=d[0][u[s>>>24]]^d[1][u[s>>16&255]]^d[2][u[s>>8&255]]^d[3][u[255&s]]}return i(e,[{key:"decrypt",value:function(e,t,n,a,i,r){var o=this._key[1],s=e^o[0],l=a^o[1],c=n^o[2],u=t^o[3],d=void 0,p=void 0,f=void 0,h=o.length/4-2,m=void 0,g=4,v=this._tables[1],b=v[0],y=v[1],w=v[2],S=v[3],_=v[4];for(m=0;h>m;m++)d=b[s>>>24]^y[l>>16&255]^w[c>>8&255]^S[255&u]^o[g],p=b[l>>>24]^y[c>>16&255]^w[u>>8&255]^S[255&s]^o[g+1],f=b[c>>>24]^y[u>>16&255]^w[s>>8&255]^S[255&l]^o[g+2],u=b[u>>>24]^y[s>>16&255]^w[l>>8&255]^S[255&c]^o[g+3],g+=4,s=d,l=p,c=f;for(m=0;4>m;m++)i[(3&-m)+r]=_[s>>>24]<<24^_[l>>16&255]<<16^_[c>>8&255]<<8^_[255&u]^o[g++],d=s,s=l,l=c,c=u,u=d}}]),e}();n["default"]=s,t.exports=n["default"]},{}],3:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},l=e("../stream"),c=a(l),u=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return r(t,e),o(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(c["default"]);n["default"]=u,t.exports=n["default"]},{"../stream":13}],4:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=e("./aes"),s=a(o),l=e("./async-stream"),c=a(l),u=e("pkcs7"),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},p=function(e,t,n){var a=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new s["default"](Array.prototype.slice.call(t)),r=new Uint8Array(e.byteLength),o=new Int32Array(r.buffer),l=void 0,c=void 0,u=void 0,p=void 0,f=void 0,h=void 0,m=void 0,g=void 0,v=void 0;for(l=n[0],c=n[1],u=n[2],p=n[3],v=0;v<a.length;v+=4)f=d(a[v]),h=d(a[v+1]),m=d(a[v+2]),g=d(a[v+3]),i.decrypt(f,h,m,g,o,v),o[v]=d(o[v]^l),o[v+1]=d(o[v+1]^c),o[v+2]=d(o[v+2]^u),o[v+3]=d(o[v+3]^p),l=f,c=h,u=m,p=g;return r};n.decrypt=p;var f=function(){function e(t,n,a,r){i(this,e);var o=e.STEP,s=new Int32Array(t.buffer),l=new Uint8Array(t.byteLength),p=0;for(this.asyncStream_=new c["default"],this.asyncStream_.push(this.decryptChunk_(s.subarray(p,p+o),n,a,l)),p=o;p<s.length;p+=o)a=new Uint32Array([d(s[p-4]),d(s[p-3]),d(s[p-2]),d(s[p-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(p,p+o),n,a,l));this.asyncStream_.push(function(){r(null,u.unpad(l))})}return r(e,[{key:"decryptChunk_",value:function(e,t,n,a){return function(){var i=p(e,t,n);a.set(i,e.byteOffset)}}}]),e}();n.Decrypter=f,f.STEP=32e3,n["default"]={Decrypter:f,decrypt:p}},{"./aes":2,"./async-stream":3,pkcs7:18}],5:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./decrypter"),r=e("./async-stream"),o=a(r);n["default"]={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:o["default"]},t.exports=n["default"]},{"./async-stream":3,"./decrypter":4}],6:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./line-stream"),r=a(i),o=e("./parse-stream"),s=a(o),l=e("./parser"),c=a(l);n["default"]={LineStream:r["default"],ParseStream:s["default"],Parser:c["default"]},t.exports=n["default"]},{"./line-stream":7,"./parse-stream":8,"./parser":9}],7:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},l=e("../stream"),c=a(l),u=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.buffer=""}return r(t,e),o(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(c["default"]);n["default"]=u,t.exports=n["default"]},{"../stream":13}],8:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},l=e("../stream"),c=a(l),u=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},d=function(e){for(var t=e.split(u()),n=t.length,a={},i=void 0;n--;)""!==t[n]&&(i=/([^=]*)=(.*)/.exec(t[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),a[i[0]]=i[1]);return a},p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return r(t,e),o(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=d(t[1]),n.attributes.RESOLUTION){var a=n.attributes.RESOLUTION.split("x"),i={};a[0]&&(i.width=parseInt(a[0],10)),a[1]&&(i.height=parseInt(a[1],10)),n.attributes.RESOLUTION=i}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(t=/^#EXT-X-ENDLIST/.exec(e))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:"tag",tagType:"key"},t[1]&&(n.attributes=d(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2)&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:e.slice(4,e.length)})}}}]),t}(c["default"]);n["default"]=p,t.exports=n["default"]},{"../stream":13}],9:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c=e("../stream"),u=i(c),d=e("./line-stream"),p=i(d),f=e("./parse-stream"),h=i(f),m="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,g=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.lineStream=new p["default"],this.parseStream=new h["default"],this.lineStream.pipe(this.parseStream);var e=this,n=[],a={},i=void 0,o=function(){};this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on("data",function(t){({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function r(){var r={};"length"in t&&(a.byterange=r,r.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(a.byterange=r,r.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>=0&&(a.duration=t.duration),this.manifest.segments=n},key:function(){return t.attributes?"NONE"===t.attributes.METHOD?void(i=null):t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void("undefined"!=typeof t.attributes.IV&&(i.iv=t.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(t.number)?void(this.manifest.mediaSequence=t.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){return isFinite(t.number)?void(this.manifest.discontinuitySequence=t.number):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){return/VOD|EVENT/.test(t.playlistType)?void(this.manifest.playlistType=t.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},"stream-inf":function(){return this.manifest.playlists=n,t.attributes?(a.attributes||(a.attributes={}),void(a.attributes=m.mergeOptions(a.attributes,t.attributes))):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},discontinuity:function(){a.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},targetduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):void(this.manifest.targetDuration=t.duration)},totalduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):void(this.manifest.totalDuration=t.duration)}})[t.tagType]||o).call(e)},uri:function(){a.uri=t.uri,n.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a={}},comment:function(){}})[t.type].call(e)})}return o(t,e),s(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(u["default"]);n["default"]=g,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../stream":13,"./line-stream":7,"./parse-stream":8}],10:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c=e("./resolve-url"),u=i(c),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,p=e("./stream"),f=i(p),h=e("./m3u8"),m=i(h),g=function(e,t){for(var n=!1,a=d.mergeOptions(e,{}),i=e.playlists.length,r=void 0;i--;)if(r=a.playlists[i],r.uri===t.uri){if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)continue;a.playlists[i]=d.mergeOptions(r,t),a.playlists[t.uri]=a.playlists[i],r.segments&&(a.playlists[i].segments=v(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),n=!0}return n?a:null},v=function(e,t,n){var a=t.slice(),i=void 0,r=void 0;for(n=n||0,i=Math.min(e.length,t.length+n),r=n;i>r;r++)a[r-n]=d.mergeOptions(e[r],a[r-n]);return a},b=function(e){function t(e,n,a){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var i=this,o=void 0,s=void 0,c=void 0,d=void 0,p=void 0;if(this.hls_=n,this.trackExpiredTime_=!1,!e)throw new Error("A non-empty playlist URL is required");d=function(e,t,n){i.setBandwidth(c||e),c=null,n&&(i.state=n),i.error={playlist:i.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},i.trigger("error")},p=function(e,t){var n=void 0,a=void 0,r=void 0;i.setBandwidth(c||e),c=null,i.state="HAVE_METADATA",n=new m["default"].Parser,n.push(e.responseText),n.end(),n.manifest.uri=t,r=g(i.master,n.manifest),a=1e3*(n.manifest.targetDuration||10),r?(i.master=r,i.updateMediaPlaylist_(n.manifest)):a/=2,i.media().endList||(window.clearTimeout(s),s=window.setTimeout(function(){i.trigger("mediaupdatetimeout")},a)),i.trigger("loadedplaylist")},i.state="HAVE_NOTHING",this.expired_=0,o=this.dispose,i.dispose=function(){c&&(c.onreadystatechange=null,c.abort(),c=null),window.clearTimeout(s),o.call(this)},i.media=function(e){var t=i.state,n=void 0;if(!e)return i.media_;if("HAVE_NOTHING"===i.state)throw new Error("Cannot switch media playlist from "+i.state);if("string"==typeof e){if(!i.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=i.master.playlists[e]}if(n=!i.media_||e.uri!==i.media_.uri,i.master.playlists[e.uri].endList)return c&&(c.onreadystatechange=null,c.abort(),c=null),i.state="HAVE_METADATA",i.media_=e,void(n&&i.trigger("mediachange"));if(n){if(i.state="SWITCHING_MEDIA",c){if(u["default"](i.master.uri,e.uri)===c.url)return;c.onreadystatechange=null,c.abort(),c=null}c=this.hls_.xhr({uri:u["default"](i.master.uri,e.uri),withCredentials:a},function(n,a){return n?d(a,e.uri,t):(p(a,e.uri),void("HAVE_MASTER"===t?i.trigger("loadedmetadata"):i.trigger("mediachange")))})}},i.setBandwidth=function(e){i.bandwidth=e.bandwidth},i.on("firstplay",function(){this.trackExpiredTime_=!0}),i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",c=this.hls_.xhr({uri:u["default"](i.master.uri,i.media().uri),withCredentials:a},function(e,t){return e?d(t,i.media().uri):void p(t,i.media().uri)}))}),c=this.hls_.xhr({uri:e,withCredentials:a},function(t,n){var a=void 0,r=void 0;if(c=null,t)return i.error={status:n.status,message:"HLS playlist request error at URL: "+e,responseText:n.responseText,code:2},i.trigger("error");if(a=new m["default"].Parser,a.push(n.responseText),a.end(),i.state="HAVE_MASTER",a.manifest.uri=e,a.manifest.playlists){for(i.master=a.manifest,r=i.master.playlists.length;r--;)i.master.playlists[i.master.playlists[r].uri]=i.master.playlists[r];return i.trigger("loadedplaylist"),void(c||i.media(a.manifest.playlists[0]))}return i.master={uri:window.location.href,playlists:[{uri:e}]},i.master.playlists[e]=i.master.playlists[0],p(n,e),i.trigger("loadedmetadata")})}return o(t,e),s(t,[{key:"updateMediaPlaylist_",value:function(e){var t=void 0,n=void 0,a=void 0;if(t=this.media_,this.media_=this.master.playlists[e.uri],t&&this.trackExpiredTime_&&e.uri===t.uri){if(e.segments.length){if(void 0!==e.segments[0].start)return void(this.expired_=e.segments[0].start);if(void 0!==e.segments[0].end)return void(this.expired_=e.segments[0].end-e.segments[0].duration)}for(n=e.mediaSequence-t.mediaSequence-1;n>=0;n--)if(a=t.segments[n]){if(void 0!==a.end)return void(this.expired_=a.end);if(void 0!==a.start)return void(this.expired_=a.start+a.duration);this.expired_+=a.duration}else this.expired_+=t.targetDuration||10}}},{key:"getMediaIndexForTime_",value:function(e){var t=void 0,n=void 0,a=e,i=this.media_.segments.length,r=i-1,o=void 0,s=void 0,l=void 0,c=void 0;if(!this.media_)return 0;if(0>e)return 0;for(t=0;i>t;t++)if(n=this.media_.segments[t],n.end){if(n.end>e){c=n.end,s=t;break}l=n.end,o=t+1}if(void 0!==o){for(e-=l,t=o;(s||i)>t;t++)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return t>=s?o+Math.floor((a-l)/(c-l)*(s-o)):r}if(void 0!==s){for(e=c-e,t=s;t>=0;t--)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return 0===e?0:-1}if(e-=this.expired_,0>e)return-1;for(t=0;i>t;t++)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return r}}]),t}(f["default"]);n["default"]=b,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./m3u8":6,"./resolve-url":12,"./stream":13}],11:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,a={UNSAFE_LIVE_SEGMENTS:3},i=function(e,t){var n=0,a=t-e.mediaSequence,i=e.segments[a];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;a--;){if(i=e.segments[a],"undefined"!=typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!=typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},r=function(e,t){for(var n=0,a=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if(a=e.segments[i],"undefined"!=typeof a.start)return{result:a.start-n,precise:!0};if(n+=a.duration,"undefined"!=typeof a.end)return{result:a.end-n,precise:!0}}return{result:-1,precise:!1}},o=function(e,t){var n=void 0,a=void 0;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=i(e,t),n.precise?n.result:(a=r(e,t),a.precise?a.result:n.result))},s=function(e,t,n){
if(!e)return 0;if("undefined"==typeof n&&(n=!0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window.Infinity}return o(e,t,n)};n.duration=s;var l=function(e){var n=void 0,i=void 0;return e.segments?e.endList?t.createTimeRange(0,s(e)):(n=o(e,e.mediaSequence),i=o(e,e.mediaSequence+Math.max(0,e.segments.length-a.UNSAFE_LIVE_SEGMENTS)),t.createTimeRange(n,i)):t.createTimeRange()};n.seekable=l,a.duration=s,a.seekable=l,n["default"]=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("global/document"),r=a(i),o=function(e,t){var n=r["default"].querySelector("base"),a=r["default"].querySelector("head"),i=r["default"].createElement("a"),o=n,s=void 0,l=void 0;return n?s=n.href:o=a.appendChild(r["default"].createElement("base")),o.href=e,i.href=t,l=i.href,n?n.href=s:a.removeChild(o),l};n["default"]=o,t.exports=n["default"]},{"global/document":16}],13:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=void 0;return this.listeners[e]?(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1):!1}},{key:"trigger",value:function(e){var t=void 0,n=void 0,a=void 0,i=void 0;if(t=this.listeners[e])if(2===arguments.length)for(a=t.length,n=0;a>n;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),a=t.length,n=0;a>n;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();n["default"]=r,t.exports=n["default"]},{}],14:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,i=function(){var e=function t(e,n){if(e=a.mergeOptions({timeout:45e3},e),t.beforeRequest&&"function"==typeof t.beforeRequest){var i=t.beforeRequest(e);i&&(e=i)}var r=a.xhr(e,function(e,t){!e&&r.response&&(r.responseTime=(new Date).getTime(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=r.response.byteLength||r.response.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e||r.timedout?r.timedout=r.timedout||"ETIMEDOUT"===e.code:r.timedout=!1,e||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(r&&(r.response||r.responseText)))),n(e,r)});return r.requestTime=(new Date).getTime(),r};return e};n["default"]=i,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){},{}],16:[function(e,t,n){(function(n){var a="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var r=a["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=a["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":15}],17:[function(e,t,n){"use strict";var a;t.exports=function(e){var t=a[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},a=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],18:[function(e,t,n){"use strict";n.pad=e("./pad.js"),n.unpad=e("./unpad.js")},{"./pad.js":17,"./unpad.js":19}],19:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],20:[function(e,t,n){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,r=a(i),o=function(e){Object.defineProperties(e.frame,{id:{get:function(){return r["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return r["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return r["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},s=function(e,t,n){var a=window.WebKitDataCue||window.VTTCue;t&&t.forEach(function(e){this.inbandTextTrack_.addCue(new a(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n&&n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new a(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,o(n),this.metadataTrack_.addCue(n)},this)},e)};n["default"]=s,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){n.captions&&n.captions.length&&!e.inbandTextTrack_&&(e.inbandTextTrack_=t.player_.addTextTrack("captions","cc1")),n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=t.player_.addTextTrack("metadata","Timed Metadata"),e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n["default"]=a,t.exports=n["default"]},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={TIME_BETWEEN_TICKS:Math.floor(1e3/480),TIME_PER_TICK:Math.floor(1e3/240),BYTES_PER_CHUNK:1024,MIN_CHUNK:1024,MAX_CHUNK:1048576};n["default"]=a,t.exports=n["default"]},{}],23:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,u=i(c),d=e("./flash-source-buffer"),p=i(d),f=e("./flash-constants"),h=i(f),m=function(e){function t(){var e=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=document.getElementById(t.swfId),e.player_=u["default"](e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return o(t,e),s(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=void 0;if(0!==e.indexOf("video/mp2t"))throw new Error("NotSupportedError (Video.js)");return t=new p["default"](this),this.sourceBuffers.push(t),t}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(u["default"].EventTarget);n["default"]=m;try{Object.defineProperty(m.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),n>e)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(g){m.prototype.duration=NaN}for(var v in h["default"])m[v]=h["default"][v];t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-constants":22,"./flash-source-buffer":24}],24:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,u=i(c),d=e("mux.js"),p=i(d),f=e("./remove-cues-from-track"),h=i(f),m=e("./create-text-tracks-if-necessary"),g=i(m),v=e("./add-text-track-data"),b=i(v),y=e("./flash-constants"),w=i(y),S=function(e){window.setTimeout(e,w["default"].TIME_BETWEEN_TICKS)},_=function(e){function t(e){var n=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var a=void 0;this.chunkSize_=w["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource=e,this.updating=!1,this.timestampOffset_=0,this.segmentParser_=new p["default"].flv.Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),a=window.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(this.segmentParser_.getFlvHeader()))),this.mediaSource.swfObj.vjs_appendBuffer(a),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.segmentParser_=new p["default"].flv.Transmuxer,this.segmentParser_.on("data",this.receiveBuffer_.bind(this)),this.mediaSource.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN)}}),Object.defineProperty(this,"buffered",{get:function(){return u["default"].createTimeRanges(this.mediaSource.swfObj.vjs_getProperty("buffered"))}}),this.mediaSource.player_.on("seeked",function(){h["default"](0,1/0,n.metadataTrack_),h["default"](0,1/0,n.inbandTextTrack_)})}return o(t,e),s(t,[{key:"appendBuffer",value:function(e){var t=this,n=void 0,a=524288,i=0;if(this.updating)throw n=new Error("SourceBuffer.append() cannot be called while an update is in progress"),n.name="InvalidStateError",n.code=11,n;this.updating=!0,this.mediaSource.readyState="open",this.trigger({type:"update"});var r=function o(){t.segmentParser_.push(e.subarray(i,i+a)),i+=a,S(i<e.byteLength?o:t.segmentParser_.flush.bind(t.segmentParser_))};r()}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){h["default"](e,t,this.metadataTrack_),h["default"](e,t,this.inbandTextTrack_),this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;g["default"](this,this.mediaSource,e),b["default"](this,e.captions,e.metadata),S(function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&S(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var e=void 0,t=void 0,n=void 0,a=void 0,i=void 0,r=0,o=0,s=+new Date,l=void 0;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));do{for(o++,e=this.buffer_[0].subarray(r,r+this.chunkSize_),e.byteLength<this.chunkSize_||this.buffer_[0].byteLength===r+this.chunkSize_?(r=0,this.buffer_.shift()):r+=this.chunkSize_,this.bufferSize_-=e.byteLength,a="",n=e.byteLength,t=0;n>t;t++)a+=String.fromCharCode(e[t]);i=window.btoa(a),this.mediaSource.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+i+"</string></arguments></invoke>"),l=new Date-s}while(this.buffer_.length&&l<w["default"].TIME_PER_TICK);this.buffer_.length&&r&&(this.buffer_[0]=this.buffer_[0].subarray(r)),l>=w["default"].TIME_PER_TICK&&(this.chunkSize_=Math.floor(this.chunkSize_*(o/4))),this.chunkSize_=Math.max(w["default"].MIN_CHUNK,Math.min(this.chunkSize_,w["default"].MAX_CHUNK)),0!==this.bufferSize_?S(this.processBuffer_.bind(this)):(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource.tech_,a=0,i=void 0,r=void 0,o=void 0,s=[],l=this.getOrderedTags_(e);for(isNaN(this.basePtsOffset_)&&l.length&&(this.basePtsOffset_=l[0].pts),n.buffered().length&&(a=n.buffered().end(0)-this.timestampOffset),a=Math.max(a,n.currentTime()-this.timestampOffset),a*=1e3,a+=this.basePtsOffset_,i=0;i<l.length;i++)l[i].pts>=a&&s.push(l[i]);if(0!==s.length){for(i=0;i<s.length;i++)t+=s[i].bytes.byteLength;for(o=new Uint8Array(t),i=0,r=0;i<s.length;i++)o.set(s[i].bytes,r),r+=s[i].bytes.byteLength;return o}}},{key:"getOrderedTags_",value:function(e){for(var t=e.tags.videoTags,n=e.tags.audioTags,a=void 0,i=[];t.length||n.length;)a=t.length?n.length&&n[0].dts<t[0].dts?n.shift():t.shift():n.shift(),i.push(a.finalize());return i}}]),t}(u["default"].EventTarget);n["default"]=_,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":20,"./create-text-tracks-if-necessary":21,"./flash-constants":22,"./remove-cues-from-track":26,"mux.js":37}],25:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,u=i(c),d=e("./virtual-source-buffer"),p=i(d),f=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var a=("00"+Number(t).toString(16)).slice(-2),i=("00"+Number(n).toString(16)).slice(-2);return"avc1."+a+"00"+i})},h=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,u["default"].EventTarget);var e=this,n=void 0;this.mediaSource_=new window.MediaSource;for(n in this.mediaSource_)n in t.prototype||"function"!=typeof this.mediaSource_[n]||(this[n]=this.mediaSource_[n].bind(this.mediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return e.duration_===1/0?e.duration_:e.mediaSource_.duration},set:function(t){return e.duration_=t,t!==1/0?void(e.mediaSource_.duration=t):void 0}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u["default"].createTimeRanges([[0,e.mediaSource_.duration]]):e.mediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return e.mediaSource_.readyState}}),this.sourceBuffers=[],["sourceopen","sourceclose","sourceended"].forEach(function(e){this.mediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var n=document.querySelector('[src="'+e.url_+'"]');n&&(e.player_=u["default"](n.parentNode))}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0})}return o(t,e),s(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.mediaSource_.duration||isNaN(this.mediaSource_.duration))&&(this.mediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=void 0,a=void 0,i=void 0,r=/avc1\.[\da-f]+/i,o=/mp4a\.\d+.\d+/i;return/^video\/mp2t/i.test(e)?(n=e.split(";").slice(1).join(";"),n=f(n),a=(n.match(r)||[])[0],i=(n.match(o)||[])[0],a&&a.length||(a="avc1.4d400d"),i&&i.length||(i="mp4a.40.2"),t=new p["default"](this,[a,i]),this.sourceBuffers.push(t),t):(t=this.mediaSource_.addSourceBuffer(e),this.sourceBuffers.push(t),t)}}]),t}(u["default"].EventTarget);n["default"]=h,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./virtual-source-buffer":29}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){var a=void 0,i=void 0;if(n)for(a=n.cues.length;a--;)i=n.cues[a],i.startTime<=t&&i.endTime>=e&&n.removeCue(i)};n["default"]=a,t.exports=n["default"]},{}],27:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("mux.js"),r=a(i),o=void 0,s={},l=function(e){e.on("data",function(e){var t=e.data;e.data=t.buffer,postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){postMessage({action:"caption",data:e})}),e.on("done",function(e){postMessage({action:"done"})})},c={init:function(e){s=e&&e.options||{},this.defaultInit()},defaultInit:function(){o&&o.dispose(),o=new r["default"].mp4.Transmuxer(s),l(o)},push:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);o.push(t)},reset:function(){this.defaultInit()},setTimestampOffset:function(e){var t=e.timestampOffset||0;o.setBaseMediaDecodeTime(Math.round(9e4*t))},flush:function(e){o.flush()}},u=function(e){e.onmessage=function(e){o||"init"===e.data.action||c.defaultInit(),e.data&&e.data.action&&c[e.data.action]&&c[e.data.action](e.data)}};n["default"]=u,t.exports=n["default"]},{"mux.js":37}],28:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./flash-media-source"),r=a(i),o=e("./html-media-source"),s=a(o),l=window.videojs,c=0,u={mode:"auto"};l.mediaSources={};var d=function(e,t){var n=l.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},p=function(){return!!window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},f=function(e){var t=l.mergeOptions(u,e);return this.MediaSource={open:d,supportsNativeMediaSources:p},"html5"===t.mode||"auto"===t.mode&&p()?new s["default"]:new r["default"]};n.MediaSource=f,f.open=d,f.supportsNativeMediaSources=p;var h={createObjectURL:function(e){var t="blob:vjs-media-source/",n=void 0;return e instanceof s["default"]?(n=window.URL.createObjectURL(e.mediaSource_),e.url_=n,n):e instanceof r["default"]?(n=t+c,c++,l.mediaSources[n]=e,n):(n=window.URL.createObjectURL(e),e.url_=n,n)}};n.URL=h,l.MediaSource=f,l.URL=h},{"./flash-media-source":23,"./html-media-source":25}],29:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,u=i(c),d=e("./create-text-tracks-if-necessary"),p=i(d),f=e("./remove-cues-from-track"),h=i(f),m=e("./add-text-track-data"),g=i(m),v=e("webworkify"),b=i(v),y=e("./transmuxer-worker"),w=i(y),S=function(e,t,n){return function(){return e[t]&&e[t].updating?void 0:e.trigger(n)}},_=function(e){function t(e,n){var a=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,u["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=n,this.transmuxer_=b["default"](w["default"]),this.transmuxer_.postMessage({action:"init",options:{remux:!1}}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?a.data_(e):"done"===e.data.action?a.done_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return this.bufferUpdating_||this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,a=[],i=[];if(!(this.videoBuffer_&&0!==this.videoBuffer_.buffered.length||this.audioBuffer_&&0!==this.audioBuffer_.buffered.length))return u["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;for(var r=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=r.length;s--;)a.push({time:r.start(s),type:"start"}),a.push({time:r.end(s),type:"end"});for(s=o.length;s--;)a.push({time:o.start(s),type:"start"}),a.push({time:o.end(s),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),s=0;s<a.length;s++)"start"===a[s].type?(n++,2===n&&(e=a[s].time)):"end"===a[s].type&&(n--,1===n&&(t=a[s].time)),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return u["default"].createTimeRanges(i)}})}return o(t,e),s(t,[{key:"data_",value:function(e){var t=e.data.segment,n=this.mediaSource_.mediaSource_;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),"video"===t.type?this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs="'+this.codecs_[0]+'"'),this.videoBuffer_.addEventListener("updatestart",S(this,"audioBuffer_","updatestart")),this.videoBuffer_.addEventListener("update",S(this,"audioBuffer_","update")),this.videoBuffer_.addEventListener("updateend",S(this,"audioBuffer_","updateend"))):"audio"===t.type?this.audioBuffer_||(this.audioBuffer_=n.addSourceBuffer('audio/mp4;codecs="'+this.codecs_[1]+'"'),this.audioBuffer_.addEventListener("updatestart",S(this,"videoBuffer_","updatestart")),this.audioBuffer_.addEventListener("update",S(this,"videoBuffer_","update")),this.audioBuffer_.addEventListener("updateend",S(this,"videoBuffer_","updateend"))):"combined"===t.type&&(this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs="'+this.codecs_.join(",")+'"'),this.videoBuffer_.addEventListener("updatestart",S(this,"videoBuffer_","updatestart")),this.videoBuffer_.addEventListener("update",S(this,"videoBuffer_","update")),this.videoBuffer_.addEventListener("updateend",S(this,"videoBuffer_","updateend")))),p["default"](this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(){this.processPendingSegments_()}},{key:"appendBuffer",value:function(e){this.bufferUpdating_=!0,this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function(e,t){this.videoBuffer_&&this.videoBuffer_.remove(e,t),this.audioBuffer_&&this.audioBuffer_.remove(e,t),h["default"](e,t,this.metadataTrack_),h["default"](e,t,this.inbandTextTrack_)}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,a=t.data;return"combined"===n&&(n="video"),e[n].segments.push(a),e[n].bytes+=a.byteLength,t.captions&&(e.captions=e.captions.concat(t.captions)),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),g["default"](this,e.captions,e.metadata),this.concatAndAppendSegments_(e.video,this.videoBuffer_),this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,a=void 0;e.bytes&&(a=new Uint8Array(e.bytes),e.segments.forEach(function(e){a.set(e,n),n+=e.byteLength}),t.appendBuffer(a))}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(u["default"].EventTarget);n["default"]=_,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":20,"./create-text-tracks-if-necessary":21,"./remove-cues-from-track":26,"./transmuxer-worker":27,webworkify:50}],30:[function(e,t,n){"use strict";var a,i=e("../utils/stream.js");a=function(){var e,t=0;a.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],a=e[t+5],i=(16&a)>>4;return i?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,a=e[t+4]<<3,i=6144&e[t+3];return i|a|n},this.push=function(n){var a,i,r,o=0,s=0;for(void 0!==e&&e.length?(r=e.length,e=new Uint8Array(n.byteLength+r),e.set(e.subarray(0,r)),e.set(n,r)):e=n;e.length-s>=10;)if(e[s]!=="I".charCodeAt(0)||e[s+1]!=="D".charCodeAt(0)||e[s+2]!=="3".charCodeAt(0))if(e[s]&!0&&240===(240&e[s+1])){if(o=this.parseAdtsSize(e,s),o>e.length)break;i={type:"audio",data:e.subarray(s,s+o),pts:t,dts:t},this.trigger("data",i),s+=o}else s++;else{if(o=this.parseId3TagSize(e,s),o>e.length)break;a={type:"timed-metadata",data:e.subarray(s,s+o)},this.trigger("data",a),s+=o}}},a.prototype=new i,t.exports=a},{"../utils/stream.js":49}],31:[function(e,t,n){"use strict";var a,i=e("../utils/stream.js"),r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];a=function(){var e,t;a.prototype.init.call(this),e=this,this.push=function(e){var n,a,i,o,s,l,c=0,u=0;if("audio"===e.type)for(t?(o=t,t=new Uint8Array(o.byteLength+e.data.byteLength),t.set(o),t.set(e.data,o.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240===(246&t[c+1])){if(a=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,s=1024*((3&t[c+6])+1),l=9e4*s/r[(60&t[c+2])>>>2],i=c+n,t.byteLength<i)return;if(this.trigger("data",{pts:e.pts+u*l,dts:e.dts+u*l,sampleCount:s,audioobjecttype:(t[c+2]>>>6&3)+1,channelcount:(1&t[c+2])<<3|(192&t[c+3])>>>6,samplerate:r[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+a,i)}),t.byteLength===i)return void(t=void 0);u++,t=t.subarray(i)}else c++},this.flush=function(){this.trigger("done")}},a.prototype=new i,t.exports=a},{"../utils/stream.js":49}],32:[function(e,t,n){"use strict";var a,i,r=e("../utils/stream.js"),o=e("../utils/exp-golomb.js");i=function(){var e,t,n=0;i.prototype.init.call(this),this.push=function(a){var i;for(t?(i=new Uint8Array(t.byteLength+a.data.byteLength),i.set(t),i.set(a.data,t.byteLength),t=i):t=a.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}this.trigger("data",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}},i.prototype=new r,a=function(){var e,t,n,r,s,l,c,u=new i;a.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,u.push(e))},u.on("data",function(a){var i={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=s(a.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=s(a.subarray(1)),i.config=l(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)}),u.on("done",function(){e.trigger("done")}),this.flush=function(){u.flush()},c=function(e,t){var n,a,i=8,r=8;for(n=0;e>n;n++)0!==r&&(a=t.readExpGolomb(),r=(i+a+256)%256),i=0===r?i:r},s=function(e){for(var t,n,a=e.byteLength,i=[],r=1;a-2>r;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;t=a-i.length,n=new Uint8Array(t);var o=0;for(r=0;t>r;o++,r++)o===i[0]&&(o++,i.shift()),n[r]=e[o];return n},l=function(e){var t,n,a,i,r,s,l,u,d,p,f,h,m=0,g=0,v=0,b=0;if(t=new o(e),n=t.readUnsignedByte(),i=t.readUnsignedByte(),a=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),
(100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||139===n||134===n)&&(r=t.readUnsignedExpGolomb(),3===r&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==r?8:12,h=0;f>h;h++)t.readBoolean()&&(6>h?c(16,t):c(64,t));if(t.skipUnsignedExpGolomb(),s=t.readUnsignedExpGolomb(),0===s)t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),h=0;l>h;h++)t.skipExpGolomb();return t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),p=t.readBits(1),0===p&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb()),{profileIdc:n,levelIdc:a,profileCompatibility:i,width:16*(u+1)-2*m-2*g,height:(2-p)*(d+1)*16-2*v-2*b}}},a.prototype=new r,t.exports={H264Stream:a,NalByteStream:i}},{"../utils/exp-golomb.js":48,"../utils/stream.js":49}],33:[function(e,t,n){t.exports={adts:e("./adts"),h264:e("./h264")}},{"./adts":31,"./h264":32}],34:[function(e,t,n){"use strict";var a;a=function(e,t){var n,i=0,r=16384,o=function(e,t){var n,a=e.position+t;a<e.bytes.byteLength||(n=new Uint8Array(2*a),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=a.widthBytes||new Uint8Array("width".length),l=a.heightBytes||new Uint8Array("height".length),c=a.videocodecidBytes||new Uint8Array("videocodecid".length);if(!a.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)l[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)c[n]="videocodecid".charCodeAt(n);a.widthBytes=s,a.heightBytes=l,a.videocodecidBytes=c}switch(this.keyFrame=!1,e){case a.VIDEO_TAG:this.length=16,r*=6;break;case a.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case a.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw"Error Unknown TagType"}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var a,i=t||0;n=n||e.byteLength,a=i+n,o(this,n),this.bytes.set(e.subarray(i,a),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:i>0&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,n;switch(this.bytes[0]){case a.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case a.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case a.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=a.frameTime(this.bytes),this}},a.AUDIO_TAG=8,a.VIDEO_TAG=9,a.METADATA_TAG=18,a.isAudioFrame=function(e){return a.AUDIO_TAG===e[0]},a.isVideoFrame=function(e){return a.VIDEO_TAG===e[0]},a.isMetaData=function(e){return a.METADATA_TAG===e[0]},a.isKeyFrame=function(e){return a.isVideoFrame(e)?23===e[11]:a.isAudioFrame(e)?!0:!!a.isMetaData(e)},a.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=a},{}],35:[function(e,t,n){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),tools:e("../tools/flv-inspector")}},{"../tools/flv-inspector":46,"./flv-tag":34,"./transmuxer":36}],36:[function(e,t,n){"use strict";var a,i,r,o,s,l,c,u=e("../utils/stream.js"),d=e("./flv-tag.js"),p=e("../m2ts/m2ts.js"),f=e("../codecs/adts.js"),h=e("../codecs/h264").H264Stream;s=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},l=function(e,t){var n=new d(d.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},c=function(e,t){var n,a=new d(d.VIDEO_TAG,!0);for(a.dts=t,a.pts=t,a.writeByte(1),a.writeByte(e.profileIdc),a.writeByte(e.profileCompatibility),a.writeByte(e.levelIdc),a.writeByte(255),a.writeByte(225),a.writeShort(e.sps[0].length),a.writeBytes(e.sps[0]),a.writeByte(e.pps.length),n=0;n<e.pps.length;++n)a.writeShort(e.pps[n].length),a.writeBytes(e.pps[n]);return a},r=function(e){var t,n=[];r.prototype.init.call(this),this.push=function(t){s(e,t),e&&void 0===e.channelcount&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var a,i,r,o=[];if(0===n.length)return void this.trigger("done");for(r=-(1/0);n.length;)a=n.shift(),(e.extraData!==t||a.pts-r>=1e3)&&(i=new d(d.METADATA_TAG),i.pts=a.pts,i.dts=a.dts,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===e.channelcount),i.writeMetaDataDouble("audiosamplerate",e.samplerate),i.writeMetaDataDouble("audiosamplesize",16),o.push(i),t=e.extraData,i=new d(d.AUDIO_TAG,!0),i.pts=a.pts,i.dts=a.dts,i.view.setUint16(i.position,e.extraData),i.position+=2,i.length=Math.max(i.length,i.position),o.push(i),r=a.pts),i=new d(d.AUDIO_TAG),i.pts=a.pts,i.dts=a.dts,i.writeBytes(a.data),o.push(i);t=null,this.trigger("data",{track:e,tags:o}),this.trigger("done")}},r.prototype=new u,i=function(e){var t,n,a=[];i.prototype.init.call(this),this.finishFrame=function(n,a){a&&(t&&e&&e.newMetadata&&(a.keyFrame||0===n.length)&&(n.push(l(t,a.pts)),n.push(c(e,a.pts)),e.newMetadata=!1),a.endNalUnit(),n.push(a))},this.push=function(t){s(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),a.push(t)},this.flush=function(){for(var i,r=[];a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return void this.trigger("done");for(;a.length;)i=a.shift(),"seq_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(e.newMetadata=!0,e.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(r,n),n=new d(d.VIDEO_TAG),n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(r,n),this.trigger("data",{track:e,tags:r}),this.trigger("done")}},i.prototype=new u,o=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}},o.prototype=new u,o.prototype.flush=function(){var e,t,n,a,i={tags:{},captions:[],metadata:[]};if(!(this.pendingTracks<this.numberOfTracks)){for(this.videoTrack?a=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts),i.tags.videoTags=this.videoTags,i.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)t=this.pendingCaptions[n],t.startTime=t.startPts-a,t.startTime/=9e4,t.endTime=t.endPts-a,t.endTime/=9e4,i.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-a,e.cueTime/=9e4,i.metadata.push(e);i.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.trigger("data",i),this.trigger("done")}},a=function(e){var t,n,s,l,c,u,m,g,v,b=this;a.prototype.init.call(this),e=e||{},this.metadataStream=new p.MetadataStream,e.metadataStream=this.metadataStream,t=new p.TransportPacketStream,n=new p.TransportParseStream,s=new p.ElementaryStream,l=new f,c=new h,v=new o(e),t.pipe(n).pipe(s),s.pipe(c),s.pipe(l),s.pipe(this.metadataStream).pipe(v),g=new p.CaptionStream,c.pipe(g).pipe(v),s.on("data",function(e){var t,n,a;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(a=e.tracks[t]);n&&!u&&(v.numberOfTracks++,u=new i(n),c.pipe(u).pipe(v)),a&&!m&&(v.numberOfTracks++,m=new r(a),l.pipe(m).pipe(v))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},v.on("data",function(e){b.trigger("data",e)}),v.on("done",function(){b.trigger("done")}),this.getFlvHeader=function(e,t,n){var a,i,r,o=new Uint8Array(9),s=new DataView(o.buffer);return e=e||0,t=void 0===t?!0:t,n=void 0===n?!0:n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,o.byteLength),0>=e?(i=new Uint8Array(o.byteLength+4),i.set(o),i.set([0,0,0,0],o.byteLength),i):(a=new d(d.METADATA_TAG),a.pts=a.dts=0,a.writeMetaDataDouble("duration",e),r=a.finalize().length,i=new Uint8Array(o.byteLength+r),i.set(o),i.set(s.byteLength,r),i)}},a.prototype=new u,t.exports=a},{"../codecs/adts.js":31,"../codecs/h264":32,"../m2ts/m2ts.js":40,"../utils/stream.js":49,"./flv-tag.js":34}],37:[function(e,t,n){"use strict";var a={codecs:e("./codecs"),mp4:e("./mp4"),flv:e("./flv"),mp2t:e("./m2ts")};t.exports=a},{"./codecs":33,"./flv":35,"./m2ts":39,"./mp4":43}],38:[function(e,t,n){"use strict";var a=4,i=128,r=e("../utils/stream"),o=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,o=0;t<e.byteLength&&e[t]!==i;){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!n.payload&&r===a){n.payloadType=r,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}t+=o,r=0,o=0}return n},s=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},l=function(e,t){var n,a,i,r,o=[];if(!(64&t[0]))return o;for(a=31&t[0],n=0;a>n;n++)i=3*n,r={type:3&t[i+2],pts:e},4&t[i+2]&&(r.ccData=t[i+3]<<8|t[i+4],o.push(r));return o},c=function(){c.prototype.init.call(this),this.captionPackets_=[],this.field1_=new T,this.field1_.on("data",this.trigger.bind(this,"data")),this.field1_.on("done",this.trigger.bind(this,"done"))};c.prototype=new r,c.prototype.push=function(e){var t,n;"sei_rbsp"===e.nalUnitType&&(t=o(e.escapedRBSP),t.payloadType===a&&(n=s(t),n&&(this.captionPackets_=this.captionPackets_.concat(l(e.pts,n)))))},c.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.sort(function(e,t){return e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var u={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},d=function(e){return null===e?"":(e=u[e]||e,String.fromCharCode(e))},p=0,f=5152,h=5167,m=5157,g=5158,v=5159,b=5165,y=5153,w=5164,S=5166,_=14,C=function(){for(var e=[],t=_+1;t--;)e.push("");return e},T=function(){T.prototype.init.call(this),this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=C(),this.nonDisplayed_=C(),this.lastControlCode_=null,this.push=function(e){if(0===e.type){var t,n,a,i;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&t)?this.lastControlCode_=t:this.lastControlCode_=null,t){case p:break;case f:this.mode_="popOn";break;case h:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case m:this.topRow_=_-1,this.mode_="rollUp";break;case g:this.topRow_=_-2,this.mode_="rollUp";break;case v:this.topRow_=_-3,this.mode_="rollUp";break;case b:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case y:"popOn"===this.mode_?this.nonDisplayed_[_]=this.nonDisplayed_[_].slice(0,-1):this.displayed_[_]=this.displayed_[_].slice(0,-1);break;case w:this.flushDisplayed(e.pts),this.displayed_=C();break;case S:this.nonDisplayed_=C();break;default:if(a=t>>>8,i=255&t,a>=16&&23>=a&&i>=64&&127>=i&&(16!==a||96>i)&&(a=32,i=null),(17===a||25===a)&&i>=48&&63>=i&&(a=14850474,i=""),16===(240&a))return;this[this.mode_](e.pts,a,i)}}}};T.prototype=new r,T.prototype.flushDisplayed=function(e){var t,n;for(n=0;n<this.displayed_.length;n++)t=this.displayed_[n],t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t.trim()})},T.prototype.popOn=function(e,t,n){var a=this.nonDisplayed_[_];a+=d(t),a+=d(n),this.nonDisplayed_[_]=a},T.prototype.rollUp=function(e,t,n){var a=this.displayed_[_];""===a&&(this.flushDisplayed(e),this.startPts_=e),a+=d(t),a+=d(n),this.displayed_[_]=a},T.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;_>e;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[_]=""},t.exports={CaptionStream:c,Cea608Stream:T}},{"../utils/stream":49}],39:[function(e,t,n){t.exports=e("./m2ts")},{"./m2ts":40}],40:[function(e,t,n){"use strict";var a,i,r,o=e("../utils/stream.js"),s=e("./caption-stream"),l=e("./stream-types"),o=e("../utils/stream.js"),c=e("./stream-types.js"),u=188,d=71,a=function(){var e=new Uint8Array(u),t=0;a.prototype.init.call(this),this.push=function(n){var a,i=0,r=u;for(t?(a=new Uint8Array(n.byteLength+t),a.set(e.subarray(0,t)),a.set(n,t),t=0):a=n;r<a.byteLength;)a[i]!==d||a[r]!==d?(i++,r++):(this.trigger("data",a.subarray(i,r)),i+=u,r+=u);i<a.byteLength&&(e.set(a.subarray(i),0),t=a.byteLength-i)},this.flush=function(){t===u&&e[0]===d&&(this.trigger("data",e),t=0),this.trigger("done")}};a.prototype=new o,i=function(){var e,t,n,a;i.prototype.init.call(this),a=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,a){var i=0;a.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===a.type?t(e.subarray(i),a):n(e.subarray(i),a)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},n=function(e,t){var n,i,r,o;if(1&e[5]){for(a.programMapTable={},n=(15&e[1])<<8|e[2],i=3+n-4,r=(15&e[10])<<8|e[11],o=12+r;i>o;)a.programMapTable[(31&e[o+1])<<8|e[o+2]]=e[o],o+=((15&e[o+3])<<8|e[o+4])+5;for(t.programMapTable=a.programMapTable;a.packetsWaitingForPmt.length;)a.processPes_.apply(a,a.packetsWaitingForPmt.shift())}},this.push=function(t){var n={},a=4;n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(a+=t[a]+1),0===n.pid?(n.type="pat",e(t.subarray(a),n),this.trigger("data",n)):n.pid===this.pmtPid?(n.type="pmt",e(t.subarray(a),n),this.trigger("data",n)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,a,n]):this.processPes_(t,a,n)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},i.prototype=new o,i.STREAM_TYPES={h264:27,adts:15},r=function(){var e,t={data:[],size:0},n={data:[],size:0},a={data:[],size:0},i=function(e,t){var n;t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(t,n){var a,r=new Uint8Array(t.size),o={type:n},s=0;if(t.data.length){for(o.trackId=t.data[0].pid;t.data.length;)a=t.data.shift(),r.set(a.data,s),s+=a.data.byteLength;i(r,o),t.size=0,e.trigger("data",o)}};r.prototype.init.call(this),e=this,this.push=function(i){({pat:function(){},pes:function(){var e,r;switch(i.streamType){case l.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,r="video";break;case l.ADTS_STREAM_TYPE:e=n,r="audio";break;case l.METADATA_STREAM_TYPE:e=a,r="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&o(e,r),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var t,n,a={type:"metadata",tracks:[]},r=i.programMapTable;for(t in r)r.hasOwnProperty(t)&&(n={timelineStartInfo:{baseMediaDecodeTime:0}},n.id=+t,r[t]===c.H264_STREAM_TYPE?(n.codec="avc",n.type="video"):r[t]===c.ADTS_STREAM_TYPE&&(n.codec="adts",n.type="audio"),a.tracks.push(n));e.trigger("data",a)}})[i.type]()},this.flush=function(){o(t,"video"),o(n,"audio"),o(a,"timed-metadata"),this.trigger("done")}},r.prototype=new o;var p={PAT_PID:0,MP2T_PACKET_LENGTH:u,TransportPacketStream:a,TransportParseStream:i,ElementaryStream:r,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var f in l)l.hasOwnProperty(f)&&(p[f]=l[f]);t.exports=p},{"../utils/stream.js":49,"./caption-stream":38,"./metadata-stream":41,"./stream-types":42,"./stream-types.js":42}],41:[function(e,t,n){"use strict";var a,i=e("../utils/stream"),r=e("./stream-types"),o=function(e,t,n){var a,i="";for(a=t;n>a;a++)i+="%"+("00"+e[a].toString(16)).slice(-2);return i},s=function(e,t,n){return decodeURIComponent(o(e,t,n))},l=function(e,t,n){return unescape(o(e,t,n))},c=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},u={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length-1);break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=l(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};a=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,o=[],s=0;if(a.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,r,l,d,p;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(o.push(e),s+=e.data.byteLength,1===o.length&&(i=c(e.data.subarray(6,10)),i+=10),!(i>s)){for(t={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;i>d;)t.data.set(o[0].data.subarray(0,i-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();a=10,64&t.data[5]&&(a+=4,a+=c(t.data.subarray(10,14)),i-=c(t.data.subarray(16,20)));do{if(r=c(t.data.subarray(a+4,a+8)),1>r)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(p=String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),l={id:p,data:t.data.subarray(a+10,a+r+10)},l.key=l.id,u[l.id]&&(u[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var f=l.data,h=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;h*=4,h+=3&f[7],l.timeStamp=h,this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=r}while(i>a);this.trigger("data",t)}}}},a.prototype=new i,t.exports=a},{"../utils/stream":49,"./stream-types":42}],42:[function(e,t,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],43:[function(e,t,n){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream,tools:e("../tools/mp4-inspector")}},{"../tools/mp4-inspector":47,"./mp4-generator":44,"./transmuxer":45}],44:[function(e,t,n){"use strict";var a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y,w,S,_,C,T,k,A,x,I,E,N,O,P,M,j,$,D,R,U,L;!function(){var e;A={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};for(e in A)A.hasOwnProperty(e)&&(A[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),I=new Uint8Array([0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:N,audio:O},$=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=D,M=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}(),a=function(e){var t,n,a,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),a=new DataView(n.buffer,n.byteOffset,n.byteLength),a.setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return a(A.dinf,a(A.dref,$))},r=function(e){return a(A.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return a(A.ftyp,x,I,x,E)},b=function(e){return a(A.hdlr,P[e])},s=function(e){return a(A.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),a(A.mdhd,t)},g=function(e){return a(A.mdia,v(e),b(e.type),c(e))},l=function(e){return a(A.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return a(A.minf,"video"===e.type?a(A.vmhd,M):a(A.smhd,j),i(),w(e))},u=function(e,t){for(var n=[],i=t.length;i--;)n[i]=C(t[i]);return a.apply(null,[A.moof,l(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=h(e[t]);return a.apply(null,[A.moov,f(4294967295)].concat(n).concat(p(e)))},p=function(e){for(var t=e.length,n=[];t--;)n[t]=T(e[t]);return a.apply(null,[A.mvex].concat(n))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(A.mvhd,t)},y=function(e){var t,n,i=e.samples||[],r=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,r[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return a(A.sdtp,r)},w=function(e){return a(A.stbl,S(e),a(A.stts,L),a(A.stsc,R),a(A.stsz,U),a(A.stco,D))},function(){var e,t;S=function(n){return a(A.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n=e.sps||[],i=e.pps||[],r=[],o=[];for(t=0;t<n.length;t++)r.push((65280&n[t].byteLength)>>>8),r.push(255&n[t].byteLength),r=r.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));return a(A.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(A.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([i.length]).concat(o))),a(A.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return a(A.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))}}(),_=function(){return a(A.styp,x,I,x)},m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return a(A.tkhd,t)},C=function(e){var t,n,i,r,o;return t=a(A.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),n=a(A.tfdt,new Uint8Array([0,0,0,0,e.baseMediaDecodeTime>>>24&255,e.baseMediaDecodeTime>>>16&255,e.baseMediaDecodeTime>>>8&255,255&e.baseMediaDecodeTime])),o=88,"audio"===e.type?(i=k(e,o),a(A.traf,t,n,i)):(r=y(e),i=k(e,r.length+o),a(A.traf,t,n,i,r))},h=function(e){return e.duration=e.duration||4294967295,a(A.trak,m(e),g(e))},T=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),a(A.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,a=0,i=0,r=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(a=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(r=8)),[0,0,n|a|i|r,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var i,r,o,s;for(r=e.samples||[],t+=20+16*r.length,i=n(r,t),s=0;s<r.length;s++)o=r[s],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return a(A.trun,new Uint8Array(i))},e=function(e,t){var i,r,o,s;for(r=e.samples||[],t+=20+8*r.length,i=n(r,t),s=0;s<r.length;s++)o=r[s],i=i.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return a(A.trun,new Uint8Array(i))},k=function(n,a){return"audio"===n.type?e(n,a):t(n,a)}}(),t.exports={ftyp:o,mdat:s,moof:u,moov:d,initSegment:function(e){var t,n=o(),a=d(e);return t=new Uint8Array(n.byteLength+a.byteLength),t.set(n),t.set(a,n.byteLength),t}}},{}],45:[function(e,t,n){"use strict";var a,i,r,o,s,l,c,u,d,p,f=e("../utils/stream.js"),h=e("./mp4-generator.js"),m=e("../m2ts/m2ts.js"),g=e("../codecs/adts.js"),v=e("../codecs/h264").H264Stream,b=e("../aac");s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},d=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},p=function(e){var t,n,a=0;for(t=0;t<e.length;t++)n=e[t],a+=n.data.byteLength;return a},i=function(e){var t=[],n=0,a=0;i.prototype.init.call(this),this.push=function(n){l(e,n),e&&(e.audioobjecttype=n.audioobjecttype,e.channelcount=n.channelcount,e.samplerate=n.samplerate,e.samplingfrequencyindex=n.samplingfrequencyindex,e.samplesize=n.samplesize),t.push(n)},this.setEarliestDts=function(t){a=t-e.timelineStartInfo.baseMediaDecodeTime},this.flush=function(){var a,i,r,o;return 0===t.length?void this.trigger("done"):(a=this.trimAdtsFramesByEarliestDts_(t),e.samples=this.generateSampleTable_(a),r=h.mdat(this.concatenateFrameData_(a)),t=[],u(e),i=h.moof(n,[e]),o=new Uint8Array(i.byteLength+r.byteLength),n++,o.set(i),o.set(r,i.byteLength),c(e),this.trigger("data",{track:e,boxes:o}),void this.trigger("done"))},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=a?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=a?(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0):!1}))},this.generateSampleTable_=function(e){var t,n,a=[];for(t=0;t<e.length;t++)n=e[t],a.push({size:n.data.byteLength,duration:1024});return a},this.concatenateFrameData_=function(e){var t,n,a=0,i=new Uint8Array(p(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,a),a+=n.data.byteLength;return i}},i.prototype=new f,a=function(e){var t,n,i=0,r=[];a.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(a){l(e,a),"seq_parameter_set_rbsp"!==a.nalUnitType||t||(t=a.config,e.width=t.width,e.height=t.height,e.sps=[a.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility),"pic_parameter_set_rbsp"!==a.nalUnitType||n||(n=a.data,e.pps=[a.data]),r.push(a)},this.flush=function(){for(var t,n,a,o,s,c;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();
return 0===r.length?(this.resetStream_(),void this.trigger("done")):(t=this.groupNalsIntoFrames_(r),a=this.groupFramesIntoGops_(t),a[0][0].keyFrame||(n=this.getGopForFusion_(r[0],e),n?(a.unshift(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.pts=n.pts,a.dts=n.dts,a.duration+=n.duration):a=this.extendFirstKeyFrame_(a)),l(e,a),e.samples=this.generateSampleTable_(a),s=h.mdat(this.concatenateNalData_(a)),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],u(e),this.trigger("timelineStartInfo",e.timelineStartInfo),o=h.moof(i,[e]),c=new Uint8Array(o.byteLength+s.byteLength),i++,c.set(o),c.set(s,o.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),void this.trigger("done"))},this.resetStream_=function(){c(e),t=void 0,n=void 0},this.getGopForFusion_=function(t){var n,a,i,r,o,s=45e3,l=1e4,c=1/0;for(o=0;o<this.gopCache_.length;o++)r=this.gopCache_[o],i=r.gop,e.pps&&d(e.pps[0],r.pps[0])&&e.sps&&d(e.sps[0],r.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration,n>=-l&&s>=n&&(!a||c>n)&&(a=r,c=n)));return a?a.gop:null},this.extendFirstKeyFrame_=function(e){var t;return e[0][0].keyFrame||(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,a=[],i=[];for(a.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(a.length&&(a.duration=n.dts-a.dts,i.push(a)),a=[n],a.byteLength=n.data.byteLength,a.pts=n.pts,a.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(a.keyFrame=!0),a.duration=n.dts-a.dts,a.byteLength+=n.data.byteLength,a.push(n));return(i.length&&!a.duration||a.duration<=0)&&(a.duration=i[i.length-1].duration),i.push(a),i},this.groupFramesIntoGops_=function(e){var t,n,a=[],i=[];for(a.byteLength=0,a.nalCount=0,a.duration=0,a.pts=e[0].pts,a.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(a.length&&(i.push(a),i.byteLength+=a.byteLength,i.nalCount+=a.nalCount,i.duration+=a.duration),a=[n],a.nalCount=n.length,a.byteLength=n.byteLength,a.pts=n.pts,a.dts=n.dts,a.duration=n.duration):(a.duration+=n.duration,a.nalCount+=n.length,a.byteLength+=n.byteLength,a.push(n));return i.length&&a.duration<=0&&(a.duration=i[i.length-1].duration),i.byteLength+=a.byteLength,i.nalCount+=a.nalCount,i.duration+=a.duration,i.push(a),i},this.generateSampleTable_=function(e,t){var n,a,i,r,o,l=t||0,c=[];for(n=0;n<e.length;n++)for(r=e[n],a=0;a<r.length;a++)o=r[a],i=s(),i.dataOffset=l,i.compositionTimeOffset=o.pts-o.dts,i.duration=o.duration,i.size=4*o.length,i.size+=o.byteLength,o.keyFrame&&(i.flags.dependsOn=2),l+=i.size,c.push(i);return c},this.concatenateNalData_=function(e){var t,n,a,i,r,o,s=0,l=e.byteLength,c=e.nalCount,u=l+4*c,d=new Uint8Array(u),p=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(r=i[n],a=0;a<r.length;a++)o=r[a],p.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d}},a.prototype=new f,l=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},c=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},u=function(e){var t,n=9e4,a=e.minSegmentDts-e.timelineStartInfo.dts,i=e.minSegmentPts-e.minSegmentDts;e.baseMediaDecodeTime=e.timelineStartInfo.baseMediaDecodeTime,e.baseMediaDecodeTime+=a,e.baseMediaDecodeTime-=i,e.baseMediaDecodeTime=Math.max(0,e.baseMediaDecodeTime),"audio"===e.type&&(t=e.samplerate/n,e.baseMediaDecodeTime*=t,e.baseMediaDecodeTime=Math.floor(e.baseMediaDecodeTime))},o=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},o.prototype=new f,o.prototype.flush=function(){var e,t,n,a,i=0,r={captions:[],metadata:[]},o=0;if(!(0===this.pendingTracks.length||this.remuxTracks&&this.pendingTracks.length<this.numberOfTracks)){for(this.videoTrack?o=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts),1===this.pendingTracks.length?r.type=this.pendingTracks[0].type:r.type="combined",this.emittedTracks+=this.pendingTracks.length,n=h.initSegment(this.pendingTracks),r.data=new Uint8Array(n.byteLength+this.pendingBytes),r.data.set(n),i+=n.byteLength,a=0;a<this.pendingBoxes.length;a++)r.data.set(this.pendingBoxes[a],i),i+=this.pendingBoxes[a].byteLength;for(a=0;a<this.pendingCaptions.length;a++)e=this.pendingCaptions[a],e.startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,r.captions.push(e);for(a=0;a<this.pendingMetadata.length;a++)t=this.pendingMetadata[a],t.cueTime=t.pts-o,t.cueTime/=9e4,r.metadata.push(t);r.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",r),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)}},r=function(e){var t,n,s,l,u,d,p,f,h,y,w,S,_,C=this;this.setupAacPipeline=function(){this.metadataStream=new m.MetadataStream,e.metadataStream=this.metadataStream,f=new b,d=new g,S=new o(e),_=f,f.pipe(d),f.pipe(this.metadataStream),this.metadataStream.pipe(S),this.metadataStream.on("timestamp",function(e){f.setTimestamp(e.timeStamp)}),this.addAacListener()},this.addAacListener=function(){f.on("data",function(e){if("timed-metadata"===e.type){var t={timelineStartInfo:{baseMediaDecodeTime:0},codec:"adts",type:"audio"};t&&!y&&(S.numberOfTracks++,y=new i(t),d.pipe(y).pipe(S))}})},this.setupTsPipeline=function(){this.metadataStream=new m.MetadataStream,e.metadataStream=this.metadataStream,s=new m.TransportPacketStream,l=new m.TransportParseStream,u=new m.ElementaryStream,d=new g,p=new v,w=new m.CaptionStream,S=new o(e),_=s,s.pipe(l).pipe(u),u.pipe(p),u.pipe(d),u.pipe(this.metadataStream).pipe(S),p.pipe(w).pipe(S),this.addTsListener()},this.addTsListener=function(){u.on("data",function(e){var r;if("metadata"===e.type){for(r=e.tracks.length;r--;)t||"video"!==e.tracks[r].type?n||"audio"!==e.tracks[r].type||(n=e.tracks[r],n.timelineStartInfo.baseMediaDecodeTime=C.baseMediaDecodeTime):(t=e.tracks[r],t.timelineStartInfo.baseMediaDecodeTime=C.baseMediaDecodeTime);t&&!h&&(S.numberOfTracks++,h=new a(t),h.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,y.setEarliestDts(e.dts))}),p.pipe(h).pipe(S)),n&&!y&&(S.numberOfTracks++,y=new i(n),d.pipe(y).pipe(S))}})},r.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,void 0===e.aacfile?this.setupTsPipeline():this.setupAacPipeline(),this.setBaseMediaDecodeTime=function(e){this.baseMediaDecodeTime=e,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,c(n),n.timelineStartInfo.baseMediaDecodeTime=e),t&&(h.gopCache_=[],t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,c(t),t.timelineStartInfo.baseMediaDecodeTime=e)},this.push=function(e){_.push(e)},this.flush=function(){_.flush()},S.on("data",function(e){C.trigger("data",e)}),S.on("done",function(){C.trigger("done")})},r.prototype=new f,t.exports={Transmuxer:r,VideoSegmentStream:a,AudioSegmentStream:i}},{"../aac":30,"../codecs/adts.js":31,"../codecs/h264":32,"../m2ts/m2ts.js":40,"../utils/stream.js":49,"./mp4-generator.js":44}],46:[function(e,t,n){"use strict";var a={8:"audio",9:"video",18:"metadata"},i=function(e){return"0x"+("00"+e.toString(16)).slice(-2).toUpperCase()},r=function(e){for(var t,n=[];e.byteLength>0;){switch(t=0,e.byteLength){default:n.push(i(e[t++]));case 7:n.push(i(e[t++]));case 6:n.push(i(e[t++]));case 5:n.push(i(e[t++]));case 4:n.push(i(e[t++]));case 3:n.push(i(e[t++]));case 2:n.push(i(e[t++]));case 1:n.push(i(e[t++]))}e=e.subarray(t)}return n.join(" ")},o=function(e,t){var n=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],a=e[1]&parseInt("01111111",2)<<16|e[2]<<8|e[3];return t=t||{},t.avcPacketType=n[e[0]],t.CompositionTime=e[1]&parseInt("10000000",2)?-a:a,1===e[0]?t.nalUnitTypeRaw=r(e.subarray(4,100)):t.data=r(e.subarray(4)),t},s=function(e,t){var n=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],a=e[0]&parseInt("00001111",2);return t=t||{},t.frameType=n[(e[0]&parseInt("11110000",2))>>>4],t.codecID=a,7===a?o(e.subarray(1),t):t},l=function(e,t){var n=["AAC Sequence Header","AAC Raw"];return t=t||{},t.aacPacketType=n[e[0]],t.data=r(e.subarray(1)),t},c=function(e,t){var n=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],a=["5.5-kHz","11-kHz","22-kHz","44-kHz"],i=(e[0]&parseInt("11110000",2))>>>4;return t=t||{},t.soundFormat=n[i],t.soundRate=a[(e[0]&parseInt("00001100",2))>>>2],t.soundSize=(e[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",t.soundType=e[0]&parseInt("00000001",2)?"Stereo":"Mono",10===i?l(e.subarray(1),t):t},u=function(e){return{tagType:a[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}},d=function(e){var t=u(e);switch(e[0]){case 8:c(e.subarray(11),t);break;case 9:s(e.subarray(11),t);break;case 18:}return t},p=function(e){var t,n,a=9,i=[];for(a+=4;a<e.byteLength;)t=e[a+1]<<16,t|=e[a+2]<<8,t|=e[a+3],t+=11,n=e.subarray(a,a+t),i.push(d(n)),a+=t+4;return i},f=function(e){return JSON.stringify(e,null,2)};t.exports={inspectTag:d,inspect:p,textify:f}},{}],47:[function(e,t,n){(function(e){"use strict";var n,a,i=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},r=function(e){return new Date(1e3*e-20828448e5)},o=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},s=function(e){var t,n,a=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=n){if(n=a.getUint32(t),t+=4,0>=n)return;switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push(31&e[t])}}return i},l={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,a,i,r=new DataView(e.buffer,e.byteOffset,e.byteLength),o={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(a=6,i=0;s>i;i++)n=r.getUint16(a),a+=2,o.sps.push(new Uint8Array(e.subarray(a,a+n))),a+=n;for(t=e[a],a++,i=0;t>i;i++)n=r.getUint16(a),a+=2,o.pps.push(new Uint8Array(e.subarray(a,a+n))),a+=n;return o},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:i(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},a=8;a<e.byteLength;)n.compatibleBrands.push(i(e.subarray(a,a+4))),a+=4;return n},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),a={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:i(t.subarray(8,12)),name:""},r=8;for(r=24;r<t.byteLength;r++){if(0===t[r]){r++;break}a.name+=String.fromCharCode(t[r])}return a.name=decodeURIComponent(e.escape(a.name)),a},mdat:function(e){return{byteLength:e.byteLength,nals:s(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a=4,i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(a+=4,i.creationTime=r(n.getUint32(a)),a+=8,i.modificationTime=r(n.getUint32(a)),a+=4,i.timescale=n.getUint32(a),a+=8,i.duration=n.getUint32(a)):(i.creationTime=r(n.getUint32(a)),a+=4,i.modificationTime=r(n.getUint32(a)),a+=4,i.timescale=n.getUint32(a),a+=4,i.duration=n.getUint32(a)),a+=4,t=n.getUint16(a),i.language+=String.fromCharCode((t>>10)+96),i.language+=String.fromCharCode(((960&t)>>5)+96),i.language+=String.fromCharCode((31&t)+96),i},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),a={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(a.streamDescriptor=n(e.subarray(28))[0]),a},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,a={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===a.version?(n+=4,a.creationTime=r(t.getUint32(n)),n+=8,a.modificationTime=r(t.getUint32(n)),n+=4,a.timescale=t.getUint32(n),n+=8,a.duration=t.getUint32(n)):(a.creationTime=r(t.getUint32(n)),n+=4,a.modificationTime=r(t.getUint32(n)),n+=4,a.timescale=t.getUint32(n),n+=4,a.duration=t.getUint32(n)),n+=4,a.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,a.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,a.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,a.nextTrackId=t.getUint32(n),a},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(t=24;i;t+=12,i--)a.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return a},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(t=8;i;t+=4,i--)a.chunkOffsets.push(n.getUint32(t));return a},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a=n.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;a;t+=12,a--)i.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)a.entries.push(n.getUint32(t));return a},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(t=8;i;t+=8,i--)a.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return a},styp:function(e){return l.ftyp(e)},tfdt:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&a.flags[2],r=2&a.flags[2],o=8&a.flags[2],s=16&a.flags[2],l=32&a.flags[2];return t=8,i&&(t+=4,a.baseDataOffset=n.getUint32(12),t+=4),r&&(a.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(a.defaultSampleDuration=n.getUint32(t),t+=4),s&&(a.defaultSampleSize=n.getUint32(t),t+=4),l&&(a.defaultSampleFlags=n.getUint32(t)),a},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,a={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===a.version?(n+=4,a.creationTime=r(t.getUint32(n)),n+=8,a.modificationTime=r(t.getUint32(n)),n+=4,a.trackId=t.getUint32(n),n+=4,n+=8,a.duration=t.getUint32(n)):(a.creationTime=r(t.getUint32(n)),n+=4,a.modificationTime=r(t.getUint32(n)),n+=4,a.trackId=t.getUint32(n),n+=4,n+=4,a.duration=t.getUint32(n)),n+=4,n+=8,a.layer=t.getUint16(n),n+=2,a.alternateGroup=t.getUint16(n),n+=2,a.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,a.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,a.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,a.height=t.getUint16(n)+t.getUint16(n+2)/16,a},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},a=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],r=4&n.flags[2],s=1&n.flags[1],l=2&n.flags[1],c=4&n.flags[1],u=8&n.flags[1],d=a.getUint32(4),p=8;for(i&&(n.dataOffset=a.getUint32(p),p+=4),r&&d&&(t={flags:o(e.subarray(p,p+4))},p+=4,s&&(t.duration=a.getUint32(p),p+=4),l&&(t.size=a.getUint32(p),p+=4),u&&(t.compositionTimeOffset=a.getUint32(p),p+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=a.getUint32(p),p+=4),l&&(t.size=a.getUint32(p),p+=4),c&&(t.flags=o(e.subarray(p,p+4)),p+=4),u&&(t.compositionTimeOffset=a.getUint32(p),p+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,n,a,r,o,s=0,c=[],u=new ArrayBuffer(e.length),d=new Uint8Array(u),p=0;p<e.length;++p)d[p]=e[p];for(t=new DataView(u);s<e.byteLength;)n=t.getUint32(s),a=i(e.subarray(s+4,s+8)),r=n>1?s+n:e.byteLength,o=(l[a]||function(e){return{data:e}})(e.subarray(s+8,r)),o.size=n,o.type=a,c.push(o),s=r;return c},a=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map(function(e,i){return n+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var a=n+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var r=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return r?1===r.length?a+"<"+r.join("").slice(1)+">":a+"<\n"+r.map(function(e){return n+"  "+e}).join("\n")+"\n"+n+"  >":a+"<>"}return a+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:n+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+a(e.boxes,t+1):"")}).join("\n")},t.exports={inspect:n,textify:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,n){"use strict";var a;a=function(e){var t=e.byteLength,n=0,a=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+a},this.loadWord=function(){var i=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");r.set(e.subarray(i,i+o)),n=new DataView(r.buffer).getUint32(0),a=8*o,t-=o},this.skipBits=function(e){var i;a>e?(n<<=e,a-=e):(e-=a,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),n<<=e,a-=e)},this.readBits=function(e){var i=Math.min(a,e),r=n>>>32-i;return a-=i,a>0?n<<=i:t>0&&this.loadWord(),i=e-i,i>0?r<<i|this.readBits(i):r},this.skipLeadingZeros=function(){var e;for(e=0;a>e;++e)if(0!==(n&2147483648>>>e))return n<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=a},{}],49:[function(e,t,n){"use strict";var a=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.off=function(t,n){var a;return e[t]?(a=e[t].indexOf(n),e[t].splice(a,1),a>-1):!1},this.trigger=function(t){var n,a,i,r;if(n=e[t])if(2===arguments.length)for(i=n.length,a=0;i>a;++a)n[a].call(this,arguments[1]);else{for(r=[],a=arguments.length,a=1;a<arguments.length;++a)r.push(arguments[a]);for(i=n.length,a=0;i>a;++a)n[a].apply(this,r)}},this.dispose=function(){e={}}}};a.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(){e.flush()}),e},a.prototype.push=function(e){this.trigger("data",e)},a.prototype.flush=function(){this.trigger("done")},t.exports=a},{}],50:[function(e,t,n){var a=arguments[3],i=arguments[4],r=arguments[5],o=JSON.stringify;t.exports=function(e){for(var t,n=Object.keys(r),s=0,l=n.length;l>s;s++){var c=n[s];if(r[c].exports===e){t=c;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var u={},s=0,l=n.length;l>s;s++){var c=n[s];u[c]=c}i[t]=[Function(["require","module","exports"],"("+e+")(self)"),u]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[t]=t,i[d]=[Function(["require"],"require("+o(t)+")(self)"),p];var f="("+a+")({"+Object.keys(i).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(d)+"])",h=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(h.createObjectURL(new Blob([f],{type:"text/javascript"})))}},{}],51:[function(e,t,n){(function(a){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var i=e,r=t,o=n;a=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=r,n=o,a=!0,s=c=void 0}},c=e("./playlist-loader"),u=i(c),d=e("./playlist"),p=i(d),f=e("./xhr"),h=i(f),m=e("./decrypter"),g=e("./bin-utils"),v=i(g),b=e("videojs-contrib-media-sources"),y=e("./m3u8"),w=i(y),S="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null,_=i(S),C=e("./resolve-url"),T=i(C),k={PlaylistLoader:u["default"],Playlist:p["default"],Decrypter:m.Decrypter,AsyncStream:m.AsyncStream,decrypt:m.decrypt,utils:v["default"],xhr:h["default"]()};k.GOAL_BUFFER_LENGTH=30,k.canPlaySource=function(){return _["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},k.findSoleUncommonTimeRangesEnd_=function(e,t){var n=void 0,a=void 0,i=void 0,r=[],o=[],s=function(e){return e[0]<=i&&e[1]>=i};if(e)for(n=0;n<e.length;n++)a=e.start(n),i=e.end(n),o.push([a,i]);if(t)for(n=0;n<t.length;n++)a=t.start(n),i=t.end(n),o.some(s)||r.push(i);return 1!==r.length?null:r[0]},k.supportsNativeHls=function(){var e=document.createElement("video"),t=void 0,n=void 0;return _["default"].getComponent("Html5").isSupported()?(t=e.canPlayType("application/x-mpegURL"),n=e.canPlayType("application/vnd.apple.mpegURL"),/probably|maybe/.test(t)||/probably|maybe/.test(n)):!1}(),k.isSupported=function(){return _["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},k.comparePlaylistBandwidth=function(e,t){var n=void 0,a=void 0;return e.attributes&&e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes&&t.attributes.BANDWIDTH&&(a=t.attributes.BANDWIDTH),a=a||window.Number.MAX_VALUE,n-a},k.comparePlaylistResolution=function(e,t){var n=void 0,a=void 0;return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(a=t.attributes.RESOLUTION.width),a=a||window.Number.MAX_VALUE,n===a&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-a};var A=1.2,x=3e5,I=1/30,E=_["default"].getComponent("Component"),N=500,O=function(e){return e.retries&&e.retries>=2},P=function(e,t){var n=void 0;return e?(n=getComputedStyle(e),n?n[t]:""):""},M=function(e,t,n){if(e){var a=e.segments[t],i=e.segments[t-1];n&&a&&(a.end=n,i?i.end&&(a.duration=a.end-i.end):a.duration=a.end)}},j=function(e,t,n,a){if(!e)return!1;var i=e.segments,r=n===i.length-1,o=a.length&&i[i.length-1].end<=a.end(0);return e.endList&&"open"===t.readyState&&(r||o)},$=function(e){var t={codecCount:0,videoCodec:null,audioProfile:null};return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,t.videoCodec=/(^|\s|,)+(avc1)[^ ,]*/i.exec(e),t.videoCodec=t.videoCodec&&t.videoCodec[2],t.audioProfile=/(^|\s|,)+mp4a.\d+\.(\d+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},D=function(e){return function(t){var n=void 0,a=[],i=this.tech_,r=i.buffered();if("undefined"==typeof t&&(t=i.currentTime()),!this.mediaSource||this.mediaSource.mediaSource_&&!this.mediaSource.mediaSource_.sourceBuffers.length)return _["default"].createTimeRanges([]);if(r&&r.length)for(n=0;n<r.length;n++)e(r.start(n),r.end(n),t)&&a.push([r.start(n),r.end(n)]);return _["default"].createTimeRanges(a)}},R=function(e){function t(e,n){var a=this;r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var i=void 0;e.options_&&e.options_.playerId&&(i=_["default"](e.options_.playerId),i.hls||Object.defineProperty(i,"hls",{get:function(){return _["default"].log.warn("player.hls is deprecated. Use player.tech.hls instead."),a}})),this.tech_=e,this.source_=n.source,this.mode_=n.mode,this.pendingSegment_=null,this.bandwidth=n.bandwidth||4194304,this.bytesReceived=0,this.loadingState_="none","none"!==this.tech_.preload()&&(this.loadingState_="meta"),this.startCheckingBuffer_(),this.on(this.tech_,"seeking",function(){this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.stopCheckingBuffer_()}),this.on(this.tech_,"play",this.play)}return o(t,e),s(t,[{key:"src",value:function(e){var t=this,n=void 0;e&&(this.mediaSource=new _["default"].MediaSource({mode:this.mode_}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen.bind(this)),this.options_={},"undefined"!=typeof this.source_.withCredentials?this.options_.withCredentials=this.source_.withCredentials:_["default"].options.hls&&(this.options_.withCredentials=_["default"].options.hls.withCredentials),this.playlists=new k.PlaylistLoader(this.source_.src,this.tech_.hls,this.options_.withCredentials),this.tech_.one("canplay",this.setupFirstPlay.bind(this)),this.playlists.on("loadedmetadata",function(){n=t.playlists.media(),n.endList&&"metadata"!==t.tech_.preload()&&"none"!==t.tech_.preload()&&(t.loadingState_="segments"),t.setupSourceBuffer_(),t.setupFirstPlay(),t.fillBuffer(),t.tech_.trigger("loadedmetadata")}),this.playlists.on("error",function(){t.blacklistCurrentPlaylist_(t.playlists.error)}),this.playlists.on("loadedplaylist",function(){var e=t.playlists.media(),a=void 0;return e?(t.updateDuration(t.playlists.media()),a=t.seekable(),t.duration()===1/0&&0!==a.length&&t.mediaSource.addSeekableRange_(a.start(0),a.end(0)),void(n=e)):void t.playlists.media(t.selectPlaylist())}),this.playlists.on("mediachange",function(){t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.tech_.el()&&this.tech_.src(_["default"].URL.createObjectURL(this.mediaSource)))}},{key:"handleSourceOpen",value:function(){this.sourceBuffer||this.setupSourceBuffer_(),this.tech_.autoplay()&&this.play()}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.playlists.master,n=2,a=null,i=null,r=void 0;e.attributes&&e.attributes.CODECS&&(r=$(e.attributes.CODECS),a=r.videoCodec,i=r.audioProfile,n=r.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null,audioProfile:null};e.attributes&&e.attributes.CODECS&&(t=$(e.attributes.CODECS)),t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==a&&(e.excludeUntil=1/0),
("5"===t.audioProfile&&"5"!==i||"5"===i&&"5"!==t.audioProfile)&&(e.excludeUntil=1/0)})}},{key:"setupSourceBuffer_",value:function(){var e=this.playlists.media(),t=void 0;e&&"open"===this.mediaSource.readyState&&(t="video/mp2t",e.attributes&&e.attributes.CODECS&&(t+='; codecs="'+e.attributes.CODECS+'"'),this.sourceBuffer=this.mediaSource.addSourceBuffer(t),this.excludeIncompatibleVariants_(e),this.sourceBuffer.addEventListener("updateend",this.updateEndHandler_.bind(this)))}},{key:"setupFirstPlay",value:function(){var e=void 0,t=this.playlists.media();this.duration()===1/0&&0===this.tech_.played().length&&!this.tech_.paused()&&this.sourceBuffer&&t&&this.tech_.readyState()>=1&&(this.playlists.trigger("firstplay"),e=this.seekable(),e.length&&this.tech_.setCurrentTime(e.end(0)))}},{key:"play",value:function(){return this.loadingState_="segments",this.tech_.ended()&&this.tech_.setCurrentTime(0),0===this.tech_.played().length?this.setupFirstPlay():void(this.duration()===1/0&&this.tech_.currentTime()<this.seekable().start(0)&&this.tech_.setCurrentTime(this.seekable().start(0)))}},{key:"setCurrentTime",value:function(e){var t=this.findBufferedRange_();return this.playlists&&this.playlists.media()&&this.playlists.media().segments?t&&t.length?e:this.pendingSegment_&&this.pendingSegment_.buffered?e:(this.lastSegmentLoaded_=null,this.cancelSegmentXhr(),this.keyXhr_&&(this.keyXhr_.aborted=!0,this.cancelKeyXhr()),void this.fillBuffer(this.playlists.getMediaIndexForTime_(e))):0}},{key:"duration",value:function(){var e=this.playlists;return e?this.mediaSource?this.mediaSource.duration:k.Playlist.duration(e.media()):0}},{key:"seekable",value:function n(){var e=void 0,n=void 0;return this.playlists&&(e=this.playlists.media())?(n=k.Playlist.seekable(e),0===n.length?n:0===n.start(0)?_["default"].createTimeRanges([[this.playlists.expired_,this.playlists.expired_+n.end(0)]]):n):_["default"].createTimeRanges()}},{key:"updateDuration",value:function(e){var t=this,n=this.mediaSource.duration,a=k.Playlist.duration(e),i=this.tech_.buffered(),r=function o(){t.mediaSource.duration=a,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",o)};i.length>0&&(a=Math.max(a,i.end(i.length-1))),n!==a&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):this.sourceBuffer&&this.sourceBuffer.updating||(this.mediaSource.duration=a,this.tech_.trigger("durationchange")))}},{key:"resetSrc_",value:function(){this.cancelSegmentXhr(),this.cancelKeyXhr(),this.sourceBuffer&&"open"===this.mediaSource.readyState&&this.sourceBuffer.abort()}},{key:"cancelKeyXhr",value:function(){this.keyXhr_&&(this.keyXhr_.onreadystatechange=null,this.keyXhr_.abort(),this.keyXhr_=null)}},{key:"cancelSegmentXhr",value:function(){this.segmentXhr_&&(this.segmentXhr_.onreadystatechange=null,this.segmentXhr_.abort(),this.segmentXhr_=null),this.pendingSegment_=null}},{key:"dispose",value:function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),l(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"selectPlaylist",value:function(){var e=void 0,t=this.playlists.master.playlists.slice(),n=[],a=+new Date,i=void 0,r=void 0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;for(t.sort(k.comparePlaylistBandwidth),t=t.filter(function(e){return"undefined"!=typeof e.excludeUntil?a>=e.excludeUntil:!0}),i=t.length;i--;)r=t[i],r.attributes&&r.attributes.BANDWIDTH&&(e=r.attributes.BANDWIDTH*A,e<this.bandwidth&&(n.push(r),o||(o=r)));for(i=n.length,n.sort(k.comparePlaylistResolution),r=null,u=parseInt(P(this.tech_.el(),"width"),10),d=parseInt(P(this.tech_.el(),"height"),10);i--;)if(r=n[i],r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&r.attributes.RESOLUTION.height){var p=r.attributes.RESOLUTION;if(p.width===u&&p.height===d){s=null,c=r;break}if(p.width<u&&p.height<d)break;(!s||p.width<l.width&&p.height<l.height)&&(s=r,l=s.attributes.RESOLUTION)}return s||c||o||t[0]}},{key:"checkBuffer_",value:function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=window.setTimeout(this.checkBuffer_.bind(this),N)}},{key:"startCheckingBuffer_",value:function(){this.checkBuffer_()}},{key:"stopCheckingBuffer_",value:function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"fillBuffer",value:function(e){var t=this.tech_,n=t.currentTime(),a=0!==this.tech_.buffered().length,i=this.findBufferedRange_(),r=!(i&&i.length),o=0,s=0,l=void 0,c=void 0,u=void 0;if("segments"===this.loadingState_&&t.currentSrc()&&this.playlists&&!this.segmentXhr_&&!this.pendingSegment_&&"HAVE_NOTHING"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&"SWITCHING_MEDIA"!==this.playlists.state){if("undefined"==typeof e)if(i&&i.length){if(o=i.end(0),e=this.playlists.getMediaIndexForTime_(o),s=Math.max(0,o-n),s>=k.GOAL_BUFFER_LENGTH)return}else e=this.playlists.getMediaIndexForTime_(this.tech_.currentTime());if(l=this.playlists.media().segments[e]){if(this.lastSegmentLoaded_&&this.playlistUriToUrl(this.lastSegmentLoaded_.uri)===this.playlistUriToUrl(l.uri)&&this.lastSegmentLoaded_.byterange===l.byterange)return this.fillBuffer(e+1);c={uri:this.playlistUriToUrl(l.uri),mediaIndex:e,mediaSequence:this.playlists.media().mediaSequence,playlist:this.playlists.media(),currentBufferedEnd:o,bytes:null,encryptedBytes:null,decrypter:null,buffered:null,timestampOffset:null},e>0&&(u=k.Playlist.duration(c.playlist,c.playlist.mediaSequence+e)+this.playlists.expired_),this.tech_.seeking()&&r?c.playlist.discontinuityStarts.length&&(c.timestampOffset=u):l.discontinuity&&i.length?c.timestampOffset=i.end(0):!a&&this.tech_.currentTime()>.05&&(c.timestampOffset=u),this.loadSegment(c)}}}},{key:"playlistUriToUrl",value:function(e){var t=void 0;return t=this.playlists.media().uri===this.source_.src?T["default"](this.source_.src,e):T["default"](T["default"](this.source_.src,this.playlists.media().uri||""),e)}},{key:"byterangeStr_",value:function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n}},{key:"segmentXhrHeaders_",value:function(e){var t={};return"byterange"in e&&(t.Range=this.byterangeStr_(e.byterange)),t}},{key:"setBandwidth",value:function(e){this.segmentXhrTime=e.roundTripTime,this.bandwidth=e.bandwidth,this.bytesReceived+=e.bytesReceived||0,this.tech_.trigger("bandwidthupdate")}},{key:"blacklistCurrentPlaylist_",value:function(e){var t=void 0,n=void 0;return(t=e.playlist||this.playlists.media())?(t.excludeUntil=Date.now()+x,(n=this.selectPlaylist())?(_["default"].log.warn("Problem encountered with the current HLS playlist. Switching to another playlist."),this.playlists.media(n)):(_["default"].log.warn("Problem encountered with the current HLS playlist. No suitable alternatives found."),this.error=e,this.mediaSource.endOfStream("network"))):(this.error=e,this.mediaSource.endOfStream("network"))}},{key:"loadSegment",value:function(e){var t=this,n=e.playlist.segments[e.mediaIndex],a=0,i=this.seekable(),r=this.tech_.currentTime();this.sourceBuffer&&!this.sourceBuffer.updating&&(a=i.length&&i.start(0)>0&&i.start(0)<r?i.start(0):r-60,a>0&&this.sourceBuffer.remove(0,a)),n.key&&this.fetchKey_(n),this.segmentXhr_=this.tech_.hls.xhr({uri:e.uri,responseType:"arraybuffer",withCredentials:this.source_.withCredentials,timeout:1.5*n.duration*1e3,headers:this.segmentXhrHeaders_(n)},function(a,i){return t.segmentXhr_&&i===t.segmentXhr_?(t.segmentXhr_=null,i.timedout?(t.bandwidth=1,t.playlists.media(t.selectPlaylist())):!i.aborted&&a?t.blacklistCurrentPlaylist_({status:i.status,message:"HLS segment request error at URL: "+e.uri,code:i.status>=500?4:2}):void(i.response&&(t.lastSegmentLoaded_=n,t.setBandwidth(i),n.key?e.encryptedBytes=new Uint8Array(i.response):e.bytes=new Uint8Array(i.response),t.pendingSegment_=e,t.tech_.trigger("progress"),t.drainBuffer(),t.playlists.media(t.selectPlaylist())))):void 0})}},{key:"drainBuffer",value:function(){var e=void 0,t=void 0,n=void 0,a=void 0,i=void 0,r=void 0,o=void 0;if(this.pendingSegment_&&this.sourceBuffer&&!this.pendingSegment_.buffered&&!this.sourceBuffer.updating){if(e=this.pendingSegment_,t=e.mediaIndex,n=e.playlist,a=e.bytes,i=n.segments[t],i.key&&!a){if(O(i.key))return this.blacklistCurrentPlaylist_({message:"HLS segment key request error.",code:4});if(!i.key.bytes)return;if(e.decrypter)return;return o=i.key.iv||new Uint32Array([0,0,0,t+n.mediaSequence]),r=new k.Decrypter(e.encryptedBytes,i.key.bytes,o,function(t,n){t&&_["default"].log.warn(t),e.bytes=n}),void(e.decrypter=r)}this.pendingSegment_.buffered=this.tech_.buffered(),null!==e.timestampOffset&&(this.sourceBuffer.timestampOffset=e.timestampOffset),this.sourceBuffer.appendBuffer(a)}}},{key:"updateEndHandler_",value:function(){var e=this.pendingSegment_,t=void 0,n=void 0,a=void 0,i=void 0,r=void 0,o=void 0;if(!e)return void(this.pendingSegment_=null);if(e.buffered){if(this.pendingSegment_=null,t=e.playlist,n=e.mediaIndex+(e.mediaSequence-t.mediaSequence),a=this.findBufferedRange_(),o=j(t,this.mediaSource,n,a),e.playlist.uri!==this.playlists.media().uri)return o?this.mediaSource.endOfStream():this.fillBuffer();if(i=this.seekable(),this.tech_.seeking()&&0===a.length&&i.length&&this.tech_.currentTime()<i.start(0)){var s=this.findNextBufferedRange_();s.length&&(_["default"].log("tried seeking to",this.tech_.currentTime(),"but that was too early, retrying at",s.start(0)),this.tech_.setCurrentTime(s.start(0)+I))}return r=k.findSoleUncommonTimeRangesEnd_(e.buffered,this.tech_.buffered()),M(t,n,r),o?this.mediaSource.endOfStream():null!==r||e.buffered.length!==this.tech_.buffered().length?(this.updateDuration(t),void this.fillBuffer()):void this.fillBuffer(n+1)}}},{key:"fetchKey_",value:function(e){var t=this,n=void 0,a=void 0,i=void 0;return!this.keyXhr_&&(a=this.options_,i=function(n){return function(a,i){var r=void 0;return t.keyXhr_=null,a||!i.response||16!==i.response.byteLength?(n.retries=n.retries||0,n.retries++,void(i.aborted||t.fetchKey_(e))):(r=new DataView(i.response),n.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),void t.checkBuffer_())}},n=e.key)?n.bytes||O(n)?void 0:void(this.keyXhr_=this.tech_.hls.xhr({uri:this.playlistUriToUrl(n.uri),responseType:"arraybuffer",withCredentials:a.withCredentials},i(n))):void 0}}]),t}(E);n["default"]=R,R.prototype.findBufferedRange_=D(function(e,t,n){return n>=e-I&&t+I>=n}),R.prototype.findNextBufferedRange_=D(function(e,t,n){return e-I>=n});var U=function L(e){return{canHandleSource:function(e){return L.canPlayType(e.type)},handleSource:function(t,n){return"flash"===e&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new R(n,{source:t,mode:e}),n.hls.xhr=h["default"](),_["default"].Hls.xhr.beforeRequest&&(n.hls.xhr.beforeRequest=_["default"].Hls.xhr.beforeRequest),n.hls.src(t.src),n.hls},canPlayType:function(e){return L.canPlayType(e)}}};U.canPlayType=function(e){var t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return k.supportsNativeHls?!1:t.test(e)},"undefined"!=typeof _["default"].MediaSource&&"undefined"!=typeof _["default"].URL||(_["default"].MediaSource=b.MediaSource,_["default"].URL=b.URL),b.MediaSource.supportsNativeMediaSources()&&_["default"].getComponent("Html5").registerSourceHandler(U("html5")),window.Uint8Array&&_["default"].getComponent("Flash").registerSourceHandler(U("flash")),_["default"].HlsHandler=R,_["default"].HlsSourceHandler=U,_["default"].Hls=k,_["default"].m3u8=w["default"],n["default"]={Hls:k,HlsHandler:R,HlsSourceHandler:U},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":1,"./decrypter":5,"./m3u8":6,"./playlist":11,"./playlist-loader":10,"./resolve-url":12,"./xhr":14,"videojs-contrib-media-sources":28}]},{},[51])(51)}),"undefined"==typeof jwplayer&&(jwplayer=function(e){return jwplayer.api?jwplayer.api.selectPlayer(e):void 0},jwplayer.version="6.7.4071",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(e){function t(e){return function(){return l(e)}}function n(e){return function(){e("Error loading file")}}function a(e,t,n,a){return function(){try{var i=e.responseXML;if(i&&i.firstChild)return n(e)}catch(r){}(i=s.parseXML(e.responseText))&&i.firstChild?(e=s.extend({},e,{responseXML:i}),n(e)):a&&a(e.responseText?"Invalid XML":t)}}var i=document,r=window,o=navigator,s=e.utils=function(){};s.exists=function(e){switch(typeof e){case"string":return 0<e.length;case"object":return null!==e;case"undefined":return!1}return!0},s.styleDimension=function(e){return e+(0<e.toString().indexOf("%")?"":"px")},s.getAbsolutePath=function(e,t){if(s.exists(t)||(t=i.location.href),s.exists(e)){var n;if(s.exists(e)){n=e.indexOf("://");var a=e.indexOf("?");n=n>0&&(0>a||a>n)}else n=void 0;if(n)return e;n=t.substring(0,t.indexOf("://")+3);var r,a=t.substring(n.length,t.indexOf("/",n.length+1));0===e.indexOf("/")?r=e.split("/"):(r=t.split("?")[0],r=r.substring(n.length+a.length+1,r.lastIndexOf("/")),r=r.split("/").concat(e.split("/")));for(var o=[],l=0;l<r.length;l++)r[l]&&s.exists(r[l])&&"."!=r[l]&&(".."==r[l]?o.pop():o.push(r[l]));return n+a+"/"+o.join("/")}},s.extend=function(){var e=s.extend.arguments;if(1<e.length){for(var t=1;t<e.length;t++)s.foreach(e[t],function(t,n){try{s.exists(n)&&(e[0][t]=n)}catch(a){}});return e[0]}return null},s.log=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.log&&(t?console.log(e,t):console.log(e))};var l=s.userAgentMatch=function(e){return null!==o.userAgent.toLowerCase().match(e)};s.isIE=t(/msie/i),s.isFF=t(/firefox/i),s.isChrome=t(/chrome/i),s.isIPod=t(/iP(hone|od)/i),s.isIPad=t(/iPad/i),s.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),s.isSafari=function(){return l(/safari/i)&&!l(/chrome/i)&&!l(/chromium/i)&&!l(/android/i)},s.isIOS=function(e){return l(e?RegExp("iP(hone|ad|od).+\\sOS\\s"+e,"i"):/iP(hone|ad|od)/i)},s.isAndroid=function(e,t){var n=t?!l(/chrome\/[23456789]/i):!0;return e?n&&l(RegExp("android.*"+e,"i")):n&&l(/android/i)},s.isMobile=function(){return s.isIOS()||s.isAndroid()},s.saveCookie=function(e,t){i.cookie="jwplayer."+e+"="+t+"; path=/"},s.getCookies=function(){for(var e={},t=i.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");0==a[0].indexOf("jwplayer.")&&(e[a[0].substring(9,a[0].length)]=a[1])}return e},s.typeOf=function(e){var t=typeof e;return"object"===t?e?e instanceof Array?"array":t:"null":t},s.translateEventResponse=function(t,n){var a=s.extend({},n);return t!=e.events.JWPLAYER_FULLSCREEN||a.fullscreen?"object"==typeof a.data?(a=s.extend(a,a.data),delete a.data):"object"==typeof a.metadata&&s.deepReplaceKeyName(a.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):(a.fullscreen="true"==a.message?!0:!1,delete a.message),s.foreach(["position","duration","offset"],function(e,t){a[t]&&(a[t]=Math.round(1e3*a[t])/1e3)}),a},s.flashVersion=function(){if(s.isAndroid())return 0;var e,t=o.plugins;try{if("undefined"!==t&&(e=t["Shockwave Flash"]))return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"))}catch(n){}if("undefined"!=typeof r.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0])}catch(a){}return 0},s.getScriptPath=function(e){for(var t=i.getElementsByTagName("script"),n=0;n<t.length;n++){var a=t[n].src;if(a&&0<=a.indexOf(e))return a.substr(0,a.indexOf(e))}return""},s.deepReplaceKeyName=function(t,n,a){switch(e.utils.typeOf(t)){case"array":for(var i=0;i<t.length;i++)t[i]=e.utils.deepReplaceKeyName(t[i],n,a);break;case"object":s.foreach(t,function(i,r){var o;if(n instanceof Array&&a instanceof Array){if(n.length!=a.length)return;o=n}else o=[n];for(var s=i,l=0;l<o.length;l++)s=s.replace(RegExp(n[l],"g"),a[l]);t[s]=e.utils.deepReplaceKeyName(r,n,a),i!=s&&delete t[i]})}return t};var c=s.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};s.getPluginPathType=function(e){if("string"==typeof e){e=e.split("?")[0];var t=e.indexOf("://");if(t>0)return c.ABSOLUTE;var n=e.indexOf("/");return e=s.extension(e),!(0>t&&0>n)||e&&isNaN(e)?c.RELATIVE:c.CDN}},s.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},s.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},s.isYouTube=function(e){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},s.youTubeID=function(e){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e).slice(1).join("").replace("?","")}catch(t){return""}},s.isRtmp=function(e,t){return 0==e.indexOf("rtmp")||"rtmp"==t},s.foreach=function(e,t){var n,a;for(n in e)"function"==s.typeOf(e.hasOwnProperty)?e.hasOwnProperty(n)&&(a=e[n],t(n,a)):(a=e[n],t(n,a))},s.isHTTPS=function(){return 0==r.location.href.indexOf("https")},s.repo=function(){var t="http://p.jwpcdn.com/"+e.version.split(/\W/).splice(0,2).join("/")+"/";try{s.isHTTPS()&&(t=t.replace("http://","https://ssl."))}catch(n){}return t},s.ajax=function(e,t,i){var o;0<e.indexOf("#")&&(e=e.replace(/#.*$/,""));var l;if(l=(l=e)&&0<=l.indexOf("://")&&l.split("/")[2]!=r.location.href.split("/")[2]?!0:!1,l&&s.exists(r.XDomainRequest))o=new XDomainRequest,o.onload=a(o,e,t,i),o.onerror=n(i,e,o),o.ontimeout=function(){},o.onprogress=function(){},o.timeout=5e3;else if(s.exists(r.XMLHttpRequest)){var c=o=new XMLHttpRequest,u=e;o.onreadystatechange=function(){if(4===c.readyState)switch(c.status){case 200:a(c,u,t,i)();break;case 404:i("File not found")}},o.onerror=n(i,e)}else i&&i();try{o.open("GET",e,!0),o.send(null)}catch(d){i&&i(e)}return o},s.parseXML=function(e){try{var t;if(r.DOMParser){t=(new DOMParser).parseFromString(e,"text/xml");try{if("parsererror"==t.childNodes[0].firstChild.nodeName)return}catch(n){}}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}catch(a){}},s.filterPlaylist=function(e,t){for(var n=[],a=0;a<e.length;a++){var i=s.extend({},e[a]);if(i.sources=s.filterSources(i.sources),0<i.sources.length){for(var r=0;r<i.sources.length;r++){var o=i.sources[r];o.label||(o.label=r.toString())}n.push(i)}}if(t&&0==n.length)for(a=0;a<e.length;a++)if(i=s.extend({},e[a]),i.sources=s.filterSources(i.sources,!0),0<i.sources.length){for(r=0;r<i.sources.length;r++)o=i.sources[r],o.label||(o.label=r.toString());n.push(i)}return n},s.filterSources=function(t,n){var a,i,r=s.extensionmap;if(t){i=[];for(var o=0;o<t.length;o++){var l=t[o].type,c=t[o].file;c&&(c=s.trim(c)),l||(l=r.extType(s.extension(c)),t[o].type=l),n?e.embed.flashCanPlay(c,l)&&(a||(a=l),l==a&&i.push(s.extend({},t[o]))):s.canPlayHTML5(l)&&(a||(a=l),l==a&&i.push(s.extend({},t[o])))}}return i},s.canPlayHTML5=function(t){return!s.isAndroid()||"hls"!=t&&"m3u"!=t&&"m3u8"!=t?(t=s.extensionmap.types[t],!!t&&!!e.vid.canPlayType&&e.vid.canPlayType(t)):!1},s.seconds=function(e){e=e.replace(",",".");var t=e.split(":"),n=0;return"s"==e.substr(-1)?n=Number(e.substr(0,e.length-1)):"m"==e.substr(-1)?n=60*Number(e.substr(0,e.length-1)):"h"==e.substr(-1)?n=3600*Number(e.substr(0,e.length-1)):1<t.length?(n=Number(t[t.length-1]),n+=60*Number(t[t.length-2]),3==t.length&&(n+=3600*Number(t[t.length-3]))):n=Number(e),n},s.serialize=function(e){return null==e?null:"true"==e.toString().toLowerCase()?!0:"false"==e.toString().toLowerCase()?!1:isNaN(Number(e))||5<e.length||0==e.length?e:Number(e)}}(jwplayer),function(e){var t="video/",n=e.foreach,a={mp4:t+"mp4",vorbis:"audio/ogg",ogg:t+"ogg",webm:t+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},i={mp4:a.mp4,f4v:a.mp4,m4v:a.mp4,mov:a.mp4,m4a:a.aac,f4a:a.aac,aac:a.aac,mp3:a.mp3,ogv:a.ogg,ogg:a.vorbis,oga:a.vorbis,webm:a.webm,m3u8:a.hls,hls:a.hls},t="video",t={flv:t,f4v:t,mov:t,m4a:t,m4v:t,mp4:t,aac:t,f4a:t,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},r=e.extensionmap={};n(i,function(e,t){r[e]={html5:t}}),n(t,function(e,t){r[e]||(r[e]={}),r[e].flash=t}),r.types=a,r.mimeType=function(e){var t;return n(a,function(n,a){!t&&a==e&&(t=n)}),t},r.extType=function(e){return r.mimeType(i[e])}}(jwplayer.utils),function(e){var t=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},n=document;e.scriptloader=function(a){function i(){o=t.ERROR,l.sendEvent(s.ERROR)}function r(){o=t.COMPLETE,l.sendEvent(s.COMPLETE)}var o=t.NEW,s=jwplayer.events,l=new s.eventdispatcher;e.extend(this,l),this.load=function(){var l=e.scriptloader.loaders[a];if(!l||l.getStatus()!=t.NEW&&l.getStatus()!=t.LOADING){if(e.scriptloader.loaders[a]=this,o==t.NEW){o=t.LOADING;var c=n.createElement("script");c.addEventListener?(c.onload=r,c.onerror=i):c.readyState&&(c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&r()}),n.getElementsByTagName("head")[0].appendChild(c),c.src=a}}else l.addEventListener(s.ERROR,i),l.addEventListener(s.COMPLETE,r)},this.getStatus=function(){return o}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},e.pad=function(e,t,n){for(n||(n="0");e.length<t;)e=n+e;return e},e.xmlAttribute=function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()==t.toLowerCase())return e.attributes[n].value.toString();return""},e.extension=function(e){return e&&"rtmp"!=e.substr(0,4)?(e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0],-1<e.lastIndexOf(".")?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0):""},e.stringToColor=function(e){return e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}}(jwplayer.utils),function(e){var t="touchmove",n="touchstart";e.touch=function(a){function i(e){e.type==n?(l=!0,u=o(p.DRAG_START,e)):e.type==t?l&&(d||(r(p.DRAG_START,e,u),d=!0),r(p.DRAG,e)):(l&&(d?r(p.DRAG_END,e):(e.cancelBubble=!0,r(p.TAP,e))),l=d=!1,u=null)}function r(e,t,n){c[e]&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),t=n?n:o(e,t))&&c[e](t)}function o(e,t){var n=null;if(t.touches&&t.touches.length?n=t.touches[0]:t.changedTouches&&t.changedTouches.length&&(n=t.changedTouches[0]),!n)return null;var a=s.getBoundingClientRect(),n={type:e,target:s,x:n.pageX-window.pageXOffset-a.left,y:n.pageY,deltaX:0,deltaY:0};return e!=p.TAP&&u&&(n.deltaX=n.x-u.x,n.deltaY=n.y-u.y),n}var s=a,l=!1,c={},u=null,d=!1,p=e.touchEvents;return document.addEventListener(t,i),document.addEventListener("touchend",function(e){l&&d&&r(p.DRAG_END,e),l=d=!1,u=null}),document.addEventListener("touchcancel",i),a.addEventListener(n,i),a.addEventListener("touchend",i),this.addEventListener=function(e,t){c[e]=t},this.removeEventListener=function(e){delete c[e]},this}}(jwplayer.utils),function(e){e.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(e){e.key=function(t){var n,a,i;this.edition=function(){return i&&i.getTime()<(new Date).getTime()?"invalid":n},this.token=function(){return a},e.exists(t)||(t="");try{t=e.tea.decrypt(t,"36QXq4W@GSBV^teR");var r=t.split("/");(n=r[0])?/^(free|pro|premium|ads)$/i.test(n)?(a=r[1],r[2]&&0<parseInt(r[2])&&(i=new Date,i.setTime(String(r[2])))):n="invalid":n="free"}catch(o){n="invalid"}}}(jwplayer.utils),function(e){var t=e.tea={};t.encrypt=function(e,i){if(0==e.length)return"";var r=t.strToLongs(a.encode(e));1>=r.length&&(r[1]=0);for(var o,s=t.strToLongs(a.encode(i).slice(0,16)),l=r.length,c=r[l-1],u=r[0],d=Math.floor(6+52/l),p=0;0<d--;){p+=2654435769,o=p>>>2&3;for(var f=0;l>f;f++)u=r[(f+1)%l],c=(c>>>5^u<<2)+(u>>>3^c<<4)^(p^u)+(s[3&f^o]^c),c=r[f]+=c}return r=t.longsToStr(r),n.encode(r)},t.decrypt=function(e,i){if(0==e.length)return"";for(var r,o=t.strToLongs(n.decode(e)),s=t.strToLongs(a.encode(i).slice(0,16)),l=o.length,c=o[l-1],u=o[0],d=2654435769*Math.floor(6+52/l);0!=d;){r=d>>>2&3;for(var p=l-1;p>=0;p--)c=o[p>0?p-1:l-1],c=(c>>>5^u<<2)+(u>>>3^c<<4)^(d^u)+(s[3&p^r]^c),u=o[p]-=c;d-=2654435769}return o=t.longsToStr(o),o=o.replace(/\0+$/,""),a.decode(o)},t.strToLongs=function(e){for(var t=Array(Math.ceil(e.length/4)),n=0;n<t.length;n++)t[n]=e.charCodeAt(4*n)+(e.charCodeAt(4*n+1)<<8)+(e.charCodeAt(4*n+2)<<16)+(e.charCodeAt(4*n+3)<<24);return t},t.longsToStr=function(e){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(255&e[n],e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")};var n={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){var i,r,o,s,l,c,u=[],d="",p=n.code;if(c=("undefined"==typeof t?0:t)?a.encode(e):e,l=c.length%3,l>0)for(;3>l++;)d+="=",c+="\x00";for(l=0;l<c.length;l+=3)i=c.charCodeAt(l),r=c.charCodeAt(l+1),o=c.charCodeAt(l+2),s=i<<16|r<<8|o,i=s>>18&63,r=s>>12&63,o=s>>6&63,s&=63,u[l/3]=p.charAt(i)+p.charAt(r)+p.charAt(o)+p.charAt(s);return u=u.join(""),u=u.slice(0,u.length-d.length)+d},decode:function(e,t){t="undefined"==typeof t?!1:t;var i,r,o,s,l,c,u=[],d=n.code;c=t?a.decode(e):e;for(var p=0;p<c.length;p+=4)i=d.indexOf(c.charAt(p)),r=d.indexOf(c.charAt(p+1)),s=d.indexOf(c.charAt(p+2)),l=d.indexOf(c.charAt(p+3)),o=i<<18|r<<12|s<<6|l,i=o>>>16&255,r=o>>>8&255,o&=255,u[p/4]=String.fromCharCode(i,r,o),64==l&&(u[p/4]=String.fromCharCode(i,r)),64==s&&(u[p/4]=String.fromCharCode(i));return s=u.join(""),t?a.decode(s):s}},a={encode:function(e){return e=e.replace(/[\u0080-\u07ff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(192|e>>6,128|63&e)}),e=e.replace(/[\u0800-\uffff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)})},decode:function(e){return e=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){return e=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2),String.fromCharCode(e)}),e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){return e=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1),String.fromCharCode(e)})}}}(jwplayer.utils),function(e){e.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped"}}(jwplayer),function(e){var t=jwplayer.utils;e.eventdispatcher=function(e,n){var a,i;this.resetEventListeners=function(){a={},i=[]},this.resetEventListeners(),this.addEventListener=function(e,n,i){try{t.exists(a[e])||(a[e]=[]),"string"==t.typeOf(n)&&(n=new Function("return "+n)()),a[e].push({listener:n,count:i})}catch(r){t.log("error",r)}return!1},this.removeEventListener=function(e,n){if(a[e]){try{for(var i=0;i<a[e].length;i++)if(a[e][i].listener.toString()==n.toString()){a[e].splice(i,1);break}}catch(r){t.log("error",r)}return!1}},this.addGlobalListener=function(e,n){try{"string"==t.typeOf(e)&&(e=new Function("return "+e)()),i.push({listener:e,count:n})}catch(a){t.log("error",a)}return!1},this.removeGlobalListener=function(e){if(e){try{for(var n=0;n<i.length;n++)if(i[n].listener.toString()==e.toString()){i.splice(n,1);break}}catch(a){t.log("error",a)}return!1}},this.sendEvent=function(r,o){if(t.exists(o)||(o={}),t.extend(o,{id:e,version:jwplayer.version,type:r}),n&&t.log(r,o),"undefined"!=t.typeOf(a[r]))for(var s=0;s<a[r].length;s++){try{a[r][s].listener(o)}catch(l){t.log("There was an error while handling a listener: "+l.toString(),a[r][s].listener)}a[r][s]&&(1===a[r][s].count?delete a[r][s]:0<a[r][s].count&&(a[r][s].count-=1))}for(s=0;s<i.length;s++){try{i[s].listener(o)}catch(c){t.log("There was an error while handling a listener: "+c.toString(),i[s].listener)}i[s]&&(1===i[s].count?delete i[s]:0<i[s].count&&(i[s].count-=1))}}}}(jwplayer.events),function(e){var t={},n={};e.plugins=function(){},e.plugins.loadPlugins=function(a,i){return n[a]=new e.plugins.pluginloader(new e.plugins.model(t),i),n[a]},e.plugins.registerPlugin=function(n,a,i,r){var o=e.utils.getPluginName(n);t[o]||(t[o]=new e.plugins.plugin(n)),t[o].registerPlugin(n,a,i,r)}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(n){var a=e.utils.getPluginName(n);return t[a]||(t[a]=new e.plugins.plugin(n)),t[a]},this.getPlugins=function(){return t}}}(jwplayer),function(e){var t=jwplayer.utils,n=jwplayer.events;e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(a){function i(){switch(t.getPluginPathType(a)){case t.pluginPathType.ABSOLUTE:return a;case t.pluginPathType.RELATIVE:return t.getAbsolutePath(a,window.location.href)}}function r(){u=setTimeout(function(){d=t.loaderstatus.COMPLETE,p.sendEvent(n.COMPLETE)},1e3)}function o(){d=t.loaderstatus.ERROR,p.sendEvent(n.ERROR)}var s,l,c,u,d=t.loaderstatus.NEW,p=new n.eventdispatcher;t.extend(this,p),this.load=function(){if(d==t.loaderstatus.NEW)if(0<a.lastIndexOf(".swf"))s=a,d=t.loaderstatus.COMPLETE,p.sendEvent(n.COMPLETE);else if(t.getPluginPathType(a)==t.pluginPathType.CDN)d=t.loaderstatus.COMPLETE,p.sendEvent(n.COMPLETE);else{d=t.loaderstatus.LOADING;var e=new t.scriptloader(i());e.addEventListener(n.COMPLETE,r),e.addEventListener(n.ERROR,o),e.load()}},this.registerPlugin=function(e,a,i,r){u&&(clearTimeout(u),u=void 0),c=a,i&&r?(s=r,l=i):"string"==typeof i?s=i:"function"==typeof i?l=i:!i&&!r&&(s=e),d=t.loaderstatus.COMPLETE,p.sendEvent(n.COMPLETE)},this.getStatus=function(){return d},this.getPluginName=function(){return t.getPluginName(a)},this.getFlashPath=function(){if(s)switch(t.getPluginPathType(s)){case t.pluginPathType.ABSOLUTE:return s;case t.pluginPathType.RELATIVE:return 0<a.lastIndexOf(".swf")?t.getAbsolutePath(s,window.location.href):t.getAbsolutePath(s,i())}return null},this.getJS=function(){return l},this.getTarget=function(){return c},this.getPluginmode=function(){return"undefined"!=typeof s&&"undefined"!=typeof l?e.pluginmodes.HYBRID:"undefined"!=typeof s?e.pluginmodes.FLASH:"undefined"!=typeof l?e.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,n){return new l(e,t,n)},this.getURL=function(){return a}}}(jwplayer.plugins),function(e){var t=e.utils,n=e.events,a=t.foreach;e.plugins.pluginloader=function(i,r){function o(){d?f.sendEvent(n.ERROR,{message:l}):u||(u=!0,c=t.loaderstatus.COMPLETE,f.sendEvent(n.COMPLETE))}function s(){if(p||o(),
!u&&!d){var n=0,a=i.getPlugins();t.foreach(p,function(i){i=t.getPluginName(i);var r=a[i];i=r.getJS();var s=r.getTarget(),r=r.getStatus();r==t.loaderstatus.LOADING||r==t.loaderstatus.NEW?n++:i&&(!s||parseFloat(s)>parseFloat(e.version))&&(d=!0,l="Incompatible player version",o())}),0==n&&o()}}var l,c=t.loaderstatus.NEW,u=!1,d=!1,p=r,f=new n.eventdispatcher;t.extend(this,f),this.setupPlugins=function(e,n,r){var o={length:0,plugins:{}},s=0,l={},c=i.getPlugins();return a(n.plugins,function(a,i){var u=t.getPluginName(a),d=c[u],p=d.getFlashPath(),f=d.getJS(),h=d.getURL();p&&(o.plugins[p]=t.extend({},i),o.plugins[p].pluginmode=d.getPluginmode(),o.length++);try{if(f&&n.plugins&&n.plugins[h]){var m=document.createElement("div");m.id=e.id+"_"+u,m.style.position="absolute",m.style.top=0,m.style.zIndex=s+10,l[u]=d.getNewInstance(e,t.extend({},n.plugins[h]),m),s++,e.onReady(r(l[u],m,!0)),e.onResize(r(l[u],m))}}catch(g){t.log("ERROR: Failed to load "+u+".")}}),e.plugins=l,o},this.load=function(){if(!t.exists(r)||"object"==t.typeOf(r)){c=t.loaderstatus.LOADING,a(r,function(e){t.exists(e)&&(e=i.addPlugin(e),e.addEventListener(n.COMPLETE,s),e.addEventListener(n.ERROR,h))});var e=i.getPlugins();a(e,function(e,t){t.load()})}s()};var h=this.pluginFailed=function(){d||(d=!0,l="File not found",o())};this.getStatus=function(){return c}}}(jwplayer),function(){jwplayer.parsers={localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(e){return e?e.textContent?jwplayer.utils.trim(e.textContent):e.text?jwplayer.utils.trim(e.text):"":""},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}(jwplayer),function(e){var t=e.parsers;(t.jwparser=function(){}).parseEntry=function(n,a){for(var i=[],r=[],o=e.utils.xmlAttribute,s=0;s<n.childNodes.length;s++){var l=n.childNodes[s];if("jwplayer"==l.prefix){var c=t.localName(l);"source"==c?(delete a.sources,i.push({file:o(l,"file"),"default":o(l,"default"),label:o(l,"label"),type:o(l,"type")})):"track"==c?(delete a.tracks,r.push({file:o(l,"file"),"default":o(l,"default"),kind:o(l,"kind"),label:o(l,"label")})):(a[c]=e.utils.serialize(t.textContent(l)),"file"==c&&a.sources&&delete a.sources)}a.file||(a.file=a.link)}if(i.length)for(a.sources=[],s=0;s<i.length;s++)0<i[s].file.length&&(i[s]["default"]="true"==i[s]["default"]?!0:!1,i[s].label.length||delete i[s].label,a.sources.push(i[s]));if(r.length)for(a.tracks=[],s=0;s<r.length;s++)0<r[s].file.length&&(r[s]["default"]="true"==r[s]["default"]?!0:!1,r[s].kind=r[s].kind.length?r[s].kind:"captions",r[s].label.length||delete r[s].label,a.tracks.push(r[s]));return a}}(jwplayer),function(e){var t=jwplayer.utils,n=t.xmlAttribute,a=e.localName,i=e.textContent,r=e.numChildren,o=e.mediaparser=function(){};o.parseGroup=function(e,s){var l,c,u=[];for(c=0;c<r(e);c++)if(l=e.childNodes[c],"media"==l.prefix&&a(l))switch(a(l).toLowerCase()){case"content":n(l,"duration")&&(s.duration=t.seconds(n(l,"duration"))),0<r(l)&&(s=o.parseGroup(l,s)),n(l,"url")&&(s.sources||(s.sources=[]),s.sources.push({file:n(l,"url"),type:n(l,"type"),width:n(l,"width"),label:n(l,"label")}));break;case"title":s.title=i(l);break;case"description":s.description=i(l);break;case"guid":s.mediaid=i(l);break;case"thumbnail":s.image||(s.image=n(l,"url"));break;case"group":o.parseGroup(l,s);break;case"subtitle":var d={};if(d.file=n(l,"url"),d.kind="captions",0<n(l,"lang").length){var p=d;l=n(l,"lang");var f={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};l=f[l]?f[l]:l,p.label=l}u.push(d)}for(s.hasOwnProperty("tracks")||(s.tracks=[]),c=0;c<u.length;c++)s.tracks.push(u[c]);return s}}(jwplayer.parsers),function(e){function t(t){for(var i={},r=0;r<t.childNodes.length;r++){var s=t.childNodes[r],l=o(s);if(l)switch(l.toLowerCase()){case"enclosure":i.file=n.xmlAttribute(s,"url");break;case"title":i.title=a(s);break;case"guid":i.mediaid=a(s);break;case"pubdate":i.date=a(s);break;case"description":i.description=a(s);break;case"link":i.link=a(s);break;case"category":i.tags=i.tags?i.tags+a(s):a(s)}}return i=e.mediaparser.parseGroup(t,i),i=e.jwparser.parseEntry(t,i),new jwplayer.playlist.item(i)}var n=jwplayer.utils,a=e.textContent,i=e.getChildNode,r=e.numChildren,o=e.localName;e.rssparser={},e.rssparser.parse=function(e){for(var n=[],a=0;a<r(e);a++){var s=i(e,a);if("channel"==o(s).toLowerCase())for(var l=0;l<r(s);l++){var c=i(s,l);"item"==o(c).toLowerCase()&&n.push(t(c))}}return n}}(jwplayer.parsers),function(e){e.playlist=function(t){var n=[];if("array"==e.utils.typeOf(t))for(var a=0;a<t.length;a++)n.push(new e.playlist.item(t[a]));else n.push(new e.playlist.item(t));return n}}(jwplayer),function(e){var t=e.item=function(n){var a=jwplayer.utils,i=a.extend({},t.defaults,n);i.tracks=n&&a.exists(n.tracks)?n.tracks:[],0==i.sources.length&&(i.sources=[new e.source(i)]);for(var r=0;r<i.sources.length;r++){var o=i.sources[r]["default"];i.sources[r]["default"]=o?"true"==o.toString():!1,i.sources[r]=new e.source(i.sources[r])}if(i.captions&&!a.exists(n.tracks)){for(n=0;n<i.captions.length;n++)i.tracks.push(i.captions[n]);delete i.captions}for(r=0;r<i.tracks.length;r++)i.tracks[r]=new e.track(i.tracks[r]);return i};t.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(e){var t=jwplayer,n=t.utils,a=t.events,i=t.parsers;e.loader=function(){function t(t){try{var n=t.responseXML.childNodes;t="";for(var r=0;r<n.length&&(t=n[r],!(8!=t.nodeType));r++);if("xml"==i.localName(t)&&(t=t.nextSibling),"rss"!=i.localName(t))o("Not a valid RSS feed");else{var l=new e(i.rssparser.parse(t));s.sendEvent(a.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(c){o()}}function r(e){o(e.match(/invalid/i)?"Not a valid RSS feed":"")}function o(e){s.sendEvent(a.JWPLAYER_ERROR,{message:e?e:"Error loading file"})}var s=new a.eventdispatcher;n.extend(this,s),this.load=function(e){n.ajax(e,t,r)}}}(jwplayer.playlist),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,type:void 0,"default":void 0};e.source=function(e){var a=t.extend({},n);return t.foreach(n,function(n){t.exists(e[n])&&(a[n]=e[n],delete e[n])}),a.type&&0<a.type.indexOf("/")&&(a.type=t.extensionmap.mimeType(a.type)),"m3u8"==a.type&&(a.type="hls"),"smil"==a.type&&(a.type="rtmp"),a}}(jwplayer.playlist),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,kind:"captions","default":!1};e.track=function(e){var a=t.extend({},n);return e||(e={}),t.foreach(n,function(n){t.exists(e[n])&&(a[n]=e[n],delete e[n])}),a}}(jwplayer.playlist),function(e){function t(e,t,a){var i=e.style;i.backgroundColor="#000",i.color="#FFF",i.width=n.styleDimension(a.width),i.height=n.styleDimension(a.height),i.display="table",i.opacity=1,a=document.createElement("p"),i=a.style,i.verticalAlign="middle",i.textAlign="center",i.display="table-cell",i.font="15px/20px Arial, Helvetica, sans-serif",a.innerHTML=t.replace(":",":<br>"),e.innerHTML="",e.appendChild(a)}var n=e.utils,a=e.events,i=!0,r=!1,o=document,s=e.embed=function(l){function c(e,t){n.foreach(t,function(t,n){"function"==typeof e[t]&&e[t].call(e,n)})}function u(){if(!k)if("array"==n.typeOf(y.playlist)&&2>y.playlist.length&&(0==y.playlist.length||!y.playlist[0].sources||0==y.playlist[0].sources.length))f();else if(!T)if("string"==n.typeOf(y.playlist)){var t=new e.playlist.loader;t.addEventListener(a.JWPLAYER_PLAYLIST_LOADED,function(e){y.playlist=e.playlist,T=r,u()}),t.addEventListener(a.JWPLAYER_ERROR,function(e){T=r,f(e)}),T=i,t.load(y.playlist)}else if(C.getStatus()==n.loaderstatus.COMPLETE){for(t=0;t<y.modes.length;t++)if(y.modes[t].type&&s[y.modes[t].type]){var o=n.extend({},y),p=new s[y.modes[t].type](g,y.modes[t],o,C,l);if(p.supportsConfig())return p.addEventListener(a.ERROR,d),p.embed(),c(l,o.events),l}if(y.fallback){var m="No suitable players found and fallback enabled";A=setTimeout(function(){h(m,i)},10),n.log(m),new s.download(g,y,f)}else m="No suitable players found and fallback disabled",h(m,r),n.log(m),g.parentNode.replaceChild(b,g)}}function d(e){m(_+e.message)}function p(e){m("Could not load plugins: "+e.message)}function f(e){m(e&&e.message?"Error loading playlist: "+e.message:_+"No playable sources found")}function h(e,t){A&&(clearTimeout(A),A=null),l.dispatchEvent(a.JWPLAYER_SETUP_ERROR,{message:e,fallback:t})}function m(e){k||(y.fallback?(k=i,t(g,e,y),h(e,i)):h(e,r))}var g,v,b,y=new s.config(l.config),w=y.width,S=y.height,_="Error loading player: ",C=e.plugins.loadPlugins(l.id,y.plugins),T=r,k=r,A=null;return y.fallbackDiv&&(b=y.fallbackDiv,delete y.fallbackDiv),y.id=l.id,v=o.getElementById(l.id),y.aspectratio?l.config.aspectratio=y.aspectratio:delete l.config.aspectratio,g=o.createElement("div"),g.id=v.id,g.style.width=0<w.toString().indexOf("%")?w:w+"px",g.style.height=0<S.toString().indexOf("%")?S:S+"px",v.parentNode.replaceChild(g,v),this.embed=function(){k||(C.addEventListener(a.COMPLETE,u),C.addEventListener(a.ERROR,p),C.load())},this.errorScreen=m,this};e.embed.errorScreen=t}(jwplayer),function(e){function t(e){if(e.playlist)for(var t=0;t<e.playlist.length;t++)e.playlist[t]=new i(e.playlist[t]);else{var r={};a.foreach(i.defaults,function(t){n(e,r,t)}),r.sources||(e.levels?(r.sources=e.levels,delete e.levels):(t={},n(e,t,"file"),n(e,t,"type"),r.sources=t.file?[t]:[])),e.playlist=[new i(r)]}}function n(e,t,n){a.exists(e[n])&&(t[n]=e[n],delete e[n])}var a=e.utils,i=e.playlist.item;(e.embed.config=function(n){var i={fallback:!0,height:270,primary:"html5",width:480,base:n.base?n.base:a.getScriptPath("jwplayer.js"),aspectratio:""};n=a.extend(i,e.defaults,n);var i={type:"html5",src:n.base+"jwplayer.html5.js"},r={type:"flash",src:n.base+"jwplayer.flash.swf"};if(n.modes="flash"==n.primary?[r,i]:[i,r],n.listbar&&(n.playlistsize=n.listbar.size,n.playlistposition=n.listbar.position,n.playlistlayout=n.listbar.layout),n.flashplayer&&(r.src=n.flashplayer),n.html5player&&(i.src=n.html5player),t(n),r=n.aspectratio,"string"==typeof r&&a.exists(r)){var o=r.indexOf(":");-1==o?i=0:(i=parseFloat(r.substr(0,o)),r=parseFloat(r.substr(o+1)),i=0>=i||0>=r?0:100*(r/i)+"%")}else i=0;return-1==n.width.toString().indexOf("%")?delete n.aspectratio:i?n.aspectratio=i:delete n.aspectratio,n}).addConfig=function(e,n){return t(n),a.extend(e,n)}}(jwplayer),function(e){var t=e.utils,n=document;e.embed.download=function(e,a,i){function r(e,a){for(var i=n.querySelectorAll(e),r=0;r<i.length;r++)t.foreach(a,function(e,t){i[r].style[e]=t})}function o(e,t,a){return e=n.createElement(e),t&&(e.className="jwdownload"+t),a&&a.appendChild(e),e}var s,l=t.extend({},a),c=l.width?l.width:480,u=l.height?l.height:320;a=a.logo?a.logo:{prefix:t.repo(),file:"logo.png",margin:10};var d,p,f,h,l=l.playlist,m=["mp4","aac","mp3"];if(l&&l.length){for(h=l[0],s=h.sources,l=0;l<s.length;l++){var g=s[l],v=g.type?g.type:t.extensionmap.extType(t.extension(g.file));g.file&&t.foreach(m,function(e){v==m[e]?(d=g.file,p=h.image):t.isYouTube(g.file)&&(f=g.file)})}d?(s=d,i=p,e&&(l=o("a","display",e),o("div","icon",l),o("div","logo",l),s&&l.setAttribute("href",t.getAbsolutePath(s))),l="#"+e.id+" .jwdownload",e.style.width="",e.style.height="",r(l+"display",{width:t.styleDimension(Math.max(320,c)),height:t.styleDimension(Math.max(180,u)),background:"black center no-repeat "+(i?"url("+i+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),r(l+"display div",{position:"absolute",width:"100%",height:"100%"}),r(l+"logo",{top:a.margin+"px",right:a.margin+"px",background:"top right no-repeat url("+a.prefix+a.file+")"}),r(l+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):f?(a=f,e=o("embed","",e),e.src="http://www.youtube.com/v/"+t.youTubeID(a),e.type="application/x-shockwave-flash",e.width=c,e.height=u):i()}}}(jwplayer),function(e){var t=e.utils,n=e.events,a={};(e.embed.flash=function(r,o,s,l,c){function u(e,t,n){var a=document.createElement("param");a.setAttribute("name",t),a.setAttribute("value",n),e.appendChild(a)}function d(e,t,n){return function(){try{n&&document.getElementById(c.id+"_wrapper").appendChild(t);var a=document.getElementById(c.id).getPluginConfig("display");"function"==typeof e.resize&&e.resize(a.width,a.height),t.style.left=a.x,t.style.top=a.h}catch(i){}}}function p(e){if(!e)return{};var n={},a=[];return t.foreach(e,function(e,i){var r=t.getPluginName(e);a.push(e),t.foreach(i,function(e,t){n[r+"."+e]=t})}),n.plugins=a.join(","),n}var f=new e.events.eventdispatcher,h=t.flashVersion();t.extend(this,f),this.embed=function(){if(s.id=c.id,10>h)return f.sendEvent(n.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var e,i,m=c.config.listbar,g=t.extend({},s);if(r.id+"_wrapper"==r.parentNode.id)e=document.getElementById(r.id+"_wrapper");else{if(e=document.createElement("div"),i=document.createElement("div"),i.style.display="none",i.id=r.id+"_aspect",e.id=r.id+"_wrapper",e.style.position="relative",e.style.display="block",e.style.width=t.styleDimension(g.width),e.style.height=t.styleDimension(g.height),c.config.aspectratio){var v=parseFloat(c.config.aspectratio);i.style.display="block",i.style.marginTop=c.config.aspectratio,e.style.height="auto",e.style.display="inline-block",m&&("bottom"==m.position?i.style.paddingBottom=m.size+"px":"right"==m.position&&(i.style.marginBottom=-1*m.size*(v/100)+"px"))}r.parentNode.replaceChild(e,r),e.appendChild(r),e.appendChild(i)}for(e=l.setupPlugins(c,g,d),0<e.length?t.extend(g,p(e.plugins)):delete g.plugins,"undefined"!=typeof g["dock.position"]&&"false"==g["dock.position"].toString().toLowerCase()&&(g.dock=g["dock.position"],delete g["dock.position"]),e=g.wmode?g.wmode:g.height&&40>=g.height?"transparent":"opaque",i="height width modes events primary base fallback volume".split(" "),m=0;m<i.length;m++)delete g[i[m]];i=t.getCookies(),t.foreach(i,function(e,t){"undefined"==typeof g[e]&&(g[e]=t)}),i=window.location.href.split("/"),i.splice(i.length-1,1),i=i.join("/"),g.base=i+"/",a[r.id]=g,t.isIE()?(i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+r.id+'" name="'+r.id+'" tabindex=0"">',i+='<param name="movie" value="'+o.src+'">',i+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',i+='<param name="seamlesstabbing" value="true">',i+='<param name="wmode" value="'+e+'">',i+='<param name="bgcolor" value="#000000">',i+="</object>",r.outerHTML=i,e=document.getElementById(r.id)):(i=document.createElement("object"),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("data",o.src),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("bgcolor","#000000"),i.setAttribute("id",r.id),i.setAttribute("name",r.id),i.setAttribute("tabindex",0),u(i,"allowfullscreen","true"),u(i,"allowscriptaccess","always"),u(i,"seamlesstabbing","true"),u(i,"wmode",e),r.parentNode.replaceChild(i,r),e=i),c.config.aspectratio&&(e.style.position="absolute"),c.container=e,c.setPlayer(e,"flash")},this.supportsConfig=function(){if(h){if(!s)return!0;if("string"==t.typeOf(s.playlist))return!0;try{var e=s.playlist[0].sources;if("undefined"==typeof e)return!0;for(var n=0;n<e.length;n++)if(e[n].file&&i(e[n].file,e[n].type))return!0}catch(a){}}return!1}}).getVars=function(e){return a[e]};var i=e.embed.flashCanPlay=function(e,n){if(t.isYouTube(e)||t.isRtmp(e,n)||"hls"==n)return!0;var a=t.extensionmap[n?n:t.extension(e)];return a?!!a.flash:!1}}(jwplayer),function(e){var t=e.utils,n=t.extensionmap,a=e.events;e.embed.html5=function(i,r,o,s,l){function c(e,t,n){return function(){try{var a=document.querySelector("#"+i.id+" .jwmain");n&&a.appendChild(t),"function"==typeof e.resize&&(e.resize(a.clientWidth,a.clientHeight),setTimeout(function(){e.resize(a.clientWidth,a.clientHeight)},400)),t.left=a.style.left,t.top=a.style.top}catch(r){}}}function u(e){d.sendEvent(e.type,{message:"HTML5 player not found"})}var d=this,p=new a.eventdispatcher;t.extend(d,p),d.embed=function(){if(e.html5){s.setupPlugins(l,o,c),i.innerHTML="";var n=e.utils.extend({},o);delete n.volume,n=new e.html5.player(n),l.container=document.getElementById(l.id),l.setPlayer(n,"html5")}else n=new t.scriptloader(r.src),n.addEventListener(a.ERROR,u),n.addEventListener(a.COMPLETE,d.embed),n.load()},d.supportsConfig=function(){if(e.vid.canPlayType)try{if("string"==t.typeOf(o.playlist))return!0;for(var a=o.playlist[0].sources,i=0;i<a.length;i++){var r,s=a[i].file,l=a[i].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||t.isAndroid()&&("m3u"==t.extension(s)||"m3u8"==t.extension(s))||t.isRtmp(s,l))r=!1;else{var c,u=n[l?l:t.extension(s)];if(!u||u.flash&&!u.html5)c=!1;else{var d=u.html5,p=e.vid;if(d)try{c=p.canPlayType(d)?!0:!1}catch(f){c=!1}else c=!0}r=c}if(r)return!0}}catch(h){}return!1}}}(jwplayer),function(e){var t=e.embed,n=e.utils;e.embed=n.extend(function(a){function i(){r="Adobe SiteCatalyst Error: Could not find Media Module"}var r,o=n.repo(),l=n.extend({},e.defaults),c=n.extend({},l,a.config),u=a.config,d=c.plugins,p=c.analytics,f=o+"jwpsrv.js",h=o+"sharing.js",m=o+"related.js",g=o+"gapro.js",l=e.key?e.key:l.key,v=new e.utils.key(l).edition(),d=d?d:{};switch("ads"==v&&c.advertising&&(c.advertising.client.match(".js$|.swf$")?d[c.advertising.client]=c.advertising:d[o+c.advertising.client+".js"]=c.advertising),delete u.advertising,u.key=l,c.analytics&&c.analytics.client&&c.analytics.client.match(".js$|.swf$")&&(f=c.analytics.client),delete u.analytics,p&&"ads"!=v&&delete p.enabled,"free"!=v&&p&&!1===p.enabled||(d[f]=p?p:{}),delete d.sharing,delete d.related,v){case"ads":if(u.sitecatalyst)try{null!=s&&s.hasOwnProperty("Media")?new e.embed.sitecatalyst(a):i()}catch(b){i()}case"premium":c.related&&(c.related.client&&c.related.client.match(".js$|.swf$")&&(m=c.related.client),d[m]=c.related),c.ga&&(c.ga.client&&c.ga.client.match(".js$|.swf$")&&(g=c.ga.client),d[g]=c.ga);case"pro":c.sharing&&(c.sharing.client&&c.sharing.client.match(".js$|.swf$")&&(h=c.sharing.client),d[h]=c.sharing),c.skin&&(u.skin=c.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,n.repo()+"skins/$1.xml"))}return u.plugins=d,a.config=u,a=new t(a),r&&a.errorScreen(r),a},e.embed)}(jwplayer),function(e){var t=jwplayer.utils;e.sitecatalyst=function(e){function n(e){p.debug&&t.log(e)}function a(e){return e=e.split("/"),e=e[e.length-1],e=e.split("?"),e[0]}function i(){if(!h){h=!0;var e=d.getPosition();n("stop: "+o+" : "+e),s.Media.stop(o,e)}}function r(){m||(i(),m=!0,n("close: "+o),s.Media.close(o),u=!0,c=0)}var o,l,c,u,d=e,p=t.extend({},d.config.sitecatalyst),f={onPlay:function(){if(!u){var e=d.getPosition();h=!1,n("play: "+o+" : "+e),s.Media.play(o,e)}},onPause:i,onBuffer:i,onIdle:r,onPlaylistItem:function(e){try{u=!0,r(),c=0;var n;if(p.mediaName)n=p.mediaName;else{var i=d.getPlaylistItem(e.index);n=i.title?i.title:i.file?a(i.file):i.sources&&i.sources.length?a(i.sources[0].file):""}o=n,l=p.playerName?p.playerName:d.id}catch(s){t.log(s)}},onTime:function(){if(u){var e=d.getDuration();if(-1==e)return;m=h=u=!1,n("open: "+o+" : "+e+" : "+l),s.Media.open(o,e,l),n("play: "+o+" : 0"),s.Media.play(o,0)}if(e=d.getPosition(),3<=Math.abs(e-c)){var t=c;n("seek: "+t+" to "+e),n("stop: "+o+" : "+t),s.Media.stop(o,t),n("play: "+o+" : "+e),s.Media.play(o,e)}c=e},onComplete:r},h=!0,m=!0;t.foreach(f,function(e){d[e](f[e])})}}(jwplayer.embed),function(e){var t=[],n=e.utils,a=e.events,i=a.state,r=document,o=e.api=function(t){function s(e,t){return function(n){return t(e,n)}}function l(e,t){return h[e]||(h[e]=[],u(a.JWPLAYER_PLAYER_STATE,function(t){var n=t.newstate;if(t=t.oldstate,n==e){var a=h[n];if(a)for(var i=0;i<a.length;i++)"function"==typeof a[i]&&a[i].call(this,{oldstate:t,newstate:n})}})),h[e].push(t),p}function c(e,t){try{e.jwAddEventListener(t,'function(dat) { jwplayer("'+p.id+'").dispatchEvent("'+t+'", dat); }')}catch(a){n.log("Could not add internal listener")}}function u(e,t){return f[e]||(f[e]=[],m&&g&&c(m,e)),f[e].push(t),p}function d(){if(g){for(var e=arguments[0],t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);if("undefined"!=typeof m&&"function"==typeof m[e])switch(t.length){case 5:return m[e](t[0],t[1],t[2],t[3],t[4]);case 4:return m[e](t[0],t[1],t[2],t[3]);case 3:return m[e](t[0],t[1],t[2]);case 2:return m[e](t[0],t[1]);case 1:return m[e](t[0]);default:return m[e]()}return null}v.push(arguments)}var p=this,f={},h={},m=void 0,g=!1,v=[],b=void 0,y={},w={};p.container=t,p.id=t.id,p.getBuffer=function(){return d("jwGetBuffer")},p.getContainer=function(){return p.container},p.addButton=function(e,t,a,i){try{w[i]=a,d("jwDockAddButton",e,t,"jwplayer('"+p.id+"').callback('"+i+"')",i)}catch(r){n.log("Could not add dock button"+r.message)}},p.removeButton=function(e){d("jwDockRemoveButton",e)},p.callback=function(e){w[e]&&w[e]()},p.forceState=function(e){return d("jwForceState",e),p},p.releaseState=function(){return d("jwReleaseState")},p.getDuration=function(){return d("jwGetDuration")},p.getFullscreen=function(){return d("jwGetFullscreen")},p.getHeight=function(){return d("jwGetHeight")},p.getLockState=function(){return d("jwGetLockState")},p.getMeta=function(){return p.getItemMeta()},p.getMute=function(){return d("jwGetMute")},p.getPlaylist=function(){var e=d("jwGetPlaylist");return"flash"==p.renderingMode&&n.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),e},p.getPlaylistItem=function(e){return n.exists(e)||(e=p.getPlaylistIndex()),p.getPlaylist()[e]},p.getPlaylistIndex=function(){return d("jwGetPlaylistIndex")},p.getPosition=function(){return d("jwGetPosition")},p.getRenderingMode=function(){return p.renderingMode},p.getState=function(){return d("jwGetState")},p.getVolume=function(){return d("jwGetVolume")},p.getWidth=function(){return d("jwGetWidth")},p.setFullscreen=function(e){return n.exists(e)?d("jwSetFullscreen",e):d("jwSetFullscreen",!d("jwGetFullscreen")),p},p.setMute=function(e){return n.exists(e)?d("jwSetMute",e):d("jwSetMute",!d("jwGetMute")),p},p.lock=function(){return p},p.unlock=function(){return p},p.load=function(e){return d("jwLoad",e),p},p.playlistItem=function(e){return d("jwPlaylistItem",parseInt(e)),p},p.playlistPrev=function(){return d("jwPlaylistPrev"),p},p.playlistNext=function(){return d("jwPlaylistNext"),p},p.resize=function(e,t){if("flash"!=p.renderingMode){var a=document.getElementById(p.id);a.className=a.className.replace(/\s+aspectMode/,""),a.style.display="block",d("jwResize",e,t)}else{var a=r.getElementById(p.id+"_wrapper"),i=r.getElementById(p.id+"_aspect");i&&(i.style.display="none"),a&&(a.style.display="block",a.style.width=n.styleDimension(e),a.style.height=n.styleDimension(t))}return p},p.play=function(e){return"undefined"==typeof e?(e=p.getState(),d(e==i.PLAYING||e==i.BUFFERING?"jwPause":"jwPlay")):d("jwPlay",e),p},p.pause=function(e){return"undefined"==typeof e?(e=p.getState(),d(e==i.PLAYING||e==i.BUFFERING?"jwPause":"jwPlay")):d("jwPause",e),p},p.stop=function(){return d("jwStop"),p},p.seek=function(e){return d("jwSeek",e),p},p.setVolume=function(e){return d("jwSetVolume",e),p},p.loadInstream=function(e,t){return b=new o.instream(this,m,e,t)},p.getQualityLevels=function(){return d("jwGetQualityLevels")},p.getCurrentQuality=function(){return d("jwGetCurrentQuality")},p.setCurrentQuality=function(e){d("jwSetCurrentQuality",e)},p.getCaptionsList=function(){return d("jwGetCaptionsList")},p.getCurrentCaptions=function(){return d("jwGetCurrentCaptions")},p.setCurrentCaptions=function(e){d("jwSetCurrentCaptions",e)},p.getControls=function(){return d("jwGetControls")},p.getSafeRegion=function(){return d("jwGetSafeRegion")},p.setControls=function(e){d("jwSetControls",e)},p.destroyPlayer=function(){d("jwPlayerDestroy")},p.playAd=function(t){var n=e(p.id).plugins;n.vast&&n.vast.jwPlayAd(t)},p.pauseAd=function(){var t=e(p.id).plugins;t.vast?t.vast.jwPauseAd():d("jwPauseAd")};var S={onBufferChange:a.JWPLAYER_MEDIA_BUFFER,onBufferFull:a.JWPLAYER_MEDIA_BUFFER_FULL,onError:a.JWPLAYER_ERROR,onSetupError:a.JWPLAYER_SETUP_ERROR,onFullscreen:a.JWPLAYER_FULLSCREEN,onMeta:a.JWPLAYER_MEDIA_META,onMute:a.JWPLAYER_MEDIA_MUTE,onPlaylist:a.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:a.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:a.JWPLAYER_PLAYLIST_COMPLETE,onReady:a.API_READY,onResize:a.JWPLAYER_RESIZE,onComplete:a.JWPLAYER_MEDIA_COMPLETE,onSeek:a.JWPLAYER_MEDIA_SEEK,onTime:a.JWPLAYER_MEDIA_TIME,onVolume:a.JWPLAYER_MEDIA_VOLUME,onBeforePlay:a.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:a.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:a.JWPLAYER_DISPLAY_CLICK,onControls:a.JWPLAYER_CONTROLS,onQualityLevels:a.JWPLAYER_MEDIA_LEVELS,onQualityChange:a.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:a.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:a.JWPLAYER_CAPTIONS_CHANGED,onAdError:a.JWPLAYER_AD_ERROR,onAdClick:a.JWPLAYER_AD_CLICK,onAdImpression:a.JWPLAYER_AD_IMPRESSION,onAdTime:a.JWPLAYER_AD_TIME,onAdComplete:a.JWPLAYER_AD_COMPLETE,onAdCompanions:a.JWPLAYER_AD_COMPANIONS,onAdSkipped:a.JWPLAYER_AD_SKIPPED};n.foreach(S,function(e){p[e]=s(S[e],u)});var _={onBuffer:i.BUFFERING,onPause:i.PAUSED,onPlay:i.PLAYING,onIdle:i.IDLE};return n.foreach(_,function(e){p[e]=s(_[e],l)}),p.remove=function(){if(!g)throw"Cannot call remove() before player is ready";v=[],o.destroyPlayer(this.id)},p.setup=function(t){if(e.embed){var n=r.getElementById(p.id);n&&(t.fallbackDiv=n),n=p,v=[],o.destroyPlayer(n.id),n=e(p.id),n.config=t,new e.embed(n).embed()}return p},p.registerPlugin=function(t,n,a,i){e.plugins.registerPlugin(t,n,a,i)},p.setPlayer=function(e,t){m=e,p.renderingMode=t},p.detachMedia=function(){return"html5"==p.renderingMode?d("jwDetachMedia"):void 0},p.attachMedia=function(e){return"html5"==p.renderingMode?d("jwAttachMedia",e):void 0},p.dispatchEvent=function(e,t){if(f[e])for(var i=n.translateEventResponse(e,t),r=0;r<f[e].length;r++)if("function"==typeof f[e][r])try{e==a.JWPLAYER_PLAYLIST_LOADED&&n.deepReplaceKeyName(i.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),f[e][r].call(this,i)}catch(o){n.log("There was an error calling back an event handler")}},p.dispatchInstreamEvent=function(e){b&&b.dispatchEvent(e,arguments)},p.callInternal=d,p.playerReady=function(e){for(g=!0,m||p.setPlayer(r.getElementById(e.id)),p.container=r.getElementById(p.id),n.foreach(f,function(e){c(m,e)}),u(a.JWPLAYER_PLAYLIST_ITEM,function(){y={}}),u(a.JWPLAYER_MEDIA_META,function(e){n.extend(y,e.metadata)}),p.dispatchEvent(a.API_READY);0<v.length;)d.apply(this,v.shift())},p.getItemMeta=function(){return y},p.isBeforePlay=function(){return d("jwIsBeforePlay")},p.isBeforeComplete=function(){return d("jwIsBeforeComplete")},p};o.selectPlayer=function(e){var a;return n.exists(e)||(e=0),e.nodeType?a=e:"string"==typeof e&&(a=r.getElementById(e)),a?(e=o.playerById(a.id))?e:o.addPlayer(new o(a)):"number"==typeof e?t[e]:null},o.playerById=function(e){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n];return null},o.addPlayer=function(e){for(var n=0;n<t.length;n++)if(t[n]==e)return e;return t.push(e),e},o.destroyPlayer=function(e){for(var a,i=-1,o=0;o<t.length;o++)t[o].id==e&&(i=o,a=t[o]);return i>=0&&(e=a.id,o=r.getElementById(e+("flash"==a.renderingMode?"_wrapper":"")),n.clearCss&&n.clearCss("#"+e),o&&("html5"==a.renderingMode&&a.destroyPlayer(),a=r.createElement("div"),a.id=e,o.parentNode.replaceChild(a,o)),t.splice(i,1)),null},e.playerReady=function(t){var n=e.api.playerById(t.id);n?n.playerReady(t):e.api.selectPlayer(t.id).playerReady(t)}}(jwplayer),function(e){var t=e.events,n=e.utils,a=t.state;e.api.instream=function(e,i,r,o){function s(e,t){return d[e]||(d[e]=[],u.jwInstreamAddEventListener(e,'function(dat) { jwplayer("'+c.id+'").dispatchInstreamEvent("'+e+'", dat); }')),d[e].push(t),this}function l(e,n){return p[e]||(p[e]=[],s(t.JWPLAYER_PLAYER_STATE,function(t){var n=t.newstate,a=t.oldstate;if(n==e){var i=p[n];if(i)for(var r=0;r<i.length;r++)"function"==typeof i[r]&&i[r].call(this,{oldstate:a,newstate:n,type:t.type})}})),p[e].push(n),this}var c=e,u=i;e=o||{};var d={},p={};this.dispatchEvent=function(e,t){if(d[e])for(var a=n.translateEventResponse(e,t[1]),i=0;i<d[e].length;i++)"function"==typeof d[e][i]&&d[e][i].call(this,a)},this.onError=function(e){return s(t.JWPLAYER_ERROR,e)},this.onMediaError=function(e){return s(t.JWPLAYER_MEDIA_ERROR,e)},this.onFullscreen=function(e){return s(t.JWPLAYER_FULLSCREEN,e)},this.onMeta=function(e){return s(t.JWPLAYER_MEDIA_META,e)},this.onMute=function(e){return s(t.JWPLAYER_MEDIA_MUTE,e)},this.onComplete=function(e){return s(t.JWPLAYER_MEDIA_COMPLETE,e)},this.onTime=function(e){return s(t.JWPLAYER_MEDIA_TIME,e)},this.onBuffer=function(e){return l(a.BUFFERING,e)},this.onPause=function(e){return l(a.PAUSED,e)},this.onPlay=function(e){return l(a.PLAYING,e)},this.onIdle=function(e){return l(a.IDLE,e)},this.onClick=function(e){return s(t.JWPLAYER_INSTREAM_CLICK,e)},this.onInstreamDestroyed=function(e){return s(t.JWPLAYER_INSTREAM_DESTROYED,e)},this.play=function(e){u.jwInstreamPlay(e)},this.pause=function(e){u.jwInstreamPause(e)},this.destroy=function(){u.jwInstreamDestroy()},this.setText=function(e){u.jwInstreamSetText(e?e:"")},this.updateSkipTime=function(e,t){u.jwInstreamUpdateSkipTime(e,t)},this.getState=function(){return u.jwInstreamState()},this.setClick=function(e){u.jwInstreamClick(e)},this.type="instream",this.tracker=e.tracker,c.callInternal("jwLoadInstream",r,e)}}(jwplayer),function(e){var t=e.api,n=t.selectPlayer;t.selectPlayer=function(t){return(t=n(t))?t:{registerPlugin:function(t,n,a){e.plugins.registerPlugin(t,n,a)}}}}(jwplayer)),function(e,t,n){"use strict";function a(e,t){return t=t||Error,function(){var n,a,i=2,r=arguments,o=r[0],s="["+(e?e+":":"")+o+"] ",l=r[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<r.length?ye(r[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.7/"+(e?e+"/":"")+o,a=i,n="?";a<r.length;a++,n="&")s+=n+"p"+(a-i)+"="+encodeURIComponent(ye(r[a]));return new t(s)}}function i(e){if(null==e||I(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===Ka&&t?!0:C(e)||Ua(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){var a,o;if(e)if(A(e))for(a in e)"prototype"==a||"length"==a||"name"==a||e.hasOwnProperty&&!e.hasOwnProperty(a)||t.call(n,e[a],a,e);else if(Ua(e)||i(e)){var s="object"!=typeof e;for(a=0,o=e.length;o>a;a++)(s||a in e)&&t.call(n,e[a],a,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,n,e);else if(_(e))for(a in e)t.call(n,e[a],a,e);else if("function"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else for(a in e)Sa.call(e,a)&&t.call(n,e[a],a,e);return e}function o(e,t,n){for(var a=Object.keys(e).sort(),i=0;i<a.length;i++)t.call(n,e[a[i]],a[i]);return a}function s(e){return function(t,n){e(n,t)}}function l(){return++Da}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var a=e.$$hashKey,i=0,r=t.length;r>i;++i){var o=t[i];if(S(o)||A(o))for(var s=Object.keys(o),l=0,d=s.length;d>l;l++){var p=s[l],f=o[p];n&&S(f)?k(f)?e[p]=new Date(f.valueOf()):x(f)?e[p]=new RegExp(f):(S(e[p])||(e[p]=Ua(f)?[]:{}),u(e[p],[f],!0)):e[p]=f}}return c(e,a),e}function d(e){return u(e,Ea.call(arguments,1),!1)}function p(e){return u(e,Ea.call(arguments,1),!0);
}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function b(e){return A(e.toString)&&e.toString!==Object.prototype.toString}function y(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!Ma(e)}function C(e){return"string"==typeof e}function T(e){return"number"==typeof e}function k(e){return"[object Date]"===Pa.call(e)}function A(e){return"function"==typeof e}function x(e){return"[object RegExp]"===Pa.call(e)}function I(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===Pa.call(e)}function O(e){return"[object FormData]"===Pa.call(e)}function P(e){return"[object Blob]"===Pa.call(e)}function M(e){return"boolean"==typeof e}function j(e){return e&&A(e.then)}function $(e){return La.test(Pa.call(e))}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},a=e.split(",");for(t=0;t<a.length;t++)n[a[t]]=!0;return n}function U(e){return wa(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function B(e,t,n,a){if(I(e)||E(e))throw ja("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if($(t))throw ja("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(e===t)throw ja("cpi","Can't copy! Source and destination are identical.");n=n||[],a=a||[],S(e)&&(n.push(e),a.push(t));var i;if(Ua(e)){t.length=0;for(var o=0;o<e.length;o++)t.push(B(e[o],null,n,a))}else{var s=t.$$hashKey;if(Ua(t)?t.length=0:r(t,function(e,n){delete t[n]}),_(e))for(i in e)t[i]=B(e[i],null,n,a);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=B(e[i],null,n,a));else for(i in e)Sa.call(e,i)&&(t[i]=B(e[i],null,n,a));c(t,s)}}else if(t=e,S(e)){var l;if(n&&-1!==(l=n.indexOf(e)))return a[l];if(Ua(e))return B(e,[],n,a);if($(e))t=new e.constructor(e);else if(k(e))t=new Date(e.getTime());else if(x(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else{if(!A(e.cloneNode)){var u=Object.create(Ma(e));return B(e,u,n,a)}t=e.cloneNode(!0)}a&&(n.push(e),a.push(t))}return t}function F(e,t){if(Ua(e)){t=t||[];for(var n=0,a=e.length;a>n;n++)t[n]=e[n]}else if(S(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function G(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,a,i,r=typeof e,o=typeof t;if(r==o&&"object"==r){if(!Ua(e)){if(k(e))return k(t)?G(e.getTime(),t.getTime()):!1;if(x(e))return x(t)?e.toString()==t.toString():!1;if(E(e)||E(t)||I(e)||I(t)||Ua(t)||k(t)||x(t))return!1;i=ge();for(a in e)if("$"!==a.charAt(0)&&!A(e[a])){if(!G(e[a],t[a]))return!1;i[a]=!0}for(a in t)if(!(a in i)&&"$"!==a.charAt(0)&&w(t[a])&&!A(t[a]))return!1;return!0}if(!Ua(t))return!1;if((n=e.length)==t.length){for(a=0;n>a;a++)if(!G(e[a],t[a]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(Ea.call(t,n))}function H(e,t){return Ea.call(e,t||0)}function W(e,t){var n=arguments.length>2?H(arguments,2):[];return!A(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,a){var i=a;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:I(a)?i="$WINDOW":a&&t===a?i="$DOCUMENT":E(a)&&(i="$SCOPE"),i}function K(e,t){return"undefined"==typeof e?n:(T(t)||(t=t?2:null),JSON.stringify(e,q,t))}function z(e){return C(e)?JSON.parse(e):e}function Y(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Q(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var a=Y(t,e.getTimezoneOffset());return Q(e,n*(a-e.getTimezoneOffset()))}function X(e){e=Aa(e).clone();try{e.empty()}catch(t){}var n=Aa("<div>").append(e).html();try{return e[0].nodeType===Ya?wa(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+wa(t)})}catch(t){return wa(n)}}function Z(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t={};return r((e||"").split("&"),function(e){var n,a,i;e&&(a=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(a=e.substring(0,n),i=e.substring(n+1)),a=Z(a),w(a)&&(i=w(i)?Z(i):!0,Sa.call(t,a)?Ua(t[a])?t[a].push(i):t[a]=[t[a],i]:t[a]=i))}),t}function te(e){var t=[];return r(e,function(e,n){Ua(e)?r(e,function(e){t.push(ae(n,!0)+(e===!0?"":"="+ae(e,!0)))}):t.push(ae(n,!0)+(e===!0?"":"="+ae(e,!0)))}),t.length?t.join("&"):""}function ne(e){return ae(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ae(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,a,i=Ha.length;for(a=0;i>a;++a)if(n=Ha[a]+t,C(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,a,i={};r(Ha,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,a=e.getAttribute(i))}),r(Ha,function(t){var i,r=t+"app";!n&&(i=e.querySelector("["+r.replace(":","\\:")+"]"))&&(n=i,a=i.getAttribute(r))}),n&&(i.strictDi=null!==ie(n,"strict-di"),t(n,a?[a]:[],i))}function oe(n,a,i){S(i)||(i={});var o={strictDi:!1};i=d(o,i);var s=function(){if(n=Aa(n),n.injector()){var e=n[0]===t?"document":X(n);throw ja("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}a=a||[],a.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&a.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),a.unshift("ng");var r=Xe(a,i.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,a){e.$apply(function(){t.data("$injector",a),n(t)(e)})}]),r},l=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&l.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(l,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),$a.resumeBootstrap=function(e){return r(e,function(e){a.push(e)}),s()},void(A($a.resumeDeferredBootstrap)&&$a.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function le(e){var t=$a.element(e).injector();if(!t)throw ja("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ce(e,t){return t=t||"_",e.replace(Wa,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!qa){var a=Va();xa=y(a)?e.jQuery:a?e[a]:n,xa&&xa.fn.on?(Aa=xa,d(xa.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),t=xa.cleanData,xa.cleanData=function(e){var n;if(Ra)Ra=!1;else for(var a,i=0;null!=(a=e[i]);i++)n=xa._data(a,"events"),n&&n.$destroy&&xa(a).triggerHandler("$destroy");t(e)}):Aa=Ie,$a.element=Aa,qa=!0}}function de(e,t,n){if(!e)throw ja("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function pe(e,t,n){return n&&Ua(e)&&(e=e[e.length-1]),de(A(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw ja("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var a,i=t.split("."),r=e,o=i.length,s=0;o>s;s++)a=i[s],e&&(e=(r=e)[a]);return!n&&A(e)?W(r,e):e}function me(e){for(var t,n=e[0],a=e[e.length-1],i=1;n!==a&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Aa(Ea.call(e,0,i))),t.push(n));return t||e}function ge(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=a("$injector"),i=a("ng"),r=t(e,"angular",Object);return r.$$minErr=r.$$minErr||a,t(r,"module",function(){var e={};return function(a,r,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(a,"module"),r&&e.hasOwnProperty(a)&&(e[a]=null),t(e,a,function(){function e(e,t,n,a){return a||(a=i),function(){return a[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,r){return r&&A(r)&&(r.$$moduleName=a),i.push([e,t,arguments]),u}}if(!r)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var i=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:r,name:a,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:c,run:function(e){return l.push(e),this}};return o&&c(o),u})}})}function be(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),S(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ye(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):y(e)?"undefined":"string"!=typeof e?be(e):e}function we(t){d(t,{bootstrap:oe,copy:B,extend:d,merge:p,equals:G,element:Aa,forEach:r,injector:Xe,noop:m,bind:W,toJson:K,fromJson:z,identity:g,isUndefined:y,isDefined:w,isString:C,isFunction:A,isObject:S,isNumber:T,isElement:D,isArray:Ua,version:Za,isDate:k,lowercase:wa,uppercase:_a,callbacks:{counter:0},getTestability:le,$$minErr:a,$$csp:Ga,reloadWithDebugInfo:se}),(Ia=ve(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:vn}),e.provider("$compile",lt).directive({a:fr,input:Nr,textarea:Nr,form:br,script:Co,select:Ao,style:Io,option:xo,ngBind:Mr,ngBindHtml:$r,ngBindTemplate:jr,ngClass:Rr,ngClassEven:Lr,ngClassOdd:Ur,ngCloak:Br,ngController:Fr,ngForm:yr,ngHide:vo,ngIf:Hr,ngInclude:Wr,ngInit:Kr,ngNonBindable:so,ngPluralize:po,ngRepeat:fo,ngShow:go,ngStyle:bo,ngSwitch:yo,ngSwitchWhen:wo,ngSwitchDefault:So,ngOptions:uo,ngTransclude:_o,ngModel:io,ngList:zr,ngChange:Dr,pattern:No,ngPattern:No,required:Eo,ngRequired:Eo,minlength:Po,ngMinlength:Po,maxlength:Oo,ngMaxlength:Oo,ngValue:Pr,ngModelOptions:oo}).directive({ngInclude:qr}).directive(hr).directive(Gr),e.provider({$anchorScroll:Ze,$animate:Ii,$animateCss:Ei,$$animateQueue:xi,$$AnimateRunner:Ai,$browser:rt,$cacheFactory:ot,$controller:ft,$document:ht,$exceptionHandler:mt,$filter:On,$$forceReflow:ji,$interpolate:Et,$interval:Nt,$http:kt,$httpParamSerializer:vt,$httpParamSerializerJQLike:bt,$httpBackend:xt,$xhrFactory:At,$location:Ht,$log:Wt,$parse:dn,$rootScope:gn,$q:pn,$$q:fn,$sce:Sn,$sceDelegate:wn,$sniffer:_n,$templateCache:st,$templateRequest:Cn,$$testability:Tn,$timeout:kn,$window:In,$$rAF:mn,$$jqLite:Ke,$$HashMap:vi,$$cookieReader:Nn})}])}function Se(){return++ti}function _e(e){return e.replace(ii,function(e,t,n,a){return a?n.toUpperCase():n}).replace(ri,"Moz$1")}function Ce(e){return!ci.test(e)}function Te(e){var t=e.nodeType;return t===Ka||!t||t===Ja}function ke(e){for(var t in ei[e.ng339])return!0;return!1}function Ae(e,t){var n,a,i,o,s=t.createDocumentFragment(),l=[];if(Ce(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),a=(ui.exec(e)||["",""])[1].toLowerCase(),i=pi[a]||pi._default,n.innerHTML=i[1]+e.replace(di,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function xe(e,n){n=n||t;var a;return(a=li.exec(e))?[n.createElement(a[1])]:(a=Ae(e,n))?a.childNodes:[]}function Ie(e){if(e instanceof Ie)return e;var t;if(C(e)&&(e=Ba(e),t=!0),!(this instanceof Ie)){if(t&&"<"!=e.charAt(0))throw si("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}t?Ue(this,xe(e)):Ue(this,e)}function Ee(e){return e.cloneNode(!0)}function Ne(e,t){if(t||Pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),a=0,i=n.length;i>a;a++)Pe(n[a])}function Oe(e,t,n,a){if(w(a))throw si("offargs","jqLite#off() does not support the `selector` argument");var i=Me(e),o=i&&i.events,s=i&&i.handle;if(s)if(t)r(t.split(" "),function(t){if(w(n)){var a=o[t];if(L(a||[],n),a&&a.length>0)return}ai(e,t,s),delete o[t]});else for(t in o)"$destroy"!==t&&ai(e,t,s),delete o[t]}function Pe(e,t){var a=e.ng339,i=a&&ei[a];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Oe(e)),delete ei[a],e.ng339=n}}function Me(e,t){var a=e.ng339,i=a&&ei[a];return t&&!i&&(e.ng339=a=Se(),i=ei[a]={events:{},data:{},handle:n}),i}function je(e,t,n){if(Te(e)){var a=w(n),i=!a&&t&&!S(t),r=!t,o=Me(e,!i),s=o&&o.data;if(a)s[t]=n;else{if(r)return s;if(i)return s&&s[t];d(s,t)}}}function $e(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function De(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Ba((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ba(t)+" "," ")))})}function Re(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Ba(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ba(n))}}function Ue(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var a=0;n>a;a++)e[e.length++]=t[a]}else e[e.length++]=t}}function Le(e,t){return Be(e,"$"+(t||"ngController")+"Controller")}function Be(e,t,n){e.nodeType==Ja&&(e=e.documentElement);for(var a=Ua(t)?t:[t];e;){for(var i=0,r=a.length;r>i;i++)if(w(n=Aa.data(e,a[i])))return n;e=e.parentNode||e.nodeType===Xa&&e.host}}function Fe(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ge(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Ve(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Aa(n).on("load",t)}function He(e,t){var n=hi[t.toLowerCase()];return n&&mi[U(e)]&&n}function We(e){return gi[e]}function qe(e,t){var n=function(n,a){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[a||n.type],r=i?i.length:0;if(r){if(y(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},r>1&&(i=F(i));for(var s=0;r>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Ke(){this.$get=function(){return d(Ie,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),De(e,t)}})}}function ze(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var a=typeof e;return n="function"==a||"object"==a&&null!==e?e.$$hashKey=a+":"+(t||l)():a+":"+e}function Ye(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){var t=e.toString().replace(Si,""),n=t.match(bi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Je(e,t,n){var a,i,o,s;if("function"==typeof e){if(!(a=e.$inject)){if(a=[],e.length){if(t)throw C(n)&&n||(n=e.name||Qe(e)),_i("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Si,""),o=i.match(bi),r(o[1].split(yi),function(e){e.replace(wi,function(e,t,n){a.push(n)})})}e.$inject=a}}else Ua(e)?(s=e.length-1,pe(e[s],"fn"),a=e.slice(0,s)):pe(e,"fn",!0);return a}function Xe(e,t){function a(e){return function(t,n){return S(t)?void r(t,s(e)):e(t,n)}}function i(e,t){if(fe(e,"service"),(A(t)||Ua(t))&&(t=T.instantiate(t)),!t.$get)throw _i("pget","Provider '{0}' must define $get factory method.",e);return _[e+g]=t}function o(e,t){return function(){var n=x.invoke(t,this);if(y(n))throw _i("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function l(e,t,n){return i(e,{$get:n!==!1?o(e,t):t})}function c(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return l(e,v(t),!1)}function d(e,t){fe(e,"constant"),_[e]=t,k[e]=t}function p(e,t){var n=T.get(e+g),a=n.$get;n.$get=function(){var e=x.invoke(a,n);return x.invoke(t,null,{$delegate:e})}}function f(e){de(y(e)||Ua(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function a(e){var t,n;for(t=0,n=e.length;n>t;t++){var a=e[t],i=T.get(a[0]);i[a[1]].apply(i,a[2])}}if(!w.get(e)){w.put(e,!0);try{C(e)?(t=Ia(e),n=n.concat(f(t.requires)).concat(t._runBlocks),a(t._invokeQueue),a(t._configBlocks)):A(e)?n.push(T.invoke(e)):Ua(e)?n.push(T.invoke(e)):pe(e,"module")}catch(i){throw Ua(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),_i("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function h(e,n){function a(t,a){if(e.hasOwnProperty(t)){if(e[t]===m)throw _i("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=m,e[t]=n(t,a)}catch(i){throw e[t]===m&&delete e[t],i}finally{b.shift()}}function i(e,n,i,r){"string"==typeof i&&(r=i,i=null);var o,s,l,c=[],u=Xe.$$annotate(e,t,r);for(s=0,o=u.length;o>s;s++){if(l=u[s],"string"!=typeof l)throw _i("itkn","Incorrect injection token! Expected service name as string, got {0}",l);c.push(i&&i.hasOwnProperty(l)?i[l]:a(l,r))}return Ua(e)&&(e=e[o]),e.apply(n,c)}function r(e,t,n){var a=Object.create((Ua(e)?e[e.length-1]:e).prototype||null),r=i(e,a,t,n);return S(r)||A(r)?r:a}return{invoke:i,instantiate:r,get:a,annotate:Xe.$$annotate,has:function(t){return _.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var m={},g="Provider",b=[],w=new Ye([],!0),_={$provide:{provider:a(i),factory:a(l),service:a(c),value:a(u),constant:a(d),decorator:p}},T=_.$injector=h(_,function(e,t){throw $a.isString(t)&&b.push(t),_i("unpr","Unknown provider: {0}",b.join(" <- "))}),k={},x=k.$injector=h(k,function(e,t){var a=T.get(e+g,t);return x.invoke(a.$get,a,n,e)});return r(f(e),function(e){e&&x.invoke(e)}),x}function Ze(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,a){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===U(e)?(t=e,!0):void 0}),t}function r(){var e=s.yOffset;if(A(e))e=e();else if(D(e)){var n=e[0],a=t.getComputedStyle(n);e="fixed"!==a.position?0:n.getBoundingClientRect().bottom}else T(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=r();if(n){var a=e.getBoundingClientRect().top;t.scrollBy(0,a-n)}}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=l.getElementById(e))?o(t):(t=i(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=t.document;return e&&a.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Ve(function(){a.$evalAsync(s)})}),s}]}function et(e,t){return e||t?e?t?(Ua(e)&&(e=e.join(" ")),Ua(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ti)return n}}function nt(e){C(e)&&(e=e.split(" "));var t=ge();return r(e,function(e){e.length&&(t[e]=!0)}),t}function at(e){return S(e)?e:{}}function it(e,t,n,a){function i(e){try{e.apply(null,H(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){n.error(t)}}}function o(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){k=null,c(),u()}function l(){try{return f.state}catch(e){}}function c(){S=l(),S=y(S)?null:S,G(S,I)&&(S=I),I=S}function u(){(C!==d.url()||_!==S)&&(C=d.url(),_=S,r(A,function(e){e(d.url(),S)}))}var d=this,p=(t[0],e.location),f=e.history,h=e.setTimeout,g=e.clearTimeout,v={};d.isMock=!1;var b=0,w=[];d.$$completeOutstandingRequest=i,d.$$incOutstandingRequestCount=function(){b++},d.notifyWhenNoOutstandingRequests=function(e){0===b?e():w.push(e)};var S,_,C=p.href,T=t.find("base"),k=null;c(),_=S,d.url=function(t,n,i){if(y(i)&&(i=null),p!==e.location&&(p=e.location),f!==e.history&&(f=e.history),t){var r=_===i;if(C===t&&(!a.history||r))return d;var s=C&&$t(C)===$t(t);return C=t,_=i,!a.history||s&&r?((!s||k)&&(k=t),n?p.replace(t):s?p.hash=o(t):p.href=t,p.href!==t&&(k=t)):(f[n?"replaceState":"pushState"](i,"",t),c(),_=S),d}return k||p.href.replace(/%27/g,"'")},d.state=function(){return S};var A=[],x=!1,I=null;d.onUrlChange=function(t){return x||(a.history&&Aa(e).on("popstate",s),Aa(e).on("hashchange",s),x=!0),A.push(t),t},d.$$applicationDestroyed=function(){Aa(e).off("hashchange popstate",s)},d.$$checkUrlChange=u,d.baseHref=function(){var e=T.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return b++,n=h(function(){delete v[n],i(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return v[e]?(delete v[e],g(e),i(m),!0):!1}}function rt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,a){return new it(e,a,t,n)}]}function ot(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,r(e.n,e.p),r(e,p),p=e,p.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw a("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(!y(t)){if(c<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});i(n)}return e in l||o++,l[e]=t,o>c&&this.remove(f.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),r(t.n,t.p),delete u[e]}delete l[e],o--},removeAll:function(){l={},o=0,u={},p=f=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function st(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function lt(e,a){function i(e,t,n){var a=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return r(e,function(e,r){var o=e.match(a);if(!o)throw Ni("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}function o(e,t){var n={isolateScope:null,bindToController:null};if(S(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),S(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),S(n.bindToController)){var a=e.controller,r=e.controllerAs;if(!a)throw Ni("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!pt(a,r))throw Ni("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function l(e){var t=e.charAt(0);if(!t||t!==wa(t))throw Ni("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Ni("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var c={},u="Directive",p=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=R("ngSrc,ngSrcset,src,srcset"),_=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,T=/^(on[a-z]+|formaction)$/;this.directive=function x(t,n){return fe(t,"directive"),C(t)?(l(t),de(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var a=[];return r(c[t],function(i,r){try{var s=e.invoke(i);A(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=r,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=o(s,s.name);S(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=i.$$moduleName,a.push(s)}catch(c){n(c)}}),a}])),c[t].push(n)):r(t,s(x)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(a.aHrefSanitizationWhitelist(e),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(a.imgSrcSanitizationWhitelist(e),this):a.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(e){return w(e)?(k=e,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,a,i,o,s,l,v,w,x,I,N){function O(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,n,a,i){e instanceof Aa||(e=Aa(e)),r(e,function(t,n){t.nodeType==Ya&&t.nodeValue.match(/\S+/)&&(e[n]=Aa(t).wrap("<span></span>").parent()[0])});var o=j(e,t,e,n,a,i);P.$$addScopeClass(e);var s=null;return function(t,n,a){de(t,"scope"),a=a||{};var i=a.parentBoundTranscludeFn,r=a.transcludeControllers,l=a.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=M(l));var c;if(c="html"!==s?Aa(Z(s,Aa("<div>").append(e).html())):n?fi.clone.call(e):e,r)for(var u in r)c.data("$"+u+"Controller",r[u].instance);return P.$$addScopeInfo(c,t),n&&n(c,t),o&&o(t,c,c,i),c}}function M(e){var t=e&&e[0];return t&&"foreignobject"!==U(t)&&t.toString().match(/SVG/)?"svg":"html"}function j(e,t,a,i,r,o){function s(e,a,i,r){var o,s,l,c,u,d,p,f,g;if(h){var v=a.length;for(g=new Array(v),u=0;u<m.length;u+=3)p=m[u],g[p]=a[p]}else g=a;for(u=0,d=m.length;d>u;)if(l=g[m[u++]],o=m[u++],s=m[u++],o){if(o.scope){c=e.$new(),P.$$addScopeInfo(Aa(l),c);var b=o.$$destroyBindings;b&&(o.$$destroyBindings=null,c.$on("$destroyed",b))}else c=e;f=o.transcludeOnThisElement?$(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?$(e,t):null,o(s,c,l,i,f,o)}else s&&s(e,l.childNodes,n,r)}for(var l,c,u,d,p,f,h,m=[],g=0;g<e.length;g++)l=new oe,c=D(e[g],[],l,0===g?i:n,r),u=c.length?F(c,e[g],l,t,a,null,[],[],o):null,u&&u.scope&&P.$$addScopeClass(l.$$element),p=u&&u.terminal||!(d=e[g].childNodes)||!d.length?null:j(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||p)&&(m.push(g,u,p),f=!0,h=h||u),o=null;return f?s:null}function $(e,t,n){var a=function(a,i,r,o,s){return a||(a=e.$new(!1,s),a.$$transcluded=!0),t(a,i,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:o})};return a}function D(e,t,n,a,i){var r,o,s=e.nodeType,l=n.$attr;switch(s){case Ka:W(t,ct(U(e)),"E",a,i);for(var c,u,d,h,m,g,v=e.attributes,b=0,y=v&&v.length;y>b;b++){var w=!1,_=!1;c=v[b],u=c.name,m=Ba(c.value),h=ct(u),(g=pe.test(h))&&(u=u.replace(Oi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var T=h.replace(/(Start|End)$/,"");q(T)&&h===T+"Start"&&(w=u,_=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),d=ct(u.toLowerCase()),l[d]=u,(g||!n.hasOwnProperty(d))&&(n[d]=m,He(e,d)&&(n[d]=!0)),te(e,t,m,d,g),W(t,d,"A",a,i,w,_)}if(o=e.className,S(o)&&(o=o.animVal),C(o)&&""!==o)for(;r=f.exec(o);)d=ct(r[2]),W(t,d,"C",a,i)&&(n[d]=Ba(r[3])),o=o.substr(r.index+r[0].length);break;case Ya:if(11===ka)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Ya;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);J(t,e.nodeValue);break;case Qa:try{r=p.exec(e.nodeValue),r&&(d=ct(r[1]),W(t,d,"M",a,i)&&(n[d]=Ba(r[2])))}catch(k){}}return t.sort(Y),t}function R(e,t,n){var a=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ni("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Ka&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),a.push(e),e=e.nextSibling}while(i>0)}else a.push(e);return Aa(a)}function B(e,t,n){return function(a,i,r,o,s){return i=R(i[0],t,n),e(a,i,r,o,s)}}function F(e,a,r,o,s,c,u,d,p){function f(e,t,n,a){e&&(n&&(e=B(e,n,a)),e.require=v.require,e.directiveName=b,(N===v||v.$$isolateScope)&&(e=ae(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=B(t,n,a)),t.require=v.require,t.directiveName=b,(N===v||v.$$isolateScope)&&(t=ae(t,{isolateScope:!0})),d.push(t))}function h(e,t,n,a){var i;if(C(t)){var r=t.match(_),o=t.substring(r[0].length),s=r[1]||r[3],l="?"===r[2];if("^^"===s?n=n.parent():(i=a&&a[o],i=i&&i.instance),!i){var c="$"+o+"Controller";i=s?n.inheritedData(c):n.data(c)}if(!i&&!l)throw Ni("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}else if(Ua(t)){i=[];for(var u=0,d=t.length;d>u;u++)i[u]=h(e,t[u],n,a)}return i||null}function m(e,t,n,a,i,r){var o=ge();for(var s in a){var c=a[s],u={$scope:c===N||c.$$isolateScope?i:r,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"==d&&(d=t[c.name]);var p=l(d,u,!0,c.controllerAs);o[c.name]=p,U||e.data("$"+c.name+"Controller",p.instance)}return o}function g(e,t,i,o,s,l){function c(e,t,a){var i;return E(e)||(a=t,t=e,e=n),U&&(i=y),a||(a=U?S.parent():S),s(e,t,i,a,M)}var p,f,g,v,b,y,w,S,_;if(a===i?(_=r,S=r.$$element):(S=Aa(i),_=new oe(S,r)),N&&(b=t.$new(!0)),s&&(w=c,w.$$boundTransclude=s),I&&(y=m(S,_,w,I,b,t)),N&&(P.$$addScopeInfo(S,b,!0,!(O&&(O===N||O===N.$$originalDirective))),P.$$addScopeClass(S,!0),b.$$isolateBindings=N.$$isolateBindings,re(t,_,b,b.$$isolateBindings,N,b)),y){var C,T,k=N||x;k&&y[k.name]&&(C=k.$$bindings.bindToController,v=y[k.name],v&&v.identifier&&C&&(T=v,l.$$destroyBindings=re(t,_,v.instance,C,k)));for(p in y){v=y[p];var A=v();A!==v.instance&&(v.instance=A,S.data("$"+p+"Controller",A),v===T&&(l.$$destroyBindings(),l.$$destroyBindings=re(t,_,A,C,k)))}}for(p=0,f=u.length;f>p;p++)g=u[p],ie(g,g.isolateScope?b:t,S,_,g.require&&h(g.directiveName,g.require,S,y),w);var M=t;for(N&&(N.template||null===N.templateUrl)&&(M=b),e&&e(M,i.childNodes,n,s),p=d.length-1;p>=0;p--)g=d[p],ie(g,g.isolateScope?b:t,S,_,g.require&&h(g.directiveName,g.require,S,y),w)}p=p||{};for(var v,b,y,w,T,k=-Number.MAX_VALUE,x=p.newScopeDirective,I=p.controllerDirectives,N=p.newIsolateScopeDirective,O=p.templateDirective,M=p.nonTlbTranscludeDirective,j=!1,$=!1,U=p.hasElementTranscludeDirective,L=r.$$element=Aa(a),F=c,G=o,W=0,q=e.length;q>W;W++){v=e[W];var Y=v.$$start,J=v.$$end;if(Y&&(L=R(a,Y,J)),y=n,k>v.priority)break;if((T=v.scope)&&(v.templateUrl||(S(T)?(Q("new/isolated scope",N||x,v,L),N=v):Q("new/isolated scope",N,v,L)),x=x||v),b=v.name,!v.templateUrl&&v.controller&&(T=v.controller,I=I||ge(),Q("'"+b+"' controller",I[b],v,L),I[b]=v),(T=v.transclude)&&(j=!0,v.$$tlb||(Q("transclusion",M,v,L),M=v),"element"==T?(U=!0,k=v.priority,y=L,L=r.$$element=Aa(t.createComment(" "+b+": "+r[b]+" ")),a=L[0],ne(s,H(y),a),G=P(y,o,k,F&&F.name,{nonTlbTranscludeDirective:M})):(y=Aa(Ee(a)).contents(),L.empty(),G=P(y,o))),v.template)if($=!0,Q("template",O,v,L),O=v,T=A(v.template)?v.template(L,r):v.template,T=ue(T),v.replace){if(F=v,y=Ce(T)?[]:dt(Z(v.templateNamespace,Ba(T))),a=y[0],1!=y.length||a.nodeType!==Ka)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",b,"");ne(s,L,a);var ee={$attr:{}},te=D(a,[],ee),se=e.splice(W+1,e.length-(W+1));N&&V(te),e=e.concat(te).concat(se),K(r,ee),q=e.length}else L.html(T);if(v.templateUrl)$=!0,Q("template",O,v,L),O=v,v.replace&&(F=v),g=z(e.splice(W,e.length-W),L,r,s,j&&G,u,d,{controllerDirectives:I,newScopeDirective:x!==v&&x,newIsolateScopeDirective:N,templateDirective:O,nonTlbTranscludeDirective:M}),q=e.length;else if(v.compile)try{w=v.compile(L,r,G),A(w)?f(null,w,Y,J):w&&f(w.pre,w.post,Y,J)}catch(le){i(le,X(L))}v.terminal&&(g.terminal=!0,k=Math.max(k,v.priority))}return g.scope=x&&x.scope===!0,g.transcludeOnThisElement=j,g.templateOnThisElement=$,g.transclude=G,p.hasElementTranscludeDirective=U,g}function V(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function W(t,n,a,r,o,s,l){if(n===o)return null;var d=null;if(c.hasOwnProperty(n))for(var p,f=e.get(n+u),m=0,g=f.length;g>m;m++)try{p=f[m],(y(r)||r>p.priority)&&-1!=p.restrict.indexOf(a)&&(s&&(p=h(p,{$$start:s,$$end:l})),t.push(p),d=p)}catch(v){i(v)}return d}function q(t){if(c.hasOwnProperty(t))for(var n,a=e.get(t+u),i=0,r=a.length;r>i;i++)if(n=a[i],
n.multiElement)return!0;return!1}function K(e,t){var n=t.$attr,a=e.$attr,i=e.$$element;r(e,function(a,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==a&&(a+=("style"===i?";":" ")+t[i]),e.$set(i,a,!0,n[i]))}),r(t,function(t,r){"class"==r?(O(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,a[r]=n[r])})}function z(e,t,n,a,i,s,l,c){var u,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=A(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),o(v).then(function(o){var h,y,w,_;if(o=ue(o),m.replace){if(w=Ce(o)?[]:dt(Z(b,Ba(o))),h=w[0],1!=w.length||h.nodeType!==Ka)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},ne(a,t,h);var C=D(h,[],y);S(m.scope)&&V(C),e=C.concat(e),K(n,y)}else h=f,t.html(o);for(e.unshift(g),u=F(e,h,n,i,t,m,s,l,c),r(a,function(e,n){e==h&&(a[n]=t[0])}),d=j(t[0].childNodes,i);p.length;){var T=p.shift(),k=p.shift(),A=p.shift(),x=p.shift(),I=t[0];if(!T.$$destroyed){if(k!==f){var E=k.className;c.hasElementTranscludeDirective&&m.replace||(I=Ee(h)),ne(A,Aa(k),I),O(Aa(I),E)}_=u.transcludeOnThisElement?$(T,u.transclude,x):x,u(d,T,I,a,_,u)}}p=null}),function(e,t,n,a,i){var r=i;t.$$destroyed||(p?p.push(t,n,a,r):(u.transcludeOnThisElement&&(r=$(t,u.transclude,i)),u(d,t,n,a,r,u)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Q(e,t,n,a){function i(e){return e?" (module: "+e+")":""}if(t)throw Ni("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,X(a))}function J(e,t){var n=a(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),a=!!t.length;return a&&P.$$addBindingClass(t),function(e,t){var i=t.parent();a||P.$$addBindingClass(i),P.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=wa(e||"html")){case"svg":case"math":var a=t.createElement("div");return a.innerHTML="<"+e+">"+n+"</"+e+">",a.childNodes[0].childNodes;default:return n}}function ee(e,t){if("srcdoc"==t)return x.HTML;var n=U(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?x.RESOURCE_URL:void 0}function te(e,t,n,i,r){var o=ee(e,i);r=b[i]||r;var s=a(n,!0,o,r);if(s){if("multiple"===i&&"select"===U(e))throw Ni("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=ge());if(T.test(i))throw Ni("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[i];u!==n&&(s=u&&a(u,!0,o,r),n=u),s&&(l[i]=s(e),(c[i]||(c[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function ne(e,n,a){var i,r,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,r=e.length;r>i;i++)if(e[i]==o){e[i++]=a;for(var c=i,u=c+s-1,d=e.length;d>c;c++,u++)d>u?e[c]=e[u]:delete e[c];e.length-=s-1,e.context===o&&(e.context=a);break}l&&l.replaceChild(a,o);var p=t.createDocumentFragment();p.appendChild(o),Aa.hasData(o)&&(Aa(a).data(Aa(o).data()),xa?(Ra=!0,xa.cleanData([o])):delete Aa.cache[o[Aa.expando]]);for(var f=1,h=n.length;h>f;f++){var m=n[f];Aa(m).remove(),p.appendChild(m),delete n[f]}n[0]=a,n.length=1}function ae(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function ie(e,t,n,a,r,o){try{e(t,n,a,r,o)}catch(s){i(s,X(n))}}function re(e,t,n,i,o,l){var c;r(i,function(i,r){var l,u,d,p,f=i.attrName,h=i.optional,g=i.mode;switch(g){case"@":h||Sa.call(t,f)||(n[r]=t[f]=void 0),t.$observe(f,function(e){C(e)&&(n[r]=e)}),t.$$observers[f].$$scope=e,C(t[f])&&(n[r]=a(t[f])(e));break;case"=":if(!Sa.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;u=s(t[f]),p=u.literal?G:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw l=n[r]=u(e),Ni("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[f],o.name)},l=n[r]=u(e);var v=function(t){return p(t,n[r])||(p(t,l)?d(e,t=n[r]):n[r]=t),l=t};v.$stateful=!0;var b;b=i.collection?e.$watchCollection(t[f],v):e.$watch(s(t[f],v),null,u.literal),c=c||[],c.push(b);break;case"&":if(u=t.hasOwnProperty(f)?s(t[f]):m,u===m&&h)break;n[r]=function(t){return u(e,t)}}});var u=c?function(){for(var e=0,t=c.length;t>e;++e)c[e]()}:m;return l&&u!==m?(l.$on("$destroy",u),m):u}var oe=function(e,t){if(t){var n,a,i,r=Object.keys(t);for(n=0,a=r.length;a>n;n++)i=r[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:ct,$addClass:function(e){e&&e.length>0&&I.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&I.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ut(e,t);n&&n.length&&I.addClass(this.$$element,n);var a=ut(t,e);a&&a.length&&I.removeClass(this.$$element,a)},$set:function(e,t,n,a){var o,s=this.$$element[0],l=He(s,e),c=We(e),u=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,u=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=ce(e,"-"))),o=U(this.$$element),"a"===o&&"href"===e||"img"===o&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===o&&"srcset"===e){for(var d="",p=Ba(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,m=p.split(h),g=Math.floor(m.length/2),v=0;g>v;v++){var b=2*v;d+=N(Ba(m[b]),!0),d+=" "+Ba(m[b+1])}var w=Ba(m[2*v]).split(/\s/);d+=N(Ba(w[0]),!0),2===w.length&&(d+=" "+Ba(w[1])),this[e]=t=d}n!==!1&&(null===t||y(t)?this.$$element.removeAttr(a):this.$$element.attr(a,t));var S=this.$$observers;S&&r(S[u],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,a=n.$$observers||(n.$$observers=ge()),i=a[e]||(a[e]=[]);return i.push(t),v.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){L(i,t)}}};var se=a.startSymbol(),le=a.endSymbol(),ue="{{"==se||"}}"==le?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,le)},pe=/^ngAttr[A-Z]/;return P.$$addBindingInfo=k?function(e,t){var n=e.data("$binding")||[];Ua(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,P.$$addBindingClass=k?function(e){O(e,"ng-binding")}:m,P.$$addScopeInfo=k?function(e,t,n,a){var i=n?a?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,P.$$addScopeClass=k?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:m,P}]}function ct(e){return _e(e.replace(Oi,""))}function ut(e,t){var n="",a=e.split(/\s+/),i=t.split(/\s+/);e:for(var r=0;r<a.length;r++){for(var o=a[r],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function dt(e){e=Aa(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Qa&&Na.call(e,t,1)}return e}function pt(e,t){if(t&&C(t))return t;if(C(e)){var n=Mi.exec(e);if(n)return n[3]}}function ft(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),S(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,r){function o(e,t,n,i){if(!e||!S(e.$scope))throw a("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(a,s,l,c){var u,p,f,h;if(l=l===!0,c&&C(c)&&(h=c),C(a)){if(p=a.match(Mi),!p)throw Pi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",a);f=p[1],h=h||p[3],a=e.hasOwnProperty(f)?e[f]:he(s.$scope,f,!0)||(t?he(r,f,!0):n),pe(a,f,!0)}if(l){var m=(Ua(a)?a[a.length-1]:a).prototype;u=Object.create(m||null),h&&o(s,h,u,f||a.name);var g;return g=d(function(){var e=i.invoke(a,u,s,f);return e!==u&&(S(e)||A(e))&&(u=e,h&&o(s,h,u,f||a.name)),u},{instance:u,identifier:h})}return u=i.instantiate(a,s,f),h&&o(s,h,u,f||a.name),u}}]}function ht(){this.$get=["$window",function(e){return Aa(e.document)}]}function mt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function gt(e){return S(e)?k(e)?e.toISOString():K(e):e}function vt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||y(e)||(Ua(e)?r(e,function(e,a){t.push(ae(n)+"="+ae(gt(e)))}):t.push(ae(n)+"="+ae(gt(e))))}),t.join("&")}}}function bt(){this.$get=function(){return function(e){function t(e,a,i){null===e||y(e)||(Ua(e)?r(e,function(e,n){t(e,a+"["+(S(e)?n:"")+"]")}):S(e)&&!k(e)?o(e,function(e,n){t(e,a+(i?"":"[")+n+(i?"":"]"))}):n.push(ae(a)+"="+ae(gt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function yt(e,t){if(C(e)){var n=e.replace(Li,"").trim();if(n){var a=t("Content-Type");(a&&0===a.indexOf($i)||wt(n))&&(e=z(n))}}return e}function wt(e){var t=e.match(Ri);return t&&Ui[t[0]].test(e)}function St(e){function t(e,t){e&&(a[e]=a[e]?a[e]+", "+t:t)}var n,a=ge();return C(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(wa(Ba(e.substr(0,n))),Ba(e.substr(n+1)))}):S(e)&&r(e,function(e,n){t(wa(n),Ba(e))}),a}function _t(e){var t;return function(n){if(t||(t=St(e)),n){var a=t[wa(n)];return void 0===a&&(a=null),a}return t}}function Ct(e,t,n,a){return A(a)?a(e,t,n):(r(a,function(a){e=a(e,t,n)}),e)}function Tt(e){return e>=200&&300>e}function kt(){var e=this.defaults={transformResponse:[yt],transformRequest:[function(e){return!S(e)||N(e)||P(e)||O(e)?e:K(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Di),put:F(Di),patch:F(Di)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,u,p,f){function h(t){function o(e){var t=d({},e);return e.data?t.data=Ct(e.data,e.headers,e.status,c.transformResponse):t.data=e.data,Tt(e.status)?t:p.reject(t)}function s(e,t){var n,a={};return r(e,function(e,i){A(e)?(n=e(t),null!=n&&(a[i]=n)):a[i]=e}),a}function l(t){var n,a,i,r=e.headers,o=d({},t.headers);r=d({},r.common,r[wa(t.method)]);e:for(n in r){a=wa(n);for(i in o)if(wa(i)===a)continue e;o[n]=r[n]}return s(o,F(t))}if(!$a.isObject(t))throw a("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=l(t),c.method=_a(c.method),c.paramSerializer=C(c.paramSerializer)?f.get(c.paramSerializer):c.paramSerializer;var u=function(t){var a=t.headers,i=Ct(t.data,_t(a),n,t.transformRequest);return y(i)&&r(a,function(e,t){"content-type"===wa(t)&&delete a[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(o,o)},h=[u,n],m=p.when(c);for(r(T,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)});h.length;){var g=h.shift(),b=h.shift();m=m.then(g,b)}return i?(m.success=function(e){return pe(e,"fn"),m.then(function(t){e(t.data,t.status,t.headers,c)}),m},m.error=function(e){return pe(e,"fn"),m.then(null,function(t){e(t.data,t.status,t.headers,c)}),m}):(m.success=Fi("success"),m.error=Fi("error")),m}function m(e){r(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){h[e]=function(t,n,a){return h(d({},a||{},{method:e,url:t,data:n}))}})}function v(a,i){function r(e,n,a,i){function r(){o(n,e,a,i)}f&&(Tt(e)?f.put(T,[e,n,St(a),i]):f.remove(T)),t?u.$applyAsync(r):(r(),u.$$phase||u.$apply())}function o(e,t,n,i){t=t>=-1?t:0,(Tt(t)?g.resolve:g.reject)({data:e,status:t,headers:_t(n),config:a,statusText:i})}function c(e){o(e.data,e.status,F(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(a);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,g=p.defer(),v=g.promise,C=a.headers,T=b(a.url,a.paramSerializer(a.params));if(h.pendingRequests.push(a),v.then(d,d),!a.cache&&!e.cache||a.cache===!1||"GET"!==a.method&&"JSONP"!==a.method||(f=S(a.cache)?a.cache:S(e.cache)?e.cache:_),f&&(m=f.get(T),w(m)?j(m)?m.then(c,c):Ua(m)?o(m[1],m[0],F(m[2]),m[3]):o(m,200,{},"OK"):f.put(T,v)),y(m)){var k=xn(a.url)?l()[a.xsrfCookieName||e.xsrfCookieName]:n;k&&(C[a.xsrfHeaderName||e.xsrfHeaderName]=k),s(a.method,T,i,r,C,a.timeout,a.withCredentials,a.responseType)}return v}function b(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var _=c("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var T=[];return r(o,function(e){T.unshift(C(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=e,h}]}function At(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function xt(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,a){return It(e,a,e.defer,t.angular.callbacks,n[0])}]}function It(e,t,n,a,i){function o(e,t,n){var r=i.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){ai(r,"load",o),ai(r,"error",o),i.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||a[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},ni(r,"load",o),ni(r,"error",o),i.body.appendChild(r),o}return function(i,s,l,c,u,d,p,f){function h(){b&&b(),S&&S.abort()}function g(t,a,i,r,o){w(T)&&n.cancel(T),b=S=null,t(a,i,r,o),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==wa(i)){var v="_"+(a.counter++).toString(36);a[v]=function(e){a[v].data=e,a[v].called=!0};var b=o(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){g(c,e,a[v].data,"",t),a[v]=m})}else{var S=t(i,s);S.open(i,s,!0),r(u,function(e,t){w(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==An(s).protocol?404:0),g(c,n,t,S.getAllResponseHeaders(),e)};var _=function(){g(c,-1,null,null,"")};if(S.onerror=_,S.onabort=_,p&&(S.withCredentials=!0),f)try{S.responseType=f}catch(C){if("json"!==f)throw C}S.send(y(l)?null:l)}if(d>0)var T=n(h,d);else j(d)&&d.then(h)}}function Et(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,a,i){function r(e){return"\\\\\\"+e}function o(n){return n.replace(p,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=K(e)}return e}function l(r,l,p,f){function h(e){try{return e=I(e),f&&!w(e)?e:s(e)}catch(t){a(Gi.interr(r,t))}}f=!!f;for(var m,g,v,b=0,S=[],_=[],C=r.length,T=[],k=[];C>b;){if(-1==(m=r.indexOf(e,b))||-1==(g=r.indexOf(t,m+c))){b!==C&&T.push(o(r.substring(b)));break}b!==m&&T.push(o(r.substring(b,m))),v=r.substring(m+c,g),S.push(v),_.push(n(v,h)),b=g+u,k.push(T.length),T.push("")}if(p&&T.length>1&&Gi.throwNoconcat(r),!l||S.length){var x=function(e){for(var t=0,n=S.length;n>t;t++){if(f&&y(e[t]))return;T[k[t]]=e[t]}return T.join("")},I=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return d(function(e){var t=0,n=S.length,i=new Array(n);try{for(;n>t;t++)i[t]=_[t](e);return x(i)}catch(o){a(Gi.interr(r,o))}},{exp:r,expressions:S,$$watchDelegate:function(e,t){var n;return e.$watchGroup(_,function(a,i){var r=x(a);A(t)&&t.call(this,r,a!==i?n:r,e),n=r})}})}}var c=e.length,u=t.length,p=new RegExp(e.replace(/./g,r),"g"),f=new RegExp(t.replace(/./g,r),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Nt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,a){function i(i,o,s,l){var c=arguments.length>4,u=c?H(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(l)&&!l,m=(h?a:n).defer(),g=m.promise;return s=w(s)?s:0,g.then(null,null,c?function(){i.apply(null,u)}:i),g.$$intervalId=d(function(){m.notify(f++),s>0&&f>=s&&(m.resolve(f),p(g.$$intervalId),delete r[g.$$intervalId]),h||e.$apply()},o),r[g.$$intervalId]=m,g}var r={};return i.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},i}]}function Ot(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function Pt(e,t){var n=An(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Hi[n.protocol]||null}function Mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var a=An(e);t.$$path=decodeURIComponent(n&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname),t.$$search=ee(a.search),t.$$hash=decodeURIComponent(a.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function jt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function $t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Dt(e){return e.replace(/(#.+)|#$/,"$1")}function Rt(e){return e.substr(0,$t(e).lastIndexOf("/")+1)}function Ut(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Lt(e,t,n){this.$$html5=!0,n=n||"",Pt(e,this),this.$$parse=function(e){var n=jt(t,e);if(!C(n))throw Wi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),n=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(a,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var r,o,s;return w(r=jt(e,a))?(o=r,s=w(r=jt(n,r))?t+(jt("/",r)||r):e+o):w(r=jt(t,a))?s=t+r:t==a+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Bt(e,t,n){Pt(e,this),this.$$parse=function(a){function i(e,t,n){var a,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(a=i.exec(e),a?a[1]:e)}var r,o=jt(e,a)||jt(t,a);y(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",y(o)&&(e=a,this.replace())):(r=jt(n,o),y(r)&&(r=o)),Mt(r,this),this.$$path=i(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),a=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ot(this.$$path)+(t?"?"+t:"")+a,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return $t(e)==$t(t)?(this.$$parse(t),!0):!1}}function Ft(e,t,n){this.$$html5=!0,Bt.apply(this,arguments),this.$$parseLinkUrl=function(a,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var r,o;return e==$t(a)?r=a:(o=jt(t,a))?r=e+n+o:t===a+"/"&&(r=t),r&&this.$$parse(r),!!r},this.$$compose=function(){var t=te(this.$$search),a=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ot(this.$$path)+(t?"?"+t:"")+a,this.$$absUrl=e+n+this.$$url}}function Gt(e){return function(){return this[e]}}function Vt(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ht(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):S(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,a,i,r,o){function s(e,t,n){var i=c.url(),r=c.$$state;try{a.url(e,t,n),c.$$state=a.state()}catch(o){throw c.url(i),c.$$state=r,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,p=a.baseHref(),f=a.url();if(t.enabled){if(!p&&t.requireBase)throw Wi("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Ut(f)+(p||"/"),u=i.history?Lt:Ft}else d=$t(f),u=Bt;var h=Rt(d);c=new u(d,h,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=a.state();var m=/^\s*(javascript|mailto):/i;r.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Aa(e.target);"a"!==U(i[0]);)if(i[0]===r[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");S(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=An(s.animVal).href),m.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=a.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Dt(c.absUrl())!=Dt(f)&&a.url(c.absUrl(),!0);var g=!0;return a.onUrlChange(function(e,t){return y(jt(h,e))?void(o.location.href=e):(n.$evalAsync(function(){var a,i=c.absUrl(),r=c.$$state;c.$$parse(e),c.$$state=t,a=n.$broadcast("$locationChangeStart",e,i,t,r).defaultPrevented,c.absUrl()===e&&(a?(c.$$parse(i),c.$$state=r,s(i,!1,r)):(g=!1,l(i,r)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Dt(a.url()),t=Dt(c.absUrl()),r=a.state(),o=c.$$replace,u=e!==t||c.$$html5&&i.history&&r!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var t=c.absUrl(),a=n.$broadcast("$locationChangeStart",t,e,c.$$state,r).defaultPrevented;c.absUrl()===t&&(a?(c.$$parse(e),c.$$state=r):(u&&s(t,o,r===c.$$state?null:c.$$state),l(e,r)))})),c.$$replace=!1}),c}]}function Wt(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function a(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return r(arguments,function(t){e.push(a(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function qt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Ki("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Kt(e,t){if(e+="",!C(e))throw Ki("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function zt(e,t){if(e){if(e.constructor===e)throw Ki("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Ki("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Ki("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Ki("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Yt(e,t){if(e){if(e.constructor===e)throw Ki("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===zi||e===Yi||e===Qi)throw Ki("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Qt(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Ki("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function Jt(e,t){return"undefined"!=typeof e?e:t}function Xt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Zt(e,t){var n=e(t);return!n.$stateful}function en(e,t){var n,a;switch(e.type){case er.Program:n=!0,r(e.body,function(e){en(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case er.Literal:e.constant=!0,e.toWatch=[];break;case er.UnaryExpression:en(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case er.BinaryExpression:en(e.left,t),en(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case er.LogicalExpression:en(e.left,t),en(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case er.ConditionalExpression:en(e.test,t),en(e.alternate,t),en(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case er.Identifier:e.constant=!1,e.toWatch=[e];break;case er.MemberExpression:en(e.object,t),e.computed&&en(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case er.CallExpression:n=e.filter?Zt(t,e.callee.name):!1,a=[],r(e.arguments,function(e){en(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&Zt(t,e.callee.name)?a:[e];break;case er.AssignmentExpression:en(e.left,t),en(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case er.ArrayExpression:n=!0,a=[],r(e.elements,function(e){en(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=a;break;case er.ObjectExpression:n=!0,a=[],r(e.properties,function(e){en(e.value,t),n=n&&e.value.constant,e.value.constant||a.push.apply(a,e.value.toWatch)}),e.constant=n,e.toWatch=a;break;case er.ThisExpression:e.constant=!1,e.toWatch=[]}}function tn(e){if(1==e.length){var t=e[0].expression,a=t.toWatch;return 1!==a.length?a:a[0]!==t?a:n}}function nn(e){return e.type===er.Identifier||e.type===er.MemberExpression}function an(e){return 1===e.body.length&&nn(e.body[0].expression)?{type:er.AssignmentExpression,left:e.body[0].expression,right:{type:er.NGValueParameter},operator:"="}:void 0}function rn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===er.Literal||e.body[0].expression.type===er.ArrayExpression||e.body[0].expression.type===er.ObjectExpression)}function on(e){return e.constant}function sn(e,t){this.astBuilder=e,this.$filter=t}function ln(e,t){this.astBuilder=e,this.$filter=t}function cn(e){return"constructor"==e}function un(e){return A(e.valueOf)?e.valueOf():nr.call(e)}function dn(){var e=ge(),t=ge();this.$get=["$filter",function(a){function i(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=un(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function o(e,t,a,r,o){var s,l=r.inputs;if(1===l.length){var c=i;return l=l[0],e.$watch(function(e){var t=l(e);return i(t,c)||(s=r(e,n,n,[t]),c=t&&un(t)),s},t,a,o)}for(var u=[],d=[],p=0,f=l.length;f>p;p++)u[p]=i,d[p]=null;return e.$watch(function(e){for(var t=!1,a=0,o=l.length;o>a;a++){var c=l[a](e);(t||(t=!i(c,u[a])))&&(d[a]=c,u[a]=c&&un(c))}return t&&(s=r(e,n,n,d)),s},t,a,o)}function s(e,t,n,a){var i,r;return i=e.$watch(function(e){return a(e)},function(e,n,a){r=e,A(t)&&t.apply(this,arguments),w(e)&&a.$$postDigest(function(){w(r)&&i()})},n)}function l(e,t,n,a){function i(e){var t=!0;return r(e,function(e){w(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return a(e)},function(e,n,a){s=e,A(t)&&t.call(this,e,n,a),i(e)&&a.$$postDigest(function(){i(s)&&o()})},n)}function c(e,t,n,a){var i;return i=e.$watch(function(e){return a(e)},function(e,n,a){A(t)&&t.apply(this,arguments),i()},n)}function u(e,t){if(!t)return e;var n=e.$$watchDelegate,a=n!==l&&n!==s,i=a?function(n,a,i,r){var o=e(n,a,i,r);return t(o,n,a)}:function(n,a,i,r){var o=e(n,a,i,r),s=t(o,n,a);return w(o)?s:o};return e.$$watchDelegate&&e.$$watchDelegate!==o?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=o,i.inputs=e.inputs?e.inputs:[e]),i}var d=Ga().noUnsafeEval,p={csp:d,expensiveChecks:!1},f={csp:d,expensiveChecks:!0};return function(n,i,r){var d,h,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=r?t:e;if(d=v[g],!d){":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2));var b=r?f:p,y=new Zi(b),w=new tr(y,a,b);d=w.parse(n),d.constant?d.$$watchDelegate=c:h?d.$$watchDelegate=d.literal?l:s:d.inputs&&(d.$$watchDelegate=o),v[g]=d}return u(d,i);case"function":return u(n,i);default:return m}}}]}function pn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return hn(function(t){e.$evalAsync(t)},t)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(e,t){return hn(function(t){e.defer(t)},t)}]}function hn(e,t){function i(e,t,n){function a(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[a(t),a(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(e){var a,i,r;r=e.pending,e.processScheduled=!1,e.pending=n;for(var o=0,s=r.length;s>o;++o){i=r[o][0],a=r[o][e.status];try{A(a)?i.resolve(a(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(l){i.reject(l),t(l)}}}function c(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function u(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function p(e){var t=new u,n=0,a=Ua(e)?[]:{};return r(e,function(e,i){n++,b(e).then(function(e){a.hasOwnProperty(i)||(a[i]=e,--n||t.resolve(a))},function(e){a.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(a),t.promise}var f=a("$q",TypeError),h=function(){return new u};d(o.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var a=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([a,e,t,n]),this.$$state.status>0&&c(this.$$state),a.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),d(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,a;a=i(this,this.$$resolve,this.$$reject);try{(S(e)||A(e))&&(n=e&&e.then),A(n)?(this.promise.$$state.status=-1,n.call(e,a[0],a[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(r){a[1](r),t(r)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var a=this.promise.$$state.pending;this.promise.$$state.status<=0&&a&&a.length&&e(function(){for(var e,i,r=0,o=a.length;o>r;r++){i=a[r][0],e=a[r][3];try{i.notify(A(e)?e(n):n)}catch(s){t(s)}}})}});var m=function(e){var t=new u;return t.reject(e),t.promise},g=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},v=function(e,t,n){var a=null;try{A(n)&&(a=n())}catch(i){return g(i,!1)}return j(a)?a.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},b=function(e,t,n,a){var i=new u;return i.resolve(e),i.promise.then(t,n,a)},w=b,_=function C(e){function t(e){a.resolve(e)}function n(e){a.reject(e)}if(!A(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof C))return new C(e);var a=new u;return e(t,n),a.promise};return _.defer=h,_.reject=m,_.when=b,_.resolve=w,_.all=p,_}function mn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,r=i?function(e){var t=n(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=i,r}]}function gn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=a("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(a,c,u,d){function p(e){e.currentScope.$$destroyed=!0}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(T.$$phase)throw n("inprog","{0} already in progress",T.$$phase);
T.$$phase=e}function g(){T.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function _(){for(;I.length;)try{I.shift()()}catch(e){c(e)}s=null}function C(){null===s&&(s=d.defer(function(){T.$apply(_)}))}f.prototype={constructor:f,$new:function(t,n){var a;return n=n||this,t?(a=new f,a.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),a=new this.$$ChildScope),a.$parent=n,a.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=a,n.$$childTail=a):n.$$childHead=n.$$childTail=a,(t||n!=this)&&a.$on("$destroy",p),a},$watch:function(e,t,n,a){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var r=this,s=r.$$watchers,l={fn:t,last:w,get:i,exp:a||e,eq:!!n};return o=null,A(t)||(l.fn=m),s||(s=r.$$watchers=[]),s.unshift(l),v(this,1),function(){L(s,l)>=0&&v(r,-1),o=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(i,i,s)):t(i,a,s)}var a=new Array(e.length),i=new Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(i,i,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){i[0]=e,a[0]=n,t(i,e===n?i:a,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){i[t]=e,a[t]=r,l||(l=!0,s.$evalAsync(n))});o.push(r)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,a,s,l;if(!y(r)){if(S(r))if(i(r)){o!==f&&(o=f,g=o.length=0,d++),t=r.length,g!==t&&(d++,o.length=g=t);for(var c=0;t>c;c++)l=o[c],s=r[c],a=l!==l&&s!==s,a||l===s||(d++,o[c]=s)}else{o!==h&&(o=h={},g=0,d++),t=0;for(n in r)Sa.call(r,n)&&(t++,s=r[n],l=o[n],n in o?(a=l!==l&&s!==s,a||l===s||(d++,o[n]=s)):(g++,o[n]=s,d++));if(g>t){d++;for(n in o)Sa.call(r,n)||(g--,delete o[n])}}else o!==r&&(o=r,d++);return d}}function a(){if(m?(m=!1,t(r,r,l)):t(r,s,l),c)if(S(r))if(i(r)){s=new Array(r.length);for(var e=0;e<r.length;e++)s[e]=r[e]}else{s={};for(var n in r)Sa.call(r,n)&&(s[n]=r[n])}else s=r}n.$stateful=!0;var r,o,s,l=this,c=t.length>1,d=0,p=u(e,n),f=[],h={},m=!0,g=0;return this.$watch(p,a)},$digest:function(){var e,a,i,r,l,u,p,f,m,v,b=t,y=this,S=[];h("$digest"),d.$$checkUrlChange(),this===T&&null!==s&&(d.defer.cancel(s),_()),o=null;do{for(u=!1,f=y;k.length;){try{v=k.shift(),v.scope.$eval(v.expression,v.locals)}catch(C){c(C)}o=null}e:do{if(r=f.$$watchers)for(l=r.length;l--;)try{if(e=r[l])if((a=e.get(f))===(i=e.last)||(e.eq?G(a,i):"number"==typeof a&&"number"==typeof i&&isNaN(a)&&isNaN(i))){if(e===o){u=!1;break e}}else u=!0,o=e,e.last=e.eq?B(a,null):a,e.fn(a,i===w?a:i,f),5>b&&(m=4-b,S[m]||(S[m]=[]),S[m].push({msg:A(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:a,oldVal:i}))}catch(C){c(C)}if(!(p=f.$$watchersCount&&f.$$childHead||f!==y&&f.$$nextSibling))for(;f!==y&&!(p=f.$$nextSibling);)f=f.$parent}while(f=p);if((u||k.length)&&!b--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,S)}while(u||k.length);for(g();x.length;)try{x.shift()()}catch(C){c(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===T&&d.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){T.$$phase||k.length||d.defer(function(){k.length&&T.$digest()}),k.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{g()}}catch(t){c(t)}finally{try{T.$digest()}catch(t){throw c(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&I.push(t),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var a=this;do a.$$listenerCount[e]||(a.$$listenerCount[e]=0),a.$$listenerCount[e]++;while(a=a.$parent);var i=this;return function(){var a=n.indexOf(t);-1!==a&&(n[a]=null,b(i,1,e))}},$emit:function(e,t){var n,a,i,r=[],o=this,s=!1,l={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=V([l],arguments,1);do{for(n=o.$$listeners[e]||r,l.currentScope=o,a=0,i=n.length;i>a;a++)if(n[a])try{n[a].apply(null,u)}catch(d){c(d)}else n.splice(a,1),a--,i--;if(s)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,a=n,i=n,r={name:e,targetScope:n,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return r;for(var o,s,l,u=V([r],arguments,1);a=i;){for(r.currentScope=a,o=a.$$listeners[e]||[],s=0,l=o.length;l>s;s++)if(o[s])try{o[s].apply(null,u)}catch(d){c(d)}else o.splice(s,1),s--,l--;if(!(i=a.$$listenerCount[e]&&a.$$childHead||a!==n&&a.$$nextSibling))for(;a!==n&&!(i=a.$$nextSibling);)a=a.$parent}return r.currentScope=null,r}};var T=new f,k=T.$$asyncQueue=[],x=T.$$postDigestQueue=[],I=T.$$applyAsyncQueue=[];return T}]}function vn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,a){var i,r=a?t:e;return i=An(n).href,""===i||i.match(r)?n:"unsafe:"+i}}}function bn(e){if("self"===e)return e;if(C(e)){if(e.indexOf("***")>-1)throw ar("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Fa(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(x(e))return new RegExp("^"+e.source+"$");throw ar("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yn(e){var t=[];return w(e)&&r(e,function(e){t.push(bn(e))}),t}function wn(){this.SCE_CONTEXTS=ir;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=yn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=yn(e)),t},this.$get=["$injector",function(n){function a(e,t){return"self"===e?xn(t):!!e.exec(t.href)}function i(n){var i,r,o=An(n.toString()),s=!1;for(i=0,r=e.length;r>i;i++)if(a(e[i],o)){s=!0;break}if(s)for(i=0,r=t.length;r>i;i++)if(a(t[i],o)){s=!1;break}return s}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function o(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw ar("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw ar("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||y(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===ir.RESOURCE_URL){if(i(t))return t;throw ar("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ir.HTML)return c(t);throw ar("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw ar("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=r(),d={};return d[ir.HTML]=r(u),d[ir.CSS]=r(u),d[ir.URL]=r(u),d[ir.JS]=r(u),d[ir.RESOURCE_URL]=r(d[ir.URL]),{trustAs:o,getTrusted:l,valueOf:s}}]}function Sn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>ka)throw ar("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var a=F(ir);a.isEnabled=function(){return e},a.trustAs=n.trustAs,a.getTrusted=n.getTrusted,a.valueOf=n.valueOf,e||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=g),a.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return a.getTrusted(e,t)})};var i=a.parseAs,o=a.getTrusted,s=a.trustAs;return r(ir,function(e,t){var n=wa(t);a[_e("parse_as_"+n)]=function(t){return i(e,t)},a[_e("get_trusted_"+n)]=function(t){return o(e,t)},a[_e("trust_as_"+n)]=function(t){return s(e,t)}}),a}]}function _n(){this.$get=["$window","$document",function(e,t){var n,a,i={},r=f((/android (\d+)/.exec(wa((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,u=!1,d=!1;if(c){for(var p in c)if(a=l.exec(p)){n=a[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),d=!!("animation"in c||n+"Animation"in c),!r||u&&d||(u=C(c.webkitTransition),d=C(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||o),hasEvent:function(e){if("input"===e&&11>=ka)return!1;if(y(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Ga(),vendorPrefix:n,transitions:u,animations:d,android:r}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,a){function i(r,o){function s(e){if(!o)throw Ni("tpload","Failed to load template: {0} (HTTP status: {1} {2})",r,e.status,e.statusText);return n.reject(e)}i.totalPendingRequests++,C(r)&&e.get(r)||(r=a.getTrustedResourceUrl(r));var l=t.defaults&&t.defaults.transformResponse;Ua(l)?l=l.filter(function(e){return e!==yt}):l===yt&&(l=null);var c={cache:e,transformResponse:l};return t.get(r,c)["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(r,t.data),t.data},s)}return i.totalPendingRequests=0,i}]}function Tn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var a={};return a.findBindings=function(e,t,n){var a=e.getElementsByClassName("ng-binding"),i=[];return r(a,function(e){var a=$a.element(e).data("$binding");a&&r(a,function(a){if(n){var r=new RegExp("(^|\\s)"+Fa(t)+"(\\s|\\||$)");r.test(a)&&i.push(e)}else-1!=a.indexOf(t)&&i.push(e)})}),i},a.findModels=function(e,t,n){for(var a=["ng-","data-ng-","ng\\:"],i=0;i<a.length;++i){var r=n?"=":"*=",o="["+a[i]+"model"+r+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},a.getLocation=function(){return n.url()},a.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},a.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},a}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,a,i){function r(r,s,l){A(r)||(l=s,s=r,r=m);var c,u=H(arguments,3),d=w(l)&&!l,p=(d?a:n).defer(),f=p.promise;return c=t.defer(function(){try{p.resolve(r.apply(null,u))}catch(t){p.reject(t),i(t)}finally{delete o[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=c,o[c]=p,f}var o={};return r.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},r}]}function An(e){var t=e;return ka&&(rr.setAttribute("href",t),t=rr.href),rr.setAttribute("href",t),{href:rr.href,protocol:rr.protocol?rr.protocol.replace(/:$/,""):"",host:rr.host,search:rr.search?rr.search.replace(/^\?/,""):"",hash:rr.hash?rr.hash.replace(/^#/,""):"",hostname:rr.hostname,port:rr.port,pathname:"/"===rr.pathname.charAt(0)?rr.pathname:"/"+rr.pathname}}function xn(e){var t=C(e)?An(e):e;return t.protocol===or.protocol&&t.host===or.host}function In(){this.$get=v(e)}function En(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},a={},i="";return function(){var e,r,o,s,l,c=n.cookie||"";if(c!==i)for(i=c,e=i.split("; "),a={},o=0;o<e.length;o++)r=e[o],s=r.indexOf("="),s>0&&(l=t(r.substring(0,s)),y(a[l])&&(a[l]=t(r.substring(s+1))));return a}}function Nn(){this.$get=En}function On(e){function t(a,i){if(S(a)){var o={};return r(a,function(e,n){o[n]=t(n,e)}),o}return e.factory(a+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Dn),t("date",Yn),t("filter",Pn),t("json",Qn),t("limitTo",Jn),t("lowercase",dr),t("number",Rn),t("orderBy",Xn),t("uppercase",pr)}function Pn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw a("filter")("notarray","Expected array but received: {0}",e)}var r,o,s=$n(t);switch(s){case"function":r=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=Mn(t,n,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function Mn(e,t,n){var a,i=S(e)&&"$"in e;return t===!0?t=G:A(t)||(t=function(e,t){return y(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!b(e)?!1:(e=wa(""+e),t=wa(""+t),-1!==e.indexOf(t))}),a=function(a){return i&&!S(a)?jn(a,e.$,t,!1):jn(a,e,t,n)}}function jn(e,t,n,a,i){var r=$n(e),o=$n(t);if("string"===o&&"!"===t.charAt(0))return!jn(e,t.substring(1),n,a);if(Ua(e))return e.some(function(e){return jn(e,t,n,a)});switch(r){case"object":var s;if(a){for(s in e)if("$"!==s.charAt(0)&&jn(e[s],t,n,!0))return!0;return i?!1:jn(e,t,n,!1)}if("object"===o){for(s in t){var l=t[s];if(!A(l)&&!y(l)){var c="$"===s,u=c?e:e[s];if(!jn(u,l,n,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function $n(e){return null===e?"null":typeof e}function Dn(e){var t=e.NUMBER_FORMATS;return function(e,n,a){return y(n)&&(n=t.CURRENCY_SYM),y(a)&&(a=t.PATTERNS[1].maxFrac),null==e?e:Un(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,a).replace(/\u00A4/g,n)}}function Rn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Un(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Un(e,t,n,a,i){if(S(e))return"";var r=0>e;e=Math.abs(e);var o=e===1/0;if(!o&&!isFinite(e))return"";var s=e+"",l="",c=!1,u=[];if(o&&(l=""),!o&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?e=0:(l=s,c=!0)}if(o||c)i>0&&1>e&&(l=e.toFixed(i),e=parseFloat(l),l=l.replace(sr,a));else{var p=(s.split(sr)[1]||"").length;y(i)&&(i=Math.min(Math.max(t.minFrac,p),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var f=(""+e).split(sr),h=f[0];f=f[1]||"";var m,g=0,v=t.lgSize,b=t.gSize;if(h.length>=v+b)for(g=h.length-v,m=0;g>m;m++)(g-m)%b===0&&0!==m&&(l+=n),l+=h.charAt(m);for(m=g;m<h.length;m++)(h.length-m)%v===0&&0!==m&&(l+=n),l+=h.charAt(m);for(;f.length<i;)f+="0";i&&"0"!==i&&(l+=a+f.substr(0,i))}return 0===e&&(r=!1),u.push(r?t.negPre:t.posPre,l,r?t.negSuf:t.posSuf),u.join("")}function Ln(e,t,n){var a="";for(0>e&&(a="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),a+e}function Bn(e,t,n,a){return n=n||0,function(i){var r=i["get"+e]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Ln(r,t,a)}}function Fn(e,t){return function(n,a){var i=n["get"+e](),r=_a(t?"SHORT"+e:e);return a[r][i]}}function Gn(e,t,n){var a=-1*n,i=a>=0?"+":"";return i+=Ln(Math[a>0?"floor":"ceil"](a/60),2)+Ln(Math.abs(a%60),2)}function Vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Hn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Wn(e){return function(t){var n=Vn(t.getFullYear()),a=Hn(t),i=+a-+n,r=1+Math.round(i/6048e5);return Ln(r,e)}}function qn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Kn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function zn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Yn(e){function t(e){var t;if(t=e.match(n)){var a=new Date(0),i=0,r=0,o=t[8]?a.setUTCFullYear:a.setFullYear,s=t[8]?a.setUTCHours:a.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),o.call(a,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-i,c=f(t[5]||0)-r,u=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(a,l,c,u,d),a}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,a,i){var o,s,l="",c=[];if(a=a||"mediumDate",a=e.DATETIME_FORMATS[a]||a,C(n)&&(n=ur.test(n)?f(n):t(n)),T(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;a;)s=cr.exec(a),s?(c=V(c,s,1),a=c.pop()):(c.push(a),a=null);var u=n.getTimezoneOffset();return i&&(u=Y(i,n.getTimezoneOffset()),n=J(n,i,!0)),r(c,function(t){o=lr[t],l+=o?o(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Qn(){return function(e,t){return y(t)&&(t=2),K(e,t)}}function Jn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(T(e)&&(e=e.toString()),Ua(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Xn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var a=1,i=g;if(A(t))i=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(a="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:a*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:b(e)&&(e=e.toString(),n(e))?e:t}function r(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=a(e,t)),{value:e,type:n}}function o(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,a){function s(e,t){return{value:e,predicateValues:c.map(function(n){return r(n.get(e),t)})}}function l(e,t){for(var n=0,a=0,i=c.length;i>a&&!(n=o(e.predicateValues[a],t.predicateValues[a])*c[a].descending);++a);return n}if(!i(e))return e;Ua(n)||(n=[n]),0===n.length&&(n=["+"]);var c=t(n,a);c.push({get:function(){return{}},descending:a?-1:1});var u=Array.prototype.map.call(e,s);return u.sort(l),e=u.map(function(e){return e.value})}}function Zn(e){return A(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function ea(e,t){e.$name=t}function ta(e,t,a,i,o){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(a),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=mr,s.$rollbackViewValue=function(){r(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){r(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],r(s.$pending,function(t,n){s.$setValidity(n,null,e)}),r(s.$error,function(t,n){s.$setValidity(n,null,e)}),r(s.$$success,function(t,n){s.$setValidity(n,null,e)}),L(l,e),e.$$parentForm=mr},ga({ctrl:this,$element:e,set:function(e,t,n){var a=e[t];if(a){var i=a.indexOf(n);-1===i&&a.push(n)}else e[t]=[n]},unset:function(e,t,n){var a=e[t];a&&(L(a,n),0===a.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,Jr),i.addClass(e,Xr),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,Jr,Xr+" "+gr),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,r(l,function(e){e.$setPristine()})},s.$setUntouched=function(){r(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,gr),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function na(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function aa(e,t,n,a,i,r){ia(e,t,n,a,i,r),na(a)}function ia(e,t,n,a,i,r){var o=wa(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(r.defer.cancel(c),c=null),!s){var i=t.val(),l=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=Ba(i)),(a.$viewValue!==i||""===i&&a.$$hasNativeValidators)&&a.$setViewValue(i,l)}};if(i.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,n){c||(c=r.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),a.$render=function(){var e=a.$isEmpty(a.$viewValue)?"":a.$viewValue;t.val()!==e&&t.val(e)}}function ra(e,t){if(k(e))return e;if(C(e)){Ar.lastIndex=0;var n=Ar.exec(e);if(n){var a=+n[1],i=+n[2],r=0,o=0,s=0,l=0,c=Vn(a),u=7*(i-1);return t&&(r=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(a,0,c.getDate()+u,r,o,s,l)}}return NaN}function oa(e,t){return function(n,a){var i,o;if(k(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),wr.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function sa(e,t,a,i){return function(r,o,s,l,c,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)&&!k(e)?a(e)||n:e}la(r,o,s,l),ia(r,o,s,l,c,u);var h,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=a(e,h);return m&&(i=J(i,m)),i}return n}),l.$formatters.push(function(e){if(e&&!k(e))throw no("datefmt","Expected `{0}` to be a date",e);return p(e)?(h=e,h&&m&&(h=J(h,m,!0)),d("date")(e,i,m)):(h=null,"")}),w(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!p(e)||y(g)||a(e)>=g},s.$observe("min",function(e){g=f(e),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!p(e)||y(v)||a(e)<=v},s.$observe("max",function(e){v=f(e),l.$validate()})}}}function la(e,t,a,i){var r=t[0],o=i.$$hasNativeValidators=S(r.validity);o&&i.$parsers.push(function(e){var a=t.prop(ya)||{};return a.badInput&&!a.typeMismatch?n:e})}function ca(e,t,a,i,r,o){if(la(e,t,a,i),ia(e,t,a,i,r,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Cr.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!T(e))throw no("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),w(a.min)||a.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||y(s)||e>=s},a.$observe("min",function(e){w(e)&&!T(e)&&(e=parseFloat(e,10)),s=T(e)&&!isNaN(e)?e:n,i.$validate()})}if(w(a.max)||a.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||y(l)||l>=e},a.$observe("max",function(e){w(e)&&!T(e)&&(e=parseFloat(e,10)),l=T(e)&&!isNaN(e)?e:n,i.$validate()})}}function ua(e,t,n,a,i,r){ia(e,t,n,a,i,r),na(a),a.$$parserName="url",a.$validators.url=function(e,t){var n=e||t;return a.$isEmpty(n)||Sr.test(n)}}function da(e,t,n,a,i,r){ia(e,t,n,a,i,r),na(a),a.$$parserName="email",a.$validators.email=function(e,t){var n=e||t;return a.$isEmpty(n)||_r.test(n)}}function pa(e,t,n,a){y(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&a.$setViewValue(n.value,e&&e.type)};t.on("click",i),a.$render=function(){var e=n.value;t[0].checked=e==a.$viewValue},n.$observe("value",a.$render)}function fa(e,t,n,a,i){var r;if(w(a)){if(r=e(a),!r.constant)throw no("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,a);return r(t)}return i}function ha(e,t,n,a,i,r,o,s){var l=fa(s,e,"ngTrueValue",n.ngTrueValue,!0),c=fa(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){a.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),a.$render=function(){t[0].checked=a.$viewValue},a.$isEmpty=function(e){return e===!1},a.$formatters.push(function(e){return G(e,l)}),a.$parsers.push(function(e){return e?l:c})}function ma(e,t){return e="ngClass"+e,["$animate",function(n){function a(e,t){var n=[];e:for(var a=0;a<e.length;a++){for(var i=e[a],r=0;r<t.length;r++)if(i==t[r])continue e;n.push(i)}return n}function i(e){var t=[];return Ua(e)?(r(e,function(e){t=t.concat(i(e))}),t):C(e)?e.split(" "):S(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),a=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&a.push(e))}),s.data("$classCounts",n),a.join(" ")}function p(e,t){var i=a(t,e),r=a(e,t);i=d(i,1),r=d(r,-1),i&&i.length&&n.addClass(s,i),r&&r.length&&n.removeClass(s,r)}function f(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(h){if(!G(e,h)){var a=i(h);p(a,n)}}else c(n)}h=F(e)}var h;o.$watch(l[e],f,!0),l.$observe("class",function(t){f(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,a){var r=1&n;if(r!==(1&a)){var s=i(o.$eval(l[e]));r===t?c(s):u(s)}})}}}]}function ga(e){function t(e,t,l){y(t)?a("$pending",e,l):i("$pending",e,l),M(t)?t?(d(s.$error,e,l),u(s.$$success,e,l)):(u(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(r(to,!0),s.$valid=s.$invalid=n,o("",null)):(r(to,!1),s.$valid=va(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var c;c=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,o(e,c),s.$$parentForm.$setValidity(e,c,s)}function a(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function i(e,t,a){s[e]&&d(s[e],t,a),va(s[e])&&(s[e]=n)}function r(e,t){t&&!c[e]?(p.addClass(l,e),c[e]=!0):!t&&c[e]&&(p.removeClass(l,e),c[e]=!1)}function o(e,t){e=e?"-"+ce(e,"-"):"",r(Yr+e,t===!0),r(Qr+e,t===!1)}var s=e.ctrl,l=e.$element,c={},u=e.set,d=e.unset,p=e.$animate;c[Qr]=!(c[Yr]=l.hasClass(Yr)),s.$setValidity=t}function va(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var ba=/^\/(.+)\/([a-z]*)$/,ya="validity",wa=function(e){return C(e)?e.toLowerCase():e},Sa=Object.prototype.hasOwnProperty,_a=function(e){return C(e)?e.toUpperCase():e},Ca=function(e){return C(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ta=function(e){return C(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(wa=Ca,_a=Ta);var ka,Aa,xa,Ia,Ea=[].slice,Na=[].splice,Oa=[].push,Pa=Object.prototype.toString,Ma=Object.getPrototypeOf,ja=a("ng"),$a=e.angular||(e.angular={}),Da=0;ka=t.documentMode,m.$inject=[],g.$inject=[];var Ra,Ua=Array.isArray,La=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Ba=function(e){return C(e)?e.trim():e},Fa=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ga=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!w(Ga.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var a=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ga.rules={noUnsafeEval:!a||-1!==a.indexOf("no-unsafe-eval"),noInlineStyle:!a||-1!==a.indexOf("no-inline-style")}}else Ga.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Ga.rules},Va=function(){if(w(Va.name_))return Va.name_;var e,n,a,i,r=Ha.length;for(n=0;r>n;++n)if(a=Ha[n],e=t.querySelector("["+a.replace(":","\\:")+"jq]")){i=e.getAttribute(a+"jq");break}return Va.name_=i},Ha=["ng-","data-ng-","ng:","x-ng-"],Wa=/[A-Z]/g,qa=!1,Ka=1,za=2,Ya=3,Qa=8,Ja=9,Xa=11,Za={full:"1.4.7",major:1,minor:4,dot:7,codeName:"dark-luminescence"};Ie.expando="ng339";var ei=Ie.cache={},ti=1,ni=function(e,t,n){e.addEventListener(t,n,!1)},ai=function(e,t,n){e.removeEventListener(t,n,!1)};Ie._data=function(e){return this.cache[e[this.expando]]||{}};var ii=/([\:\-\_]+(.))/g,ri=/^moz([A-Z])/,oi={mouseleave:"mouseout",mouseenter:"mouseover"},si=a("jqLite"),li=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ci=/<|&#?\w+;/,ui=/<([\w:-]+)/,di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pi.optgroup=pi.option,pi.tbody=pi.tfoot=pi.colgroup=pi.caption=pi.thead,pi.th=pi.td;var fi=Ie.prototype={ready:function(n){function a(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),Ie(e).on("load",a))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Aa(e>=0?this[e]:this[this.length+e])},length:0,push:Oa,sort:[].sort,splice:[].splice},hi={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){hi[wa(e)]=e});var mi={};r("input,select,option,textarea,button,form,details".split(","),function(e){mi[e]=!0});var gi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:je,removeData:Pe,hasData:ke},function(e,t){Ie[t]=e}),r({data:je,inheritedData:Be,scope:function(e){return Aa.data(e,"$scope")||Be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Aa.data(e,"$isolateScope")||Aa.data(e,"$isolateScopeNoTemplate")},controller:Le,injector:function(e){return Be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,n){return t=_e(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,a){var i=e.nodeType;if(i!==Ya&&i!==za&&i!==Qa){var r=wa(t);if(hi[r]){if(!w(a))return e[t]||(e.attributes.getNamedItem(t)||m).specified?r:n;a?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(w(a))e.setAttribute(t,a);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}}},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return n===Ka||n===Ya?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===U(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return y(t)?e.innerHTML:(Ne(e,!0),void(e.innerHTML=t))},empty:Fe},function(e,t){Ie.prototype[t]=function(t,n){var a,i,r=this.length;if(e!==Fe&&y(2==e.length&&e!==$e&&e!==Le?t:n)){if(S(t)){for(a=0;r>a;a++)if(e===je)e(this[a],t);else for(i in t)e(this[a],i,t[i]);return this}for(var o=e.$dv,s=y(o)?Math.min(r,1):r,l=0;s>l;l++){var c=e(this[l],t,n);o=o?o+c:c}return o}for(a=0;r>a;a++)e(this[a],t,n);return this}}),r({removeData:Pe,on:function Mo(e,t,n,a){if(w(a))throw si("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Te(e)){var i=Me(e,!0),r=i.events,o=i.handle;o||(o=i.handle=qe(e,r));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length;l--;){t=s[l];var c=r[t];c||(r[t]=[],"mouseenter"===t||"mouseleave"===t?Mo(e,oi[t],function(e){var n=this,a=e.relatedTarget;(!a||a!==n&&!n.contains(a))&&o(e,t)}):"$destroy"!==t&&ni(e,t,o),c=r[t]),c.push(n)}}},off:Oe,one:function(e,t,n){e=Aa(e),e.on(t,function a(){e.off(t,n),e.off(t,a)}),e.on(t,n)},replaceWith:function(e,t){var n,a=e.parentNode;Ne(e),r(new Ie(t),function(t){n?a.insertBefore(t,n.nextSibling):a.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===Ka&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Ka||n===Xa){t=new Ie(t);for(var a=0,i=t.length;i>a;a++){
var r=t[a];e.appendChild(r)}}},prepend:function(e,t){if(e.nodeType===Ka){var n=e.firstChild;r(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Aa(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ge,detach:function(e){Ge(e,!0)},after:function(e,t){var n=e,a=e.parentNode;t=new Ie(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];a.insertBefore(o,n.nextSibling),n=o}},addClass:Re,removeClass:De,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var a=n;y(a)&&(a=!$e(e,t)),(a?Re:De)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Xa?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ee,triggerHandler:function(e,t,n){var a,i,o,s=t.type||t,l=Me(e),c=l&&l.events,u=c&&c[s];u&&(a={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:e},t.type&&(a=d(a,t)),i=F(u),o=n?[a].concat(n):[a],r(i,function(t){a.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){Ie.prototype[t]=function(t,n,a){for(var i,r=0,o=this.length;o>r;r++)y(i)?(i=e(this[r],t,n,a),w(i)&&(i=Aa(i))):Ue(i,e(this[r],t,n,a));return w(i)?i:this},Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off}),Ye.prototype={put:function(e,t){this[ze(e,this.nextUid)]=t},get:function(e){return this[ze(e,this.nextUid)]},remove:function(e){var t=this[e=ze(e,this.nextUid)];return delete this[e],t}};var vi=[function(){this.$get=[function(){return Ye}]}],bi=/^[^\(]*\(\s*([^\)]*)\)/m,yi=/,/,wi=/^\s*(_?)(\S+?)\1\s*$/,Si=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_i=a("$injector");Xe.$$annotate=Je;var Ci=a("$animate"),Ti=1,ki="ng-animate",Ai=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,a){return e(function(e){t(function(){e()})}).then(n,a)}},n}]},xi=function(){var e=new Ye,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,a){function i(e,t,n){var a=!1;return t&&(t=C(t)?t.split(" "):Ua(t)?t:[],r(t,function(t){t&&(a=!0,e[t]=n)})),a}function o(){r(t,function(t){var n=e.get(t);if(n){var a=nt(t.attr("class")),i="",o="";r(n,function(e,t){var n=!!a[t];e!==n&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),r(t,function(e){i&&Re(e,i),o&&De(e,o)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},c=i(l,r,!0),u=i(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&a.$$postDigest(o))}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,a,i){return i&&i(),a=a||{},a.from&&e.css(a.from),a.to&&e.css(a.to),(a.addClass||a.removeClass)&&s(e,a.addClass,a.removeClass),new n}}}]},Ii=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,a){if(n&&"."!==n.charAt(0))throw Ci("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,a)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+ki+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ci("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ki)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var a=tt(n);!a||a.parentNode||a.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,a,i,r){return a=a&&Aa(a),i=i&&Aa(i),a=a||i.parent(),t(n,a,i),e.push(n,"enter",at(r))},move:function(n,a,i,r){return a=a&&Aa(a),i=i&&Aa(i),a=a||i.parent(),t(n,a,i),e.push(n,"move",at(r))},leave:function(t,n){return e.push(t,"leave",at(n),function(){t.remove()})},addClass:function(t,n,a){return a=at(a),a.addClass=et(a.addclass,n),e.push(t,"addClass",a)},removeClass:function(t,n,a){return a=at(a),a.removeClass=et(a.removeClass,n),e.push(t,"removeClass",a)},setClass:function(t,n,a,i){return i=at(i),i.addClass=et(i.addClass,n),i.removeClass=et(i.removeClass,a),e.push(t,"setClass",i)},animate:function(t,n,a,i,r){return r=at(r),r.from=r.from?d(r.from,n):n,r.to=r.to?d(r.to,a):a,i=i||"ng-inline-animate",r.tempClasses=et(r.tempClasses,i),e.push(t,"animate",r)}}}]}],Ei=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[e===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,a){function i(){return e(function(){r(),o||s.done(),o=!0}),s}function r(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var o,s=new n;return{start:i,end:i}}}]},Ni=a("$compile");lt.$inject=["$provide","$$sanitizeUriProvider"];var Oi=/^((?:x|data)[\:\-_])/i,Pi=a("$controller"),Mi=/^(\S+)(\s+as\s+(\w+))?$/,ji=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Aa&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},$i="application/json",Di={"Content-Type":$i+";charset=utf-8"},Ri=/^\[|^\{(?!\{)/,Ui={"[":/]$/,"{":/}$/},Li=/^\)\]\}',?\n/,Bi=a("$http"),Fi=function(e){return function(){throw Bi("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Gi=$a.$interpolateMinErr=a("$interpolate");Gi.throwNoconcat=function(e){throw Gi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Gi.interr=function(e,t){return Gi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Vi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Hi={http:80,https:443,ftp:21},Wi=a("$location"),qi={$$html5:!1,$$replace:!1,absUrl:Gt("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=Vi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Gt("$$protocol"),host:Gt("$$host"),port:Gt("$$port"),path:Vt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||T(e))e=e.toString(),this.$$search=ee(e);else{if(!S(e))throw Wi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=B(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Vt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Ft,Bt,Lt],function(e){e.prototype=Object.create(qi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Lt||!this.$$html5)throw Wi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(t)?null:t,this}});var Ki=a("$parse"),zi=Function.prototype.call,Yi=Function.prototype.apply,Qi=Function.prototype.bind,Ji=ge();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ji[e]=!0});var Xi={n:"\n",f:"\f",r:"\r",t:" ",v:" ","'":"'",'"':'"'},Zi=function(e){this.options=e};Zi.prototype={constructor:Zi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),a=n+this.peek(2),i=Ji[t],r=Ji[n],o=Ji[a];if(i||r||o){var s=o?a:r?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||" "===e||"\n"===e||" "===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var a=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ki("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,a,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=wa(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var a=this.peek();if("e"==n&&this.isExpOperator(a))e+=n;else if(this.isExpOperator(n)&&a&&this.isNumber(a)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||a&&this.isNumber(a)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",a=e,i=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(a+=r,i){if("u"===r){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=Xi[r];n+=s||r}i=!1}else if("\\"===r)i=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:a,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",t)}};var er=function(e,t){this.lexer=e,this.options=t};er.Program="Program",er.ExpressionStatement="ExpressionStatement",er.AssignmentExpression="AssignmentExpression",er.ConditionalExpression="ConditionalExpression",er.LogicalExpression="LogicalExpression",er.BinaryExpression="BinaryExpression",er.UnaryExpression="UnaryExpression",er.CallExpression="CallExpression",er.MemberExpression="MemberExpression",er.Identifier="Identifier",er.Literal="Literal",er.ArrayExpression="ArrayExpression",er.Property="Property",er.ObjectExpression="ObjectExpression",er.ThisExpression="ThisExpression",er.NGValueParameter="NGValueParameter",er.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:er.Program,body:e}},expressionStatement:function(){return{type:er.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:er.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:er.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:er.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:er.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:er.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:er.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:er.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:er.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:er.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=B(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:er.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:er.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:er.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:er.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:er.Identifier,name:e.text}},constant:function(){return{type:er.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:er.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:er.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:er.ObjectExpression,properties:t}},throwError:function(e,t){throw Ki("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ki("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ki("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,a){return this.peekAhead(0,e,t,n,a)},peekAhead:function(e,t,n,a,i){if(this.tokens.length>e){var r=this.tokens[e],o=r.text;if(o===t||o===n||o===a||o===i||!t&&!n&&!a&&!i)return r}return!1},expect:function(e,t,n,a){var i=this.peek(e,t,n,a);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:er.Literal,value:!0},"false":{type:er.Literal,value:!1},"null":{type:er.Literal,value:null},undefined:{type:er.Literal,value:n},"this":{type:er.ThisExpression}}},sn.prototype={compile:function(e,t){var a=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},en(i,a.$filter);var o,s="";if(this.stage="assign",o=an(i)){this.state.computing="assign";var l=this.nextId();this.recurse(o,l),this.return_(l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var c=tn(i.body);a.stage="inputs",r(c,function(e,t){var n="fn"+t;a.state[n]={vars:[],body:[],own:{}},a.state.computing=n;var i=a.nextId();a.recurse(e,i),a.return_(i),a.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,qt,zt,Yt,Kt,Qt,Jt,Xt,e);return this.state=this.stage=n,d.literal=rn(i),d.constant=on(i),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,a){e.push(n+"=$filter("+t.escape(a)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,a,i,o,s){var l,c,u,d,p=this;if(i=i||m,!s&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,a,i,o,!0));switch(e.type){case er.Program:r(e.body,function(t,a){p.recurse(t.expression,n,n,function(e){c=e}),a!==e.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case er.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case er.UnaryExpression:this.recurse(e.argument,n,n,function(e){c=e}),d=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,d),i(d);break;case er.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){c=e}),d="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",this.assign(t,d),i(d);break;case er.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case er.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case er.Identifier:t=t||this.nextId(),a&&(a.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),a.computed=!1,a.name=e.name),qt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||cn(e.name))&&p.addEnsureSafeObject(t),i(t);break;case er.MemberExpression:l=a&&(a.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,l,n,function(){p.if_(p.notNull(l),function(){e.computed?(c=p.nextId(),p.recurse(e.property,c),p.getStringValue(c),p.addEnsureSafeMemberName(c),o&&1!==o&&p.if_(p.not(p.computedMember(l,c)),p.lazyAssign(p.computedMember(l,c),"{}")),d=p.ensureSafeObject(p.computedMember(l,c)),p.assign(t,d),a&&(a.computed=!0,a.name=c)):(qt(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(l,e.property.name)),p.lazyAssign(p.nonComputedMember(l,e.property.name),"{}")),d=p.nonComputedMember(l,e.property.name),(p.state.expensiveChecks||cn(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),a&&(a.computed=!1,a.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!o);break;case er.CallExpression:t=t||this.nextId(),e.filter?(c=p.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=c+"("+u.join(",")+")",p.assign(t,d),i(t)):(c=p.nextId(),l={},u=[],p.recurse(e.callee,c,l,function(){p.if_(p.notNull(c),function(){p.addEnsureSafeFunction(c),r(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),l.name?(p.state.expensiveChecks||p.addEnsureSafeObject(l.context),d=p.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):d=c+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),i(t)}));break;case er.AssignmentExpression:if(c=this.nextId(),l={},!nn(e.left))throw Ki("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,l,function(){p.if_(p.notNull(l.context),function(){p.recurse(e.right,c),p.addEnsureSafeObject(p.member(l.context,l.name,l.computed)),p.addEnsureSafeAssignContext(l.context),d=p.member(l.context,l.name,l.computed)+e.operator+c,p.assign(t,d),i(t||d)})},1);break;case er.ArrayExpression:u=[],r(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),i(d);break;case er.ObjectExpression:u=[],r(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===er.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),i(d);break;case er.ThisExpression:this.assign(t,"s"),i("s");break;case er.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,a=this.current().own;return a.hasOwnProperty(n)||(a[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),a[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var a=this.current().body;a.push("if(",e,"){"),t(),a.push("}"),n&&(a.push("else{"),n(),a.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,a,i,r){var o=this;return function(){o.recurse(e,t,n,a,i,r)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Ki("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ln.prototype={compile:function(e,t){var n=this,a=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,en(a,n.$filter);var i,o;(i=an(a))&&(o=this.recurse(i));var s,l=tn(a.body);l&&(s=[],r(l,function(e,t){var a=n.recurse(e);e.input=a,s.push(a),e.watchId=t}));var c=[];r(a.body,function(e){c.push(n.recurse(e.expression))});var u=0===a.body.length?function(){}:1===a.body.length?c[0]:function(e,t){var n;return r(c,function(a){n=a(e,t)}),n};return o&&(u.assign=function(e,t,n){return o(e,n,t)}),s&&(u.inputs=s),u.literal=rn(a),u.constant=on(a),u},recurse:function(e,t,a){var i,o,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case er.Literal:return this.value(e.value,t);case er.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case er.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case er.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case er.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case er.Identifier:return qt(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||cn(e.name),t,a,l.expression);case er.MemberExpression:return i=this.recurse(e.object,!1,!!a),e.computed||(qt(e.property.name,l.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,a,l.expression):this.nonComputedMember(i,o,l.expensiveChecks,t,a,l.expression);case er.CallExpression:return s=[],r(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,a,i,r){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,a,i,r));var u=o.apply(n,l,r);return t?{context:n,name:n,value:u}:u}:function(e,n,a,i){var r,c=o(e,n,a,i);if(null!=c.value){zt(c.context,l.expression),Yt(c.value,l.expression);for(var u=[],d=0;d<s.length;++d)u.push(zt(s[d](e,n,a,i),l.expression));r=zt(c.value.apply(c.context,u),l.expression)}return t?{value:r}:r};case er.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,a,r){var s=i(e,n,a,r),c=o(e,n,a,r);return zt(s.value,l.expression),Qt(s.context),s.context[s.name]=c,t?{value:c}:c};case er.ArrayExpression:return s=[],r(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,a,i){for(var r=[],o=0;o<s.length;++o)r.push(s[o](e,n,a,i));return t?{value:r}:r};case er.ObjectExpression:return s=[],r(e.properties,function(e){s.push({key:e.key.type===er.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,a,i){for(var r={},o=0;o<s.length;++o)r[s[o].key]=s[o].value(e,n,a,i);return t?{value:r}:r};case er.ThisExpression:return function(e){return t?{value:e}:e};case er.NGValueParameter:return function(e,n,a,i){return t?{value:a}:a}}},"unary+":function(e,t){return function(n,a,i,r){var o=e(n,a,i,r);return o=w(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,a,i,r){var o=e(n,a,i,r);return o=w(o)?-o:0,t?{value:o}:o}},"unary!":function(e,t){return function(n,a,i,r){var o=!e(n,a,i,r);return t?{value:o}:o}},"binary+":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o),l=t(a,i,r,o),c=Xt(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o),l=t(a,i,r,o),c=(w(s)?s:0)-(w(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)*t(a,i,r,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)/t(a,i,r,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)%t(a,i,r,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)===t(a,i,r,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)!==t(a,i,r,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)==t(a,i,r,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)!=t(a,i,r,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)<t(a,i,r,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)>t(a,i,r,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)<=t(a,i,r,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)>=t(a,i,r,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)&&t(a,i,r,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(a,i,r,o){var s=e(a,i,r,o)||t(a,i,r,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,a){return function(i,r,o,s){var l=e(i,r,o,s)?t(i,r,o,s):n(i,r,o,s);return a?{value:l}:l}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,a,i,r){return function(o,s,l,c){var u=s&&e in s?s:o;i&&1!==i&&u&&!u[e]&&(u[e]={});var d=u?u[e]:n;return t&&zt(d,r),a?{context:u,name:e,value:d}:d}},computedMember:function(e,t,n,a,i){return function(r,o,s,l){var c,u,d=e(r,o,s,l);return null!=d&&(c=t(r,o,s,l),c=Kt(c),qt(c,i),a&&1!==a&&d&&!d[c]&&(d[c]={}),u=d[c],zt(u,i)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,a,i,r,o){return function(s,l,c,u){var d=e(s,l,c,u);r&&1!==r&&d&&!d[t]&&(d[t]={});var p=null!=d?d[t]:n;return(a||cn(t))&&zt(p,o),i?{context:d,name:t,value:p}:p}},inputs:function(e,t){return function(n,a,i,r){return r?r[t]:e(n,a,i)}}};var tr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new er(this.lexer),this.astCompiler=n.csp?new ln(this.ast,t):new sn(this.ast,t)};tr.prototype={constructor:tr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var nr=(ge(),ge(),Object.prototype.valueOf),ar=a("$sce"),ir={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ni=a("$compile"),rr=t.createElement("a"),or=An(e.location.href);En.$inject=["$document"],On.$inject=["$provide"],Dn.$inject=["$locale"],Rn.$inject=["$locale"];var sr=".",lr={yyyy:Bn("FullYear",4),yy:Bn("FullYear",2,0,!0),y:Bn("FullYear",1),MMMM:Fn("Month"),MMM:Fn("Month",!0),MM:Bn("Month",2,1),M:Bn("Month",1,1),dd:Bn("Date",2),d:Bn("Date",1),HH:Bn("Hours",2),H:Bn("Hours",1),hh:Bn("Hours",2,-12),h:Bn("Hours",1,-12),mm:Bn("Minutes",2),m:Bn("Minutes",1),ss:Bn("Seconds",2),s:Bn("Seconds",1),sss:Bn("Milliseconds",3),EEEE:Fn("Day"),EEE:Fn("Day",!0),a:qn,Z:Gn,ww:Wn(2),w:Wn(1),G:Kn,GG:Kn,GGG:Kn,GGGG:zn},cr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ur=/^\-?\d+$/;Yn.$inject=["$locale"];var dr=v(wa),pr=v(_a);Xn.$inject=["$parse"];var fr=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Pa.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),hr={};r(hi,function(e,t){function n(e,n,i){e.$watch(i[a],function(e){i.$set(t,!!e)})}if("multiple"!=e){var a=ct("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[a]&&n(e,t,i)}),hr[a]=function(){return{restrict:"A",priority:100,link:i}}}}),r(gi,function(e,t){hr[t]=function(){return{priority:100,link:function(e,n,a){if("ngPattern"===t&&"/"==a.ngPattern.charAt(0)){var i=a.ngPattern.match(ba);if(i)return void a.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(a[t],function(e){a.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=ct("ng-"+e);
hr[t]=function(){return{priority:99,link:function(n,a,i){var r=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Pa.call(a.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",r=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(ka&&r&&a.prop(r,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var mr={$addControl:m,$$renameControl:ea,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},gr="ng-submitted";ta.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var vr=function(e){return["$timeout","$parse",function(t,a){function i(e){return""===e?a('this[""]').assign:a(e).assign||m}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ta,compile:function(a,r){a.addClass(Jr).addClass(Yr);var o=r.name?"name":e&&r.ngForm?"ngForm":!1;return{pre:function(e,a,r,s){var l=s[0];if(!("action"in r)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};ni(a[0],"submit",c),a.on("$destroy",function(){t(function(){ai(a[0],"submit",c)},0,!1)})}var u=s[1]||l.$$parentForm;u.$addControl(l);var p=o?i(l.$name):m;o&&(p(e,l),r.$observe(o,function(t){l.$name!==t&&(p(e,n),l.$$parentForm.$$renameControl(l,t),(p=i(l.$name))(e,l))})),a.on("$destroy",function(){l.$$parentForm.$removeControl(l),p(e,n),d(l,mr)})}}}};return r}]},br=vr(),yr=vr(!0),wr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Sr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,_r=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Cr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Tr=/^(\d{4})-(\d{2})-(\d{2})$/,kr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ar=/^(\d{4})-W(\d\d)$/,xr=/^(\d{4})-(\d\d)$/,Ir=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Er={text:aa,date:sa("date",Tr,oa(Tr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sa("datetimelocal",kr,oa(kr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:sa("time",Ir,oa(Ir,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:sa("week",Ar,ra,"yyyy-Www"),month:sa("month",xr,oa(xr,["yyyy","MM"]),"yyyy-MM"),number:ca,url:ua,email:da,radio:pa,checkbox:ha,hidden:m,button:m,submit:m,reset:m,file:m},Nr=["$browser","$sniffer","$filter","$parse",function(e,t,n,a){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,r,o,s){s[0]&&(Er[wa(o.type)]||Er.text)(i,r,o,s[0],t,e,n,a)}}}}],Or=/^(true|false|\d+)$/,Pr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Or.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Mr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,a){e.$$addBindingInfo(n,a.ngBind),n=n[0],t.$watch(a.ngBind,function(e){n.textContent=y(e)?"":e})}}}}],jr=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,a,i){var r=e(a.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(a,r.expressions),a=a[0],i.$observe("ngBindTemplate",function(e){a.textContent=y(e)?"":e})}}}}],$r=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(a,i){var r=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(a),function(t,a,i){n.$$addBindingInfo(a,i.ngBindHtml),t.$watch(o,function(){a.html(e.getTrustedHtml(r(t))||"")})}}}}],Dr=v({restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Rr=ma("",!0),Ur=ma("Odd",0),Lr=ma("Even",1),Br=Zn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Fr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Gr={},Vr={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ct("ng-"+e);Gr[t]=["$parse","$rootScope",function(n,a){return{restrict:"A",compile:function(i,r){var o=n(r[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};Vr[e]&&a.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Hr=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,a,i,r,o){var s,l,c;n.$watch(i.ngIf,function(n){n?l||o(function(n,r){l=r,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,a.parent(),a)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=me(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],Wr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:$a.noop,compile:function(a,i){var r=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(a,i,l,c,u){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};a.$watch(r,function(r){var l=function(){!w(s)||s&&!a.$eval(s)||t()},p=++h;r?(e(r,!0).then(function(e){if(p===h){var t=a.$new();c.template=e;var s=u(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",r),a.$eval(o)}},function(){p===h&&(m(),a.$emit("$includeContentError",r))}),a.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],qr=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,a,i,r){return/SVG/.test(a[0].toString())?(a.empty(),void e(Ae(r.template,t).childNodes)(n,function(e){a.append(e)},{futureParentElement:a})):(a.html(r.template),void e(a.contents())(n))}}}],Kr=Zn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),zr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,a,i){var o=t.attr(a.$attr.ngList)||", ",s="false"!==a.ngTrim,l=s?Ba(o):o,c=function(e){if(!y(e)){var t=[];return e&&r(e.split(l),function(e){e&&t.push(s?Ba(e):e)}),t}};i.$parsers.push(c),i.$formatters.push(function(e){return Ua(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Yr="ng-valid",Qr="ng-invalid",Jr="ng-pristine",Xr="ng-dirty",Zr="ng-untouched",eo="ng-touched",to="ng-pending",no=a("ngModel"),ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,a,i,o,s,l,c,u,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(a.name||"",!1)(e),this.$$parentForm=mr;var p,f=o(a.ngModel),h=f.assign,g=f,v=h,b=null,S=this;this.$$setOptions=function(e){if(S.$options=e,e&&e.getterSetter){var t=o(a.ngModel+"()"),n=o(a.ngModel+"($$$p)");g=function(e){var n=f(e);return A(n)&&(n=t(e)),n},v=function(e,t){A(f(e))?n(e,{$$$p:S.$modelValue}):h(e,S.$modelValue)}}else if(!f.assign)throw no("nonassign","Expression '{0}' is non-assignable. Element: {1}",a.ngModel,X(i))},this.$render=m,this.$isEmpty=function(e){return y(e)||""===e||null===e||e!==e};var _=0;ga({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){S.$dirty=!1,S.$pristine=!0,s.removeClass(i,Xr),s.addClass(i,Jr)},this.$setDirty=function(){S.$dirty=!0,S.$pristine=!1,s.removeClass(i,Jr),s.addClass(i,Xr),S.$$parentForm.$setDirty()},this.$setUntouched=function(){S.$touched=!1,S.$untouched=!0,s.setClass(i,Zr,eo)},this.$setTouched=function(){S.$touched=!0,S.$untouched=!1,s.setClass(i,eo,Zr)},this.$rollbackViewValue=function(){l.cancel(b),S.$viewValue=S.$$lastCommittedViewValue,S.$render()},this.$validate=function(){if(!T(S.$modelValue)||!isNaN(S.$modelValue)){var e=S.$$lastCommittedViewValue,t=S.$$rawModelValue,a=S.$valid,i=S.$modelValue,r=S.$options&&S.$options.allowInvalid;S.$$runValidators(t,e,function(e){r||a===e||(S.$modelValue=e?t:n,S.$modelValue!==i&&S.$$writeModelToScope())})}},this.$$runValidators=function(e,t,a){function i(){var e=S.$$parserName||"parse";return y(p)?(l(e,null),!0):(p||(r(S.$validators,function(e,t){l(t,null)}),r(S.$asyncValidators,function(e,t){l(t,null)})),l(e,p),p)}function o(){var n=!0;return r(S.$validators,function(a,i){var r=a(e,t);n=n&&r,l(i,r)}),n?!0:(r(S.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var a=[],i=!0;r(S.$asyncValidators,function(r,o){var s=r(e,t);if(!j(s))throw no("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(o,n),a.push(s.then(function(){l(o,!0)},function(e){i=!1,l(o,!1)}))}),a.length?u.all(a).then(function(){c(i)},m):c(!0)}function l(e,t){d===_&&S.$setValidity(e,t)}function c(e){d===_&&a(e)}_++;var d=_;return i()&&o()?void s():void c(!1)},this.$commitViewValue=function(){var e=S.$viewValue;l.cancel(b),(S.$$lastCommittedViewValue!==e||""===e&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=e,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){S.$modelValue!==o&&S.$$writeModelToScope()}var a=S.$$lastCommittedViewValue,i=a;if(p=y(i)?n:!0)for(var r=0;r<S.$parsers.length;r++)if(i=S.$parsers[r](i),y(i)){p=!1;break}T(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=g(e));var o=S.$modelValue,s=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=i,s&&(S.$modelValue=i,t()),S.$$runValidators(i,S.$$lastCommittedViewValue,function(e){s||(S.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,S.$modelValue),r(S.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){S.$viewValue=e,(!S.$options||S.$options.updateOnDefault)&&S.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,a=0,i=S.$options;i&&w(i.debounce)&&(n=i.debounce,T(n)?a=n:T(n[t])?a=n[t]:T(n["default"])&&(a=n["default"])),l.cancel(b),a?b=l(function(){S.$commitViewValue()},a):c.$$phase?S.$commitViewValue():e.$apply(function(){S.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==S.$modelValue&&(S.$modelValue===S.$modelValue||t===t)){S.$modelValue=S.$$rawModelValue=t,p=n;for(var a=S.$formatters,i=a.length,r=t;i--;)r=a[i](r);S.$viewValue!==r&&(S.$viewValue=S.$$lastCommittedViewValue=r,S.$render(),S.$$runValidators(t,r,m))}return t})}],io=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(t){return t.addClass(Jr).addClass(Zr).addClass(Yr),{pre:function(e,t,n,a){var i=a[0],r=a[1]||i.$$parentForm;i.$$setOptions(a[2]&&a[2].$options),r.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,a,i){var r=i[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,function(e){r.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){r.$touched||(e.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))})}}}}}],ro=/(\s+|^)default(\s+|$)/,oo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=B(e.$eval(t.ngModelOptions)),w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ba(this.$options.updateOn.replace(ro,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},so=Zn({terminal:!0,priority:1e3}),lo=a("ngOptions"),co=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,uo=["$compile","$parse",function(e,n){function a(e,t,a){function r(e,t,n,a,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=a,this.disabled=i}function o(e){var t;if(!c&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(co);if(!s)throw lo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,X(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=n(s[2]?s[1]:l),f=u&&n(u),h=f||p,m=d&&n(d),g=d?function(e,t){return m(a,t)}:function(e){return ze(e)},v=function(e,t){return g(e,C(e,t))},b=n(s[2]||s[1]),y=n(s[3]||""),w=n(s[4]||""),S=n(s[8]),_={},C=c?function(e,t){return _[c]=t,_[l]=e,_}:function(e){return _[l]=e,_};return{trackBy:d,getTrackByValue:v,getWatchables:n(S,function(e){var t=[];e=e||[];for(var n=o(e),i=n.length,r=0;i>r;r++){var l=e===n?r:n[r],c=(e[l],C(e[l],l)),u=g(e[l],c);if(t.push(u),s[2]||s[1]){var d=b(a,c);t.push(d)}if(s[4]){var p=w(a,c);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=S(a)||[],i=o(n),s=i.length,l=0;s>l;l++){var c=n===i?l:i[l],u=n[c],p=C(u,c),f=h(a,p),m=g(f,p),_=b(a,p),T=y(a,p),k=w(a,p),A=new r(m,f,_,T,k);e.push(A),t[m]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?$a.copy(e.viewValue):e.viewValue}}}}}var o=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,i,l){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function u(e,t,n,a){var i;return t&&wa(t.nodeName)===n?i=t:(i=a.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function d(e){for(var t;e;)t=e.nextSibling,Ge(e),e=t}function p(e){var t=m&&m[0],n=_&&_[0];if(t||n)for(;e&&(e===t||e===n||t&&t.nodeType===Qa);)e=e.nextSibling;return e}function f(){var e=C&&g.readValue();C=T.getOptions();var t={},a=n[0].firstChild;if(S&&n.prepend(m),a=p(a),C.items.forEach(function(e){var i,r,l;e.group?(i=t[e.group],i||(r=u(n[0],a,"optgroup",s),a=r.nextSibling,r.label=e.group,i=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),l=u(i.groupElement,i.currentOptionElement,"option",o),c(e,l),i.currentOptionElement=l.nextSibling):(l=u(n[0],a,"option",o),c(e,l),a=l.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(a),h.$render(),!h.$isEmpty(e)){var i=g.readValue();(T.trackBy?G(e,i):e===i)||(h.$setViewValue(i),h.$render())}}var h=l[1];if(h){for(var m,g=l[0],v=i.multiple,b=0,y=n.children(),w=y.length;w>b;b++)if(""===y[b].value){m=y.eq(b);break}var S=!!m,_=Aa(o.cloneNode(!1));_.val("?");var C,T=a(i.ngOptions,n,t),k=function(){S||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},A=function(){S||m.remove()},x=function(){n.prepend(_),n.val("?"),_.prop("selected",!0),_.attr("selected",!0)},I=function(){_.remove()};v?(h.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},T.trackBy&&t.$watchCollection(function(){return Ua(h.$viewValue)?h.$viewValue.map(function(e){return T.getTrackByValue(e)}):void 0},function(){h.$render()})):(g.writeValue=function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(I(),A(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||S?(I(),k()):(A(),x())},g.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(A(),I(),C.getViewValueFromOption(e)):null},T.trackBy&&t.$watch(function(){return T.getTrackByValue(h.$viewValue)},function(){h.$render()})),S?(m.remove(),e(m)(t),m.removeClass("ng-scope")):m=Aa(o.cloneNode(!1)),f(),t.$watchCollection(T.getWatchables,f)}}}}],po=["$locale","$interpolate","$log",function(e,t,n){var a=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,h=o.$eval(p)||{},g={},v=t.startSymbol(),b=t.endSymbol(),w=v+d+"-"+f+b,S=$a.noop;r(l,function(e,t){var n=i.exec(t);if(n){var a=(n[1]?"-":"")+wa(n[2]);h[a]=s.attr(l.$attr[t])}}),r(h,function(e,n){g[n]=t(e.replace(a,w))}),o.$watch(d,function(t){var a=parseFloat(t),i=isNaN(a);if(i||a in h||(a=e.pluralCat(a-f)),a!==u&&!(i&&T(u)&&isNaN(u))){S();var r=g[a];y(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+a+"' in "+p),S=m,c()):S=o.$watch(r,c),u=a}})}}}],fo=["$parse","$animate",function(e,o){var s="$$NG_REMOVED",l=a("ngRepeat"),c=function(e,t,n,a,i,r,o){e[n]=a,i&&(e[i]=r),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(a,p){var f=p.ngRepeat,h=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],b=m[3],y=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w=m[3]||m[1],S=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var _,C,T,k,A={$id:ze};return y?_=e(y):(T=function(e,t){return ze(t)},k=function(e){return e}),function(e,t,a,p,m){_&&(C=function(t,n,a){return S&&(A[S]=t),A[w]=n,A.$index=a,_(e,A)});var g=ge();e.$watchCollection(v,function(a){var p,v,y,_,A,x,I,E,N,O,P,M,j=t[0],$=ge();if(b&&(e[b]=a),i(a))N=a,E=C||T;else{E=C||k,N=[];for(var D in a)Sa.call(a,D)&&"$"!==D.charAt(0)&&N.push(D)}for(_=N.length,P=new Array(_),p=0;_>p;p++)if(A=a===N?p:N[p],x=a[A],I=E(A,x,p),g[I])O=g[I],delete g[I],$[I]=O,P[p]=O;else{if($[I])throw r(P,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,I,x);P[p]={id:I,scope:n,clone:n},$[I]=!0}for(var R in g){if(O=g[R],M=me(O.clone),o.leave(M),M[0].parentNode)for(p=0,v=M.length;v>p;p++)M[p][s]=!0;O.scope.$destroy()}for(p=0;_>p;p++)if(A=a===N?p:N[p],x=a[A],O=P[p],O.scope){y=j;do y=y.nextSibling;while(y&&y[s]);u(O)!=y&&o.move(me(O.clone),null,Aa(j)),j=d(O),c(O.scope,p,w,x,S,A,_)}else m(function(e,t){O.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,o.enter(e,null,Aa(j)),j=n,O.clone=e,$[O.id]=O,c(O.scope,p,w,x,S,A,_)});g=$})}}}}],ho="ng-hide",mo="ng-hide-animate",go=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngShow,function(t){e[t?"removeClass":"addClass"](n,ho,{tempClasses:mo})})}}}],vo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngHide,function(t){e[t?"addClass":"removeClass"](n,ho,{tempClasses:mo})})}}}],bo=Zn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),yo=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,a,i,o){var s=i.ngSwitch||i.on,l=[],c=[],u=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var a,i;for(a=0,i=u.length;i>a;++a)e.cancel(u[a]);for(u.length=0,a=0,i=d.length;i>a;++a){var s=me(c[a].clone);d[a].$destroy();var f=u[a]=e.leave(s);f.then(p(u,a))}c.length=0,d.length=0,(l=o.cases["!"+n]||o.cases["?"])&&r(l,function(n){n.transclude(function(a,i){d.push(i);var r=n.element;a[a.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:a};c.push(o),e.enter(a,r.parent(),r)})})})}}}],wo=Zn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,a,i){a.cases["!"+n.ngSwitchWhen]=a.cases["!"+n.ngSwitchWhen]||[],a.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),So=Zn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,a,i){a.cases["?"]=a.cases["?"]||[],a.cases["?"].push({transclude:i,element:t})}}),_o=Zn({restrict:"EAC",link:function(e,t,n,i,r){if(!r)throw a("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(t));r(function(e){t.empty(),t.append(e)})}}),Co=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var a=n.id,i=t[0].text;e.put(a,i)}}}}],To={$setViewValue:m,$render:m},ko=["$element","$scope","$attrs",function(e,a,i){var r=this,o=new Ye;r.ngModelCtrl=To,r.unknownOption=Aa(t.createElement("option")),r.renderUnknownOption=function(t){var n="? "+ze(t)+" ?";r.unknownOption.val(n),e.prepend(r.unknownOption),e.val(n)},a.$on("$destroy",function(){r.renderUnknownOption=m}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(e,t){fe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1)},r.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(r.emptyOption=n)):o.put(e,t-1))},r.hasOption=function(e){return!!o.get(e)}}],Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,link:function(e,t,n,a){var i=a[1];if(i){var o=a[0];if(o.ngModelCtrl=i,i.$render=function(){o.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Ye(e);r(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==i.$viewValue||G(s,i.$viewValue)||(s=F(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}}},xo=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,a){if(w(a.value))var i=e(a.value,!0);else{var r=e(n.text(),!0);r||a.$set("value",n.text())}return function(e,n,a){function o(e){c.addOption(e,n),c.ngModelCtrl.$render(),t(n)}var s="$selectController",l=n.parent(),c=l.data(s)||l.parent().data(s);if(c&&c.ngModelCtrl){if(i){var u;a.$observe("value",function(e){w(u)&&c.removeOption(u),u=e,o(e)})}else r?e.$watch(r,function(e,t){a.$set("value",e),t!==e&&c.removeOption(t),o(e)}):o(a.value);n.on("$destroy",function(){c.removeOption(a.value),c.ngModelCtrl.$render()})}}}}}],Io=v({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){a&&(n.required=!0,a.$validators.required=function(e,t){return!n.required||!a.$isEmpty(t)},n.$observe("required",function(){a.$validate()}))}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,r){if(r){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(C(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw a("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,X(t));o=e||n,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||y(o)||o.test(t)}}}}},Oo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){if(a){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,a.$validate()}),a.$validators.maxlength=function(e,t){return 0>i||a.$isEmpty(t)||t.length<=i}}}}},Po=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,a){if(a){var i=0;n.$observe("minlength",function(e){i=f(e)||0,a.$validate()}),a.$validators.minlength=function(e,t){return a.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ue(),we($a),$a.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function a(e,a){var i=a;n===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(e,t){var n=0|e,r=a(e,t);return 1==n&&0==r.v?i.ONE:i.OTHER}})}]),void Aa(t).ready(function(){re(t,oe)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function a(e){for(var t in e)if(void 0!==r.style[t])return e[t]}var i=function(a,r,o){o=o||{};var s=e.defer(),l=i[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(e){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(r)?a.addClass(r):angular.isFunction(r)?r(a):angular.isObject(r)&&a.css(r),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},r=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(o),i.animationEndEventName=a(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,a){function i(t){function a(){c===i&&(c=void 0)}var i=e(n,t);return c&&c.cancel(),c=i,i.then(a,a),i}function r(){u?(u=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){u?(u=!1,l(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l))}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;t.$watch(a.collapse,function(e){e?s():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.$watch("isOpen",function(t){t&&a.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],r=a[1];r.$render=function(){t.toggleClass(i.activeClass,angular.equals(r.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){r.$setViewValue(a?null:e.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){function i(){return o(n.btnCheckboxTrue,!0)}function r(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var s=a[0],l=a[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?r():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,a){
function i(){r();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(o,t))}function r(){s&&(n.cancel(s),s=null)}function o(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var s,l,c=this,u=c.slides=e.slides=[],d=-1;c.currentSlide=null;var p=!1;c.select=e.select=function(n,r){function o(){p||(c.currentSlide&&angular.isString(r)&&!e.noTransition&&n.$element?(n.$element.addClass(r),n.$element[0].offsetWidth,angular.forEach(u,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:r,active:!0,entering:!0}),angular.extend(c.currentSlide||{},{direction:r,leaving:!0}),e.$currentTransition=a(n.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(n,c.currentSlide)):s(n,c.currentSlide),c.currentSlide=n,d=l,i())}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=u.indexOf(n);void 0===r&&(r=l>d?"next":"prev"),n&&n!==c.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){p=!0}),c.indexOfSlide=function(e){return u.indexOf(e)},e.next=function(){var t=(d+1)%u.length;return e.$currentTransition?void 0:c.select(u[t],"next")},e.prev=function(){var t=0>d-1?u.length-1:d-1;return e.$currentTransition?void 0:c.select(u[t],"prev")},e.isActive=function(e){return c.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",r),e.play=function(){l||(l=!0,i())},e.pause=function(){e.noPause||(l=!1,r())},c.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(c.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},c.removeSlide=function(e){var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?t>=u.length?c.select(u[t-1]):c.select(u[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],a=e.split("");return angular.forEach(i,function(t,i){var r=e.indexOf(i);if(r>-1){e=e.split(""),a[r]="("+t.regex+")",e[r]="$";for(var o=r+1,s=r+i.length;s>o;o++)a[o]="",e[o]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:t(n,"index")}}function a(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){if(!angular.isString(t)||!i)return t;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var r=this.parsers[i],o=r.regex,s=r.map,l=t.match(o);if(l&&l.length){for(var c,u={year:1900,month:0,date:1,hours:0},d=1,p=l.length;p>d;d++){var f=s[d-1];f.apply&&f.apply.call(u,l[d])}return a(u.year,u.month,u.date)&&(c=new Date(u.year,u.month,u.date,u.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},r=i(t[0]);r!=e[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,r,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-r};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-o,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,a,i,r,o,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(t[n])?8>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=s[a]?new Date(s[a]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){var n=new Array(t),a=new Date(e),i=0;for(a.setHours(12);t>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),l=i.startingDay-r.getDay(),c=l>0?7-l:-l,u=new Date(r);c>0&&u.setDate(-c+1);for(var d=o(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var h=s(t.rows[0][0].date),m=t.rows.length;t.weekNumbers.push(h++)<m;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(a,1),n=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),a=i.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(i.createDateObject(new Date(a,r,1),i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/r,10)*r+1}var r=a.yearRange;a.step={years:r},a.element=t,a._refreshView=function(){for(var t=new Array(r),n=0,o=i(a.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(a.createDateObject(new Date(o+n,0,1),a.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=a.split(t,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e,t){var n=a.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a.step.years:"home"===e?n=i(a.activeDate.getFullYear()):"end"===e&&(n=i(a.activeDate.getFullYear())+r-1),a.activeDate.setFullYear(n)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,a,i,r,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,c,u){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(e){if(angular.isDate(e)&&!isNaN(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=r.parse(e,f)||new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}return void u.$setValidity("date",!1)}return u.$setValidity("date",!0),null}var f,h=angular.isDefined(c.closeOnDateSelection)?s.$parent.$eval(c.closeOnDateSelection):o.closeOnDateSelection,m=angular.isDefined(c.datepickerAppendToBody)?s.$parent.$eval(c.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(c.showButtonBar)?s.$parent.$eval(c.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]},c.$observe("datepickerPopup",function(e){f=e||o.datepickerPopup,u.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");g.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(g.children()[0]);c.datepickerOptions&&angular.forEach(s.$parent.$eval(c.datepickerOptions),function(e,t){v.attr(d(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(c[e]){var n=t(c[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(d(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&a(s.$parent,e)})}}}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(p),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),u.$setViewValue(s.date),u.$render(),h&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,f):"";l.val(e),s.date=p(u.$modelValue)};var b=function(e){s.isOpen&&e.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},y=function(e,t){s.keydown(e)};l.bind("keydown",y),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=m?a.offset(l):a.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(u.$modelValue)?(e=new Date(u.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,l[0].focus()};var w=e(g)(s);g.remove(),m?n.find("body").append(w):l.after(w),s.$on("$destroy",function(){w.remove(),l.unbind("keydown",y),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",a)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",a))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},a=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,a,i,r){var o,s=this,l=e.$new(),c=a.openClass,u=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(a){s.$element=a,t.isOpen&&(o=n(t.isOpen),u=o.assign,e.$watch(o,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(t,n){r[t?"addClass":"removeClass"](s.$element,c),t?(l.focusToggleElement(),i.open(l)):i.close(l),u(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,a){t.backdropClass=a.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a,i,r){function o(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),a=f.get(e).value;f.remove(e),c(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),t.toggleClass(p,f.length()>0),l()})}function l(){if(u&&-1==o()){var e=d;c(u,d,150,function(){e.$destroy(),e=null}),u=void 0,d=void 0}}function c(n,a,i,r){function o(){o.done||(o.done=!0,n.remove(),r&&r())}a.animate=!1;var s=e.transitionEndEventName;if(s){var l=t(o,i);n.bind(s,function(){t.cancel(l),o(),a.$apply()})}else t(o)}var u,d,p="modal-open",f=r.createNew(),h={};return i.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){h.dismiss(t.key,"escape key press")})))}),h.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var r=n.find("body").eq(0),s=o();if(s>=0&&!u){d=i.$new(!0),d.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),u=a(l)(d),r.append(u)}var c=angular.element("<div modal-window></div>");c.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var h=a(c)(t.scope);f.top().value.modalDomEl=h,r.append(h),r.addClass(p)},h.close=function(e,t){var n=f.get(e);n&&(n.value.deferred.resolve(t),s(e))},h.dismiss=function(e,t){var n=f.get(e);n&&(n.value.deferred.reject(t),s(e))},h.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},h.getTop=function(){return f.top()},h}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,a,i,r,o,s){function l(e){return e.template?a.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:r}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=a.defer(),r=a.defer(),u={result:i.promise,opened:r.promise,close:function(e){s.close(u,e)},dismiss:function(e){s.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([l(t)].concat(c(t.resolve)));return d.then(function(e){var a=(t.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var r,l={},c=1;t.controller&&(l.$scope=a,l.$modalInstance=u,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),r=o(t.controller,l),t.controllerAs&&(a[t.controllerAs]=r)),s.open(u,{scope:a,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){r.resolve(!0)},function(){r.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,o){i=r,this.config=o,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){r(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,r=angular.isDefined(u)&&t>u;r&&(d?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=o(s,s,s===e);n.push(l)}if(r&&!d){if(a>1){var c=o(a-1,"...",!1);n.unshift(c)}if(t>i){var p=o(i+1,"...",!1);n.push(p)}}return n}var l=r[0],c=r[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){var r=i[0],o=i[1];o&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,r.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,r,o,s,l,c){return function(i,u,d){function p(e){var t=e||f.trigger||d,a=n[t]||t;return{show:t,hide:a}}var f=angular.extend({},t,a),h=e(i),m=c.startSymbol(),g=c.endSymbol(),v="<div "+h+'-popup title="'+m+"title"+g+'" content="'+m+"content"+g+'" placement="'+m+"placement"+g+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=r(v);return function(e,t,a){function r(){E.isOpen?d():c()}function c(){(!I||e.$eval(a[u+"Enable"]))&&(b(),E.popupDelay?k||(k=o(h,E.popupDelay,!1),k.then(function(e){e()})):h()())}function d(){e.$apply(function(){m()})}function h(){return k=null,T&&(o.cancel(T),T=null),E.content?(g(),_.css({top:0,left:0,display:"block"}),E.$digest(),N(),E.isOpen=!0,E.$digest(),N):angular.noop}function m(){E.isOpen=!1,o.cancel(k),k=null,E.animation?T||(T=o(v,500)):v()}function g(){_&&v(),C=E.$new(),_=n(C,function(e){A?s.find("body").append(e):t.after(e)})}function v(){T=null,_&&(_.remove(),_=null),C&&(C.$destroy(),C=null)}function b(){y(),w()}function y(){var e=a[u+"Placement"];E.placement=angular.isDefined(e)?e:f.placement}function w(){var e=a[u+"PopupDelay"],t=parseInt(e,10);E.popupDelay=isNaN(t)?f.popupDelay:t}function S(){var e=a[u+"Trigger"];O(),x=p(e),x.show===x.hide?t.bind(x.show,r):(t.bind(x.show,c),t.bind(x.hide,d))}var _,C,T,k,A=angular.isDefined(f.appendToBody)?f.appendToBody:!1,x=p(void 0),I=angular.isDefined(a[u+"Enable"]),E=e.$new(!0),N=function(){var e=l.positionElements(t,_,E.placement,A);e.top+="px",e.left+="px",_.css(e)};E.isOpen=!1,a.$observe(i,function(e){E.content=e,!e&&E.isOpen&&m()}),a.$observe(u+"Title",function(e){E.title=e});var O=function(){t.unbind(x.show,c),t.unbind(x.hide,d)};S();var P=e.$eval(a[u+"Animation"]);E.animation=angular.isDefined(P)?!!P:f.animation;var M=e.$eval(a[u+"AppendToBody"]);A=angular.isDefined(M)?M:A,A&&e.$on("$locationChangeSuccess",function(){E.isOpen&&m()}),e.$on("$destroy",function(){o.cancel(T),o.cancel(k),O(),v(),E=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",
replace:!0,link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var r=i==n.length-1?i-1:i+1;t.select(n[r])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,a){return function(t,n,i,r){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,a){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,r){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function c(e){u(),h.$setViewValue(new Date(f)),d(e)}function u(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),a=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),e.minutes="m"===t?a:l(a),e.meridian=f.getHours()<12?m[0]:m[1]}function p(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render;var i=a.eq(0),o=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var g=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){g=parseInt(e,10)});var v=r.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=o(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(f.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var a=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(f.setHours(e),c("h")):a(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(f.setMinutes(e),c("m")):a(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=h.$modelValue?new Date(h.$modelValue):null;isNaN(e)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),u(),d())},e.incrementHours=function(){p(60*g)},e.decrementHours=function(){p(60*-g)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,r,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,d){var p,f=l.$eval(u.typeaheadMinLength)||1,h=l.$eval(u.typeaheadWaitMs)||0,m=l.$eval(u.typeaheadEditable)!==!1,g=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,y=u.typeaheadAppendToBody?l.$eval(u.typeaheadAppendToBody):!1,w=l.$eval(u.typeaheadFocusFirst)!==!1,S=t(u.ngModel).assign,_=o.parse(u.typeahead),C=l.$new();l.$on("$destroy",function(){C.$destroy()});var T="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":T});var k=angular.element("<div typeahead-popup></div>");k.attr({id:T,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&k.attr("template-url",u.typeaheadTemplateUrl);var A=function(){C.matches=[],C.activeIdx=-1,c.attr("aria-expanded",!1)},x=function(e){return T+"-option-"+e};C.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",x(e))});var I=function(e){var t={$viewValue:e};g(l,!0),n.when(_.source(l,t)).then(function(n){var a=e===d.$viewValue;if(a&&p)if(n.length>0){C.activeIdx=w?0:-1,C.matches.length=0;for(var i=0;i<n.length;i++)t[_.itemName]=n[i],C.matches.push({id:x(i),label:_.viewMapper(C,t),model:n[i]});C.query=e,C.position=y?r.offset(c):r.position(c),C.position.top=C.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else A();a&&g(l,!1)},function(){A(),g(l,!1)})};A(),C.query=void 0;var E,N=function(e){E=a(function(){I(e)},h)},O=function(){E&&a.cancel(E)};d.$parsers.unshift(function(e){return p=!0,e&&e.length>=f?h>0?(O(),N(e)):I(e):(g(l,!1),O(),A()),m?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,a={};return b?(a.$model=e,b(l,a)):(a[_.itemName]=e,t=_.viewMapper(l,a),a[_.itemName]=void 0,n=_.viewMapper(l,a),t!==n?t:e)}),C.select=function(e){var t,n,i={};i[_.itemName]=n=C.matches[e].model,t=_.modelMapper(l,i),S(l,t),d.$setValidity("editable",!0),v(l,{$item:n,$model:t,$label:_.viewMapper(l,i)}),A(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==C.matches.length&&-1!==s.indexOf(e.which)&&(-1!=C.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===e.which?(C.activeIdx=(C.activeIdx>0?C.activeIdx:C.matches.length)-1,C.$digest()):13===e.which||9===e.which?C.$apply(function(){C.select(C.activeIdx)}):27===e.which&&(e.stopPropagation(),A(),C.$digest()))}),c.bind("blur",function(e){p=!1});var P=function(e){c[0]!==e.target&&(A(),C.$digest())};i.bind("click",P),l.$on("$destroy",function(){i.unbind("click",P),y&&M.remove()});var M=e(k)(C);y?i.find("body").append(M):c.after(M)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var s=a(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){r.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function a(e,t){return U(new(U(function(){},{prototype:e})),t)}function i(e){return R(arguments,function(t){t!==e&&R(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function r(e,t){var n=[];for(var a in e.path){if(e.path[a]!==t.path[a])break;n.push(e.path[a])}return n}function o(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,a=Number(arguments[2])||0;for(a=0>a?Math.ceil(a):Math.floor(a),0>a&&(a+=n);n>a;a++)if(a in e&&e[a]===t)return a;return-1}function l(e,t,n,a){var i,l=r(n,a),c={},u=[];for(var d in l)if(l[d].params&&(i=o(l[d].params),i.length))for(var p in i)s(u,i[p])>=0||(u.push(i[p]),c[i[p]]=e[i[p]]);return U({},c,t)}function c(e,t,n){if(!n){n=[];for(var a in e)n.push(a)}for(var i=0;i<n.length;i++){var r=n[i];if(e[r]!=t[r])return!1}return!0}function u(e,t){var n={};return R(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var a in e)-1==s(n,a)&&(t[a]=e[a]);return t}function p(e,t){var n=D(e),a=n?[]:{};return R(e,function(e,i){t(e,i)&&(a[n?a.length:i]=e)}),a}function f(e,t){var n=D(e)?[]:{};return R(e,function(e,a){n[a]=t(e,a)}),n}function h(e,t){var a=1,r=2,l={},c=[],u=l,p=U(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(e,n){if(b[n]!==r){if(v.push(n),b[n]===a)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=a,j(e))g.push(n,[function(){return t.get(e)}],c);else{var i=t.annotate(e);R(i,function(e){e!==n&&l.hasOwnProperty(e)&&f(l[e],e)}),g.push(n,e,i)}v.pop(),b[n]=r}}function h(e){return $(e)&&e.then&&e.$$promises}if(!$(l))throw new Error("'invocables' must be an object");var m=o(l||{}),g=[],v=[],b={};return R(l,f),l=v=b=null,function(a,r,o){function s(){--w||(S||i(y,r.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(y))}function l(e){v.$$failure=e,f.reject(e)}function c(n,i,r){function c(e){d.reject(e),l(e)}function u(){if(!P(v.$$failure))try{d.resolve(t.invoke(i,o,y)),d.promise.then(function(e){y[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),p=0;R(r,function(e){b.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||u()},c))}),p||u(),b[n]=d.promise}if(h(a)&&o===n&&(o=r,r=a,a=null),a){if(!$(a))throw new Error("'locals' must be an object")}else a=u;if(r){if(!h(r))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else r=p;var f=e.defer(),v=f.promise,b=v.$$promises={},y=U({},a),w=1+g.length/3,S=!1;if(P(r.$$failure))return l(r.$$failure),v;r.$$inheritedValues&&i(y,d(r.$$inheritedValues,m)),U(b,r.$$promises),r.$$values?(S=i(y,d(r.$$values,m)),v.$$inheritedValues=d(r.$$values,m),s()):(r.$$inheritedValues&&(v.$$inheritedValues=d(r.$$inheritedValues,m)),r.then(s,l));for(var _=0,C=g.length;C>_;_+=3)a.hasOwnProperty(g[_])?s():c(g[_],g[_+1],g[_+2]);return v}},this.resolve=function(e,t,n,a){return this.study(e)(t,n,a)}}function m(e,t,n){this.fromConfig=function(e,t,n){return P(e.template)?this.fromString(e.template,t):P(e.templateUrl)?this.fromUrl(e.templateUrl,t):P(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return M(e)?e(t):e},this.fromUrl=function(n,a){return M(n)&&(n=n(a)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,a){return n.invoke(e,null,a||{params:t})}}function g(e,t,i){function r(t,n,a,i){if(g.push(t),h[t])return h[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new B.Param(t,n,a,i),m[t]}function o(e,t,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:a=["(",")"];break;case!0:a=["?(",")?"];break;default:a=["("+n+"|",")?"]}return i+a[0]+t+a[1]}function s(n,i){var r,o,s,l,c;return r=n[2]||n[3],c=t.params[r],s=e.substring(p,n.index),o=i?n[4]:n[4]||("*"==n[1]?".*":null),l=B.type(o||"string")||a(B.type("string"),{pattern:new RegExp(o)}),{id:r,regexp:o,segment:s,type:l,cfg:c}}t=U({params:{}},$(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new B.ParamSet,g=[];this.source=e;for(var v,b,y;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)b=r(v.id,v.type,v.cfg,"path"),d+=o(v.segment,b.type.pattern.source,b.squash),f.push(v.segment),p=c.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var S=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),S.length>0)for(p=0;l=u.exec(S);)v=s(l,!0),b=r(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(y)+(t.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function v(e){U(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function r(e){return this.pattern.test(e)}function l(){return{strict:y,caseInsensitive:m}}function c(e){return M(e)||D(e)&&M(e[e.length-1])}function u(){for(;C.length;){var e=C.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(S[e.name],h.invoke(e.def))}}function d(e){U(this,e||{})}B=this;var h,m=!1,y=!0,w=!1,S={},_=!0,C=[],T={string:{encode:e,decode:i,is:r,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return P(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!c(e.value))return e.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(e.value)},this.caseInsensitive=function(e){return P(e)&&(m=e),m},this.strictMode=function(e){return P(e)&&(y=e),y},this.defaultSquashPolicy=function(e){if(!P(e))return w;if(e!==!0&&e!==!1&&!j(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return w=e,e},this.compile=function(e,t){return new g(e,U(l(),t))},this.isMatcher=function(e){if(!$(e))return!1;var t=!0;return R(g.prototype,function(n,a){M(n)&&(t=t&&P(e[a])&&M(e[a]))}),t},this.type=function(e,t,n){if(!P(t))return S[e];if(S.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return S[e]=new v(U({name:e},t)),n&&(C.push({name:e,def:n}),_||u()),this},R(T,function(e,t){S[t]=new v(U({name:t},e))}),S=a(S,{}),this.$get=["$injector",function(e){return h=e,_=!1,u(),R(T,function(e,t){S[t]||(S[t]=new v(e))}),this}],this.Param=function(e,t,a,i){function r(e){var t=$(e)?o(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=c(e.value)?e.value:function(){return e.value},e}function l(t,n,a){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===a?S.any:S.string}function u(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return U(t,n,a).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!P(n)||null==n)return w;if(n===!0||j(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,a,i){var r,o,l=[{from:"",to:a||t?n:""},{from:null,to:a||t?n:""}];return r=D(e.replace)?e.replace:[],j(i)&&r.push({from:i,to:n}),o=f(r,function(e){return e.from}),p(l,function(e){return-1===s(o,e.from)}).concat(r)}function g(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(a.$$fn)}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(p(_.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),P(e)?_.type.decode(e):g()}function y(){return"{Param:"+e+" "+t+" squash: '"+k+"' optional: "+T+"}"}var _=this;a=r(a),t=l(a,t,i);var C=u();t=C?t.$asArray(C,"search"===i):t,"string"!==t.name||C||"path"!==i||a.value!==n||(a.value="");var T=a.value!==n,k=d(a,T),A=m(a,C,T,k);U(this,{id:e,type:t,location:i,array:C,squash:k,replace:A,isOptional:T,value:b,dynamic:n,config:a,toString:y})},d.prototype={$$new:function(){return a(this,U(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,a=o(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),R(t,function(t){R(o(t),function(t){-1===s(e,t)&&-1===s(a,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return R(n.$$keys(),function(a){t[a]=n[a].value(e&&e[a])}),t},$$equals:function(e,t){var n=!0,a=this;return R(a.$$keys(),function(i){var r=e&&e[i],o=t&&t[i];a[i].type.equals(r,o)||(n=!1)}),n},$$validates:function(e){var t,n,a,i=!0,r=this;return R(this.$$keys(),function(o){a=r[o],n=e[o],t=!n&&a.isOptional,i=i&&(t||!!a.type.is(n))}),i},$$parent:n},this.ParamSet=d}function y(e,a){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function r(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var a=e.invoke(t,t,{$match:n});return P(a)?a:!0}function s(a,i,r,o){function s(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(r,a);return t?(j(t)&&a.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=h&&a.url()===h;if(h=n,i)return!0;var o,s=c.length;for(o=0;s>o;o++)if(t(c[o]))return;u&&t(u)}}function f(){return l=l||i.$on("$locationChangeSuccess",p)}var h,m=o.baseHref(),g=a.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(g=a.url()):void(a.url()!==g&&(a.url(g),a.replace()))},push:function(e,t,i){a.url(e.format(t||{})),h=i&&i.$$avoidResync?a.url():n,i&&i.replace&&a.replace()},href:function(n,i,r){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var l=n.format(i);if(r=r||{},o||null===l||(l="#"+e.hashPrefix()+l),l=s(l,o,r.absolute),!r.absolute||!l)return l;var c=!o&&l?"/":"",u=a.port();return u=80===u||443===u?"":":"+u,[a.protocol(),"://",a.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!M(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(j(e)){var t=e;e=function(){return t}}else if(!M(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=j(t);if(j(e)&&(e=a.compile(e)),!s&&!M(t)&&!D(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=a.compile(t),t=["$match",function(e){return n.format(e)}]),U(function(n,a){return o(n,t,e.exec(a.path(),a.search()))},{prefix:j(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return r(n,e)}]),U(function(n,a){return o(n,t,e.exec(a.path()))},{prefix:i(e)})}},c={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function r(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var a=j(e),i=a?e:e.name,o=r(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=d(t);for(var s=i.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),i=u.name+(u.name&&s?".":"")+s}var p=T[i];return!p||!a&&(a||p!==e&&p.self!==e)?n:p}function p(e,t){k[e]||(k[e]=[]),k[e].push(t)}function h(e){for(var t=k[e]||[];t.length;)m(t.shift())}function m(t){t=a(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!j(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):j(t.parent)?t.parent:$(t.parent)&&j(t.parent.name)?t.parent.name:"";if(i&&!T[i])return p(i,t.self);for(var r in x)M(x[r])&&(t[r]=x[r](t,x.$delegates[r]));return T[n]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){C.$current.navigable==t&&c(e,n)||C.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=C.$current.name.split(".");if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var a=0,i=t.length;i>a;a++)"*"===t[a]&&(n[a]="*");return n.join("")===t.join("")}function b(e,t){return j(e)&&!P(t)?x[e]:M(t)&&j(e)?(x[e]&&!x.$delegates[e]&&(x.$delegates[e]=x[e]),x[e]=t,this):this}function y(e,t){return $(e)?t=e:t.name=e,m(t),this}function w(e,i,r,s,p,h,m,b,y){function w(t,n,a,r){var o=e.$broadcast("$stateNotFound",t,n,a);if(o.defaultPrevented)return m.update(),E;if(!o.retry)return null;if(r.$retry)return m.update(),N;var s=C.transition=i.when(o.retry);return s.then(function(){return s!==C.transition?x:(t.options.$retry=!0,C.transitionTo(t.to,t.toParams,t.options))},function(){return E}),m.update(),s}function k(e,n,a,o,l,c){var d=a?n:u(e.params.$$keys(),n),f={$stateParams:d};l.resolve=p.resolve(e.resolve,f,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return o&&h.push(o),R(e.views,function(n,a){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return r.load(a,{view:n,locals:f,params:d,notify:c.notify})||""}],h.push(p.resolve(i,f,l.resolve,e).then(function(r){if(M(n.controllerProvider)||D(n.controllerProvider)){var o=t.extend({},i,f);r.$$controller=s.invoke(n.controllerProvider,null,o)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,l[a]=r}))}),i.all(h).then(function(e){return l})}var x=i.reject(new Error("transition superseded")),I=i.reject(new Error("transition prevented")),E=i.reject(new Error("transition aborted")),N=i.reject(new Error("transition failed"));return _.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:_.self,$current:_,transition:null},C.reload=function(){return C.transitionTo(C.current,h,{reload:!0,inherit:!1,notify:!0})},C.go=function(e,t,n){return C.transitionTo(e,t,U({inherit:!0,relative:C.$current},n))},C.transitionTo=function(t,n,r){n=n||{},r=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},r||{});var o,c=C.$current,p=C.params,f=c.path,g=d(t,r.relative);if(!P(g)){var v={to:t,toParams:n,options:r},b=w(v,c.self,p,r);if(b)return b;if(t=v.to,n=v.toParams,r=v.options,g=d(t,r.relative),!P(g)){if(!r.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+r.relative+"'")}}if(g[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(r.inherit&&(n=l(h,n||{},C.$current,g)),!g.params.$$validates(n))return N;n=g.params.$$values(n),t=g;var y=t.path,T=0,E=y[T],O=_.locals,M=[];if(!r.reload)for(;E&&E===f[T]&&E.ownParams.$$equals(n,p);)O=M[T]=E.locals,T++,E=y[T];if(S(t,c,O,r))return t.self.reloadOnSearch!==!1&&m.update(),C.transition=null,i.when(C.current);if(n=u(t.params.$$keys(),n||{}),r.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,p).defaultPrevented)return m.update(),I;for(var j=i.when(O),$=T;$<y.length;$++,E=y[$])O=M[$]=a(O),j=k(E,n,E===t,j,O,r);var D=C.transition=j.then(function(){var a,i,o;if(C.transition!==D)return x;for(a=f.length-1;a>=T;a--)o=f[a],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(a=T;a<y.length;a++)i=y[a],i.locals=M[a],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return C.transition!==D?x:(C.$current=t,C.current=t.self,C.params=n,L(C.params,h),C.transition=null,r.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===r.location}),r.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,p),m.update(!0),C.current)},function(a){return C.transition!==D?x:(C.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,p,a),o.defaultPrevented||m.update(),i.reject(a))});return D},C.is=function(e,t,a){a=U({relative:C.$current},a||{});var i=d(e,a.relative);return P(i)?C.$current!==i?!1:t?c(i.params.$$values(t),h):!0:n},C.includes=function(e,t,a){if(a=U({relative:C.$current},a||{}),j(e)&&g(e)){if(!v(e))return!1;e=C.$current.name}var i=d(e,a.relative);return P(i)?P(C.$current.includes[i.name])?t?c(i.params.$$values(t),h,o(t)):!0:!1:n},C.href=function(e,t,a){a=U({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},a||{});var i=d(e,a.relative);if(!P(i))return null;a.inherit&&(t=l(h,t||{},C.$current,i));var r=i&&a.lossy?i.navigable:i;return r&&r.url!==n&&null!==r.url?m.href(r.url,u(i.params.$$keys(),t||{}),{absolute:a.absolute}):null},C.get=function(e,t){if(0===arguments.length)return f(o(T),function(e){return T[e].self});var n=d(e,t||C.$current);return n&&n.self?n.self:null},C}function S(e,t,n,a){return e!==t||(n!==t.locals||a.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var _,C,T={},k={},A="abstract",x={parent:function(e){if(P(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):_},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=U({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(j(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||_).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new B.ParamSet;return R(e.params||{},function(e,n){t[n]||(t[n]=new B.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?U(e.parent.params.$$new(),e.ownParams):new B.ParamSet},views:function(e){var t={};return R(P(e.views)?e.views:{"":e},function(n,a){a.indexOf("@")<0&&(a+="@"+e.parent.name),t[a]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};_=m({name:"",url:"^",views:null,"abstract":!0}),_.navigable=null,this.decorator=b,this.state=y,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function S(){function e(e,t){return{load:function(n,a){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return a=U(r,a),a.view&&(i=t.fromConfig(a.view,a.params,a.locals)),i&&a.notify&&e.$broadcast("$viewContentLoading",a),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function _(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function C(e,n,a,i){function r(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var a=c.enter(e,null,t,n);a&&a.then&&a.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var a=l&&l(t,e);return{enter:function(e,t,n){a.enter(e,null,t),n()},leave:function(e,t){a.leave(e),t()}}}return n()}var s=r(),l=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,r,s){return function(n,r,l){function c(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function u(o){var u,d=k(n,l,r,i),b=d&&e.$current&&e.$current.locals[d];if(o||b!==h){u=n.$new(),h=e.$current.locals[d];var y=s(u,function(e){v.enter(e,r,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&a(e)}),c()});p=y,f=u,f.$emit("$viewContentLoaded"),f.$eval(m)}}var d,p,f,h,m=l.onload||"",g=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function T(e,t,n,a){return{restrict:"ECA",priority:-400,compile:function(i){var r=i.html();return function(i,o,s){var l=n.$current,c=k(i,s,o,a),u=l&&l.locals[c];
if(u){o.data("$uiView",{name:c,state:u.$$state}),o.html(u.$template?u.$template:r);var d=e(o.contents());if(u.$$controller){u.$scope=i;var p=t(u.$$controller,u);u.$$controllerAs&&(i[u.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}d(i)}}}}}function k(e,t,n,a){var i=a(t.uiView||t.name||"")(e),r=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(r?r.state.name:"")}function A(e,t){var n,a=e.match(/^\s*({[^}]*})\s*$/);if(a&&(e=t+"("+a[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function x(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function I(e,n){var a=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,s){var l=A(o.uiSref,e.current.name),c=null,u=x(r)||e.$current,d=null,p="A"===r.prop("tagName"),f="FORM"===r[0].nodeName,h=f?"action":"href",m=!0,g={relative:u,inherit:!0},v=i.$eval(o.uiSrefOpts)||{};t.forEach(a,function(e){e in v&&(g[e]=v[e])});var b=function(n){if(n&&(c=t.copy(n)),m){d=e.href(l.state,c,g);var a=s[1]||s[0];return a&&a.$$setStateInfo(l.state,c),null===d?(m=!1,!1):void o.$set(h,d)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e,t){e!==c&&b(e)},!0),c=t.copy(i.$eval(l.paramExpr))),b(),f||r.bind("click",function(t){var a=t.which||t.button;if(!(a>1||t.ctrlKey||t.metaKey||t.shiftKey||r.attr("target"))){var i=n(function(){e.go(l.state,c,g)});t.preventDefault();var o=p&&!d?1:0;t.preventDefault=function(){o--<=0&&n.cancel(i)}}})}}}function E(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,a,i){function r(){o()?a.addClass(c):a.removeClass(c)}function o(){return"undefined"!=typeof i.uiSrefActiveEq?s&&e.is(s.name,l):s&&e.includes(s.name,l)}var s,l,c;c=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,x(a)),l=n,r()},t.$on("$stateChangeSuccess",r)}]}}function N(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function O(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var P=t.isDefined,M=t.isFunction,j=t.isString,$=t.isObject,D=t.isArray,R=t.forEach,U=t.extend,L=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var B;g.prototype.concat=function(e,t){var n={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,U(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var a=t(e).split(/-(?!\\)/),i=f(a,t);return f(i,n).reverse()}var a=this.regexp.exec(e);if(!a)return null;t=t||{};var i,r,o,s=this.parameters(),l=s.length,c=this.segments.length-1,u={};if(c!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;c>i;i++){o=s[i];var d=this.params[o],p=a[i+1];for(r=0;r<d.replace;r++)d.replace[r].from===p&&(p=d.replace[r].to);p&&d.array===!0&&(p=n(p)),u[o]=d.value(p)}for(;l>i;i++)o=s[i],u[o]=this.params[o].value(t[o]);return u},g.prototype.parameters=function(e){return P(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,a=this.parameters(),i=this.params;if(!this.validates(e))return null;var r,o=!1,s=n.length-1,l=a.length,c=n[0];for(r=0;l>r;r++){var u=s>r,d=a[r],p=i[d],h=p.value(e[d]),m=p.isOptional&&p.type.equals(p.value(),h),g=m?p.squash:!1,v=p.type.encode(h);if(u){var b=n[r+1];if(g===!1)null!=v&&(c+=D(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=b;else if(g===!0){var y=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(y)[1]}else j(g)&&(c+=g+b)}else{if(null==v||m&&g!==!1)continue;D(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),c+=(o?"&":"?")+(d+"="+v),o=!0}}return c},v.prototype.is=function(e,t){return!0},v.prototype.encode=function(e,t){return e},v.prototype.decode=function(e,t){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function a(e,t){function a(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return D(e)?e:P(e)?[e]:[]}function r(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){n=i(n);var a=f(n,e);return t===!0?0===p(a,o).length:r(a)}}function l(e){return function(t,n){var a=i(t),r=i(n);if(a.length!==r.length)return!1;for(var o=0;o<a.length;o++)if(!e(a[o],r[o]))return!1;return!0}}this.encode=s(a(e,"encode")),this.decode=s(a(e,"decode")),this.is=s(a(e,"is"),!0),this.equals=l(a(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new a(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),S.$inject=[],t.module("ui.router.state").provider("$view",S),t.module("ui.router.state").provider("$uiViewScroll",_),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],T.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",C),t.module("ui.router.state").directive("uiView",T),I.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),N.$inject=["$state"],O.$inject=["$state"],t.module("ui.router.state").filter("isState",N).filter("includedByState",O)}(window,window.angular),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,a=!1,i=!1;t={sanitize:function(e,t){return"text"===t&&(e=o(e)),e},escape:function(e,t){return"text"===t&&(e=r(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,r)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return a=!0,n=e,this},this.$get=["$injector","$log",function(r,o){var s={},l=function(e,n,a){return angular.forEach(a,function(a){if(angular.isFunction(a))e=a(e,n);else if(angular.isFunction(t[a]))e=t[a](e,n);else{if(!angular.isString(t[a]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+a+"'");if(!s[t[a]])try{s[t[a]]=r.get(t[a])}catch(i){throw s[t[a]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+a+"'")}e=s[t[a]](e,n)}}),e},c=function(){a||i||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return r.has("$sanitize")&&(e=r.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,a){if(n||c(),arguments.length<3&&(a=n),!a)return e;var i=angular.isArray(a)?a:[a];return l(e,t,i)}}}];var r=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},o=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t){if(angular.isObject(e)){var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,a){n[a]=s(e,t)}),n}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,a){"use strict";var i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y={},w=[],S=e,_=[],C="translate-cloak",T=!1,k=!1,A=".",x=!1,I=0,E=!0,N="default",O={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},P="2.8.1",M=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var e,n,i=t.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if(n=i.languages[e],n&&n.length)return n;for(e=0;e<r.length;e++)if(n=i[r[e]],n&&n.length)return n;return null};M.displayName="angular-translate/service: getFirstBrowserLanguage";var j=function(){var e=M()||"";return O[N]&&(e=O[N](e)),e};j.displayName="angular-translate/service: getLocale";var $=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},D=function(){return this.toString().replace(/^\s+|\s+$/g,"")},R=function(e){for(var t=[],n=angular.lowercase(e),a=0,i=w.length;i>a;a++)t.push(angular.lowercase(w[a]));if($(t,n)>-1)return e;if(r){var o;for(var s in r){var l=!1,c=Object.prototype.hasOwnProperty.call(r,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(o=r[s],$(t,angular.lowercase(o))>-1))return o}}if(e){var u=e.split("_");if(u.length>1&&$(t,angular.lowercase(u[0]))>-1)return u[0]}return e},U=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],L(t));return this};this.translations=U,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(A=e,this):A};var L=function(e,t,n,a){var i,r,o,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?L(s,t.concat(i),n,i):(r=t.length?""+t.join(A)+A+i:i,t.length&&i===a&&(o=""+t.join(A),n[o]="@:"+r),n[r]=s));return n};L.displayName="flatObject",this.addInterpolation=function(e){return _.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):i};var B=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(g=e,this):g},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return F(e),this};var F=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(i)&&$(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(e){if(e){if(!y[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var G=function(e){return e?(S=e,this):d?d+S:S};this.storageKey=G,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return T=!!e,this},this.forceAsyncReload=function(e){return k=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},N=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():j();return i=w.length?R(t):t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(r=t),this):w},this.useLoaderCache=function(e){return e===!1?b=void 0:e===!0?b=!0:"undefined"==typeof e?b="$translationCache":e&&(b=e),this},this.directivePriority=function(e){return void 0===e?I:(I=e,this)},this.statefulFilter=function(e){return void 0===e?E:(E=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,a){var r,d,w,N=t.get(f||"$translateDefaultInterpolation"),O=!1,M={},j={},V=function(e,t,n,s){if(angular.isArray(e)){var c=function(e){for(var i={},r=[],o=function(e){var r=a.defer(),o=function(t){i[e]=t,r.resolve([e,t])};return V(e,t,n,s).then(o,o),r.promise},l=0,c=e.length;c>l;l++)r.push(o(e[l]));return a.all(r).then(function(){return i})};return c(e)}var p=a.defer();e&&(e=D.apply(e));var f=function(){var e=i?j[i]:j[l];if(d=0,u&&!e){var t=r.get(S);if(e=j[t],o&&o.length){var n=$(o,t);d=0===n?1:0,$(o,i)<0&&o.push(i)}}return e}();if(f){var h=function(){ne(e,t,n,s).then(p.resolve,p.reject)};h.displayName="promiseResolved",f["finally"](h,p.reject)}else ne(e,t,n,s).then(p.resolve,p.reject);return p.promise},H=function(e){return g&&(e=[g,e].join(" ")),v&&(e=[e,v].join(" ")),e},W=function(e){l=e,u&&r.put(V.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),N.setLocale(l);var t=function(e,t){M[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(M,t),n.$emit("$translateChangeEnd",{language:e})},q=function(e){if(!e)throw"No language key specified for loading.";var i=a.defer();n.$emit("$translateLoadingStart",{language:e}),O=!0;var r=b;"string"==typeof r&&(r=t.get(r));var o=angular.extend({},m,{key:e,$http:angular.extend({},{cache:r},m.$http)}),s=function(t){var a={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(a,L(e))}):angular.extend(a,L(t)),O=!1,i.resolve({key:e,table:a}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(o).then(s,l),i.promise};if(u&&(r=t.get(u),!r.get||!r.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(_.length){var K=function(e){var n=t.get(e);n.setLocale(i||l),M[n.getInterpolationIdentifier()]=n};K.displayName="interpolationFactoryAdder",angular.forEach(_,K)}var z=function(e){var t=a.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(j[e]){var n=function(e){U(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",j[e].then(n,t.reject)}else t.reject();return t.promise},Y=function(e,t,n,i){var r=a.defer(),o=function(a){if(Object.prototype.hasOwnProperty.call(a,t)){i.setLocale(e);var o=a[t];"@:"===o.substr(0,2)?Y(e,o.substr(2),n,i).then(r.resolve,r.reject):r.resolve(i.interpolate(a[t],n)),i.setLocale(l)}else r.reject()};return o.displayName="fallbackTranslationResolver",z(e).then(o,r.reject),r.promise},Q=function(e,t,n,a){var i,r=y[e];if(r&&Object.prototype.hasOwnProperty.call(r,t)){if(a.setLocale(e),i=a.interpolate(r[t],n),"@:"===i.substr(0,2))return Q(e,i.substr(2),n,a);a.setLocale(l)}return i},J=function(e,n){if(p){var a=t.get(p)(e,l,n);return void 0!==a?a:e}return e},X=function(e,t,n,i,r){var s=a.defer();if(e<o.length){var l=o[e];Y(l,t,n,i).then(s.resolve,function(){X(e+1,t,n,i,r).then(s.resolve)})}else r?s.resolve(r):s.resolve(J(t,n));return s.promise},Z=function(e,t,n,a){var i;if(e<o.length){var r=o[e];i=Q(r,t,n,a),i||(i=Z(e+1,t,n,a))}return i},ee=function(e,t,n,a){return X(w>0?w:d,e,t,n,a)},te=function(e,t,n){return Z(w>0?w:d,e,t,n)},ne=function(e,t,n,i){var r=a.defer(),s=l?y[l]:y,c=n?M[n]:N;if(s&&Object.prototype.hasOwnProperty.call(s,e)){var u=s[e];"@:"===u.substr(0,2)?V(u.substr(2),t,n,i).then(r.resolve,r.reject):r.resolve(c.interpolate(u,t))}else{var d;p&&!O&&(d=J(e,t)),l&&o&&o.length?ee(e,t,c,i).then(function(e){r.resolve(e)},function(e){r.reject(H(e))}):p&&!O&&d?i?r.resolve(i):r.resolve(d):i?r.resolve(i):r.reject(H(e))}return r.promise},ae=function(e,t,n){var a,i=l?y[l]:y,r=N;if(M&&Object.prototype.hasOwnProperty.call(M,n)&&(r=M[n]),i&&Object.prototype.hasOwnProperty.call(i,e)){var s=i[e];a="@:"===s.substr(0,2)?ae(s.substr(2),t,n):r.interpolate(s,t)}else{var c;p&&!O&&(c=J(e,t)),l&&o&&o.length?(d=0,a=te(e,t,r)):a=p&&!O&&c?c:H(e)}return a},ie=function(e){c===e&&(c=void 0),j[e]=void 0};V.preferredLanguage=function(e){return e&&B(e),i},V.cloakClassName=function(){return C},V.nestedObjectDelimeter=function(){return A},V.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(F(e),h&&o&&o.length)for(var t=0,n=o.length;n>t;t++)j[o[t]]||(j[o[t]]=q(o[t]));V.use(V.use())}return s?o[0]:o},V.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=$(o,e);t>-1&&(w=t)}else w=0},V.proposedLanguage=function(){return c},V.storage=function(){return r},V.use=function(e){if(!e)return l;var t=a.defer();n.$emit("$translateChangeStart",{language:e});var i=R(e);return i&&(e=i),!k&&y[e]||!h||j[e]?c===e&&j[e]?j[e].then(function(e){return t.resolve(e.key),e},function(e){return t.reject(e),a.reject(e)}):(t.resolve(e),W(e)):(c=e,j[e]=q(e).then(function(n){return U(n.key,n.table),t.resolve(n.key),c===e&&W(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),a.reject(e)}),j[e]["finally"](function(){ie(e)})),t.promise},V.storageKey=function(){return G()},V.isPostCompilingEnabled=function(){return T},V.isForceAsyncReloadEnabled=function(){return k},V.refresh=function(e){function t(){r.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function i(){r.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var r=a.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(y[e]){var s=function(n){U(n.key,n.table),e===l&&W(l),t()};s.displayName="refreshPostProcessor",q(e).then(s,i)}else i();else{var c=[],u={};if(o&&o.length)for(var d=0,p=o.length;p>d;d++)c.push(q(o[d])),u[o[d]]=!0;l&&!u[l]&&c.push(q(l));var f=function(e){y={},angular.forEach(e,function(e){U(e.key,e.table)}),l&&W(l),t()};f.displayName="refreshPostProcessor",a.all(c).then(f,i)}return r.promise},V.instant=function(e,t,n){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var a={},r=0,s=e.length;s>r;r++)a[e[r]]=V.instant(e[r],t,n);return a}if(angular.isString(e)&&e.length<1)return e;e&&(e=D.apply(e));var c,u=[];i&&u.push(i),l&&u.push(l),o&&o.length&&(u=u.concat(o));for(var d=0,f=u.length;f>d;d++){var h=u[d];if(y[h]&&("undefined"!=typeof y[h][e]?c=ae(e,t,n):(g||v)&&(c=H(e))),"undefined"!=typeof c)break}return c||""===c||(c=N.interpolate(e,t),p&&!O&&(c=J(e,t))),c},V.versionInfo=function(){return P},V.loaderCache=function(){return b},V.directivePriority=function(){return I},V.statefulFilter=function(){return E},V.isReady=function(){return x};var re=a.defer();re.promise.then(function(){x=!0}),V.onReady=function(e){var t=a.defer();return angular.isFunction(e)&&t.promise.then(e),x?t.resolve():re.promise.then(t.resolve),t.promise};var oe=n.$on("$translateReady",function(){re.resolve(),oe(),oe=null}),se=n.$on("$translateChangeEnd",function(){re.resolve(),se(),se=null});if(h){if(angular.equals(y,{})&&V.use()&&V.use(V.use()),o&&o.length)for(var le=function(e){return U(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ce=0,ue=o.length;ue>ce;ce++){var de=o[ce];(k||!y[de])&&(j[de]=q(de).then(le))}}else n.$emit("$translateReady",{language:V.use()});return V}]}function a(e,t){"use strict";var n,a={},i="default";return a.setLocale=function(e){n=e},a.getInterpolationIdentifier=function(){return i},a.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},a.interpolate=function(n,a){a=a||{},a=t.sanitize(a,"params");var i=e(n)(a);return i=t.sanitize(i,"text")},a}function i(e,t,n,a,i,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",f="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,h,m){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=r(t);var g={},v=function(e,n,a){if(n.translateValues&&angular.extend(e,i(n.translateValues)(t.$parent)),d)for(var r in a)if(Object.prototype.hasOwnProperty.call(n,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var o=angular.lowercase(r.substr(14,1))+r.substr(15);e[o]=a[r]}},b=function(e){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var a=s.apply(h.text()),i=a.match(p);if(angular.isArray(i)){t.preText=i[1],t.postText=i[3],g.translate=n(i[2])(t.$parent);var r=a.match(f);angular.isArray(r)&&r[2]&&r[2].length&&(b._unwatchOld=t.$watch(r[2],function(e){g.translate=e,T()}))}else g.translate=a}else g.translate=e;T()},y=function(e){m.$observe(e,function(t){g[e]=t,T()})};v(t.interpolateParams,m,l);var w=!0;m.$observe("translate",function(e){"undefined"==typeof e?b(""):""===e&&w||(g.translate=e,T()),w=!1});for(var S in m)m.hasOwnProperty(S)&&"translateAttr"===S.substr(0,13)&&y(S);if(m.$observe("translateDefault",function(e){t.defaultText=e}),c&&m.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),d){var _=function(e){m.$observe(e,function(n){var a=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[a]=n})};for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&_(C)}var T=function(){for(var e in g)g.hasOwnProperty(e)&&void 0!==g[e]&&k(e,g[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},k=function(t,n,a,i,r,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,i,u,r).then(function(e){A(e,a,!0,t)},function(e){A(e,a,!1,t)})):A(n,a,!1,t)},A=function(t,n,i,r){if("translate"===r){i||"undefined"==typeof n.defaultText||(t=n.defaultText),h.empty().append(n.preText+t+n.postText);var o=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(o&&!s||c)&&a(h.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=m.$attr[r];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),h.attr(u,t)}};(c||d||m.translateDefault)&&t.$watch("interpolateParams",T,!0);var x=o.$on("$translateChangeSuccess",T);h.text().length?b(m.translate?m.translate:""):m.translate&&b(m.translate),T(),t.$on("$destroy",x)}}}}function r(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?r(e.$parent):void 0}function o(e){"use strict";return{compile:function(t){var n=function(){t.addClass(e.cloakClassName())},a=function(){t.removeClass(e.cloakClassName())};return e.onReady(function(){a()}),n(),function(t,i,r){r.translateCloak&&r.translateCloak.length&&r.$observe("translateCloak",function(t){e(t).then(a,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=r(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function r(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?r(e.$parent):void 0}function l(e,t){"use strict";var n=function(n,a,i){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i)};return t.statefulFilter()&&(n.$stateful=!0),n}function c(e){"use strict";return e("translations")}return e.$inject=["a"],n.$inject=["a","b","c","d"],a.$inject=["a","b"],i.$inject=["a","b","c","d","e","g"],o.$inject=["a"],l.$inject=["a","b"],c.$inject=["a"],angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",a),a.$inject=["$interpolate","$translateSanitization"],a.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.$inject=["$cacheFactory"],c.displayName="$translationCache","pascalprecht.translate"}),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var a=function(a){if(!a||!angular.isString(a.prefix)||!angular.isString(a.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return t(angular.extend({url:[a.prefix,n.key,a.suffix].join(""),method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},i=e.defer(),r=[],o=n.files.length,s=0;o>s;s++)r.push(a({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return e.all(r).then(function(e){for(var t=e.length,n={},a=0;t>a;a++)for(var r in e[a])n[r]=e[a][r];i.resolve(n)},function(e){i.reject(e)}),i.promise}}return e.$inject=["a","b"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.$inject=["$q","$http"],e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),angular.module("lr.upload",["lr.upload.formdata","lr.upload.iframe","lr.upload.directives"]),angular.module("lr.upload.directives",[]),angular.module("lr.upload.directives").directive("uploadButton",["upload",function(e){return{restrict:"EA",scope:{data:"=?data",url:"@",param:"@",method:"@",onUpload:"&",onSuccess:"&",onError:"&",onComplete:"&"},link:function(t,n,a){var i=angular.element(n),r=angular.element('<input type="file" />');if(i.append(r),r.on("change",function(){if(!r[0].files||0!==r[0].files.length){var n={url:t.url,method:t.method||"POST",forceIFrameUpload:t.$eval(a.forceIframeUpload)||!1,data:t.data||{}};n.data[t.param||"file"]=r,t.$apply(function(){t.onUpload({files:r[0].files})}),e(n).then(function(e){t.onSuccess({response:e}),t.onComplete({response:e})},function(e){t.onError({response:e}),t.onComplete({response:e})})}}),"required"in a&&a.$observe("required",function(e){var a=""===e?!0:t.$eval(e);r.attr("required",a),n.toggleClass("ng-valid",!a),n.toggleClass("ng-invalid ng-invalid-required",a)}),"accept"in a&&a.$observe("accept",function(e){r.attr("accept",e)}),e.support.formData){var o=function(){r.attr("multiple",!(!t.$eval(a.multiple)||t.$eval(a.forceIframeUpload)))};a.$observe("multiple",o),a.$observe("forceIframeUpload",o)}}}}]),angular.module("lr.upload.formdata",[]).factory("formDataTransform",function(){return function(e){var t=new FormData;return angular.forEach(e,function(e,n){if(angular.isElement(e)){var a=[];angular.forEach(e,function(e){angular.forEach(e.files,function(e){a.push(e)})}),0!==a.length&&(a.length>1?angular.forEach(a,function(e,a){t.append(n+"["+a+"]",e)}):t.append(n,a[0]))}else t.append(n,e)}),t}}).factory("formDataUpload",["$http","formDataTransform",function(e,t){return function(n){return n.transformRequest=t,n.headers=angular.extend(n.headers||{},{"Content-Type":void 0}),e(n)}}]),angular.module("lr.upload.iframe",[]).factory("iFrameUpload",["$q","$http","$document","$rootScope",function(e,t,n,a){function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function r(r){var o=[],s=e.defer(),l=s.promise;angular.forEach(r.data||{},function(e,t){angular.isElement(e)&&(delete r.data[t],e.attr("name",t),o.push(e))});var c=/\?/.test(r.url)?"&":"?";"DELETE"===r.method?(r.url=r.url+c+"_method=DELETE",r.method="POST"):"PUT"===r.method?(r.url=r.url+c+"_method=PUT",r.method="POST"):"PATCH"===r.method&&(r.url=r.url+c+"_method=PATCH",r.method="POST");var u=angular.element(n[0].body),d=a.$new(),p="iframe-transport-"+d.$id;d.$destroy();var f=angular.element("<form></form>");f.attr("target",p),f.attr("action",r.url),f.attr("method",r.method||"POST"),f.css("display","none"),o.length&&(f.attr("enctype","multipart/form-data"),f.attr("encoding","multipart/form-data"));var h=angular.element('<iframe name="'+p+'" src="javascript:false;"></iframe>');return h.on("load",function(){function e(e,t){var n=[];return angular.isFunction(t)?t(e,n):(angular.forEach(t,function(t){e=t(e,n)}),e)}function n(){var e=i(t.pendingRequests,r);-1!==e&&(t.pendingRequests.splice(e,1),r.$iframeTransportForm.remove(),delete r.$iframeTransportForm)}h.off("load").on("load",function(){var n;try{var a=this.contentWindow?this.contentWindow.document:this.contentDocument;if(n=angular.element(a.body).text(),!n.length)throw new Error}catch(i){}f.append(angular.element('<iframe src="javascript:false;"></iframe>'));try{n=e(n,t.defaults.transformResponse)}catch(i){}s.resolve({data:n,status:200,headers:[],config:r})}),angular.forEach(o,function(e){var t=e.clone(!0);e.after(t),f.append(e)}),angular.forEach(r.data,function(e,t){var n=angular.element('<input type="hidden" />');n.attr("name",t),n.val(e),f.append(n)}),r.$iframeTransportForm=f,t.pendingRequests.push(r),f[0].submit(),l.then(n,n)}),f.append(h),u.append(f),
l}return r}]),angular.module("lr.upload").factory("upload",["$window","formDataUpload","iFrameUpload",function(e,t,n){function a(e){return i.formData&&!e.forceIFrameUpload?t(e):n(e)}var i={fileInput:!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(e.navigator.userAgent)||angular.element('<input type="file">').prop("disabled")),fileUpload:!(!e.XMLHttpRequestUpload||!e.FileReader),formData:!!e.FormData};return a.support=i,a}]);var angularEmbedly=angular.module("angular-embedly",[]);!function(e){e.provider("embedlyService",function(){function e(e){this.embed=function(n,a){var i=encodeURI(n),r="http://api.embed.ly/1/oembed?key="+t+"&url="+i;return"undefined"!=typeof a&&(r=r+"&maxwidth="+a),e({method:"GET",url:r})},this.extract=function(n){var a=encodeURI(n),i="http://api.embed.ly/1/extract?key="+t+"&url="+a;return e({method:"GET",url:i})}}var t;this.setKey=function(e){return t=e},this.getKey=function(){return t},this.$get=["$http",function(t){return new e(t)}]})}(angularEmbedly),function(e){e.controller("emEmbedCtrl",["$scope",function(e){e.embedCode=""}])}(angularEmbedly),function(e){e.directive("emEmbed",["embedlyService",function(e){return{restrict:"E",scope:{urlsearch:"@",maxwidth:"@"},controller:"emEmbedCtrl",link:function(t,n){t.$parent.loading_embedly=!1,t.$watch("urlsearch",function(a){var i=t.embedCode;a&&(t.$parent.loading_embedly=!0,e.embed(a,t.maxwidth).then(function(e){switch(t.$parent.loading_embedly=!1,e.data.type){case"video":t.embedCode=e.data.html;break;case"photo":t.embedCode='<img src="'+e.data.url+'">';break;default:t.embedCode=""}i!==t.embedCode&&n.html("<div>"+t.embedCode+"</div>")},function(e){t.$parent.loading_embedly=!1;var a=t.embedCode;t.embedCode="",a!==t.embedCode&&n.html("<div>"+t.embedCode+"</div>")}))})}}}])}(angularEmbedly);var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,a,i,r,o,s){"use strict";var l={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};l.duScrollTo=function(t,n,a,i){var r;if(angular.isElement(t)?r=this.duScrollToElement:angular.isDefined(a)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var o=d(this);return c(o)?e.scrollTo(t,n):(o.scrollLeft=t,void(o.scrollTop=n))};var p,f;l.duScrollToAnimated=function(e,r,o,l){o&&!l&&(l=i);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),h=Math.round(r-u),m=null,g=0,v=this,b=function(e){(!e||g&&e.which>0)&&(s&&v.unbind(s,b),n(p),f.reject(),p=null)};if(p&&b(),f=t.defer(),0===o||!d&&!h)return 0===o&&v.duScrollTo(e,r),f.resolve(),f.promise;var y=function(e){null===m&&(m=e),g=e-m;var t=g>=o?1:l(g/o);v.scrollTo(c+Math.ceil(d*t),u+Math.ceil(h*t)),1>t?p=a(y):(s&&v.unbind(s,b),p=null,f.resolve())};return v.duScrollTo(c,u),s&&v.bind(s,b),p=a(y),f.promise},l.duScrollToElement=function(e,t,n,a){var i=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=o);var r=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(i)&&(r-=i.getBoundingClientRect().top),this.duScrollTo(0,r,n,a)},l.duScrollLeft=function(t,n,a){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,a);var i=d(this);return c(i)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:i.scrollLeft},l.duScrollTop=function(t,n,a){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,a);var i=d(this);return c(i)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop},l.duScrollToElementAnimated=function(e,t,n,a){return this.duScrollToElement(e,t,n||r,a)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||r,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||r,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,a){if(e[n])return e[n];for(var i,r=n.substr(0,1).toUpperCase()+n.substr(1),o=0;o<t.length;o++)if(i=t[o]+r,e[i])return e[i];return a}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,a=function(e,a){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=t(function(){e(i+r)},r);return n=i+r,o};return e("requestAnimationFrame",a)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,a,i,r,o,s,l){"use strict";var c=function(i){var c=!1,u=!1,d=function(){u=!1;var t,o=i.container,c=o[0],d=0;"undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE?(d=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight):t=Math.round(n.pageYOffset+n.innerHeight)>=a[0].body.scrollHeight;var p,f,h,m,g,v,b=s&&t?"bottom":"top";for(m=i.spies,f=i.currentlyActive,h=void 0,p=0;p<m.length;p++)g=m[p],v=g.getTargetPosition(),v&&(s&&t||v.top+g.offset-d<20&&(r||-1*v.top+d)<v.height)&&(!h||h[b]<v[b])&&(h={spy:g},h[b]=v[b]);h&&(h=h.spy),f===h||r&&!h||(f&&(f.$element.removeClass(l),e.$broadcast("duScrollspy:becameInactive",f.$element)),h&&(h.$element.addClass(l),e.$broadcast("duScrollspy:becameActive",h.$element)),i.currentlyActive=h)};return o?function(){c?u=!0:(d(),c=t(function(){c=!1,u&&d()},o,!1))}:d},u={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){p(e)}),t},p=function(e){var t=e.$id,n=u[t],a=n.container;a&&a.off("scroll",n.handler),delete u[t]},f=d(e),h=function(e){return u[e.$id]?u[e.$id]:e.$parent?h(e.$parent):u[f]},m=function(e){var t,n,a=e.$scope;if(a)return h(a);for(n in u)if(t=u[n],-1!==t.spies.indexOf(e))return t},g=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=m(e);t&&(t.spies.push(e),t.container&&g(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=i.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},b=function(e){var t=m(e);e===t.currentlyActive&&(t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null};return{addSpy:v,removeSpy:b,createContext:d,destroyContext:p,getContextForScope:h}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var a=e.$id;return t[a]=n,a},a=function(e){return t[e.$id]?e.$id:e.$parent?a(e.$parent):void 0},i=function(n){var i=a(n);return i?t[i]:e},r=function(e){var n=a(e);n&&delete t[n]};return{getContainerId:a,getContainer:i,setContainer:n,removeContainer:r}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(a,i,r){i.on("click",function(i){if(r.href&&-1!==r.href.indexOf("#")||""!==r.duSmoothScroll){var o=r.href?r.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):r.duSmoothScroll,s=document.getElementById(o)||document.getElementsByName(o)[0];if(s&&s.getBoundingClientRect){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var l=r.offset?parseInt(r.offset,10):t,c=r.duration?parseInt(r.duration,10):e,u=n.getContainer(a);u.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,a){return{pre:function(t,n,a,i){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,a){return{pre:function(t,n,a,i){a.$observe("duScrollContainer",function(a){angular.isString(a)&&(a=document.getElementById(a)),a=angular.isElement(a)?angular.element(a):n,e.setContainer(t,a),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,a){"use strict";var i=function(e,t,n,a){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=a};return i.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},i.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},i.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(r,o,s){var l,c=s.ngHref||s.href;c&&-1!==c.indexOf("#")?l=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l&&n(function(){var n=new i(l,r,o,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),r.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=a.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));r.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1)}}}]),angular.module("mentio",[]).directive("mentio",["mentioUtil","$compile","$log","$document","$timeout",function(e,t,n,a,i){return{restrict:"A",scope:{macros:"=mentioMacros",search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",typedTerm:"=mentioTypedTerm",altId:"=mentioId",requireLeadingSpace:"=mentioRequireLeadingSpace",ngModel:"="},controller:["$scope","$timeout","$attrs",function(t,n,i){t.query=function(e,n){var a=t.triggerCharMap[e];a.showMenu(),a.search({term:n.trim()}),a.typedTerm=n.trim()},t.defaultSearch=function(e){var n=[];angular.forEach(t.items,function(t){t.label.toUpperCase().indexOf(e.term.toUpperCase())>=0&&n.push(t)}),t.localItems=n},t.bridgeSearch=function(e){var n=i.mentioSearch?t.search:t.defaultSearch;n({term:e})},t.defaultSelect=function(e){return t.defaultTriggerChar+e.item.label},t.bridgeSelect=function(e){var n=i.mentioSelect?t.select:t.defaultSelect;return n({item:e})},t.setTriggerText=function(e){t.syncTriggerText&&(t.typedTerm=e.trim())},t.replaceText=function(a){if(t.hideAll(),e.replaceTriggerText(t.targetElement,t.targetElementPath,t.targetElementSelectedOffset,t.triggerCharSet,a,t.requireLeadingSpace),t.setTriggerText(""),angular.element(t.targetElement).triggerHandler("change"),t.isContentEditable()){t.contentEditableMenuPasted=!0;var i=n(function(){t.contentEditableMenuPasted=!1},100);t.$on("$destroy",function(){n.cancel(i)})}},t.hideAll=function(){for(var e in t.triggerCharMap)t.triggerCharMap.hasOwnProperty(e)&&t.triggerCharMap[e].hideMenu()},t.getActiveMenuScope=function(){for(var e in t.triggerCharMap)if(t.triggerCharMap.hasOwnProperty(e)&&t.triggerCharMap[e].visible)return t.triggerCharMap[e];return null},t.selectActive=function(){for(var e in t.triggerCharMap)t.triggerCharMap.hasOwnProperty(e)&&t.triggerCharMap[e].visible&&t.triggerCharMap[e].selectActive()},t.isActive=function(){for(var e in t.triggerCharMap)if(t.triggerCharMap.hasOwnProperty(e)&&t.triggerCharMap[e].visible)return!0;return!1},t.isContentEditable=function(){return"INPUT"!==t.targetElement.nodeName&&"TEXTAREA"!==t.targetElement.nodeName},t.replaceMacro=function(a,i){i?e.replaceMacroText(t.targetElement,t.targetElementPath,t.targetElementSelectedOffset,t.macros,t.macros[a]):(t.replacingMacro=!0,t.timer=n(function(){e.replaceMacroText(t.targetElement,t.targetElementPath,t.targetElementSelectedOffset,t.macros,t.macros[a]),angular.element(t.targetElement).triggerHandler("change"),t.replacingMacro=!1},300),t.$on("$destroy",function(){n.cancel(t.timer)}))},t.addMenu=function(e){e.parentScope&&t.triggerCharMap.hasOwnProperty(e.triggerChar)||(t.triggerCharMap[e.triggerChar]=e,void 0===t.triggerCharSet&&(t.triggerCharSet=[]),t.triggerCharSet.push(e.triggerChar),e.setParent(t))},t.$on("menuCreated",function(e,n){(void 0!==i.id||void 0!==i.mentioId)&&(i.id===n.targetElement||void 0!==i.mentioId&&t.altId===n.targetElement)&&t.addMenu(n.scope)}),a.on("click",function(){t.isActive()&&t.$apply(function(){t.hideAll()})}),a.on("keydown keypress paste",function(e){var n=t.getActiveMenuScope();n&&((9===e.which||13===e.which)&&(e.preventDefault(),n.selectActive()),27===e.which&&(e.preventDefault(),n.$apply(function(){n.hideMenu()})),40===e.which&&(e.preventDefault(),n.$apply(function(){n.activateNextItem()})),38===e.which&&(e.preventDefault(),n.$apply(function(){n.activatePreviousItem()})),(37===e.which||39===e.which)&&e.preventDefault())})}],link:function(a,r,o){if(a.triggerCharMap={},a.targetElement=r,o.$set("autocomplete","off"),o.mentioItems){a.localItems=[],a.parentScope=a;var s=o.mentioSearch?' mentio-items="items"':' mentio-items="localItems"';a.defaultTriggerChar=o.mentioTriggerChar?a.$eval(o.mentioTriggerChar):"@";var l='<mentio-menu mentio-search="bridgeSearch(term)" mentio-select="bridgeSelect(item)"'+s;o.mentioTemplateUrl&&(l=l+' mentio-template-url="'+o.mentioTemplateUrl+'"'),l=l+" mentio-trigger-char=\"'"+a.defaultTriggerChar+'\'" mentio-parent-scope="parentScope"/>';var c=t(l),u=c(a);r.parent().append(u)}o.mentioTypedTerm&&(a.syncTriggerText=!0),a.$watch("ngModel",function(){if(void 0===a.triggerCharSet)return void n.error("Error, no mentio-items attribute was provided, and no separate mentio-menus were specified.  Nothing to do.");if(a.contentEditableMenuPasted)return void(a.contentEditableMenuPasted=!1);a.replacingMacro&&(i.cancel(a.timer),a.replacingMacro=!1);var t=a.isActive(),r=a.isContentEditable(),o=e.getTriggerInfo(a.triggerCharSet,a.requireLeadingSpace,t);if(void 0!==o&&(!t||t&&(r&&o.mentionTriggerChar===a.currentMentionTriggerChar||!r&&o.mentionPosition===a.currentMentionPosition)))a.targetElement=o.mentionSelectedElement,a.targetElementPath=o.mentionSelectedPath,a.targetElementSelectedOffset=o.mentionSelectedOffset,a.setTriggerText(o.mentionText),a.currentMentionPosition=o.mentionPosition,a.currentMentionTriggerChar=o.mentionTriggerChar,a.query(o.mentionTriggerChar,o.mentionText);else{a.setTriggerText(""),a.hideAll();var s=e.getMacroMatch(a.macros);void 0!==s&&(a.targetElement=s.macroSelectedElement,a.targetElementPath=s.macroSelectedPath,a.targetElementSelectedOffset=s.macroSelectedOffset,a.replaceMacro(s.macroText,s.macroHasTrailingSpace))}})}}}]).directive("mentioMenu",["mentioUtil","$rootScope","$log","$window","$document",function(e,t,n,a,i){return{restrict:"E",scope:{search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",parentScope:"=mentioParentScope"},templateUrl:function(e,t){return void 0!==t.mentioTemplateUrl?t.mentioTemplateUrl:"mentio-menu.tpl.html"},controller:["$scope",function(e){e.visible=!1,this.activate=e.activate=function(t){e.activeItem=t},this.isActive=e.isActive=function(t){return e.activeItem===t},this.selectItem=e.selectItem=function(t){var n=e.select({item:t});"function"==typeof n.then?n.then(e.parentMentio.replaceText):e.parentMentio.replaceText(n)},e.activateNextItem=function(){var t=e.items.indexOf(e.activeItem);this.activate(e.items[(t+1)%e.items.length])},e.activatePreviousItem=function(){var t=e.items.indexOf(e.activeItem);this.activate(e.items[0===t?e.items.length-1:t-1])},e.selectActive=function(){e.selectItem(e.activeItem)},e.isVisible=function(){return e.visible},e.showMenu=function(){e.visible||(e.requestVisiblePendingSearch=!0)},e.setParent=function(t){e.parentMentio=t,e.targetElement=t.targetElement}}],link:function(r,o){if(o[0].parentNode.removeChild(o[0]),i[0].body.appendChild(o[0]),r.menuElement=o,r.parentScope)r.parentScope.addMenu(r);else{if(!r.forElem)return void n.error("mentio-menu requires a target element in tbe mentio-for attribute");if(!r.triggerChar)return void n.error("mentio-menu requires a trigger char");t.$broadcast("menuCreated",{targetElement:r.forElem,scope:r})}angular.element(a).bind("resize",function(){if(r.isVisible()){var t=[];t.push(r.triggerChar),e.popUnderMention(t,o,r.requireLeadingSpace)}}),r.$watch("items",function(e){e&&e.length>0?(r.activate(e[0]),!r.visible&&r.requestVisiblePendingSearch&&(r.visible=!0,r.requestVisiblePendingSearch=!1)):r.hideMenu()}),r.$watch("isVisible()",function(t){if(t){var n=[];n.push(r.triggerChar),e.popUnderMention(n,o,r.requireLeadingSpace)}}),r.hideMenu=function(){r.visible=!1,o.css("display","none")}}}}]).directive("mentioMenuItem",function(){return{restrict:"A",scope:{item:"=mentioMenuItem"},require:"^mentioMenu",link:function(e,t,n,a){e.$watch(function(){return a.isActive(e.item)},function(e){e?t.addClass("active"):t.removeClass("active")}),t.bind("mouseenter",function(){e.$apply(function(){a.activate(e.item)})}),t.bind("click",function(t){t.preventDefault(),a.selectItem(e.item)})}}}).filter("unsafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("mentioHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n,a){if(n){var i=a?'<span class="'+a+'">$&</span>':"<strong>$&</strong>";return(""+t).replace(new RegExp(e(n),"gi"),i)}return t}}),angular.module("mentio").factory("mentioUtil",["$window","$location","$anchorScroll","$timeout",function(e,t,n,a){function i(e,t,n){var i,s=m(e,n,!1);void 0!==s?(i=o()?b(document.activeElement,s.mentionPosition):v(s.mentionPosition),t.css({top:i.top+"px",left:i.left+"px",position:"absolute",zIndex:100,display:"block"}),a(function(){r(t)},0)):t.css({display:"none"})}function r(t){for(var n,a=20,i=100,r=t[0];void 0===n||0===n.height;)if(n=r.getBoundingClientRect(),0===n.height&&(r=r.childNodes[0],void 0===r||!r.getBoundingClientRect))return;var o=n.top,s=o+n.height;if(0>o)e.scrollTo(0,e.pageYOffset+n.top-a);else if(s>e.innerHeight){var l=e.pageYOffset+n.top-a;l-e.pageYOffset>i&&(l=e.pageYOffset+i);var c=e.pageYOffset-(e.innerHeight-s);c>l&&(c=l),e.scrollTo(0,c)}}function o(){var e=document.activeElement;if(null!==e){var t=e.nodeName,n=e.getAttribute("type");return"INPUT"===t&&"text"===n||"TEXTAREA"===t}return!1}function s(e,t,n){for(var a,i=e,r=0;r<t.length;r++){if(i=i.childNodes[t[r]],void 0===i)return;for(;i.length<n;)n-=i.length,i=i.nextSibling}if(document.selection&&document.selection.createRange)a=document.selection.createRange().duplicate(),a.select(i),a.selectStartOffset(n),a.selectEndOffset(n),a.collapse(!0),document.selection.removeAllRanges(),document.selection.addRange(a);else if(window.getSelection){var o=window.getSelection();a=document.createRange(),a.setStart(i,n),a.setEnd(i,n),a.collapse(!0);try{o.removeAllRanges()}catch(s){}o.addRange(a),e.focus()}}function l(e,t,n){var a,i;if(document.selection&&document.selection.createRange)a=document.selection.createRange().duplicate(),a.selectStartOffset(t),a.selectEndOffset(n),a.collapse(!1),a.deleteContents(),a.pasteHTML(e);else if(window.getSelection){i=window.getSelection(),a=document.createRange(),a.setStart(i.anchorNode,t),a.setEnd(i.anchorNode,n),a.deleteContents();var r=document.createElement("div");r.innerHTML=e;for(var o,s,l=document.createDocumentFragment();o=r.firstChild;)s=l.appendChild(o);a.insertNode(l),s&&(a=a.cloneRange(),a.setStartAfter(s),a.collapse(!0),i.removeAllRanges(),i.addRange(a))}}function c(e,t,n){var a=e.nodeName;"INPUT"===a||"TEXTAREA"===a?e!==document.activeElement&&e.focus():s(e,t,n)}function u(e,t,n,a,i){c(e,t,n);var r=f(a);if(r.macroHasTrailingSpace&&(r.macroText=r.macroText+"",i+=""),void 0!==r){var s=document.activeElement;if(o())if(document.selection){s.focus();var u=document.selection.createRange();u.selectStartOffset(r.macroPosition),u.selectEndOffset(r.macroPosition+r.macroText.length),u.text=i}else{var d=r.macroPosition,p=r.macroPosition+r.macroText.length;s.value=s.value.substring(0,d)+i+s.value.substring(p,s.value.length),s.selectionStart=d+i.length,s.selectionEnd=d+i.length}else l(i,r.macroPosition,r.macroPosition+r.macroText.length)}}function d(e,t,n,a,i,r){c(e,t,n);var s=m(a,r,!0);if(void 0!==s)if(o()){var u=document.activeElement;if(i+=" ",document.selection){u.focus();var d=document.selection.createRange();d.selectStartOffset(s.mentionPosition),d.selectEndOffset(s.mentionPosition+s.mentionText.length),d.text=i}else{var p=s.mentionPosition,f=s.mentionPosition+s.mentionText.length+1;u.value=u.value.substring(0,p)+i+u.value.substring(f,u.value.length),u.selectionStart=p+i.length,u.selectionEnd=p+i.length}}else i+="",l(i,s.mentionPosition,s.mentionPosition+s.mentionText.length+1)}function p(e){if(null===e.parentNode)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++){var n=e.parentNode.childNodes[t];if(n===e)return t}}function f(e){var t,n,a=[];if(o())t=document.activeElement;else{var i=h();i&&(t=i.selected,a=i.path,n=i.offset)}var r=g();if(void 0!==r&&null!==r){var s,l=!1;if(r.length>0&&(""===r.charAt(r.length-1)||" "===r.charAt(r.length-1))&&(l=!0,r=r.substring(0,r.length-1)),angular.forEach(e,function(e,i){var o=r.toUpperCase().lastIndexOf(i.toUpperCase());if(o>=0&&i.length+o===r.length){var c=o-1;(0===o||""===r.charAt(c)||" "===r.charAt(c))&&(s={macroPosition:o,macroText:i,macroSelectedElement:t,macroSelectedPath:a,macroSelectedOffset:n,macroHasTrailingSpace:l})}}),s)return s}}function h(){var e,t=window.getSelection(),n=t.anchorNode,a=[];if(null!=n){for(var i,r=n.contentEditable;null!==n&&"true"!==r;)i=p(n),a.push(i),n=n.parentNode,null!==n&&(r=n.contentEditable);return a.reverse(),e=t.getRangeAt(0).startOffset,{selected:n,path:a,offset:e}}}function m(e,t,n){var a,i,r;if(o())a=document.activeElement;else{var s=h();s&&(a=s.selected,i=s.path,r=s.offset)}var l=g();if(void 0!==l&&null!==l){var c,u=-1;if(e.forEach(function(e){var t=l.lastIndexOf(e);t>u&&(u=t,c=e)}),u>=0&&(0===u||!t||/[\xA0\s]/g.test(l.substring(u-1,u)))){var d=l.substring(u+1,l.length);c=l.substring(u,u+1);var p=d.substring(0,1),f=d.length>0&&(" "===p||""===p);if(!f&&(n||!/[\xA0\s]/g.test(d)))return{mentionPosition:u,mentionText:d,mentionSelectedElement:a,mentionSelectedPath:i,mentionSelectedOffset:r,mentionTriggerChar:c}}}}function g(){var e;if(o()){var t=document.activeElement;if(void 0!==document.selection){t.focus();var n=document.selection.createRange();e=n.text}else if(void 0!==t.selectionStart){var a=t.selectionStart;e=t.value.substring(0,a)}}else{var i=window.getSelection().anchorNode;if(null!=i){var r=i.textContent,s=window.getSelection().getRangeAt(0).startOffset;s>=0&&(e=r.substring(0,s))}}return e}function v(e){var t,n,a="\ufeff",i="&#xfeff;",r="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2);if(document.selection&&document.selection.createRange)n=document.selection.createRange().duplicate(),n.selectStartOffset(e),n.selectEndOffset(e),n.collapse(!1),n.pasteHTML('<span id="'+r+'" style="position: relative;">'+i+"</span>"),t=document.getElementById(r);else if(window.getSelection){var o=window.getSelection(),s=o.getRangeAt(0);n=document.createRange(),n.setStart(o.anchorNode,e),n.setEnd(o.anchorNode,e),n.collapse(!1),t=document.createElement("span"),t.id=r,t.appendChild(document.createTextNode(a)),n.insertNode(t),o.removeAllRanges(),o.addRange(s)}var l=t,c={left:0,top:t.offsetHeight};do c.left+=l.offsetLeft,c.top+=l.offsetTop;while(l=l.offsetParent);return t.parentNode.removeChild(t),c}function b(e,t){var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],a=null!==window.mozInnerScreenX,i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);var r=i.style,o=window.getComputedStyle?getComputedStyle(e):e.currentStyle;r.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(r.wordWrap="break-word"),r.position="absolute",r.visibility="hidden",n.forEach(function(e){r[e]=o[e]}),a?(r.width=parseInt(o.width)-2+"px",e.scrollHeight>parseInt(o.height)&&(r.overflowY="scroll")):r.overflow="hidden",i.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(i.textContent=i.textContent.replace(/\s/g,""));var s=document.createElement("span");s.textContent=e.value.substring(t)||".",i.appendChild(s);var l={top:s.offsetTop+parseInt(o.borderTopWidth)+s.offsetHeight,left:s.offsetLeft+parseInt(o.borderLeftWidth)},c=e;do l.left+=c.offsetLeft,l.top+=c.offsetTop;while(c=c.offsetParent);return document.body.removeChild(i),l}return{popUnderMention:i,replaceMacroText:u,replaceTriggerText:d,getMacroMatch:f,getTriggerInfo:m,selectElement:s,getTextAreaOrInputUnderlinePosition:b,getTextPrecedingCurrentSelection:g,getContentEditableSelectedPath:h,getNodePositionInParent:p,getContentEditableCaretPosition:v,pasteHtml:l,resetSelection:c,scrollIntoView:r}}]),angular.module("mentio").run(["$templateCache",function(e){e.put("mentio-menu.tpl.html",'<style>\n.scrollable-menu {\n    height: auto;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.menu-highlighted {\n    font-weight: bold;\n}\n</style>\n<ul class="dropdown-menu scrollable-menu" style="display:block">\n    <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n        <a class="text-primary" ng-bind-html="item.label | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n    </li>\n</ul>')}]),function(e,t){"use strict";var n,a,i,r=e,o=r.document,s=r.navigator,l=r.setTimeout,c=r.clearTimeout,u=r.setInterval,d=r.clearInterval,p=r.getComputedStyle,f=r.encodeURIComponent,h=r.ActiveXObject,m=r.Error,g=r.Number.parseInt||r.parseInt,v=r.Number.parseFloat||r.parseFloat,b=r.Number.isNaN||r.isNaN,y=r.Date.now,w=r.Object.keys,S=r.Object.defineProperty,_=r.Object.prototype.hasOwnProperty,C=r.Array.prototype.slice,T=function(){var e=function(e){return e};if("function"==typeof r.wrap&&"function"==typeof r.unwrap)try{var t=o.createElement("div"),n=r.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=r.unwrap)}catch(a){}return e}(),k=function(e){return C.call(e,0)},A=function(){var e,n,a,i,r,o,s=k(arguments),l=s[0]||{};for(e=1,n=s.length;n>e;e++)if(null!=(a=s[e]))for(i in a)_.call(a,i)&&(r=l[i],o=a[i],l!==o&&o!==t&&(l[i]=o));return l},x=function(e){var t,n,a,i;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,a=e.length;a>n;n++)_.call(e,n)&&(t[n]=x(e[n]));else{t={};for(i in e)_.call(e,i)&&(t[i]=x(e[i]))}return t},I=function(e,t){for(var n={},a=0,i=t.length;i>a;a++)t[a]in e&&(n[t[a]]=e[t[a]]);return n},E=function(e,t){var n={};for(var a in e)-1===t.indexOf(a)&&(n[a]=e[a]);return n},N=function(e){if(e)for(var t in e)_.call(e,t)&&delete e[t];return e},O=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},P=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},M=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},j=function(){var e,t;try{throw new m}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||M(t.stack)),e},$=function(){var e,n,a;if(o.currentScript&&(e=o.currentScript.src))return e;if(n=o.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(a=n.length;a--;)if("interactive"===n[a].readyState&&(e=n[a].src))return e;return"loading"===o.readyState&&(e=n[n.length-1].src)?e:(e=j())?e:t},D=function(){var e,n,a,i=o.getElementsByTagName("script");for(e=i.length;e--;){if(!(a=i[e].src)){n=null;break}if(a=P(a),null==n)n=a;else if(n!==a){n=null;break}}return n||t},R=function(){var e=P($())||D()||"";return e+"ZeroClipboard.swf"},U=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),L={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},B="11.0.0",F={},G={},V=null,H=0,W=0,q={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},K=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],z=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],Y=new RegExp("^flash-("+z.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),Q=new RegExp("^flash-("+z.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),J={swfPath:R(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999
},X=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(_.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))J[t]=e[t];else if(null==L.bridge)if("containerId"===t||"swfObjectId"===t){if(!fe(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");J[t]=e[t]}else J[t]=e[t];return"string"==typeof e&&e?_.call(J,e)?J[e]:void 0:x(J)},Z=function(){return We(),{browser:I(s,["userAgent","platform","appName"]),flash:E(L,["bridge"]),zeroclipboard:{version:Ke.version,config:Ke.config()}}},ee=function(){return!!(L.disabled||L.outdated||L.sandboxed||L.unavailable||L.degraded||L.deactivated)},te=function(e,a){var i,r,o,s={};if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof a)for(i in e)_.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&Ke.on(i,e[i]);if(o&&o.length){for(i=0,r=o.length;r>i;i++)e=o[i].replace(/^on/,""),s[e]=!0,F[e]||(F[e]=[]),F[e].push(a);if(s.ready&&L.ready&&Ke.emit({type:"ready"}),s.error){for(i=0,r=z.length;r>i;i++)if(L[z[i].replace(/^flash-/,"")]===!0){Ke.emit({type:"error",name:z[i]});break}n!==t&&Ke.version!==n&&Ke.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return Ke},ne=function(e,t){var n,a,i,r,o;if(0===arguments.length)r=w(F);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)_.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ke.off(n,e[n]);if(r&&r.length)for(n=0,a=r.length;a>n;n++)if(e=r[n].toLowerCase().replace(/^on/,""),o=F[e],o&&o.length)if(t)for(i=o.indexOf(t);-1!==i;)o.splice(i,1),i=o.indexOf(t,i);else o.length=0;return Ke},ae=function(e){var t;return t="string"==typeof e&&e?x(F[e])||null:x(F)},ie=function(e){var t,n,a;return e=he(e),e&&!Se(e)?"ready"===e.type&&L.overdue===!0?Ke.emit({type:"error",name:"flash-overdue"}):(t=A({},e),ye.call(this,t),"copy"===e.type&&(a=Ee(G),n=a.data,V=a.formatMap),n):void 0},re=function(){var e=L.sandboxed;if(We(),"boolean"!=typeof L.ready&&(L.ready=!1),L.sandboxed!==e&&L.sandboxed===!0)L.ready=!1,Ke.emit({type:"error",name:"flash-sandboxed"});else if(!Ke.isFlashUnusable()&&null===L.bridge){var t=J.flashLoadTimeout;"number"==typeof t&&t>=0&&(H=l(function(){"boolean"!=typeof L.deactivated&&(L.deactivated=!0),L.deactivated===!0&&Ke.emit({type:"error",name:"flash-deactivated"})},t)),L.overdue=!1,xe()}},oe=function(){Ke.clearData(),Ke.blur(),Ke.emit("destroy"),Ie(),Ke.off()},se=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Ke.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var a in n)"string"==typeof a&&a&&_.call(n,a)&&"string"==typeof n[a]&&n[a]&&(G[a]=n[a])},le=function(e){"undefined"==typeof e?(N(G),V=null):"string"==typeof e&&_.call(G,e)&&delete G[e]},ce=function(e){return"undefined"==typeof e?x(G):"string"==typeof e&&_.call(G,e)?G[e]:void 0},ue=function(e){if(e&&1===e.nodeType){a&&(Re(a,J.activeClass),a!==e&&Re(a,J.hoverClass)),a=e,De(e,J.hoverClass);var t=e.getAttribute("title")||J.title;if("string"==typeof t&&t){var n=Ae(L.bridge);n&&n.setAttribute("title",t)}var i=J.forceHandCursor===!0||"pointer"===Ue(e,"cursor");Ve(i),Ge()}},de=function(){var e=Ae(L.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),a&&(Re(a,J.hoverClass),Re(a,J.activeClass),a=null)},pe=function(){return a||null},fe=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},he=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=i),A(e,{type:t,target:e.target||a||null,relatedTarget:e.relatedTarget||null,currentTarget:L&&L.bridge||null,timeStamp:e.timeStamp||y()||null});var n=q[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&A(e,{target:null,version:L.version}),"error"===e.type&&(Y.test(e.name)&&A(e,{target:null,minimumVersion:B}),Q.test(e.name)&&A(e,{version:L.version})),"copy"===e.type&&(e.clipboardData={setData:Ke.setData,clearData:Ke.clearData}),"aftercopy"===e.type&&(e=Ne(e,V)),e.target&&!e.relatedTarget&&(e.relatedTarget=me(e.target)),ge(e)}},me=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?o.getElementById(t):null},ge=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,a="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=Le(n),l=r.screenLeft||r.screenX||0,c=r.screenTop||r.screenY||0,u=o.body.scrollLeft+o.documentElement.scrollLeft,d=o.body.scrollTop+o.documentElement.scrollTop,p=s.left+("number"==typeof e._stageX?e._stageX:0),f=s.top+("number"==typeof e._stageY?e._stageY:0),h=p-u,m=f-d,g=l+h,v=c+m,b="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,A(e,{srcElement:n,fromElement:a,toElement:i,screenX:g,screenY:v,pageX:p,pageY:f,clientX:h,clientY:m,x:h,y:m,movementX:b,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ve=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},be=function(e,t,n,a){a?l(function(){e.apply(t,n)},0):e.apply(t,n)},ye=function(e){if("object"==typeof e&&e&&e.type){var t=ve(e),n=F["*"]||[],a=F[e.type]||[],i=n.concat(a);if(i&&i.length){var o,s,l,c,u,d=this;for(o=0,s=i.length;s>o;o++)l=i[o],c=d,"string"==typeof l&&"function"==typeof r[l]&&(l=r[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(u=A({},e),be(l,c,[u],t))}return this}},we=function(e){var t=null;return(U===!1||e&&"error"===e.type&&e.name&&-1!==K.indexOf(e.name))&&(t=!1),t},Se=function(e){var t=e.target||a||null,r="swf"===e._source;switch(delete e._source,e.type){case"error":var o="flash-sandboxed"===e.name||we(e);"boolean"==typeof o&&(L.sandboxed=o),-1!==z.indexOf(e.name)?A(L,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,A(L,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Fe();break;case"ready":n=e.swfVersion;var s=L.deactivated===!0;A(L,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),Fe();break;case"beforecopy":i=t;break;case"copy":var l,c,u=e.relatedTarget;!G["text/html"]&&!G["text/plain"]&&u&&(c=u.value||u.outerHTML||u.innerHTML)&&(l=u.value||u.textContent||u.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l),c!==l&&e.clipboardData.setData("text/html",c)):!G["text/plain"]&&e.target&&(l=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l));break;case"aftercopy":_e(e),Ke.clearData(),t&&t!==$e()&&t.focus&&t.focus();break;case"_mouseover":Ke.focus(t),J.bubbleEvents===!0&&r&&(t&&t!==e.relatedTarget&&!O(e.relatedTarget,t)&&Ce(A({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),Ce(A({},e,{type:"mouseover"})));break;case"_mouseout":Ke.blur(),J.bubbleEvents===!0&&r&&(t&&t!==e.relatedTarget&&!O(e.relatedTarget,t)&&Ce(A({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),Ce(A({},e,{type:"mouseout"})));break;case"_mousedown":De(t,J.activeClass),J.bubbleEvents===!0&&r&&Ce(A({},e,{type:e.type.slice(1)}));break;case"_mouseup":Re(t,J.activeClass),J.bubbleEvents===!0&&r&&Ce(A({},e,{type:e.type.slice(1)}));break;case"_click":i=null,J.bubbleEvents===!0&&r&&Ce(A({},e,{type:e.type.slice(1)}));break;case"_mousemove":J.bubbleEvents===!0&&r&&Ce(A({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},_e=function(e){if(e.errors&&e.errors.length>0){var t=x(e);A(t,{type:"error",name:"clipboard-error"}),delete t.success,l(function(){Ke.emit(t)},0)}},Ce=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,a=n&&n.ownerDocument||o,i={view:a.defaultView||r,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:a.createEvent?0:1},s=A(i,e);n&&a.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=a.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",n.dispatchEvent(t)))}},Te=function(){var e=J.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=J.swfObjectId+"_fallbackContent";W=u(function(){var e=o.getElementById(n);Be(e)&&(Fe(),L.deactivated=null,Ke.emit({type:"error",name:"swf-not-found"}))},t)}},ke=function(){var e=o.createElement("div");return e.id=J.containerId,e.className=J.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+He(J.zIndex),e},Ae=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},xe=function(){var e,t=L.bridge,n=Ae(t);if(!t){var a=je(r.location.host,J),i="never"===a?"none":"all",s=Pe(A({jsVersion:Ke.version},J)),l=J.swfPath+Oe(J.swfPath,J);n=ke();var c=o.createElement("div");n.appendChild(c),o.body.appendChild(n);var u=o.createElement("div"),d="activex"===L.pluginType;u.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(d?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+a+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+J.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=u.firstChild,u=null,T(t).ZeroClipboard=Ke,n.replaceChild(t,c),Te()}return t||(t=o[J.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),L.bridge=t||null,t},Ie=function(){var e=L.bridge;if(e){var a=Ae(e);a&&("activex"===L.pluginType&&"readyState"in e?(e.style.display="none",function i(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),a.parentNode&&a.parentNode.removeChild(a)}else l(i,10)}()):(e.parentNode&&e.parentNode.removeChild(e),a.parentNode&&a.parentNode.removeChild(a))),Fe(),L.ready=null,L.bridge=null,L.deactivated=null,n=t}},Ee=function(e){var t={},n={};if("object"==typeof e&&e){for(var a in e)if(a&&_.call(e,a)&&"string"==typeof e[a]&&e[a])switch(a.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[a],n.text=a;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[a],n.html=a;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[a],n.rtf=a}return{data:t,formatMap:n}}},Ne=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var a in e)if(_.call(e,a))if("errors"===a){n[a]=e[a]?e[a].slice():[];for(var i=0,r=n[a].length;r>i;i++)n[a][i].format=t[n[a][i].format]}else if("success"!==a&&"data"!==a)n[a]=e[a];else{n[a]={};var o=e[a];for(var s in o)s&&_.call(o,s)&&_.call(t,s)&&(n[a][t[s]]=o[s])}return n},Oe=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+y():""},Pe=function(e){var t,n,a,i,o="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?i=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(i=e.trustedDomains)),i&&i.length)for(t=0,n=i.length;n>t;t++)if(_.call(i,t)&&i[t]&&"string"==typeof i[t]){if(a=Me(i[t]),!a)continue;if("*"===a){s.length=0,s.push(a);break}s.push.apply(s,[a,"//"+a,r.location.protocol+"//"+a])}return s.length&&(o+="trustedOrigins="+f(s.join(","))),e.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+f(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(o+=(o?"&":"")+"jsVersion="+f(e.jsVersion)),o},Me=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},je=function(){var e=function(e){var t,n,a,i=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return i;for(t=0,n=e.length;n>t;t++)if(_.call(e,t)&&(a=Me(e[t]))){if("*"===a){i.length=0,i.push("*");break}-1===i.indexOf(a)&&i.push(a)}return i};return function(t,n){var a=Me(n.swfPath);null===a&&(a=t);var i=e(n.trustedDomains),r=i.length;if(r>0){if(1===r&&"*"===i[0])return"always";if(-1!==i.indexOf(t))return 1===r&&t===a?"sameDomain":"always"}return"never"}}(),$e=function(){try{return o.activeElement}catch(e){return null}},De=function(e,t){var n,a,i,r=[];if("string"==typeof t&&t&&(r=t.split(/\s+/)),e&&1===e.nodeType&&r.length>0)if(e.classList)for(n=0,a=r.length;a>n;n++)e.classList.add(r[n]);else if(e.hasOwnProperty("className")){for(i=" "+e.className+" ",n=0,a=r.length;a>n;n++)-1===i.indexOf(" "+r[n]+" ")&&(i+=r[n]+" ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Re=function(e,t){var n,a,i,r=[];if("string"==typeof t&&t&&(r=t.split(/\s+/)),e&&1===e.nodeType&&r.length>0)if(e.classList&&e.classList.length>0)for(n=0,a=r.length;a>n;n++)e.classList.remove(r[n]);else if(e.className){for(i=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,a=r.length;a>n;n++)i=i.replace(" "+r[n]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Ue=function(e,t){var n=p(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Le=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),a=r.pageXOffset,i=r.pageYOffset,s=o.documentElement.clientLeft||0,l=o.documentElement.clientTop||0,c=0,u=0;if("relative"===Ue(o.body,"position")){var d=o.body.getBoundingClientRect(),p=o.documentElement.getBoundingClientRect();c=d.left-p.left||0,u=d.top-p.top||0}t.left=n.left+a-s-c,t.top=n.top+i-l-u,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},Be=function(e){if(!e)return!1;var t=p(e,null),n=v(t.height)>0,a=v(t.width)>0,i=v(t.top)>=0,r=v(t.left)>=0,o=n&&a&&i&&r,s=o?null:Le(e),l="none"!==t.display&&"collapse"!==t.visibility&&(o||!!s&&(n||s.height>0)&&(a||s.width>0)&&(i||s.top>=0)&&(r||s.left>=0));return l},Fe=function(){c(H),H=0,d(W),W=0},Ge=function(){var e;if(a&&(e=Ae(L.bridge))){var t=Le(a);A(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+He(J.zIndex)})}},Ve=function(e){L.ready===!0&&(L.bridge&&"function"==typeof L.bridge.setHandCursor?L.bridge.setHandCursor(e):L.ready=!1)},He=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||b(e)?"string"==typeof e&&(t=He(g(e,10))):t=e,"number"==typeof t?t:"auto"},We=function(t){var n,a,i,r=L.sandboxed,o=null;if(t=t===!0,U===!1)o=!1;else{try{a=e.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(a&&1===a.nodeType&&"IFRAME"===a.nodeName)try{o=a.hasAttribute("sandbox")}catch(s){o=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(o=!0)}}return L.sandboxed=o,r===o||t||qe(h),o},qe=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function a(e){e&&(l=!0,e.version&&(d=t(e.version)),!d&&e.description&&(d=t(e.description)),e.filename&&(u=n(e.filename)))}var i,r,o,l=!1,c=!1,u=!1,d="";if(s.plugins&&s.plugins.length)i=s.plugins["Shockwave Flash"],a(i),s.plugins["Shockwave Flash 2.0"]&&(l=!0,d="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)o=s.mimeTypes["application/x-shockwave-flash"],i=o&&o.enabledPlugin,a(i);else if("undefined"!=typeof e){c=!0;try{r=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,d=t(r.GetVariable("$version"))}catch(p){try{r=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,d="6.0.21"}catch(f){try{r=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,d=t(r.GetVariable("$version"))}catch(h){c=!1}}}}L.disabled=l!==!0,L.outdated=d&&v(d)<v(B),L.version=d||"0.0.0",L.pluginType=u?"pepper":c?"activex":l?"netscape":"unknown"};qe(h),We(!0);var Ke=function(){return this instanceof Ke?void("function"==typeof Ke._createClient&&Ke._createClient.apply(this,k(arguments))):new Ke};S(Ke,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ke.config=function(){return X.apply(this,k(arguments))},Ke.state=function(){return Z.apply(this,k(arguments))},Ke.isFlashUnusable=function(){return ee.apply(this,k(arguments))},Ke.on=function(){return te.apply(this,k(arguments))},Ke.off=function(){return ne.apply(this,k(arguments))},Ke.handlers=function(){return ae.apply(this,k(arguments))},Ke.emit=function(){return ie.apply(this,k(arguments))},Ke.create=function(){return re.apply(this,k(arguments))},Ke.destroy=function(){return oe.apply(this,k(arguments))},Ke.setData=function(){return se.apply(this,k(arguments))},Ke.clearData=function(){return le.apply(this,k(arguments))},Ke.getData=function(){return ce.apply(this,k(arguments))},Ke.focus=Ke.activate=function(){return ue.apply(this,k(arguments))},Ke.blur=Ke.deactivate=function(){return de.apply(this,k(arguments))},Ke.activeElement=function(){return pe.apply(this,k(arguments))};var ze=0,Ye={},Qe=0,Je={},Xe={};A(J,{autoActivate:!0});var Ze=function(e){var t=this;t.id=""+ze++,Ye[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ke.on("*",function(e){return t.emit(e)}),Ke.on("destroy",function(){t.destroy()}),Ke.create()},et=function(e,a){var i,r,o,s={},l=Ye[this.id],c=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof a)for(i in e)_.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&this.on(i,e[i]);if(o&&o.length){for(i=0,r=o.length;r>i;i++)e=o[i].replace(/^on/,""),s[e]=!0,c[e]||(c[e]=[]),c[e].push(a);if(s.ready&&L.ready&&this.emit({type:"ready",client:this}),s.error){for(i=0,r=z.length;r>i;i++)if(L[z[i].replace(/^flash-/,"")]){this.emit({type:"error",name:z[i],client:this});break}n!==t&&Ke.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ke.version,swfVersion:n})}}return this},tt=function(e,t){var n,a,i,r,o,s=Ye[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)r=w(l);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)_.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(r&&r.length)for(n=0,a=r.length;a>n;n++)if(e=r[n].toLowerCase().replace(/^on/,""),o=l[e],o&&o.length)if(t)for(i=o.indexOf(t);-1!==i;)o.splice(i,1),i=o.indexOf(t,i);else o.length=0;return this},nt=function(e){var t=null,n=Ye[this.id]&&Ye[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:x(n)),t},at=function(e){if(lt.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=A({},e));var t=A({},he(e),{client:this});ct.call(this,t)}return this},it=function(e){if(!Ye[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ut(e);for(var t=0;t<e.length;t++)if(_.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Je[e[t].zcClippingId].indexOf(this.id)&&Je[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Qe++,Je[e[t].zcClippingId]=[this.id],J.autoActivate===!0&&dt(e[t]));var n=Ye[this.id]&&Ye[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},rt=function(e){var t=Ye[this.id];if(!t)return this;var n,a=t.elements;e="undefined"==typeof e?a.slice(0):ut(e);for(var i=e.length;i--;)if(_.call(e,i)&&e[i]&&1===e[i].nodeType){for(n=0;-1!==(n=a.indexOf(e[i],n));)a.splice(n,1);var r=Je[e[i].zcClippingId];if(r){for(n=0;-1!==(n=r.indexOf(this.id,n));)r.splice(n,1);0===r.length&&(J.autoActivate===!0&&pt(e[i]),delete e[i].zcClippingId)}}return this},ot=function(){var e=Ye[this.id];return e&&e.elements?e.elements.slice(0):[]},st=function(){Ye[this.id]&&(this.unclip(),this.off(),delete Ye[this.id])},lt=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ye[this.id],n=t&&t.elements,a=!!n&&n.length>0,i=!e.target||a&&-1!==n.indexOf(e.target),r=e.relatedTarget&&a&&-1!==n.indexOf(e.relatedTarget),o=e.client&&e.client===this;return t&&(i||r||o)?!0:!1},ct=function(e){var t=Ye[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ve(e),a=t&&t.handlers["*"]||[],i=t&&t.handlers[e.type]||[],o=a.concat(i);if(o&&o.length){var s,l,c,u,d,p=this;for(s=0,l=o.length;l>s;s++)c=o[s],u=p,"string"==typeof c&&"function"==typeof r[c]&&(c=r[c]),"object"==typeof c&&c&&"function"==typeof c.handleEvent&&(u=c,c=c.handleEvent),"function"==typeof c&&(d=A({},e),be(c,u,[d],n))}}},ut=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},dt=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=r.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=r.event))&&(t(n),Ke.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Xe[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},pt=function(e){if(e&&1===e.nodeType){var t=Xe[e.zcClippingId];if("object"==typeof t&&t){for(var n,a,i=["move","leave","enter","out","over"],r=0,o=i.length;o>r;r++)n="mouse"+i[r],a=t[n],"function"==typeof a&&e.removeEventListener(n,a,!1);delete Xe[e.zcClippingId]}}};Ke._createClient=function(){Ze.apply(this,k(arguments))},Ke.prototype.on=function(){return et.apply(this,k(arguments))},Ke.prototype.off=function(){return tt.apply(this,k(arguments))},Ke.prototype.handlers=function(){return nt.apply(this,k(arguments))},Ke.prototype.emit=function(){return at.apply(this,k(arguments))},Ke.prototype.clip=function(){return it.apply(this,k(arguments))},Ke.prototype.unclip=function(){return rt.apply(this,k(arguments))},Ke.prototype.elements=function(){return ot.apply(this,k(arguments))},Ke.prototype.destroy=function(){return st.apply(this,k(arguments))},Ke.prototype.setText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/plain",e),this},Ke.prototype.setHtml=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("text/html",e),this},Ke.prototype.setRichText=function(e){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData("application/rtf",e),this},Ke.prototype.setData=function(){if(!Ye[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.setData.apply(this,k(arguments)),this},Ke.prototype.clearData=function(){if(!Ye[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.clearData.apply(this,k(arguments)),this},Ke.prototype.getData=function(){if(!Ye[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ke.getData.apply(this,k(arguments))},"function"==typeof define&&define.amd?define(function(){return Ke}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ke:e.ZeroClipboard=Ke}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var e={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"};this.setZcConf=function(t){angular.extend(e,t)},this.$get=function(){return{zeroclipConfig:e}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function(e,t,n){var a=n.zeroclipConfig||{},i=t.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"},link:function(e,t,n){var r,o=t[0];i.config(a),angular.isFunction(i)&&(e.client=new i(o)),e.$watch("value",function(e){void 0!==e&&t.attr("data-clipboard-text",e)}),e.$watch("text",function(e){t.attr("data-clipboard-text",e)}),e.client.on("aftercopy",r=function(t){e.$apply(function(){e.onCopied({$event:t})})}),e.client.on("error",function(t){e.onError&&e.$apply(function(){e.onError({$event:t})}),i.destroy()}),e.client.on("beforecopy",function(t){e.onBeforeCopy&&e.$apply(function(){e.onBeforeCopy({$event:t})})}),e.$on("$destroy",function(){e.client.off("complete",r)})}}}]),!function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){e(t,window,document)}):e(jQuery,window,document)}(function(e,t,n,a){"use strict";function i(t,n){this.a=t,n&&e.extend(n,n,{a:n.autoFormat,h:n.autoHideDialCode,d:n.defaultCountry,i:n.ipinfoToken,n:n.nationalMode,t:n.numberType,o:n.onlyCountries,p:n.preferredCountries,v:n.preventInvalidNumbers,u:n.utilsScript}),this.b=e.extend({},s,n),this.c=s,this.ns="."+r+o++,this.d=Boolean(t.setSelectionRange),this.e=Boolean(e(t).attr("placeholder")),this.f=r}var r="intlTelInput",o=1,s={allowExtensions:!1,a:!0,h:!0,autoPlaceholder:!0,d:"",geoIpLookup:null,n:!0,t:"MOBILE",o:[],p:["us","gb"],u:""},l={b:38,c:40,d:13,e:27,f:43,A:65,Z:90,g:48,h:57,i:32,Bi:8,TAB:9,k:46,l:17,m:91,n:224},c=!1;e(t).load(function(){c=!0}),i.prototype={_init:function(){return this.b.n&&(this.b.h=!1),navigator.userAgent.match(/IEMobile/i)&&(this.b.a=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.autoCountryDeferred=new e.Deferred,this.utilsScriptDeferred=new e.Deferred,this._b(),this._f(),this._h(),this._i(),this._initRequests(),[this.autoCountryDeferred,this.utilsScriptDeferred]},_b:function(){this._d(),this._e()},_c:function(e,t,n){t in this.m||(this.m[t]=[]);var a=n||0;this.m[t][a]=e},_d:function(){var t;if(this.b.o.length){for(t=0;t<this.b.o.length;t++)this.b.o[t]=this.b.o[t].toLowerCase();for(this.l=[],t=0;t<u.length;t++)-1!=e.inArray(u[t].iso2,this.b.o)&&this.l.push(u[t])}else this.l=u;for(this.m={},t=0;t<this.l.length;t++){var n=this.l[t];if(this._c(n.iso2,n.dialCode,n.priority),n.areaCodes)for(var a=0;a<n.areaCodes.length;a++)this._c(n.iso2,n.dialCode+n.areaCodes[a])}},_e:function(){this.n=[];for(var e=0;e<this.b.p.length;e++){var t=this.b.p[e].toLowerCase(),n=this._y(t,!1,!0);n&&this.n.push(n)}},_f:function(){this.g=e(this.a),this.g.attr("autocomplete","off"),this.g.wrap(e("<div>",{"class":"intl-tel-input"})),this.flagsContainer=e("<div>",{"class":"flag-dropdown"}).insertBefore(this.g);var t=e("<div>",{tabindex:"0","class":"selected-flag"}).appendTo(this.flagsContainer);this.h=e("<div>",{"class":"iti-flag"}).appendTo(t),e("<div>",{"class":"arrow"}).appendTo(t),this.isMobile?this.i=e("<select>",{"class":"iti-mobile-select"}).appendTo(this.flagsContainer):(this.i=e("<ul>",{"class":"country-list v-hide"}).appendTo(this.flagsContainer),this.n.length&&!this.isMobile&&(this._g(this.n,"preferred"),e("<li>",{"class":"divider"}).appendTo(this.i))),this._g(this.l,""),this.isMobile||(this.j=this.i.outerHeight(),this.i.removeClass("v-hide").addClass("hide"),this.k=this.i.children(".country"))},_g:function(e,t){for(var n="",a=0;a<e.length;a++){var i=e[a];this.isMobile?(n+="<option data-dial-code='"+i.dialCode+"' value='"+i.iso2+"'>",n+=i.name+" +"+i.dialCode,n+="</option>"):(n+="<li class='country "+t+"' data-dial-code='"+i.dialCode+"' data-country-code='"+i.iso2+"'>",n+="<div class='flag'><div class='iti-flag "+i.iso2+"'></div></div>",n+="<span class='country-name'>"+i.name+"</span>",n+="<span class='dial-code'>+"+i.dialCode+"</span>",n+="</li>")}this.i.append(n)},_h:function(){var e=this.g.val();this._af(e)?this._v(e,!0):"auto"!=this.b.d&&(this.b.d=this.b.d?this._y(this.b.d.toLowerCase(),!1,!1):this.n.length?this.n[0]:this.l[0],this._z(this.b.d.iso2),e||this._ae(this.b.d.dialCode,!1)),e&&this._u(e)},_i:function(){var t=this;if(this._j(),(this.b.h||this.b.a)&&this._l(),this.isMobile)this.i.on("change"+this.ns,function(){t._ab(e(this).find("option:selected"))});else{var n=this.g.closest("label");n.length&&n.on("click"+this.ns,function(e){t.i.hasClass("hide")?t.g.focus():e.preventDefault()});var a=this.h.parent();a.on("click"+this.ns,function(){!t.i.hasClass("hide")||t.g.prop("disabled")||t.g.prop("readonly")||t._n()})}this.flagsContainer.on("keydown"+t.ns,function(e){var n=t.i.hasClass("hide");!n||e.which!=l.b&&e.which!=l.c&&e.which!=l.i&&e.which!=l.d||(e.preventDefault(),e.stopPropagation(),t._n()),e.which==l.TAB&&t._ac()})},_initRequests:function(){var n=this;this.b.u?c?this.loadUtils():e(t).load(function(){n.loadUtils()}):this.utilsScriptDeferred.resolve(),"auto"==this.b.d?this._loadAutoCountry():this.autoCountryDeferred.resolve()},_loadAutoCountry:function(){var t=e.cookie?e.cookie("itiAutoCountry"):"";t&&(e.fn[r].autoCountry=t),e.fn[r].autoCountry?this.autoCountryLoaded():e.fn[r].startedLoadingAutoCountry||(e.fn[r].startedLoadingAutoCountry=!0,"function"==typeof this.b.geoIpLookup&&this.b.geoIpLookup(function(t){e.fn[r].autoCountry=t.toLowerCase(),e.cookie&&e.cookie("itiAutoCountry",e.fn[r].autoCountry,{path:"/"}),setTimeout(function(){e(".intl-tel-input input").intlTelInput("autoCountryLoaded")})}))},_j:function(){var e=this;this.b.a&&this.g.on("keypress"+this.ns,function(n){if(n.which>=l.i&&!n.ctrlKey&&!n.metaKey&&t.intlTelInputUtils&&!e.g.prop("readonly")){n.preventDefault();var a=n.which>=l.g&&n.which<=l.h||n.which==l.f,i=e.g[0],r=e.d&&i.selectionStart==i.selectionEnd,o=e.g.attr("maxlength"),s=e.g.val(),c=o?s.length<o:!0;if(c&&(a||r)){var u=a?String.fromCharCode(n.which):null;e._k(u,!0,a),s!=e.g.val()&&e.g.trigger("input")}a||e._handleInvalidKey()}}),this.g.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){if(e.b.a&&t.intlTelInputUtils){var n=e.d&&e.g[0].selectionStart==e.g.val().length;e._k(null,n),e._ensurePlus()}else e._v(e.g.val())})}),this.g.on("keyup"+this.ns,function(n){if(n.which==l.d||e.g.prop("readonly"));else if(e.b.a&&t.intlTelInputUtils){var a=e.d&&e.g[0].selectionStart==e.g.val().length;e.g.val()?(n.which==l.k&&!a||n.which==l.Bi)&&e._k():e._v(""),e._ensurePlus()}else e._v(e.g.val())})},_ensurePlus:function(){if(!this.b.n){var e=this.g.val(),t=this.g[0];if("+"!=e.charAt(0)){var n=this.d?t.selectionStart+1:0;this.g.val("+"+e),this.d&&t.setSelectionRange(n,n)}}},_handleInvalidKey:function(){var e=this;this.g.trigger("invalidkey").addClass("iti-invalid-key"),setTimeout(function(){e.g.removeClass("iti-invalid-key")},100)},_k:function(e,t,n){var a,i=this.g.val(),r=(this._getClean(i),this.g[0]),o=0;if(this.d?(o=this._getDigitsOnRight(i,r.selectionEnd),e?i=i.substr(0,r.selectionStart)+e+i.substring(r.selectionEnd,i.length):a=i.substr(r.selectionStart-2,2)):e&&(i+=e),this.setNumber(i,null,t,!0,n),this.d){var s;i=this.g.val(),o?(s=this._getCursorFromDigitsOnRight(i,o),
e||(s=this._getCursorFromLeftChar(i,s,a))):s=i.length,r.setSelectionRange(s,s)}},_getCursorFromLeftChar:function(t,n,a){for(var i=n;i>0;i--){var r=t.charAt(i-1);if(e.isNumeric(r)||t.substr(i-2,2)==a)return i}return 0},_getCursorFromDigitsOnRight:function(t,n){for(var a=t.length-1;a>=0;a--)if(e.isNumeric(t.charAt(a))&&0===--n)return a;return 0},_getDigitsOnRight:function(t,n){for(var a=0,i=n;i<t.length;i++)e.isNumeric(t.charAt(i))&&a++;return a},_l:function(){var e=this;this.b.h&&this.g.on("mousedown"+this.ns,function(t){e.g.is(":focus")||e.g.val()||(t.preventDefault(),e.g.focus())}),this.g.on("focus"+this.ns,function(){var n=e.g.val();e.g.data("focusVal",n),e.b.h&&!n&&!e.g.prop("readonly")&&e.o.dialCode&&(e._u("+"+e.o.dialCode,null,!0),e.g.one("keypress.plus"+e.ns,function(n){if(n.which==l.f){var a=e.b.a&&t.intlTelInputUtils?"+":"";e.g.val(a)}}),setTimeout(function(){var t=e.g[0];if(e.d){var n=e.g.val().length;t.setSelectionRange(n,n)}}))}),this.g.on("blur"+this.ns,function(){if(e.b.h){var n=e.g.val(),a="+"==n.charAt(0);if(a){var i=e._m(n);i&&e.o.dialCode!=i||e.g.val("")}e.g.off("keypress.plus"+e.ns)}e.b.a&&t.intlTelInputUtils&&e.g.val()!=e.g.data("focusVal")&&e.g.trigger("change")})},_m:function(e){return e.replace(/\D/g,"")},_getClean:function(e){var t="+"==e.charAt(0)?"+":"";return t+this._m(e)},_n:function(){this._o();var e=this.i.children(".active");e.length&&this._x(e),this.i.removeClass("hide"),e.length&&this._ad(e),this._p(),this.h.children(".arrow").addClass("up")},_o:function(){var n=this.g.offset().top,a=e(t).scrollTop(),i=n+this.g.outerHeight()+this.j<a+e(t).height(),r=n-this.j>a,o=!i&&r?"-"+(this.j-1)+"px":"";this.i.css("top",o)},_p:function(){var t=this;this.i.on("mouseover"+this.ns,".country",function(){t._x(e(this))}),this.i.on("click"+this.ns,".country",function(){t._ab(e(this))});var a=!0;e("html").on("click"+this.ns,function(){a||t._ac(),a=!1});var i="",r=null;e(n).on("keydown"+this.ns,function(e){e.preventDefault(),e.which==l.b||e.which==l.c?t._q(e.which):e.which==l.d?t._r():e.which==l.e?t._ac():(e.which>=l.A&&e.which<=l.Z||e.which==l.i)&&(r&&clearTimeout(r),i+=String.fromCharCode(e.which),t._s(i),r=setTimeout(function(){i=""},1e3))})},_q:function(e){var t=this.i.children(".highlight").first(),n=e==l.b?t.prev():t.next();n.length&&(n.hasClass("divider")&&(n=e==l.b?n.prev():n.next()),this._x(n),this._ad(n))},_r:function(){var e=this.i.children(".highlight").first();e.length&&this._ab(e)},_s:function(e){for(var t=0;t<this.l.length;t++)if(this._t(this.l[t].name,e)){var n=this.i.children("[data-country-code="+this.l[t].iso2+"]").not(".preferred");this._x(n),this._ad(n,!0);break}},_t:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_u:function(e,n,a,i,r){var o;if(this.b.a&&t.intlTelInputUtils&&this.o){o="number"==typeof n&&intlTelInputUtils.isValidNumber(e,this.o.iso2)?intlTelInputUtils.formatNumberByType(e,this.o.iso2,n):!i&&this.b.n&&"+"==e.charAt(0)&&intlTelInputUtils.isValidNumber(e,this.o.iso2)?intlTelInputUtils.formatNumberByType(e,this.o.iso2,intlTelInputUtils.numberFormat.NATIONAL):intlTelInputUtils.formatNumber(e,this.o.iso2,a,this.b.allowExtensions,r);var s=this.g.attr("maxlength");s&&o.length>s&&(o=o.substr(0,s))}else o=e;this.g.val(o)},_v:function(t,n){t&&this.b.n&&this.o&&"1"==this.o.dialCode&&"+"!=t.charAt(0)&&("1"!=t.charAt(0)&&(t="1"+t),t="+"+t);var a=this._af(t),i=null;if(a){var r=this.m[this._m(a)],o=this.o&&-1!=e.inArray(this.o.iso2,r);if(!o||this._w(t,a))for(var s=0;s<r.length;s++)if(r[s]){i=r[s];break}}else"+"==t.charAt(0)&&this._m(t).length?i="":t&&"+"!=t||(i=this.b.d.iso2);null!==i&&this._z(i,n)},_w:function(e,t){return"+1"==t&&this._m(e).length>=4},_x:function(e){this.k.removeClass("highlight"),e.addClass("highlight")},_y:function(e,t,n){for(var a=t?u:this.l,i=0;i<a.length;i++)if(a[i].iso2==e)return a[i];if(n)return null;throw new Error("No country data for '"+e+"'")},_z:function(e,t){this.o=e?this._y(e,!1,!1):{},t&&this.o.iso2&&(this.b.d={iso2:this.o.iso2}),this.h.attr("class","iti-flag "+e);var n=e?this.o.name+": +"+this.o.dialCode:"Unknown";this.h.parent().attr("title",n),this._aa(),this.isMobile?this.i.val(e):(this.k.removeClass("active"),e&&this.k.find(".iti-flag."+e).first().closest(".country").addClass("active"))},_aa:function(){if(t.intlTelInputUtils&&!this.e&&this.b.autoPlaceholder&&this.o){var e=this.o.iso2,n=intlTelInputUtils.numberType[this.b.t||"FIXED_LINE"],a=e?intlTelInputUtils.getExampleNumber(e,this.b.n,n):"";"function"==typeof this.b.customPlaceholder&&(a=this.b.customPlaceholder(a,this.o)),this.g.attr("placeholder",a)}},_ab:function(e){var t=this.isMobile?"value":"data-country-code";if(this._z(e.attr(t),!0),this.isMobile||this._ac(),this._ae(e.attr("data-dial-code"),!0),this.g.trigger("change"),this.g.focus(),this.d){var n=this.g.val().length;this.g[0].setSelectionRange(n,n)}},_ac:function(){this.i.addClass("hide"),this.h.children(".arrow").removeClass("up"),e(n).off(this.ns),e("html").off(this.ns),this.i.off(this.ns)},_ad:function(e,t){var n=this.i,a=n.height(),i=n.offset().top,r=i+a,o=e.outerHeight(),s=e.offset().top,l=s+o,c=s-i+n.scrollTop(),u=a/2-o/2;if(i>s)t&&(c-=u),n.scrollTop(c);else if(l>r){t&&(c+=u);var d=a-o;n.scrollTop(c-d)}},_ae:function(t,n){var a,i=this.g.val();if(t="+"+t,this.b.n&&"+"!=i.charAt(0))a=i;else if(i){var r=this._af(i);if(r.length>1)a=i.replace(r,t);else{var o="+"!=i.charAt(0)?e.trim(i):"";a=t+o}}else a=!this.b.h||n?t:"";this._u(a,null,n)},_af:function(t){var n="";if("+"==t.charAt(0))for(var a="",i=0;i<t.length;i++){var r=t.charAt(i);if(e.isNumeric(r)&&(a+=r,this.m[a]&&(n=t.substr(0,i+1)),4==a.length))break}return n},autoCountryLoaded:function(){"auto"==this.b.d&&(this.b.d=e.fn[r].autoCountry,this._h(),this.autoCountryDeferred.resolve())},destroy:function(){this.isMobile||this._ac(),this.g.off(this.ns),this.isMobile?this.i.off(this.ns):(this.h.parent().off(this.ns),this.g.closest("label").off(this.ns));var e=this.g.parent();e.before(this.g).remove()},getExtension:function(){return this.g.val().split(" ext. ")[1]||""},getNumber:function(e){return t.intlTelInputUtils?intlTelInputUtils.formatNumberByType(this.g.val(),this.o.iso2,e):""},getNumberType:function(){return t.intlTelInputUtils?intlTelInputUtils.getNumberType(this.g.val(),this.o.iso2):-99},getSelectedCountryData:function(){return this.o||{}},getValidationError:function(){return t.intlTelInputUtils?intlTelInputUtils.getValidationError(this.g.val(),this.o.iso2):-99},isValidNumber:function(){var n=e.trim(this.g.val()),a=this.b.n?this.o.iso2:"";return t.intlTelInputUtils?intlTelInputUtils.isValidNumber(n,a):!1},loadUtils:function(t){var n=this,a=t||this.b.u;!e.fn[r].loadedUtilsScript&&a?(e.fn[r].loadedUtilsScript=!0,e.ajax({url:a,success:function(){e(".intl-tel-input input").intlTelInput("utilsLoaded")},complete:function(){n.utilsScriptDeferred.resolve()},dataType:"script",cache:!0})):this.utilsScriptDeferred.resolve()},selectCountry:function(e){e=e.toLowerCase(),this.h.hasClass(e)||(this._z(e,!0),this._ae(this.o.dialCode,!1))},setNumber:function(e,t,n,a,i){this.b.n||"+"==e.charAt(0)||(e="+"+e),this._v(e),this._u(e,t,n,a,i)},utilsLoaded:function(){this.b.a&&this.g.val()&&this._u(this.g.val()),this._aa()}},e.fn[r]=function(t){var n=arguments;if(t===a||"object"==typeof t){var o=[];return this.each(function(){if(!e.data(this,"plugin_"+r)){var n=new i(this,t),a=n._init();o.push(a[0]),o.push(a[1]),e.data(this,"plugin_"+r,n)}}),e.when.apply(null,o)}if("string"==typeof t&&"_"!==t[0]){var s;return this.each(function(){var a=e.data(this,"plugin_"+r);a instanceof i&&"function"==typeof a[t]&&(s=a[t].apply(a,Array.prototype.slice.call(n,1))),"destroy"===t&&e.data(this,"plugin_"+r,null)}),s!==a?s:this}},e.fn[r].getCountryData=function(){return u},e.fn[r].version="6.0.8";for(var u=[["Afghanistan ()","af","93"],["Albania (Shqipri)","al","355"],["Algeria ()","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia ()","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (sterreich)","at","43"],["Azerbaijan (Azrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain ()","bh","973"],["Bangladesh ()","bd","880"],["Barbados","bb","1246"],["Belarus ()","by","375"],["Belgium (Belgi)","be","32"],["Belize","bz","501"],["Benin (Bnin)","bj","229"],["Bermuda","bm","1441"],["Bhutan ()","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (  )","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria ()","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia ()","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (Rpublique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China ()","cn","86"],["Colombia","co","57"],["Comoros ( )","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cte dIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaao","cw","599",0],["Cyprus ()","cy","357"],["Czech Republic (esk republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Repblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt ()","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Froyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane franaise)","gf","594"],["French Polynesia (Polynsie franaise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia ()","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece ()","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (Guine)","gn","224"],["Guinea-Bissau (Guin Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong ()","hk","852"],["Hungary (Magyarorszg)","hu","36"],["Iceland (sland)","is","354"],["India ()","in","91"],["Indonesia","id","62"],["Iran ()","ir","98"],["Iraq ()","iq","964"],["Ireland","ie","353"],["Israel ()","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan ()","jp","81"],["Jordan ()","jo","962"],["Kazakhstan ()","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait ()","kw","965"],["Kyrgyzstan ()","kg","996"],["Laos ()","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon ()","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya ()","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau ()","mo","853"],["Macedonia (FYROM) ()","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania ()","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (Mxico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia ()","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco ()","ma","212"],["Mozambique (Moambique)","mz","258"],["Myanmar (Burma) ()","mm","95"],["Namibia (Namibi)","na","264"],["Nauru","nr","674"],["Nepal ()","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Caldonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (   )","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman ()","om","968"],["Pakistan ()","pk","92"],["Palau","pw","680"],["Palestine ()","ps","970"],["Panama (Panam)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar ()","qa","974"],["Runion (La Runion)","re","262"],["Romania (Romnia)","ro","40"],["Russia ()","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy (Saint-Barthlemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franaise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe (So Tom e Prncipe)","st","239"],["Saudi Arabia (  )","sa","966"],["Senegal (Sngal)","sn","221"],["Serbia ()","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea ()","kr","82"],["South Sudan ( )","ss","211"],["Spain (Espaa)","es","34"],["Sri Lanka ( )","lk","94"],["Sudan ()","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria ()","sy","963"],["Taiwan ()","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand ()","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia ()","tn","216"],["Turkey (Trkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine ()","ua","380"],["United Arab Emirates (  )","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Ozbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vit Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen ()","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],d=0;d<u.length;d++){var p=u[d];u[d]={name:p[0],iso2:p[1],dialCode:p[2],priority:p[3]||0,areaCodes:p[4]||null}}});var getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null,webrtcDetectedVersion=null,webrtcMinimumVersion=null,webrtcUtils={log:function(){"undefined"!=typeof module||"function"==typeof require&&"function"==typeof define||console.log.apply(console,arguments)},extractVersion:function(e,t,n){var a=e.match(t);return a&&a.length>=n&&parseInt(a[n],10)}};if("object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return"mozSrcObject"in this?this.mozSrcObject:this._srcObject},set:function(e){"mozSrcObject"in this?this.mozSrcObject=e:(this._srcObject=e,this.src=URL.createObjectURL(e))}}),getUserMedia=window.navigator&&window.navigator.getUserMedia),attachMediaStream=function(e,t){e.srcObject=t},reattachMediaStream=function(e,t){e.srcObject=t.srcObject},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){if(webrtcUtils.log("This appears to be Firefox"),webrtcDetectedBrowser="firefox",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),webrtcMinimumVersion=31,window.RTCPeerConnection=function(e,t){if(38>webrtcDetectedVersion&&e&&e.iceServers){for(var n=[],a=0;a<e.iceServers.length;a++){var i=e.iceServers[a];if(i.hasOwnProperty("urls"))for(var r=0;r<i.urls.length;r++){var o={url:i.urls[r]};0===i.urls[r].indexOf("turn")&&(o.username=i.username,o.credential=i.credential),n.push(o)}else n.push(e.iceServers[a])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),getUserMedia=function(e,t,n){var a=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var a=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if((void 0!==a.min||void 0!==a.max||void 0!==a.exact)&&t.push(n),void 0!==a.exact&&("number"==typeof a.exact?a.min=a.max=a.exact:e[n]=a.exact,delete a.exact),void 0!==a.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof a.ideal?i[n]={min:a.ideal,max:a.ideal}:i[n]=a.ideal,e.advanced.push(i),delete a.ideal,Object.keys(a).length||delete e[n]}}}),t.length&&(e.require=t),e};return 38>webrtcDetectedVersion&&(webrtcUtils.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),webrtcUtils.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)},navigator.getUserMedia=getUserMedia,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})},41>webrtcDetectedVersion){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){webrtcUtils.log("This appears to be Chrome"),webrtcDetectedBrowser="chrome",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),webrtcMinimumVersion=38,window.RTCPeerConnection=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),a=n.getStats.bind(n);return n.getStats=function(e,t,n){var i=this,r=arguments;if(arguments.length>0&&"function"==typeof e)return a(e,t);var o=function(e){var t={},n=e.result();return n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t};if(arguments.length>=2){var s=function(e){r[1](o(e))};return a.apply(this,[s,arguments[0]])}return new Promise(function(t,n){1===r.length&&null===e?a.apply(i,[function(e){t.apply(null,[o(e)])},n]):a.apply(i,[t,n])})},n},webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(a,i){t.apply(e,[a,i,n])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this;return new Promise(function(a,i){t.apply(n,[e[0],function(){a(),e.length>=2&&e[1].apply(null,[])},function(t){i(t),e.length>=3&&e[2].apply(null,[t])}])})}});var constraintsToChrome=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var a="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==a.exact&&"number"==typeof a.exact&&(a.min=a.max=a.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==a.ideal){t.optional=t.optional||[];var r={};"number"==typeof a.ideal?(r[i("min",n)]=a.ideal,t.optional.push(r),r={},r[i("max",n)]=a.ideal,t.optional.push(r)):(r[i("",n)]=a.ideal,t.optional.push(r))}void 0!==a.exact&&"number"!=typeof a.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=a.exact):["min","max"].forEach(function(e){void 0!==a[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=a[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(getUserMedia=function(e,t,n){return e.audio&&(e.audio=constraintsToChrome(e.audio)),e.video&&(e.video=constraintsToChrome(e.video)),webrtcUtils.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,n)},navigator.getUserMedia=getUserMedia,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return webrtcUtils.log("spec:   "+JSON.stringify(e)),e.audio=constraintsToChrome(e.audio),e.video=constraintsToChrome(e.video),webrtcUtils.log("chrome: "+JSON.stringify(e)),origGetUserMedia(e)}}else navigator.mediaDevices.getUserMedia=function(e){return requestUserMedia(e)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){webrtcUtils.log("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){webrtcUtils.log("Dummy mediaDevices.removeEventListener called.")}),attachMediaStream=function(e,t){webrtcDetectedVersion>=43?e.srcObject=t:"undefined"!=typeof e.src?e.src=URL.createObjectURL(t):webrtcUtils.log("Error attaching stream to element.")},reattachMediaStream=function(e,t){webrtcDetectedVersion>=43?e.srcObject=t.srcObject:e.src=t.src}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){if(webrtcUtils.log("This appears to be Edge"),webrtcDetectedBrowser="edge",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),webrtcMinimumVersion=10547,RTCIceGatherer){var generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},localCName=generateIdentifier(),SDPUtils={};SDPUtils.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},SDPUtils.splitSections=function(e){var t=e.split("\r\nm=");return t.map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},SDPUtils.matchPrefix=function(e,t){return SDPUtils.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},SDPUtils.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},a=8;a<t.length;a+=2)switch(t[a]){case"raddr":n.relatedAddress=t[a+1];break;case"rport":n.relatedPort=parseInt(t[a+1],10);break;case"tcptype":n.tcpType=t[a+1]}return n},SDPUtils.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},SDPUtils.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},SDPUtils.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},SDPUtils.parseFmtp=function(e){for(var t,n={},a=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<a.length;i++)t=a[i].trim().split("="),n[t[0].trim()]=t[1];return n},SDPUtils.writeFtmp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&e.parameters.length){var a=[];Object.keys(e.parameters).forEach(function(t){a.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+a.join(";")+"\r\n"}return t},SDPUtils.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},SDPUtils.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+" "+e.parameter+"\r\n"}),t},SDPUtils.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:e.substr(7,t-7)},a=e.indexOf(":",t);return a>-1?(n.attribute=e.substr(t+1,a-t-1),n.value=e.substr(a+1)):n.attribute=e.substr(t+1),n},SDPUtils.getDtlsParameters=function(e,t){var n=SDPUtils.splitLines(e);n=n.concat(SDPUtils.splitLines(t));var a=n.filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14),i={role:"auto",fingerprints:[{algorithm:a.split(" ")[0],value:a.split(" ")[1]}]};return i},SDPUtils.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},SDPUtils.getIceParameters=function(e,t){var n=SDPUtils.splitLines(e);n=n.concat(SDPUtils.splitLines(t));var a={usernameFragment:n.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)};return a},SDPUtils.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},SDPUtils.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=SDPUtils.splitLines(e),a=n[0].split(" "),i=3;i<a.length;i++){var r=a[i],o=SDPUtils.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(o){var s=SDPUtils.parseRtpMap(o),l=SDPUtils.matchPrefix(e,"a=fmtp:"+r+" ");s.parameters=l.length?SDPUtils.parseFmtp(l[0]):{},s.rtcpFeedback=SDPUtils.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(SDPUtils.parseRtcpFb),t.codecs.push(s)}}return t},SDPUtils.writeRtpDescription=function(e,t){var n="";return n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=SDPUtils.writeRtpMap(e),n+=SDPUtils.writeFtmp(e),n+=SDPUtils.writeRtcpFb(e)}),n+="a=rtcp-mux\r\n"},SDPUtils.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},SDPUtils.writeMediaSection=function(e,t,n,a){var i=SDPUtils.writeRtpDescription(e.kind,t);if(i+=SDPUtils.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=SDPUtils.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",i+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var r="msid:"+a.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+r,i+="a=ssrc:"+e.sendSsrc+" "+r}return i+="a=ssrc:"+e.sendSsrc+" cname:"+localCName+"\r\n"},SDPUtils.getDirection=function(e,t){for(var n=SDPUtils.splitLines(e),a=0;a<n.length;a++)switch(n[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[a].substr(2)}return t?SDPUtils.getDirection(t):"sendrecv"},window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),window.RTCPeerConnection=function(e){var t=this;if(this.onicecandidate=null,this.onaddstream=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}e&&e.iceServers&&e.iceServers.forEach(function(e){if(e.urls){var n;n="string"==typeof e.urls?e.urls:e.urls[0],-1!==n.indexOf("transport=udp")&&t.iceServers.push({username:e.username,credential:e.credential,urls:n})}}),this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this;this._localIceCandidatesBuffer.forEach(function(t){null!==e.onicecandidate&&e.onicecandidate(t)}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var a=0;a<t.codecs.length;a++){var i=t.codecs[a];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i);break}}}),e.headerExtensions.forEach(function(e){for(var a=0;a<t.headerExtensions.length;a++){var i=t.headerExtensions[a];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,a=new RTCIceGatherer(n.iceOptions),i=new RTCIceTransport(a);a.onlocalcandidate=function(r){var o={};o.candidate={sdpMid:e,sdpMLineIndex:t};var s=r.candidate;s&&0!==Object.keys(s).length?(s.component="RTCP"===i.component?2:1,
o.candidate.candidate=SDPUtils.writeCandidate(s)):(void 0===a.state&&(a.state="completed"),o.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates");var l=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});null!==n.onicecandidate&&(n.localDescription&&""===n.localDescription.type?(n._localIceCandidatesBuffer.push(o),l&&n._localIceCandidatesBuffer.push({})):(n.onicecandidate(o),l&&n.onicecandidate({})))},i.onicestatechange=function(){n._updateConnectionState()};var r=new RTCDtlsTransport(i);return r.ondtlsstatechange=function(){n._updateConnectionState()},r.onerror=function(){r.state="failed",n._updateConnectionState()},{iceGatherer:a,iceTransport:i,dtlsTransport:r}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var a=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(a.encodings=[{ssrc:e.sendSsrc}],a.rtcp={cname:localCName,ssrc:e.recvSsrc},e.rtpSender.send(a)),n&&e.rtpReceiver&&(a.encodings=[{ssrc:e.recvSsrc}],a.rtcp={cname:e.cname,ssrc:e.sendSsrc},e.rtpReceiver.receive(a))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t=this;if("offer"===e.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){var n=SDPUtils.splitSections(t.remoteDescription.sdp),a=n.shift();n.forEach(function(e,n){var i=t.transceivers[n],r=i.iceGatherer,o=i.iceTransport,s=i.dtlsTransport,l=i.localCapabilities,c=i.remoteCapabilities,u="0"===e.split("\n",1)[0].split(" ",2)[1];if(!u){var d=SDPUtils.getIceParameters(e,a);o.start(r,d,"controlled");var p=SDPUtils.getDtlsParameters(e,a);s.start(p);var f=t._getCommonCapabilities(l,c);t._transceive(i,f.codecs.length>0,!1)}})}switch(this.localDescription=e,e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var i=arguments.length>1&&"function"==typeof arguments[1];if(i){var r=arguments[1];window.setTimeout(function(){r(),t._emitBufferedCandidates()},0)}var o=Promise.resolve();return o.then(function(){i||window.setTimeout(t._emitBufferedCandidates.bind(t),0)}),o},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,a=SDPUtils.splitSections(e.sdp),i=a.shift();switch(a.forEach(function(a,r){var o,s,l,c,u,d,p,f,h,m,g,v=SDPUtils.splitLines(a),b=v[0].substr(2).split(" "),y=b[0],w="0"===b[1],S=SDPUtils.getDirection(a,i),_=SDPUtils.parseRtpParameters(a);w||(m=SDPUtils.getIceParameters(a,i),g=SDPUtils.getDtlsParameters(a,i));var C,T=SDPUtils.matchPrefix(a,"a=mid:")[0].substr(6),k=SDPUtils.matchPrefix(a,"a=ssrc:").map(function(e){return SDPUtils.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];if(k&&(f=parseInt(k.ssrc,10),C=k.value),"offer"===e.type){var A=t._createIceAndDtlsTransports(T,r);if(h=RTCRtpReceiver.getCapabilities(y),p=1001*(2*r+2),d=new RTCRtpReceiver(A.dtlsTransport,y),n.addTrack(d.track),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=r){var x=t.localStreams[0].getTracks()[r];u=new RTCRtpSender(x,A.dtlsTransport)}t.transceivers[r]={iceGatherer:A.iceGatherer,iceTransport:A.iceTransport,dtlsTransport:A.dtlsTransport,localCapabilities:h,remoteCapabilities:_,rtpSender:u,rtpReceiver:d,kind:y,mid:T,cname:C,sendSsrc:p,recvSsrc:f},t._transceive(t.transceivers[r],!1,"sendrecv"===S||"sendonly"===S)}else"answer"!==e.type||w||(o=t.transceivers[r],s=o.iceGatherer,l=o.iceTransport,c=o.dtlsTransport,u=o.rtpSender,d=o.rtpReceiver,p=o.sendSsrc,h=o.localCapabilities,t.transceivers[r].recvSsrc=f,t.transceivers[r].remoteCapabilities=_,t.transceivers[r].cname=C,l.start(s,m,"controlling"),c.start(g),t._transceive(o,"sendrecv"===S||"recvonly"===S,"sendrecv"===S||"sendonly"===S),!d||"sendrecv"!==S&&"sendonly"!==S?delete o.rtpReceiver:n.addTrack(d.track))}),this.remoteDescription=e,e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return window.setTimeout(function(){null!==t.onaddstream&&n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){t.onaddstream({stream:n})},0))},0),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e,null!==this.onsignalingstatechange&&this.onsignalingstatechange()},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){null!==this.onnegotiationneeded&&this.onnegotiationneeded()},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n["new"]>0?e="new":(n.connecting>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState&&(t.iceConnectionState=e,null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange())},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var n=[],a=0,i=0;if(this.localStreams.length&&(a=this.localStreams[0].getAudioTracks().length,i=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.offerToReceiveAudio&&(a=t.offerToReceiveAudio),void 0!==t.offerToReceiveVideo&&(i=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?a>0:i>0}),"audio"===e.kind?a--:"video"===e.kind&&i--});a>0||i>0;)a>0&&(n.push({kind:"audio",wantReceive:!0}),a--),i>0&&(n.push({kind:"video",wantReceive:!0}),i--);var r=SDPUtils.writeSessionBoilerplate(),o=[];n.forEach(function(t,n){var a,i,s=t.track,l=t.kind,c=generateIdentifier(),u=e._createIceAndDtlsTransports(c,n),d=RTCRtpSender.getCapabilities(l),p=1001*(2*n+1);s&&(a=new RTCRtpSender(s,u.dtlsTransport)),t.wantReceive&&(i=new RTCRtpReceiver(u.dtlsTransport,l)),o[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:a,rtpReceiver:i,kind:l,mid:c,sendSsrc:p,recvSsrc:null};var f=o[n];r+=SDPUtils.writeMediaSection(f,f.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=o;var s=new RTCSessionDescription({type:"offer",sdp:r});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,s),Promise.resolve(s)},window.RTCPeerConnection.prototype.createAnswer=function(){var e,t=this;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=SDPUtils.writeSessionBoilerplate();this.transceivers.forEach(function(e){var a=t._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);n+=SDPUtils.writeMediaSection(e,a,"answer",t.localStreams[0])});var a=new RTCSessionDescription({type:"answer",sdp:n});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,a),Promise.resolve(a)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var a=this.transceivers[t];if(a){var i=Object.keys(e.candidate).length>0?SDPUtils.parseCandidate(e.candidate):{};if("tcp"===i.protocol&&0===i.port)return;if("1"!==i.component)return;"endOfCandidates"===i.type&&(i={}),a.iceTransport.addRemoteCandidate(i)}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var a={};Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){a[t]=e[t]})}),t&&window.setTimeout(t,0,a),n(a)})})}}}else webrtcUtils.log("Browser does not appear to be WebRTC-capable");else webrtcUtils.log("This does not appear to be a browser"),webrtcDetectedBrowser="not a browser";var webrtcTesting={};try{Object.defineProperty(webrtcTesting,"version",{set:function(e){webrtcDetectedVersion=e}})}catch(e){}if("undefined"!=typeof module){var RTCPeerConnection,RTCIceCandidate,RTCSessionDescription;"undefined"!=typeof window&&(RTCPeerConnection=window.RTCPeerConnection,RTCIceCandidate=window.RTCIceCandidate,RTCSessionDescription=window.RTCSessionDescription),module.exports={RTCPeerConnection:RTCPeerConnection,RTCIceCandidate:RTCIceCandidate,RTCSessionDescription:RTCSessionDescription,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils}}else"function"==typeof require&&"function"==typeof define&&define([],function(){return{RTCPeerConnection:window.RTCPeerConnection,RTCIceCandidate:window.RTCIceCandidate,RTCSessionDescription:window.RTCSessionDescription,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils}});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,a){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,a)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,n){"use strict";var a=e(35),i=e(45),r=e(63),o=e(23),s=e(106),l={};o(l,r),o(l,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",a,a.findDOMNode),render:s("render","ReactDOM","react-dom",a,a.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",a,a.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.exports=l},{106:106,23:23,35:35,45:45,63:63}],2:[function(e,t,n){"use strict";var a=e(65),i=e(108),r=e(138),o={componentDidMount:function(){this.props.autoFocus&&r(i(this))}},s={Mixin:o,focusDOMComponent:function(){r(a.getNode(this._rootNodeID))}};t.exports=s},{108:108,138:138,65:65}],3:[function(e,t,n){"use strict";function a(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case I.topCompositionStart:return E.compositionStart;case I.topCompositionEnd:return E.compositionEnd;case I.topCompositionUpdate:return E.compositionUpdate}}function o(e,t){return e===I.topKeyDown&&t.keyCode===S}function s(e,t){switch(e){case I.topKeyUp:return-1!==w.indexOf(t.keyCode);case I.topKeyDown:return t.keyCode!==S;case I.topKeyPress:case I.topMouseDown:case I.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,a,i){var c,u;if(_?c=r(e):O?s(e,a)&&(c=E.compositionEnd):o(e,a)&&(c=E.compositionStart),!c)return null;k&&(O||c!==E.compositionStart?c===E.compositionEnd&&O&&(u=O.getData()):O=g.getPooled(t));var d=v.getPooled(c,n,a,i);if(u)d.data=u;else{var p=l(a);null!==p&&(d.data=p)}return h.accumulateTwoPhaseDispatches(d),d}function u(e,t){switch(e){case I.topCompositionEnd:return l(t);case I.topKeyPress:var n=t.which;return n!==A?null:(N=!0,x);case I.topTextInput:var a=t.data;return a===x&&N?null:a;default:return null}}function d(e,t){if(O){if(e===I.topCompositionEnd||s(e,t)){var n=O.getData();return g.release(O),O=null,n}return null}switch(e){case I.topPaste:return null;case I.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case I.topCompositionEnd:return k?null:t.data;default:return null}}function p(e,t,n,a,i){var r;if(r=T?u(e,a):d(e,a),!r)return null;var o=b.getPooled(E.beforeInput,n,a,i);return o.data=r,h.accumulateTwoPhaseDispatches(o),o}var f=e(15),h=e(19),m=e(130),g=e(20),v=e(90),b=e(94),y=e(148),w=[9,13,27,32],S=229,_=m.canUseDOM&&"CompositionEvent"in window,C=null;m.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var T=m.canUseDOM&&"TextEvent"in window&&!C&&!a(),k=m.canUseDOM&&(!_||C&&C>8&&11>=C),A=32,x=String.fromCharCode(A),I=f.topLevelTypes,E={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[I.topCompositionEnd,I.topKeyPress,I.topTextInput,I.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[I.topBlur,I.topCompositionEnd,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[I.topBlur,I.topCompositionStart,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[I.topBlur,I.topCompositionUpdate,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]}},N=!1,O=null,P={eventTypes:E,extractEvents:function(e,t,n,a,i){return[c(e,t,n,a,i),p(e,t,n,a,i)]}};t.exports=P},{130:130,148:148,15:15,19:19,20:20,90:90,94:94}],4:[function(e,t,n){"use strict";function a(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){r.forEach(function(t){i[a(t,e)]=i[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=s},{}],5:[function(e,t,n){"use strict";var a=e(4),i=e(130),r=e(71),o=e(132),s=e(105),l=e(143),c=e(150),u=e(155),d=c(function(e){return l(e)}),p=!1,f="cssFloat";if(i.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(m){p=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var g=/^(?:webkit|moz|o)[A-Z]/,v=/;\s*$/,b={},y={},w=function(e){b.hasOwnProperty(e)&&b[e]||(b[e]=!0,u(!1,"Unsupported style property %s. Did you mean %s?",e,o(e)))},S=function(e){b.hasOwnProperty(e)&&b[e]||(b[e]=!0,u(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},_=function(e,t){y.hasOwnProperty(t)&&y[t]||(y[t]=!0,u(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(v,"")))},C=function(e,t){e.indexOf("-")>-1?w(e):g.test(e)?S(e):v.test(t)&&_(e,t)},T={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];C(n,a),null!=a&&(t+=d(n)+":",t+=s(n,a)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){C(i,t[i]);var r=s(i,t[i]);if("float"===i&&(i=f),r)n[i]=r;else{var o=p&&a.shorthandPropertyExpansions[i];if(o)for(var l in o)n[l]="";else n[i]=""}}}};r.measureMethods(T,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=T},{105:105,130:130,132:132,143:143,150:150,155:155,4:4,71:71}],6:[function(e,t,n){"use strict";function a(){this._callbacks=null,this._contexts=null}var i=e(24),r=e(23),o=e(144);r(a.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?o(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(a),t.exports=a},{144:144,23:23,24:24}],7:[function(e,t,n){"use strict";function a(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=C.getPooled(E.change,O,e,T(e));w.accumulateTwoPhaseDispatches(t),_.batchedUpdates(r,t)}function r(e){y.enqueueEvents(e),y.processEventQueue(!1)}function o(e,t){N=e,O=t,N.attachEvent("onchange",i)}function s(){N&&(N.detachEvent("onchange",i),N=null,O=null)}function l(e,t,n){return e===I.topChange?n:void 0}function c(e,t,n){e===I.topFocus?(s(),o(t,n)):e===I.topBlur&&s()}function u(e,t){N=e,O=t,P=e.value,M=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",D),N.attachEvent("onpropertychange",p)}function d(){N&&(delete N.value,N.detachEvent("onpropertychange",p),N=null,O=null,P=null,M=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,i(e))}}function f(e,t,n){return e===I.topInput?n:void 0}function h(e,t,n){e===I.topFocus?(d(),u(t,n)):e===I.topBlur&&d()}function m(e,t,n){return e!==I.topSelectionChange&&e!==I.topKeyUp&&e!==I.topKeyDown||!N||N.value===P?void 0:(P=N.value,O)}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===I.topClick?n:void 0}var b=e(15),y=e(16),w=e(19),S=e(130),_=e(83),C=e(92),T=e(114),k=e(119),A=e(120),x=e(148),I=b.topLevelTypes,E={change:{phasedRegistrationNames:{bubbled:x({onChange:null}),captured:x({onChangeCapture:null})},dependencies:[I.topBlur,I.topChange,I.topClick,I.topFocus,I.topInput,I.topKeyDown,I.topKeyUp,I.topSelectionChange]}},N=null,O=null,P=null,M=null,j=!1;S.canUseDOM&&(j=k("change")&&(!("documentMode"in document)||document.documentMode>8));var $=!1;S.canUseDOM&&($=k("input")&&(!("documentMode"in document)||document.documentMode>9));var D={get:function(){return M.get.call(this)},set:function(e){P=""+e,M.set.call(this,e)}},R={eventTypes:E,extractEvents:function(e,t,n,i,r){var o,s;if(a(t)?j?o=l:s=c:A(t)?$?o=f:(o=m,s=h):g(t)&&(o=v),o){var u=o(e,t,n);if(u){var d=C.getPooled(E.change,u,i,r);return d.type="change",w.accumulateTwoPhaseDispatches(d),d}}s&&s(e,t,n)}};t.exports=R},{114:114,119:119,120:120,130:130,148:148,15:15,16:16,19:19,83:83,92:92}],8:[function(e,t,n){"use strict";var a=0,i={createReactRootIndex:function(){return a++}};t.exports=i},{}],9:[function(e,t,n){"use strict";function a(e,t,n){var a=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,a)}var i=e(12),r=e(67),o=e(71),s=e(124),l=e(125),c=e(144),u={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(e,t){for(var n,o=null,u=null,d=0;d<e.length;d++)if(n=e[d],n.type===r.MOVE_EXISTING||n.type===r.REMOVE_NODE){var p=n.fromIndex,f=n.parentNode.childNodes[p],h=n.parentID;f?void 0:c(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,h),o=o||{},o[h]=o[h]||[],o[h][p]=f,u=u||[],u.push(f)}var m;if(m=t.length&&"string"==typeof t[0]?i.dangerouslyRenderMarkup(t):t,u)for(var g=0;g<u.length;g++)u[g].parentNode.removeChild(u[g]);for(var v=0;v<e.length;v++)switch(n=e[v],n.type){case r.INSERT_MARKUP:a(n.parentNode,m[n.markupIndex],n.toIndex);break;case r.MOVE_EXISTING:a(n.parentNode,o[n.parentID][n.fromIndex],n.toIndex);break;case r.SET_MARKUP:s(n.parentNode,n.content);break;case r.TEXT_CONTENT:l(n.parentNode,n.content);break;case r.REMOVE_NODE:}}};o.measureMethods(u,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=u},{12:12,124:124,125:125,144:144,67:67,71:71}],10:[function(e,t,n){"use strict";function a(e,t){return(e&t)===t}var i=e(144),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=r,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in n){s.properties.hasOwnProperty(d)?i(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",d):void 0;var p=d.toLowerCase(),f=n[d],h={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseAttribute:a(f,t.MUST_USE_ATTRIBUTE),mustUseProperty:a(f,t.MUST_USE_PROPERTY),hasSideEffects:a(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:a(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:a(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:a(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:a(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?i(!1,"DOMProperty: Cannot require using both attribute and property: %s",d):void 0,!h.mustUseProperty&&h.hasSideEffects?i(!1,"DOMProperty: Properties that have side effects must use property: %s",d):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:i(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",d),s.getPossibleStandardName[p]=d,l.hasOwnProperty(d)){var m=l[d];h.attributeName=m,s.getPossibleStandardName[m]=d}o.hasOwnProperty(d)&&(h.attributeNamespace=o[d]),c.hasOwnProperty(d)&&(h.propertyName=c[d]),u.hasOwnProperty(d)&&(h.mutationMethod=u[d]),s.properties[d]=h}}},o={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,a=o[e];return a||(o[e]=a={}),t in a||(n=document.createElement(e),a[t]=n[t]),a[t]},injection:r};t.exports=s},{144:144}],11:[function(e,t,n){"use strict";function a(e){return d.hasOwnProperty(e)?!0:u.hasOwnProperty(e)?!1:c.test(e)?(d[e]=!0,!0):(u[e]=!0,l(!1,"Invalid attribute name: `%s`",e),!1)}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var r=e(10),o=e(71),s=e(122),l=e(155),c=/^[a-zA-Z_][\w\.\-]*$/,u={},d={},p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},f={},h=function(e){if(!(p.hasOwnProperty(e)&&p[e]||f.hasOwnProperty(e)&&f[e])){f[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;l(null==n,"Unknown DOM property %s. Did you mean %s?",e,n)}},m={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(i(n,t))return"";var a=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?a+'=""':a+"="+s(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+s(t):(h(e),null)},createMarkupForCustomAttribute:function(e,t){return a(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var a=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(a){var o=a.mutationMethod;if(o)o(e,n);else if(i(a,n))this.deleteValueForProperty(e,t);else if(a.mustUseAttribute){var s=a.attributeName,l=a.attributeNamespace;l?e.setAttributeNS(l,s,""+n):a.hasBooleanValue||a.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var c=a.propertyName;a.hasSideEffects&&""+e[c]==""+n||(e[c]=n)}}else r.isCustomAttribute(t)?m.setValueForAttribute(e,t,n):h(t)},setValueForAttribute:function(e,t,n){a(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var a=n.mutationMethod;if(a)a(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var i=n.propertyName,o=r.getDefaultValueForProperty(e.nodeName,i);n.hasSideEffects&&""+e[i]===o||(e[i]=o)}}else r.isCustomAttribute(t)?e.removeAttribute(t):h(t)}};o.measureMethods(m,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=m},{10:10,122:122,155:155,71:71}],12:[function(e,t,n){"use strict";function a(e){return e.substring(1,e.indexOf(" "))}var i=e(130),r=e(135),o=e(136),s=e(140),l=e(144),c=/^(<[^ \/>]+)/,u="data-danger-index",d={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,n={},d=0;d<e.length;d++)e[d]?void 0:l(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=a(e[d]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][d]=e[d];var p=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,m=n[t];for(h in m)if(m.hasOwnProperty(h)){var g=m[h];m[h]=g.replace(c,"$1 "+u+'="'+h+'" ')}for(var v=r(m.join(""),o),b=0;b<v.length;++b){var y=v[b];y.hasAttribute&&y.hasAttribute(u)?(h=+y.getAttribute(u),y.removeAttribute(u),p.hasOwnProperty(h)?l(!1,"Danger: Assigning to an already-occupied result index."):void 0,p[h]=y,f+=1):console.error("Danger: Discarding unexpected node:",y)}}return f!==p.length?l(!1,"Danger: Did not assign to every index of resultList."):void 0,p.length!==e.length?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length):void 0,p},dangerouslyReplaceNodeWithMarkup:function(e,t){i.canUseDOM?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var n;n="string"==typeof t?r(t,o)[0]:t,e.parentNode.replaceChild(n,e)}};t.exports=d},{130:130,135:135,136:136,140:140,144:144}],13:[function(e,t,n){"use strict";var a=e(148),i=[a({ResponderEventPlugin:null}),a({SimpleEventPlugin:null}),a({TapEventPlugin:null}),a({EnterLeaveEventPlugin:null}),a({ChangeEventPlugin:null}),a({SelectEventPlugin:null}),a({BeforeInputEventPlugin:null})];t.exports=i},{148:148}],14:[function(e,t,n){"use strict";var a=e(15),i=e(19),r=e(96),o=e(65),s=e(148),l=a.topLevelTypes,c=o.getFirstReactDOM,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],p={eventTypes:u,extractEvents:function(e,t,n,a,s){if(e===l.topMouseOver&&(a.relatedTarget||a.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var p;if(t.window===t)p=t;else{var f=t.ownerDocument;p=f?f.defaultView||f.parentWindow:window}var h,m,g="",v="";if(e===l.topMouseOut?(h=t,g=n,m=c(a.relatedTarget||a.toElement),m?v=o.getID(m):m=p,m=m||p):(h=p,m=t,v=n),h===m)return null;var b=r.getPooled(u.mouseLeave,g,a,s);b.type="mouseleave",b.target=h,b.relatedTarget=m;var y=r.getPooled(u.mouseEnter,v,a,s);return y.type="mouseenter",y.target=m,y.relatedTarget=h,i.accumulateEnterLeaveDispatches(b,y,g,v),d[0]=b,d[1]=y,d}};t.exports=p},{148:148,15:15,19:19,65:65,96:96}],15:[function(e,t,n){"use strict";var a=e(147),i=a({bubbled:null,captured:null}),r=a({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),o={topLevelTypes:r,PropagationPhases:i};t.exports=o},{147:147}],16:[function(e,t,n){"use strict";function a(){var e=g&&g.traverseTwoPhase&&g.traverseEnterLeave;u(e,"InstanceHandle not injected before use!")}var i=e(17),r=e(18),o=e(56),s=e(102),l=e(110),c=e(144),u=e(155),d={},p=null,f=function(e,t){e&&(r.executeDispatchesInOrder(e,t),
e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},m=function(e){return f(e,!1)},g=null,v={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){g=e,a()},getInstanceHandle:function(){return a(),g},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?c(!1,"Expected %s listener to be a function, instead got type %s",t,typeof n):void 0;var a=d[t]||(d[t]={});a[e]=n;var r=i.registrationNameModules[t];r&&r.didPutListener&&r.didPutListener(e,t,n)},getListener:function(e,t){var n=d[t];return n&&n[e]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var a=d[t];a&&delete a[e]},deleteAllListeners:function(e){for(var t in d)if(d[t][e]){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete d[t][e]}},extractEvents:function(e,t,n,a,r){for(var o,l=i.plugins,c=0;c<l.length;c++){var u=l[c];if(u){var d=u.extractEvents(e,t,n,a,r);d&&(o=s(o,d))}}return o},enqueueEvents:function(e){e&&(p=s(p,e))},processEventQueue:function(e){var t=p;p=null,e?l(t,h):l(t,m),p?c(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,o.rethrowCaughtError()},__purge:function(){d={}},__getListenerBank:function(){return d}};t.exports=v},{102:102,110:110,144:144,155:155,17:17,18:18,56:56}],17:[function(e,t,n){"use strict";function a(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:o(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!c.plugins[n]){t.extractEvents?void 0:o(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),c.plugins[n]=t;var a=t.eventTypes;for(var r in a)i(a[r],t,r)?void 0:o(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",r,e)}}}function i(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?o(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n):void 0,c.eventNameDispatchConfigs[n]=e;var a=e.phasedRegistrationNames;if(a){for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];r(s,t,n)}return!0}return e.registrationName?(r(e.registrationName,t,n),!0):!1}function r(e,t,n){c.registrationNameModules[e]?o(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=e(144),s=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?o(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,s=Array.prototype.slice.call(e),a()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(l[n]?o(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n):void 0,l[n]=i,t=!0)}t&&a()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var a=c.registrationNameModules[t.phasedRegistrationNames[n]];if(a)return a}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var a=c.registrationNameModules;for(var i in a)a.hasOwnProperty(i)&&delete a[i]}};t.exports=c},{144:144}],18:[function(e,t,n){"use strict";function a(e){return e===b.topMouseUp||e===b.topTouchEnd||e===b.topTouchCancel}function i(e){return e===b.topMouseMove||e===b.topTouchMove}function r(e){return e===b.topMouseDown||e===b.topTouchStart}function o(e,t,n,a){var i=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(a),t?h.invokeGuardedCallbackWithCatch(i,n,e,a):h.invokeGuardedCallback(i,n,e,a),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,a=e._dispatchIDs;if(p(e),Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)o(e,t,n[i],a[i]);else n&&o(e,t,n,a);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(p(e),Array.isArray(t)){for(var a=0;a<t.length&&!e.isPropagationStopped();a++)if(t[a](e,n[a]))return n[a]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function u(e){p(e);var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?m(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var a=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,a}function d(e){return!!e._dispatchListeners}var p,f=e(15),h=e(56),m=e(144),g=e(155),v={Mount:null,injectMount:function(e){v.Mount=e,g(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},b=f.topLevelTypes;p=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,a=Array.isArray(t),i=Array.isArray(n),r=i?n.length:n?1:0,o=a?t.length:t?1:0;g(i===a&&r===o,"EventPluginUtils: Invalid `event`.")};var y={isEndish:a,isMoveish:i,isStartish:r,executeDirectDispatch:u,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};t.exports=y},{144:144,15:15,155:155,56:56}],19:[function(e,t,n){"use strict";function a(e,t,n){var a=t.dispatchConfig.phasedRegistrationNames[n];return y(e,a)}function i(e,t,n){m(e,"Dispatching id must not be null");var i=t?b.bubbled:b.captured,r=a(e,n,i);r&&(n._dispatchListeners=g(n._dispatchListeners,r),n._dispatchIDs=g(n._dispatchIDs,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,i,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var a=n.dispatchConfig.registrationName,i=y(e,a);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchIDs=g(n._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function c(e){v(e,r)}function u(e){v(e,o)}function d(e,t,n,a){h.injection.getInstanceHandle().traverseEnterLeave(n,a,s,e,t)}function p(e){v(e,l)}var f=e(15),h=e(16),m=e(155),g=e(102),v=e(110),b=f.PropagationPhases,y=h.getListener,w={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:d};t.exports=w},{102:102,110:110,15:15,155:155,16:16}],20:[function(e,t,n){"use strict";function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(24),r=e(23),o=e(117);r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,a=n.length,i=this.getText(),r=i.length;for(e=0;a>e&&n[e]===i[e];e++);var o=a-e;for(t=1;o>=t&&n[a-t]===i[r-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(a),t.exports=a},{117:117,23:23,24:24}],21:[function(e,t,n){"use strict";var a,i=e(10),r=e(130),o=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,l=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,u=i.injection.HAS_NUMERIC_VALUE,d=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var f=document.implementation;a=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|l,allowTransparency:o,alt:null,async:l,autoComplete:null,autoPlay:l,capture:o|l,cellPadding:null,cellSpacing:null,charSet:o,challenge:o,checked:s|l,classID:o,className:a?o:s,cols:o|d,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:o,"default":l,defer:l,dir:null,disabled:o|l,download:p,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:l,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:o,integrity:null,is:o,keyParams:o,keyType:o,kind:null,label:null,lang:null,list:o,loop:s|l,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,minLength:o,multiple:s|l,muted:s|l,name:null,nonce:o,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,reversed:l,role:o,rows:o|d,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:o|l,selected:s|l,shape:null,size:o|d,sizes:o,span:d,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:o,start:u,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:o,wmode:o,wrap:null,about:o,datatype:o,inlist:o,prefix:o,property:o,resource:o,"typeof":o,vocab:o,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:o,itemScope:o|l,itemType:o,itemID:o,itemRef:o,results:null,security:o,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{10:10,130:130}],22:[function(e,t,n){"use strict";function a(e){null!=e.checkedLink&&null!=e.valueLink?c(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function i(e){a(e),null!=e.value||null!=e.onChange?c(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function r(e){a(e),null!=e.checked||null!=e.onChange?c(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(74),l=e(73),c=e(144),u=e(155),d={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},f={},h={checkPropTypes:function(e,t,n){for(var a in p){if(p.hasOwnProperty(a))var i=p[a](t,a,e,l.prop);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;var r=o(n);u(!1,"Failed form propType: %s%s",i.message,r)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=h},{144:144,155:155,73:73,74:74}],23:[function(e,t,n){"use strict";function a(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),a=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r){var o=Object(r);for(var s in o)a.call(o,s)&&(n[s]=o[s])}}return n}t.exports=a},{}],24:[function(e,t,n){"use strict";var a=e(144),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},r=function(e,t){var n=this;if(n.instancePool.length){var a=n.instancePool.pop();return n.call(a,e,t),a}return new n(e,t)},o=function(e,t,n){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n),i}return new a(e,t,n)},s=function(e,t,n,a){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n,a),r}return new i(e,t,n,a)},l=function(e,t,n,a,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n,a,i),o}return new r(e,t,n,a,i)},c=function(e){var t=this;e instanceof t?void 0:a(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=10,d=i,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||d,n.poolSize||(n.poolSize=u),n.release=c,n},f={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:r,threeArgumentPooler:o,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=f},{144:144}],25:[function(e,t,n){"use strict";var a=e(62),i=e(108),r=e(155),o="_getDOMNodeDidWarn",s={getDOMNode:function(){return r(this.constructor[o],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",a.get(this).getName()||this.tagName||"Unknown"),this.constructor[o]=!0,i(this)}};t.exports=s},{108:108,155:155,62:62}],26:[function(e,t,n){"use strict";function a(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=h++,p[e[g]]={}),p[e[g]]}var i=e(15),r=e(16),o=e(17),s=e(57),l=e(71),c=e(101),u=e(23),d=e(119),p={},f=!1,h=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=u({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=a(n),s=o.registrationNameDependencies[e],l=i.topLevelTypes,c=0;c<s.length;c++){var u=s[c];r.hasOwnProperty(u)&&r[u]||(u===l.topWheel?d("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):d("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):u===l.topScroll?d("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):u===l.topFocus||u===l.topBlur?(d("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):d("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),r[l.topBlur]=!0,r[l.topFocus]=!0):m.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,m[u],n),r[u]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!f){var e=c.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),f=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});l.measureMethods(v,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=v},{101:101,119:119,15:15,16:16,17:17,23:23,57:57,71:71}],27:[function(e,t,n){"use strict";function a(e,t,n){var a=void 0===e[n];l(a,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),null!=t&&a&&(e[n]=r(t,null))}var i=e(76),r=e(118),o=e(126),s=e(127),l=e(155),c={instantiateChildren:function(e,t,n){if(null==e)return null;var i={};return s(e,a,i),i},updateChildren:function(e,t,n,a){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var l=e&&e[s],c=l&&l._currentElement,u=t[s];if(null!=l&&o(c,u))i.receiveComponent(l,u,n,a),t[s]=l;else{l&&i.unmountComponent(l,s);var d=r(u,null);t[s]=d}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||i.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];i.unmountComponent(n)}}};t.exports=c},{118:118,126:126,127:127,155:155,76:76}],28:[function(e,t,n){"use strict";function a(e){return(""+e).replace(w,"//")}function i(e,t){this.func=e,this.context=t,this.count=0}function r(e,t,n){var a=e.func,i=e.context;a.call(i,t,e.count++)}function o(e,t,n){if(null==e)return e;var a=i.getPooled(t,n);v(e,r,a),i.release(a)}function s(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function l(e,t,n){var i=e.result,r=e.keyPrefix,o=e.func,s=e.context,l=o.call(s,t,e.count++);Array.isArray(l)?c(l,i,n,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,r+(l!==t?a(l.key||"")+"/":"")+n)),i.push(l))}function c(e,t,n,i,r){var o="";null!=n&&(o=a(n)+"/");var c=s.getPooled(t,o,i,r);v(e,l,c),s.release(c)}function u(e,t,n){if(null==e)return e;var a=[];return c(e,a,null,t,n),a}function d(e,t,n){return null}function p(e,t){return v(e,d,null)}function f(e){var t=[];return c(e,t,null,g.thatReturnsArgument),t}var h=e(24),m=e(52),g=e(136),v=e(127),b=h.twoArgumentPooler,y=h.fourArgumentPooler,w=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(i,b),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,y);var S={forEach:o,map:u,mapIntoWithKeyPrefixInternal:c,count:p,toArray:f};t.exports=S},{127:127,136:136,24:24,52:52}],29:[function(e,t,n){"use strict";function a(){x||(x=!0,C(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function i(e,t,n){for(var a in t)t.hasOwnProperty(a)&&C("function"==typeof t[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",g[n],a)}function r(e,t){var n=I.hasOwnProperty(t)?I[t]:null;N.hasOwnProperty(t)&&(n!==k.OVERRIDE_BASE?w(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):void 0),e.hasOwnProperty(t)&&(n!==k.DEFINE_MANY&&n!==k.DEFINE_MANY_MERGED?w(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):void 0)}function o(e,t){if(t){"function"==typeof t?w(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,h.isValidElement(t)?w(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var n=e.prototype;t.hasOwnProperty(T)&&E.mixins(e,t.mixins);for(var a in t)if(t.hasOwnProperty(a)&&a!==T){var i=t[a];if(r(n,a),E.hasOwnProperty(a))E[a](e,i);else{var o=I.hasOwnProperty(a),s=n.hasOwnProperty(a),l="function"==typeof i,d=l&&!o&&!s&&t.autobind!==!1;if(d)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[a]=i,n[a]=i;else if(s){var p=I[a];!o||p!==k.DEFINE_MANY_MERGED&&p!==k.DEFINE_MANY?w(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",p,a):void 0,p===k.DEFINE_MANY_MERGED?n[a]=c(n[a],i):p===k.DEFINE_MANY&&(n[a]=u(n[a],i))}else n[a]=i,"function"==typeof i&&t.displayName&&(n[a].displayName=t.displayName+"_"+a)}}}}function s(e,t){if(t)for(var n in t){var a=t[n];if(t.hasOwnProperty(n)){var i=n in E;i?w(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):void 0;var r=n in e;r?w(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):void 0,e[n]=a}}}function l(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:w(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?w(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):void 0,e[n]=t[n]);return e}function c(e,t){return function(){var n=e.apply(this,arguments),a=t.apply(this,arguments);if(null==n)return a;if(null==a)return n;var i={};return l(i,n),l(i,a),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function d(e,t){var n=t.bind(e);n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var a=e.constructor.displayName,i=n.bind;return n.bind=function(r){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;o>l;l++)s[l-1]=arguments[l];if(r!==e&&null!==r)C(!1,"bind(): React component methods may only be bound to the component instance. See %s",a);else if(!s.length)return C(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",a),n;var c=i.apply(n,arguments);return c.__reactBoundContext=e,c.__reactBoundMethod=t,c.__reactBoundArguments=s,c},n}function p(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=d(e,n)}}var f=e(30),h=e(52),m=e(73),g=e(72),v=e(69),b=e(23),y=e(137),w=e(144),S=e(147),_=e(148),C=e(155),T=_({mixins:null}),k=S({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),A=[],x=!1,I={mixins:k.DEFINE_MANY,statics:k.DEFINE_MANY,propTypes:k.DEFINE_MANY,contextTypes:k.DEFINE_MANY,childContextTypes:k.DEFINE_MANY,getDefaultProps:k.DEFINE_MANY_MERGED,getInitialState:k.DEFINE_MANY_MERGED,getChildContext:k.DEFINE_MANY_MERGED,render:k.DEFINE_ONCE,componentWillMount:k.DEFINE_MANY,componentDidMount:k.DEFINE_MANY,componentWillReceiveProps:k.DEFINE_MANY,shouldComponentUpdate:k.DEFINE_ONCE,componentWillUpdate:k.DEFINE_MANY,componentDidUpdate:k.DEFINE_MANY,componentWillUnmount:k.DEFINE_MANY,updateComponent:k.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){i(e,t,m.childContext),e.childContextTypes=b({},e.childContextTypes,t)},contextTypes:function(e,t){i(e,t,m.context),e.contextTypes=b({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=c(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){i(e,t,m.prop),e.propTypes=b({},e.propTypes,t)},statics:function(e,t){s(e,t)},autobind:function(){}},N={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){a(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){a(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},O=function(){};b(O.prototype,f.prototype,N);var P={createClass:function(e){var t=function(e,n,a){C(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&p(this),this.props=e,this.context=n,this.refs=y,this.updater=a||v,this.state=null;var i=this.getInitialState?this.getInitialState():null;"undefined"==typeof i&&this.getInitialState._isMockFunction&&(i=null),"object"!=typeof i||Array.isArray(i)?w(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):void 0,this.state=i};t.prototype=new O,t.prototype.constructor=t,A.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?void 0:w(!1,"createClass(...): Class specification must implement a `render` method."),C(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),C(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var n in I)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){A.push(e)}}};t.exports=P},{137:137,144:144,147:147,148:148,155:155,23:23,30:30,52:52,69:69,72:72,73:73}],30:[function(e,t,n){"use strict";function a(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var i=e(69),r=e(104),o=e(137),s=e(144),l=e(155);a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?s(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,l(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var c={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},u=function(e,t){r&&Object.defineProperty(a.prototype,e,{get:function(){return void l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var d in c)c.hasOwnProperty(d)&&u(d,c[d]);t.exports=a},{104:104,137:137,144:144,155:155,69:69}],31:[function(e,t,n){"use strict";var a=e(40),i=e(65),r={processChildrenUpdates:a.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:a.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=r},{40:40,65:65}],32:[function(e,t,n){"use strict";var a=e(144),i=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?a(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=r},{144:144}],33:[function(e,t,n){"use strict";function a(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(e){}var r=e(32),o=e(34),s=e(52),l=e(62),c=e(71),u=e(73),d=e(72),p=e(76),f=e(82),h=e(23),m=e(137),g=e(144),v=e(126),b=e(155);i.prototype.render=function(){var e=l.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var y=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=y++,this._rootNodeID=e;var a,r,c=this._processProps(this._currentElement.props),u=this._processContext(n),d=this._currentElement.type,h="prototype"in d;if(h){o.current=this;try{a=new d(c,u,f)}finally{o.current=null}}(!h||null===a||a===!1||s.isValidElement(a))&&(r=a,a=new i(d)),null==a.render?b(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",d.displayName||d.name||"Component"):b(d.prototype&&d.prototype.isReactComponent||!h||!(a instanceof d),"%s(...): React component classes must extend React.Component.",d.displayName||d.name||"Component"),a.props=c,a.context=u,a.refs=m,a.updater=f,this._instance=a,l.set(a,this),b(!a.getInitialState||a.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),b(!a.getDefaultProps||a.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),b(!a.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),b(!a.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),
b("function"!=typeof a.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),b("function"!=typeof a.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),b("function"!=typeof a.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var v=a.state;void 0===v&&(a.state=v=null),"object"!=typeof v||Array.isArray(v)?g(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),void 0===r&&(r=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(r);var w=p.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return a.componentDidMount&&t.getReactMountReady().enqueue(a.componentDidMount,a),w},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,a=n.contextTypes;if(!a)return m;t={};for(var i in a)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e),n=this._currentElement.type;return n.contextTypes&&this._checkPropTypes(n.contextTypes,t,u.context),t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,a=n.getChildContext&&n.getChildContext();if(a){"object"!=typeof t.childContextTypes?g(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(t.childContextTypes,a,u.childContext);for(var i in a)i in t.childContextTypes?void 0:g(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i);return h({},e,a)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,u.prop),e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var r in e)if(e.hasOwnProperty(r)){var o;try{"function"!=typeof e[r]?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",d[n],r):void 0,o=e[r](t,r,i,n)}catch(s){o=s}if(o instanceof Error){var l=a(this);n===u.prop?b(!1,"Failed Composite propType: %s%s",o.message,l):b(!1,"Failed Context Types: %s%s",o.message,l)}}},receiveComponent:function(e,t,n){var a=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,a,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,a,i){var r,o=this._instance,s=this._context===i?o.context:this._processContext(i);t===n?r=n.props:(r=this._processProps(n.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(r,s));var l=this._processPendingState(r,s),c=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(r,l,s);b("undefined"!=typeof c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,r,l,s,e,i)):(this._currentElement=n,this._context=i,o.props=r,o.state=l,o.context=s)},_processPendingState:function(e,t){var n=this._instance,a=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!a)return n.state;if(i&&1===a.length)return a[0];for(var r=h({},i?a[0]:n.state),o=i?1:0;o<a.length;o++){var s=a[o];h(r,"function"==typeof s?s.call(n,r,e,t):s)}return r},_performComponentUpdate:function(e,t,n,a,i,r){var o,s,l,c=this._instance,u=Boolean(c.componentDidUpdate);u&&(o=c.props,s=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,a),this._currentElement=e,this._context=r,c.props=t,c.state=n,c.context=a,this._updateRenderedComponent(i,r),u&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,o,s,l),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,a=n._currentElement,i=this._renderValidatedComponent();if(v(a,i))p.receiveComponent(n,i,e,this._processChildContext(t));else{var r=this._rootNodeID,o=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var s=p.mountComponent(this._renderedComponent,r,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(o,s)}},_replaceNodeWithMarkupByID:function(e,t){r.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return"undefined"==typeof t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:g(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?g(!1,"Stateless function components cannot have refs."):void 0;var a=t.getPublicInstance(),i=t&&t.getName?t.getName():"a component";b(null!=a,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,i,this.getName());var r=n.refs===m?n.refs={}:n.refs;r[e]=a},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null};c.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:w};t.exports=S},{126:126,137:137,144:144,155:155,23:23,32:32,34:34,52:52,62:62,71:71,72:72,73:73,76:76,82:82}],34:[function(e,t,n){"use strict";var a={current:null};t.exports=a},{}],35:[function(e,t,n){"use strict";var a=e(34),i=e(46),r=e(49),o=e(61),s=e(65),l=e(71),c=e(76),u=e(83),d=e(84),p=e(108),f=e(123),h=e(155);r.inject();var m=l.measure("React","render",s.render),g={findDOMNode:p,render:m,unmountComponentAtNode:s.unmountComponentAtNode,version:d,unstable_batchedUpdates:u.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:a,InstanceHandles:o,Mount:s,Reconciler:c,TextComponent:i});var v=e(130);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var b=document.documentMode&&document.documentMode<8;h(!b,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var y=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],w=0;w<y.length;w++)if(!y[w]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}t.exports=g},{108:108,123:123,130:130,155:155,34:34,46:46,49:49,61:61,65:65,71:71,76:76,83:83,84:84}],36:[function(e,t,n){"use strict";var a={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(e,t,n){if(!t.disabled)return t;var i={};for(var r in t)t.hasOwnProperty(r)&&!a[r]&&(i[r]=t[r]);return i}};t.exports=i},{}],37:[function(e,t,n){"use strict";function a(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(){var e=this._reactInternalComponent;return z(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",a(e)),this}function r(){var e=this._reactInternalComponent;return z(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",a(e)),!!e}function o(){var e=this._reactInternalComponent;z(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",a(e))}function s(e,t){var n=this._reactInternalComponent;z(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",a(n)),n&&(R.enqueueSetPropsInternal(n,e),t&&R.enqueueCallbackInternal(n,t))}function l(e,t){var n=this._reactInternalComponent;z(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",a(n)),n&&(R.enqueueReplacePropsInternal(n,e),t&&R.enqueueCallbackInternal(n,t))}function c(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(c).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(a+": "+c(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function u(e,t,n){if(null!=e&&null!=t&&!q(e,t)){var a,i=n._tag,r=n._currentElement._owner;r&&(a=r.getName());var o=a+"|"+i;ae.hasOwnProperty(o)||(ae[o]=!0,z(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",i,r?"of `"+a+"`":"using <"+i+">",c(e),c(t)))}}function d(e,t){t&&(se[e._tag]&&z(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children?F(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof t.dangerouslySetInnerHTML&&te in t.dangerouslySetInnerHTML?void 0:F(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),z(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),z(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style?F(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",a(e)):void 0)}function p(e,t,n,a){z("onScroll"!==t||G("scroll",!0),"This browser doesn't support the `onScroll` event");var i=j.findReactContainerForID(e);if(i){var r=i.nodeType===ne?i.ownerDocument:i;Q(t,r)}a.getReactMountReady().enqueue(f,{id:e,registrationName:t,listener:n})}function f(){var e=this;x.putListener(e.id,e.registrationName,e.listener)}function h(){var e=this;e._rootNodeID?void 0:F(!1,"Must be mounted to trap events");var t=j.getNode(e._rootNodeID);switch(t?void 0:F(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":e._wrapperState.listeners=[x.trapBubbledEvent(A.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in ie)ie.hasOwnProperty(n)&&e._wrapperState.listeners.push(x.trapBubbledEvent(A.topLevelTypes[n],ie[n],t));break;case"img":e._wrapperState.listeners=[x.trapBubbledEvent(A.topLevelTypes.topError,"error",t),x.trapBubbledEvent(A.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[x.trapBubbledEvent(A.topLevelTypes.topReset,"reset",t),x.trapBubbledEvent(A.topLevelTypes.topSubmit,"submit",t)]}}function m(){N.mountReadyWrapper(this)}function g(){P.postUpdateWrapper(this)}function v(e){ue.call(ce,e)||(le.test(e)?void 0:F(!1,"Invalid tag: %s",e),ce[e]=!0)}function b(e,t){e=U({},e);var n=e[K.ancestorInfoContextKey];return e[K.ancestorInfoContextKey]=K.updatedAncestorInfo(n,t._tag,t),e}function y(e,t){return e.indexOf("-")>=0||null!=t.is}function w(e){v(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var S,_=e(2),C=e(5),T=e(10),k=e(11),A=e(15),x=e(26),I=e(31),E=e(36),N=e(41),O=e(42),P=e(43),M=e(47),j=e(65),$=e(66),D=e(71),R=e(82),U=e(23),L=e(104),B=e(107),F=e(144),G=e(119),V=e(148),H=e(124),W=e(125),q=e(153),K=e(128),z=e(155),Y=x.deleteListener,Q=x.listenTo,J=x.registrationNameModules,X={string:!0,number:!0},Z=V({children:null}),ee=V({style:null}),te=V({__html:null}),ne=1;S={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return z(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",a(e)),e._currentElement.props}}};var ae={},ie={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},re={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe={listing:!0,pre:!0,textarea:!0},se=U({menuitem:!0},re),le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ce={},ue={}.hasOwnProperty;w.displayName="ReactDOMComponent",w.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var a=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(h,this);break;case"button":a=E.getNativeProps(this,a,n);break;case"input":N.mountWrapper(this,a,n),a=N.getNativeProps(this,a,n);break;case"option":O.mountWrapper(this,a,n),a=O.getNativeProps(this,a,n);break;case"select":P.mountWrapper(this,a,n),a=P.getNativeProps(this,a,n),n=P.processChildContext(this,a,n);break;case"textarea":M.mountWrapper(this,a,n),a=M.getNativeProps(this,a,n)}d(this,a),n[K.ancestorInfoContextKey]&&K(this._tag,this,n[K.ancestorInfoContextKey]),this._unprocessedContextDev=n,this._processedContextDev=b(n,this),n=this._processedContextDev;var i;if(t.useCreateElement){var r=n[j.ownerDocumentContextKey],o=r.createElement(this._currentElement.type);k.setAttributeForID(o,this._rootNodeID),j.getID(o),this._updateDOMProperties({},a,t,o),this._createInitialChildren(t,a,n,o),i=o}else{var s=this._createOpenTagMarkupAndPutListeners(t,a),l=this._createContentMarkup(t,a,n);i=!l&&re[this._tag]?s+"/>":s+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(m,this);case"button":case"select":case"textarea":a.autoFocus&&t.getReactMountReady().enqueue(_.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];if(null!=i)if(J.hasOwnProperty(a))i&&p(this._rootNodeID,a,i,e);else{a===ee&&(i&&(this._previousStyle=i,i=this._previousStyleCopy=U({},t.style)),i=C.createMarkupForStyles(i));var r=null;null!=this._tag&&y(this._tag,t)?a!==Z&&(r=k.createMarkupForCustomAttribute(a,i)):r=k.createMarkupForProperty(a,i),r&&(n+=" "+r)}}if(e.renderToStaticMarkup)return n;var o=k.createMarkupForID(this._rootNodeID);return n+" "+o},_createContentMarkup:function(e,t,n){var a="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(a=i.__html);else{var r=X[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)a=B(r);else if(null!=o){var s=this.mountChildren(o,e,n);a=s.join("")}}return oe[this._tag]&&"\n"===a.charAt(0)?"\n"+a:a},_createInitialChildren:function(e,t,n,a){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&H(a,i.__html);else{var r=X[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)W(a,r);else if(null!=o)for(var s=this.mountChildren(o,e,n),l=0;l<s.length;l++)a.appendChild(s[l])}},receiveComponent:function(e,t,n){var a=this._currentElement;this._currentElement=e,this.updateComponent(t,a,e,n)},updateComponent:function(e,t,n,a){var i=t.props,r=this._currentElement.props;switch(this._tag){case"button":i=E.getNativeProps(this,i),r=E.getNativeProps(this,r);break;case"input":N.updateWrapper(this),i=N.getNativeProps(this,i),r=N.getNativeProps(this,r);break;case"option":i=O.getNativeProps(this,i),r=O.getNativeProps(this,r);break;case"select":i=P.getNativeProps(this,i),r=P.getNativeProps(this,r);break;case"textarea":M.updateWrapper(this),i=M.getNativeProps(this,i),r=M.getNativeProps(this,r)}this._unprocessedContextDev!==a&&(this._unprocessedContextDev=a,this._processedContextDev=b(a,this)),a=this._processedContextDev,d(this,r),this._updateDOMProperties(i,r,e,null),this._updateDOMChildren(i,r,e,a),!L&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=r),"select"===this._tag&&e.getReactMountReady().enqueue(g,this)},_updateDOMProperties:function(e,t,n,a){var i,r,o;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===ee){var s=this._previousStyleCopy;for(r in s)s.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else J.hasOwnProperty(i)?e[i]&&Y(this._rootNodeID,i):(T.properties[i]||T.isCustomAttribute(i))&&(a||(a=j.getNode(this._rootNodeID)),k.deleteValueForProperty(a,i));for(i in t){var l=t[i],c=i===ee?this._previousStyleCopy:e[i];if(t.hasOwnProperty(i)&&l!==c)if(i===ee)if(l?(u(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l,l=this._previousStyleCopy=U({},l)):this._previousStyleCopy=null,c){for(r in c)!c.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in l)l.hasOwnProperty(r)&&c[r]!==l[r]&&(o=o||{},o[r]=l[r])}else o=l;else J.hasOwnProperty(i)?l?p(this._rootNodeID,i,l,n):c&&Y(this._rootNodeID,i):y(this._tag,t)?(a||(a=j.getNode(this._rootNodeID)),i===Z&&(l=null),k.setValueForAttribute(a,i,l)):(T.properties[i]||T.isCustomAttribute(i))&&(a||(a=j.getNode(this._rootNodeID)),null!=l?k.setValueForProperty(a,i,l):k.deleteValueForProperty(a,i))}o&&(a||(a=j.getNode(this._rootNodeID)),C.setValueForStyles(a,o))},_updateDOMChildren:function(e,t,n,a){var i=X[typeof e.children]?e.children:null,r=X[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,c=null!=r?null:t.children,u=null!=i||null!=o,d=null!=r||null!=s;null!=l&&null==c?this.updateChildren(null,n,a):u&&!d&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=s?o!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,a)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":N.unmountWrapper(this);break;case"html":case"head":case"body":F(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),x.deleteAllListeners(this._rootNodeID),I.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=j.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=i,e.isMounted=r,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=s,e.replaceProps=l,L?Object.defineProperties(e,S):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},D.measureMethods(w,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),U(w.prototype,w.Mixin,$.Mixin),t.exports=w},{10:10,104:104,107:107,11:11,119:119,124:124,125:125,128:128,144:144,148:148,15:15,153:153,155:155,2:2,23:23,26:26,31:31,36:36,41:41,42:42,43:43,47:47,5:5,65:65,66:66,71:71,82:82}],38:[function(e,t,n){"use strict";function a(e){return i.createFactory(e)}var i=(e(52),e(53)),r=e(149),o=r({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},a);t.exports=o},{149:149,52:52,53:53}],39:[function(e,t,n){"use strict";var a={useCreateElement:!1};t.exports=a},{}],40:[function(e,t,n){"use strict";var a=e(9),i=e(11),r=e(65),o=e(71),s=e(144),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(e,t,n){var a=r.getNode(e);l.hasOwnProperty(t)?s(!1,"updatePropertyByID(...): %s",l[t]):void 0,null!=n?i.setValueForProperty(a,t,n):i.deleteValueForProperty(a,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=r.getNode(e);a.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=r.getNode(e[n].parentID);a.processUpdates(e,t)}};o.measureMethods(c,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=c},{11:11,144:144,65:65,71:71,9:9}],41:[function(e,t,n){"use strict";function a(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);l.asap(a,this);var i=t.name;if("radio"===t.type&&null!=i){for(var r=s.getNode(this._rootNodeID),c=r;c.parentNode;)c=c.parentNode;for(var p=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),f=0;f<p.length;f++){var h=p[f];if(h!==r&&h.form===r.form){var m=s.getID(h);m?void 0:u(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=d[m];g?void 0:u(!1,"ReactDOMInput: Unknown radio button ID %s.",m),l.asap(a,g)}}}return n}var r=e(40),o=e(22),s=e(65),l=e(83),c=e(23),u=e(144),d={},p={getNativeProps:function(e,t,n){var a=o.getValue(t),i=o.getChecked(t),r=c({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=a?a:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){o.checkPropTypes("input",t,e._currentElement._owner);var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:i.bind(e)}},mountReadyWrapper:function(e){d[e._rootNodeID]=e},unmountWrapper:function(e){delete d[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&r.updatePropertyByID(e._rootNodeID,"checked",n||!1);var a=o.getValue(t);null!=a&&r.updatePropertyByID(e._rootNodeID,"value",""+a)}};t.exports=p},{144:144,22:22,23:23,40:40,65:65,83:83}],42:[function(e,t,n){"use strict";var a=e(28),i=e(43),r=e(23),o=e(155),s=i.valueContextKey,l={mountWrapper:function(e,t,n){o(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var a=n[s],i=null;if(null!=a)if(i=!1,Array.isArray(a)){for(var r=0;r<a.length;r++)if(""+a[r]==""+t.value){i=!0;break}}else i=""+a==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(e,t,n){var i=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var s="";return a.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?s+=e:o(!1,"Only strings and numbers are supported as <option> children."))}),i.children=s,i}};t.exports=l},{155:155,23:23,28:28,43:43}],43:[function(e,t,n){"use strict";function a(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&o(this,e,t)}}function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e,t){var n=e._currentElement._owner;l.checkPropTypes("select",t,n);for(var a=0;a<h.length;a++){var r=h[a];null!=t[r]&&(t.multiple?p(Array.isArray(t[r]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",r,i(n)):p(!Array.isArray(t[r]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",r,i(n)))}}function o(e,t,n){var a,i,r=c.getNode(e._rootNodeID).options;if(t){for(a={},i=0;i<n.length;i++)a[""+n[i]]=!0;for(i=0;i<r.length;i++){var o=a.hasOwnProperty(r[i].value);r[i].selected!==o&&(r[i].selected=o)}}else{for(a=""+n,i=0;i<r.length;i++)if(r[i].value===a)return void(r[i].selected=!0);r.length&&(r[0].selected=!0)}}function s(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,u.asap(a,this),n}var l=e(22),c=e(65),u=e(83),d=e(23),p=e(155),f="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),h=["value","defaultValue"],m={valueContextKey:f,getNativeProps:function(e,t,n){return d({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){r(e,t);var n=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:s.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var a=d({},n);return a[f]=e._wrapperState.initialValue,a},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var a=l.getValue(t);null!=a?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),a)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=m},{155:155,22:22,23:23,65:65,83:83}],44:[function(e,t,n){"use strict";function a(e,t,n,a){return e===n&&t===a}function i(e){var t=document.selection,n=t.createRange(),a=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var r=i.text.length,o=r+a;return{start:r,end:o}}function r(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,r=t.focusNode,o=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var c=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=c?0:s.toString().length,d=s.cloneRange();d.selectNodeContents(e),d.setEnd(s.startContainer,s.startOffset);var p=a(d.startContainer,d.startOffset,d.endContainer,d.endOffset),f=p?0:d.toString().length,h=f+u,m=document.createRange();m.setStart(n,i),m.setEnd(r,o);var g=m.collapsed;return{start:g?h:f,end:g?f:h}}function o(e,t){var n,a,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,a=n):t.start>t.end?(n=t.end,a=t.start):(n=t.start,a=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",a-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),a=e[u()].length,i=Math.min(t.start,a),r="undefined"==typeof t.end?i:Math.min(t.end,a);if(!n.extend&&i>r){var o=r;r=i,i=o}var s=c(e,i),l=c(e,r);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=e(130),c=e(116),u=e(117),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?i:r,setOffsets:d?o:s};t.exports=p},{116:116,117:117,130:130}],45:[function(e,t,n){"use strict";var a=e(49),i=e(80),r=e(84);a.inject();var o={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:r};t.exports=o},{49:49,80:80,84:84}],46:[function(e,t,n){"use strict";var a=e(9),i=e(11),r=e(31),o=e(65),s=e(23),l=e(107),c=e(125),u=e(128),d=function(e){};s(d.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(n[u.ancestorInfoContextKey]&&u("span",null,n[u.ancestorInfoContextKey]),
this._rootNodeID=e,t.useCreateElement){var a=n[o.ownerDocumentContextKey],r=a.createElement("span");return i.setAttributeForID(r,e),o.getID(r),c(r,this._stringText),r}var s=l(this._stringText);return t.renderToStaticMarkup?s:"<span "+i.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=o.getNode(this._rootNodeID);a.updateTextContent(i,n)}}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=d},{107:107,11:11,125:125,128:128,23:23,31:31,65:65,9:9}],47:[function(e,t,n){"use strict";function a(){this._rootNodeID&&d.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=r.executeOnChange(t,e);return s.asap(a,this),n}var r=e(22),o=e(40),s=e(83),l=e(23),c=e(144),u=e(155),d={getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?c(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var a=l({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return a},mountWrapper:function(e,t){r.checkPropTypes("textarea",t,e._currentElement._owner);var n=t.defaultValue,a=t.children;null!=a&&(u(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=n?c(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(a)&&(a.length<=1?void 0:c(!1,"<textarea> can only have at most one child."),a=a[0]),n=""+a),null==n&&(n="");var o=r.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:n),onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=r.getValue(t);null!=n&&o.updatePropertyByID(e._rootNodeID,"value",""+n)}};t.exports=d},{144:144,155:155,22:22,23:23,40:40,83:83}],48:[function(e,t,n){"use strict";function a(){this.reinitializeTransaction()}var i=e(83),r=e(100),o=e(23),s=e(136),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:i.flushBatchedUpdates.bind(i)},u=[c,l];o(a.prototype,r.Mixin,{getTransactionWrappers:function(){return u}});var d=new a,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,a,i,r){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?e(t,n,a,i,r):d.perform(e,null,t,n,a,i,r)}};t.exports=p},{100:100,136:136,23:23,83:83}],49:[function(e,t,n){"use strict";function a(){if(!k){k=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginHub.injectInstanceHandle(b),v.EventPluginHub.injectMount(y),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:l,ChangeEventPlugin:r,SelectEventPlugin:S,BeforeInputEventPlugin:i}),v.NativeComponent.injectGenericComponentClass(h),v.NativeComponent.injectTextComponentClass(m),v.Class.injectMixin(d),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(T),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(w),v.Updates.injectBatchingStrategy(f),v.RootIndex.injectCreateReactRootIndex(c.canUseDOM?o.createReactRootIndex:_.createReactRootIndex),v.Component.injectEnvironment(p);var t=c.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var n=e(50);n.start()}}}var i=e(3),r=e(7),o=e(8),s=e(13),l=e(14),c=e(130),u=e(21),d=e(25),p=e(31),f=e(48),h=e(37),m=e(46),g=e(58),v=e(59),b=e(61),y=e(65),w=e(75),S=e(86),_=e(87),C=e(88),T=e(85),k=!1;t.exports={inject:a}},{13:13,130:130,14:14,21:21,25:25,3:3,31:31,37:37,46:46,48:48,50:50,58:58,59:59,61:61,65:65,7:7,75:75,8:8,85:85,86:86,87:87,88:88}],50:[function(e,t,n){"use strict";function a(e){return Math.floor(100*e)/100}function i(e,t,n){e[t]=(e[t]||0)+n}var r=e(10),o=e(51),s=e(65),l=e(71),c=e(152),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(e){e=e||u._allMeasurements;var t=o.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":a(e.inclusive),"Exclusive mount time (ms)":a(e.exclusive),"Exclusive render time (ms)":a(e.render),"Mount time per instance (ms)":a(e.exclusive/e.count),"Render time per instance (ms)":a(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||u._allMeasurements;var t=o.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":a(e.time),Instances:e.count}})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=o.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(e)),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||u._allMeasurements;var t=o.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[r.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",o.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,a){var i=u._allMeasurements[u._allMeasurements.length-1].writes;i[e]=i[e]||[],i[e].push({type:t,time:n,args:a})},measure:function(e,t,n){return function(){for(var a=arguments.length,r=Array(a),o=0;a>o;o++)r[o]=arguments[o];var l,d,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),p=c(),d=n.apply(this,r),u._allMeasurements[u._allMeasurements.length-1].totalTime=c()-p,d;if("_mountImageIntoNode"===t||"ReactBrowserEventEmitter"===e||"ReactDOMIDOperations"===e||"CSSPropertyOperations"===e||"DOMChildrenOperations"===e||"DOMPropertyOperations"===e){if(p=c(),d=n.apply(this,r),l=c()-p,"_mountImageIntoNode"===t){var f=s.getID(r[1]);u._recordWrite(f,t,l,r[0])}else if("dangerouslyProcessChildrenUpdates"===t)r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),u._recordWrite(e.parentID,e.type,l,t)});else{var h=r[0];"object"==typeof h&&(h=s.getID(r[0])),u._recordWrite(h,t,l,Array.prototype.slice.call(r,1))}return d}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if(this._currentElement.type===s.TopLevelWrapper)return n.apply(this,r);var m="mountComponent"===t?r[0]:this._rootNodeID,g="_renderValidatedComponent"===t,v="mountComponent"===t,b=u._mountStack,y=u._allMeasurements[u._allMeasurements.length-1];if(g?i(y.counts,m,1):v&&(y.created[m]=!0,b.push(0)),p=c(),d=n.apply(this,r),l=c()-p,g)i(y.render,m,l);else if(v){var w=b.pop();b[b.length-1]+=l,i(y.exclusive,m,l-w),i(y.inclusive,m,l)}else i(y.inclusive,m,l);return y.displayNames[m]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},d}}};t.exports=u},{10:10,152:152,51:51,65:65,71:71}],51:[function(e,t,n){"use strict";function a(e){for(var t=0,n=0;n<e.length;n++){var a=e[n];t+=a.totalTime}return t}function i(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:u[e.type]||e.type,args:e.args})})})}),t}function r(e){for(var t,n={},a=0;a<e.length;a++){var i=e[a],r=l({},i.exclusive,i.inclusive);for(var o in r)t=i.displayNames[o].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},i.render[o]&&(n[t].render+=i.render[o]),i.exclusive[o]&&(n[t].exclusive+=i.exclusive[o]),i.inclusive[o]&&(n[t].inclusive+=i.inclusive[o]),i.counts[o]&&(n[t].count+=i.counts[o])}var s=[];for(t in n)n[t].exclusive>=c&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function o(e,t){for(var n,a={},i=0;i<e.length;i++){var r,o=e[i],u=l({},o.exclusive,o.inclusive);t&&(r=s(o));for(var d in u)if(!t||r[d]){var p=o.displayNames[d];n=p.owner+" > "+p.current,a[n]=a[n]||{componentName:n,time:0,count:0},o.inclusive[d]&&(a[n].time+=o.inclusive[d]),o.counts[d]&&(a[n].count+=o.counts[d])}}var f=[];for(n in a)a[n].time>=c&&f.push(a[n]);return f.sort(function(e,t){return t.time-e.time}),f}function s(e){var t={},n=Object.keys(e.writes),a=l({},e.exclusive,e.inclusive);for(var i in a){for(var r=!1,o=0;o<n.length;o++)if(0===n[o].indexOf(i)){r=!0;break}e.created[i]&&(r=!0),!r&&e.counts[i]>0&&(t[i]=!0)}return t}var l=e(23),c=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},d={getExclusiveSummary:r,getInclusiveSummary:o,getDOMSummary:i,getTotalTime:a};t.exports=d},{23:23}],52:[function(e,t,n){"use strict";var a=e(34),i=e(23),r=e(104),o="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,s={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,n,a,i,s,l){var c={$$typeof:o,type:e,key:t,ref:n,props:l,_owner:s};return c._store={},r?(Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i})):(c._store.validated=!1,c._self=a,c._source=i),Object.freeze(c.props),Object.freeze(c),c};l.createElement=function(e,t,n){var i,r={},o=null,c=null,u=null,d=null;if(null!=t){c=void 0===t.ref?null:t.ref,o=void 0===t.key?null:""+t.key,u=void 0===t.__self?null:t.__self,d=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!s.hasOwnProperty(i)&&(r[i]=t[i])}var p=arguments.length-2;if(1===p)r.children=n;else if(p>1){for(var f=Array(p),h=0;p>h;h++)f[h]=arguments[h+2];r.children=f}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)"undefined"==typeof r[i]&&(r[i]=m[i])}return l(e,o,c,u,d,a.current,r)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var n=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},l.cloneAndReplaceProps=function(e,t){var n=l(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n._store.validated=e._store.validated,n},l.cloneElement=function(e,t,n){var r,o=i({},e.props),c=e.key,u=e.ref,d=e._self,p=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,f=a.current),void 0!==t.key&&(c=""+t.key);for(r in t)t.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(o[r]=t[r])}var h=arguments.length-2;if(1===h)o.children=n;else if(h>1){for(var m=Array(h),g=0;h>g;g++)m[g]=arguments[g+2];o.children=m}return l(e.type,c,u,d,p,f,o)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.exports=l},{104:104,23:23,34:34}],53:[function(e,t,n){"use strict";function a(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=r("uniqueKey",e,t);null!==n&&g(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',n.parentOrOwner||"",n.childOwner||"",n.url||"")}}function r(e,t,n){var i=a();if(!i){var r="string"==typeof n?n:n.displayName||n.name;r&&(i=" Check the top-level render call using <"+r+">.")}var o=v[e]||(v[e]={});if(o[i])return null;o[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function o(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var a=e[n];c.isValidElement(a)&&i(a,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var r=h(e);if(r&&r!==e.entries)for(var o,s=r.call(e);!(o=s.next()).done;)c.isValidElement(o.value)&&i(o.value,t)}}function s(e,t,n,i){for(var r in t)if(t.hasOwnProperty(r)){var o;try{"function"!=typeof t[r]?m(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",d[i],r):void 0,o=t[r](n,r,e,i)}catch(s){o=s}if(g(!o||o instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",d[i],r,typeof o),o instanceof Error&&!(o.message in b)){b[o.message]=!0;var l=a();g(!1,"Failed propType: %s%s",o.message,l)}}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,u.prop),"function"==typeof t.getDefaultProps&&g(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var c=e(52),u=e(73),d=e(72),p=e(34),f=e(104),h=e(115),m=e(144),g=e(155),v={},b={},y={createElement:function(e,t,n){var i="string"==typeof e||"function"==typeof e;g(i,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",a());var r=c.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var s=2;s<arguments.length;s++)o(arguments[s],e);return l(r),r},createFactory:function(e){var t=y.createElement.bind(null,e);return t.type=e,f&&Object.defineProperty(t,"type",{enumerable:!1,get:function(){return g(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,n){for(var a=c.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)o(arguments[i],a.type);return l(a),a}};t.exports=y},{104:104,115:115,144:144,155:155,34:34,52:52,72:72,73:73}],54:[function(e,t,n){"use strict";var a,i=e(52),r=e(55),o=e(76),s=e(23),l={injectEmptyComponent:function(e){a=i.createElement(e)}},c=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(a)};s(c.prototype,{construct:function(e){},mountComponent:function(e,t,n){return r.registerNullComponentID(e),this._rootNodeID=e,o.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){o.unmountComponent(this._renderedComponent),r.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),c.injection=l,t.exports=c},{23:23,52:52,55:55,76:76}],55:[function(e,t,n){"use strict";function a(e){return!!o[e]}function i(e){o[e]=!0}function r(e){delete o[e]}var o={},s={isNullComponentID:a,registerNullComponentID:i,deregisterNullComponentID:r};t.exports=s},{}],56:[function(e,t,n){"use strict";function a(e,t,n,a){try{return t(n,a)}catch(r){return void(null===i&&(i=r))}}var i=null,r={invokeGuardedCallback:a,invokeGuardedCallbackWithCatch:a,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var o=document.createElement("react");r.invokeGuardedCallback=function(e,t,n,a){var i=t.bind(null,n,a),r="react-"+e;o.addEventListener(r,i,!1);var s=document.createEvent("Event");s.initEvent(r,!1,!1),o.dispatchEvent(s),o.removeEventListener(r,i,!1)}}t.exports=r},{}],57:[function(e,t,n){"use strict";function a(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=e(16),r={handleTopLevel:function(e,t,n,r,o){var s=i.extractEvents(e,t,n,r,o);a(s)}};t.exports=r},{16:16}],58:[function(e,t,n){"use strict";function a(e){var t=p.getID(e),n=d.getReactRootIDFromNodeID(t),a=p.findReactContainerForID(n),i=p.getFirstReactDOM(a);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){o(e)}function o(e){for(var t=p.getFirstReactDOM(m(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=a(n);for(var i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var r=p.getID(t)||"";v._handleTopLevel(e.topLevelType,t,r,e.nativeEvent,m(e.nativeEvent))}}function s(e){var t=g(window);e(t)}var l=e(129),c=e(130),u=e(24),d=e(61),p=e(65),f=e(83),h=e(23),m=e(114),g=e(141);h(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(i,u.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var a=n;return a?l.listen(a,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var a=n;return a?l.capture(a,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=i.getPooled(e,t);try{f.batchedUpdates(r,n)}finally{i.release(n)}}}};t.exports=v},{114:114,129:129,130:130,141:141,23:23,24:24,61:61,65:65,83:83}],59:[function(e,t,n){"use strict";var a=e(10),i=e(16),r=e(32),o=e(29),s=e(54),l=e(26),c=e(68),u=e(71),d=e(78),p=e(83),f={Component:r.injection,Class:o.injection,DOMProperty:a.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:u.injection,RootIndex:d.injection,Updates:p.injection};t.exports=f},{10:10,16:16,26:26,29:29,32:32,54:54,68:68,71:71,78:78,83:83}],60:[function(e,t,n){"use strict";function a(e){return r(document.documentElement,e)}var i=e(44),r=e(133),o=e(138),s=e(139),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&a(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),o(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,a=t.end;if("undefined"==typeof a&&(a=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(a,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",a-n),r.select()}else i.setOffsets(e,t)}};t.exports=l},{133:133,138:138,139:139,44:44}],61:[function(e,t,n){"use strict";function a(e){return f+e.toString(36)}function i(e,t){return e.charAt(t)===f||t===e.length}function r(e){return""===e||e.charAt(0)===f&&e.charAt(e.length-1)!==f}function o(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(f)):""}function l(e,t){if(r(e)&&r(t)?void 0:p(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),o(e,t)?void 0:p(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var n,a=e.length+h;for(n=a;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function c(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var a=0,o=0;n>=o;o++)if(i(e,o)&&i(t,o))a=o;else if(e.charAt(o)!==t.charAt(o))break;var s=e.substr(0,a);return r(s)?void 0:p(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,s),s}function u(e,t,n,a,i,r){e=e||"",t=t||"",e===t?p(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):void 0;var c=o(t,e);c||o(e,t)?void 0:p(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var u=0,d=c?s:l,f=e;;f=d(f,t)){var h;if(i&&f===e||r&&f===t||(h=n(f,c,a)),h===!1||f===t)break;u++<m?void 0:p(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,f)}}var d=e(78),p=e(144),f=".",h=f.length,m=1e4,g={createReactRootID:function(){return a(d.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===f&&e.length>1){var t=e.indexOf(f,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,a,i){var r=c(e,t);r!==e&&u(e,r,n,a,!1,!0),r!==t&&u(r,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(u("",e,t,n,!0,!1),u(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(u("",e,t,n,!0,!0),u(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){u("",e,t,n,!0,!1)},getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:o,SEPARATOR:f};t.exports=g},{144:144,78:78}],62:[function(e,t,n){"use strict";var a={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=a},{}],63:[function(e,t,n){"use strict";var a=e(28),i=e(30),r=e(29),o=e(38),s=e(52),l=e(53),c=e(74),u=e(84),d=e(23),p=e(121),f=s.createElement,h=s.createFactory,m=s.cloneElement;f=l.createElement,h=l.createFactory,m=l.cloneElement;var g={Children:{map:a.map,forEach:a.forEach,count:a.count,toArray:a.toArray,only:p},Component:i,createElement:f,cloneElement:m,isValidElement:s.isValidElement,PropTypes:c,createClass:r.createClass,createFactory:h,createMixin:function(e){return e},DOM:o,version:u,__spread:d};t.exports=g},{121:121,23:23,28:28,29:29,30:30,38:38,52:52,53:53,74:74,84:84}],64:[function(e,t,n){"use strict";var a=e(103),i=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=a(e);return e.replace(i," "+r.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=a(e);return i===n}};t.exports=r},{103:103}],65:[function(e,t,n){"use strict";function a(e,t){for(var n=Math.min(e.length,t.length),a=0;n>a;a++)if(e.charAt(a)!==t.charAt(a))return a;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===W?e.documentElement:e.firstChild:null}function r(e){var t=i(e);return t&&ee.getID(t)}function o(e){var t=s(e);if(t)if(V.hasOwnProperty(t)){var n=V[t];n!==e&&(d(n,t)?R(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",G,t):void 0,V[t]=e)}else V[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(G)||""}function l(e,t){var n=s(e);n!==t&&delete V[n],e.setAttribute(G,t),V[t]=e}function c(e){return V.hasOwnProperty(e)&&d(V[e],e)||(V[e]=ee.findReactNodeByID(e)),V[e]}function u(e){var t=x.get(e)._rootNodeID;return k.isNullComponentID(t)?null:(V.hasOwnProperty(t)&&d(V[t],t)||(V[t]=ee.findReactNodeByID(t)),V[t])}function d(e,t){if(e){s(e)!==t?R(!1,"ReactMount: Unexpected modification of `%s`",G):void 0;var n=ee.findReactContainerForID(t);if(n&&$(n,e))return!0}return!1}function p(e){delete V[e]}function f(e){var t=V[e];return t&&d(t,e)?void(X=t):!1}function h(e){X=null,A.traverseAncestors(e,f);var t=X;return X=null,t}function m(e,t,n,a,i,r){C.useCreateElement&&(r=M({},r),n.nodeType===W?r[K]=n:r[K]=n.ownerDocument),r===j&&(r={});var o=n.nodeName.toLowerCase();r[B.ancestorInfoContextKey]=B.updatedAncestorInfo(null,o,null);var s=N.mountComponent(e,t,a,r);e._renderedComponent._topLevelWrapper=e,ee._mountImageIntoNode(s,n,i,a)}function g(e,t,n,a,i){var r=P.ReactReconcileTransaction.getPooled(a);r.perform(m,null,e,t,n,r,a,i),P.ReactReconcileTransaction.release(r)}function v(e,t){for(N.unmountComponent(e),t.nodeType===W&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function b(e){var t=r(e);return t?t!==A.getReactRootIDFromNodeID(t):!1}function y(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,a=A.getReactRootIDFromNodeID(t),i=e;do if(n=s(i),i=i.parentNode,null==i)return null;while(n!==a);if(i===Y[a])return e}}return null}var w=e(10),S=e(26),_=e(34),C=e(39),T=e(52),k=e(55),A=e(61),x=e(62),I=e(64),E=e(71),N=e(76),O=e(82),P=e(83),M=e(23),j=e(137),$=e(133),D=e(118),R=e(144),U=e(124),L=e(126),B=e(128),F=e(155),G=w.ID_ATTRIBUTE_NAME,V={},H=1,W=9,q=11,K="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),z={},Y={},Q={},J=[],X=null,Z=function(){};Z.prototype.isReactComponent={},Z.displayName="TopLevelWrapper",Z.prototype.render=function(){return this.props};var ee={TopLevelWrapper:Z,_instancesByReactRootID:z,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,a){return ee.scrollMonitor(n,function(){O.enqueueElementInternal(e,t),a&&O.enqueueCallbackInternal(e,a)}),Q[r(n)]=i(n),e},_registerComponent:function(e,t){!t||t.nodeType!==H&&t.nodeType!==W&&t.nodeType!==q?R(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,S.ensureScrollValueMonitoring();var n=ee.registerContainer(t);return z[n]=e,n},_renderNewRootComponent:function(e,t,n,a){F(null==_.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",_.current&&_.current.getName()||"ReactCompositeComponent");var r=D(e,null),o=ee._registerComponent(r,t);return P.batchedUpdates(g,r,o,t,n,a),Q[o]=i(t),r},renderSubtreeIntoContainer:function(e,t,n,a){return null==e||null==e._reactInternalInstance?R(!1,"parentComponent must be a valid React Component"):void 0,ee._renderSubtreeIntoContainer(e,t,n,a)},_renderSubtreeIntoContainer:function(e,t,n,a){T.isValidElement(t)?void 0:R(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),F(!n||!n.tagName||"BODY"!==n.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var o=new T(Z,null,null,null,null,null,t),l=z[r(n)];if(l){var c=l._currentElement,u=c.props;if(L(u,t)){var d=l._renderedComponent.getPublicInstance(),p=a&&function(){a.call(d)};return ee._updateRootComponent(l,o,n,p),d}ee.unmountComponentAtNode(n)}var f=i(n),h=f&&!!s(f),m=b(n);if(F(!m,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!h||f.nextSibling)for(var g=f;g;){if(s(g)){F(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}g=g.nextSibling}var v=h&&!l&&!m,y=ee._renderNewRootComponent(o,n,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):j)._renderedComponent.getPublicInstance();return a&&a.call(y),y},render:function(e,t,n){return ee._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=r(e);return t&&(t=A.getReactRootIDFromNodeID(t)),t||(t=A.createReactRootID()),Y[t]=e,t},unmountComponentAtNode:function(e){F(null==_.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",_.current&&_.current.getName()||"ReactCompositeComponent"),!e||e.nodeType!==H&&e.nodeType!==W&&e.nodeType!==q?R(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var t=r(e),n=z[t];if(!n){var a=b(e),i=s(e),o=i&&i===A.getReactRootIDFromNodeID(i);return F(!a,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return P.batchedUpdates(v,n,e),delete z[t],delete Y[t],delete Q[t],!0},findReactContainerForID:function(e){var t=A.getReactRootIDFromNodeID(e),n=Y[t],a=Q[t];if(a&&a.parentNode!==n){F(s(a)===t,"ReactMount: Root element ID differed from reactRootID.");var i=n.firstChild;i&&t===s(i)?Q[t]=i:F(!1,"ReactMount: Root element has been removed from its original container. New container: %s",a.parentNode)}return n},findReactNodeByID:function(e){var t=ee.findReactContainerForID(e);return ee.findComponentRoot(t,e)},getFirstReactDOM:function(e){return y(e)},findComponentRoot:function(e,t){var n=J,a=0,i=h(t)||e;for(F(null!=i,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),n[0]=i.firstChild,n.length=1;a<n.length;){for(var r,o=n[a++];o;){var s=ee.getID(o);s?t===s?r=o:A.isAncestorIDOf(s,t)&&(n.length=a=0,n.push(o.firstChild)):n.push(o.firstChild),o=o.nextSibling}if(r)return n.length=0,r}n.length=0,R(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,ee.getID(e))},_mountImageIntoNode:function(e,t,n,r){if(!t||t.nodeType!==H&&t.nodeType!==W&&t.nodeType!==q?R(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,n){var o=i(t);if(I.canReuseMarkup(e,o))return;var s=o.getAttribute(I.CHECKSUM_ATTR_NAME);o.removeAttribute(I.CHECKSUM_ATTR_NAME);var l=o.outerHTML;o.setAttribute(I.CHECKSUM_ATTR_NAME,s);var c,u=e;t.nodeType===H?(c=document.createElement("div"),c.innerHTML=e,u=c.innerHTML):(c=document.createElement("iframe"),document.body.appendChild(c),c.contentDocument.write(e),u=c.contentDocument.documentElement.outerHTML,document.body.removeChild(c));var d=a(u,l),p=" (client) "+u.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===W?R(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",p):void 0,F(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",p);
}if(t.nodeType===W?R(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,r.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else U(t,e)},ownerDocumentContextKey:K,getReactRootID:r,getID:o,setID:l,getNode:c,getNodeFromInstance:u,isValid:d,purgeID:p};E.measureMethods(ee,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=ee},{10:10,118:118,124:124,126:126,128:128,133:133,137:137,144:144,155:155,23:23,26:26,34:34,39:39,52:52,55:55,61:61,62:62,64:64,71:71,76:76,82:82,83:83}],66:[function(e,t,n){"use strict";function a(e,t,n){v.push({parentID:e,parentNode:null,type:d.INSERT_MARKUP,markupIndex:b.push(t)-1,content:null,fromIndex:null,toIndex:n})}function i(e,t,n){v.push({parentID:e,parentNode:null,type:d.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function r(e,t){v.push({parentID:e,parentNode:null,type:d.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function o(e,t){v.push({parentID:e,parentNode:null,type:d.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:d.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){v.length&&(u.processChildrenUpdates(v,b),c())}function c(){v.length=0,b.length=0}var u=e(32),d=e(67),p=e(34),f=e(76),h=e(27),m=e(109),g=0,v=[],b=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){if(this._currentElement)try{return p.current=this._currentElement._owner,h.instantiateChildren(e,t,n)}finally{p.current=null}return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,a){var i;if(this._currentElement){try{p.current=this._currentElement._owner,i=m(t)}finally{p.current=null}return h.updateChildren(e,i,n,a)}return i=m(t),h.updateChildren(e,i,n,a)},mountChildren:function(e,t,n){var a=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=a;var i=[],r=0;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o],l=this._rootNodeID+o,c=f.mountComponent(s,l,t,n);s._mountIndex=r++,i.push(c)}return i},updateTextContent:function(e){g++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var a in n)n.hasOwnProperty(a)&&this._unmountChild(n[a]);this.setTextContent(e),t=!1}finally{g--,g||(t?c():l())}},updateMarkup:function(e){g++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var a in n)n.hasOwnProperty(a)&&this._unmountChildByName(n[a],a);this.setMarkup(e),t=!1}finally{g--,g||(t?c():l())}},updateChildren:function(e,t,n){g++;var a=!0;try{this._updateChildren(e,t,n),a=!1}finally{g--,g||(a?c():l())}},_updateChildren:function(e,t,n){var a=this._renderedChildren,i=this._reconcilerUpdateChildren(a,e,t,n);if(this._renderedChildren=i,i||a){var r,o=0,s=0;for(r in i)if(i.hasOwnProperty(r)){var l=a&&a[r],c=i[r];l===c?(this.moveChild(l,s,o),o=Math.max(l._mountIndex,o),l._mountIndex=s):(l&&(o=Math.max(l._mountIndex,o),this._unmountChild(l)),this._mountChildByNameAtIndex(c,r,s,t,n)),s++}for(r in a)!a.hasOwnProperty(r)||i&&i.hasOwnProperty(r)||this._unmountChild(a[r])}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){a(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){r(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,a,i){var r=this._rootNodeID+t,o=f.mountComponent(e,r,a,i);e._mountIndex=n,this.createChild(e,o)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=y},{109:109,27:27,32:32,34:34,67:67,76:76}],67:[function(e,t,n){"use strict";var a=e(147),i=a({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=i},{147:147}],68:[function(e,t,n){"use strict";function a(e){if("function"==typeof e.type)return e.type;var t=e.type,n=d[t];return null==n&&(d[t]=n=c(t)),n}function i(e){return u?void 0:l(!1,"There is no registered component for the tag %s",e.type),new u(e.type,e.props)}function r(e){return new p(e)}function o(e){return e instanceof p}var s=e(23),l=e(144),c=null,u=null,d={},p=null,f={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(d,e)}},h={getComponentClassForElement:a,createInternalComponent:i,createInstanceForText:r,isTextComponent:o,injection:f};t.exports=h},{144:144,23:23}],69:[function(e,t,n){"use strict";function a(e,t){i(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var i=e(155),r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){a(e,"forceUpdate")},enqueueReplaceState:function(e,t){a(e,"replaceState")},enqueueSetState:function(e,t){a(e,"setState")},enqueueSetProps:function(e,t){a(e,"setProps")},enqueueReplaceProps:function(e,t){a(e,"replaceProps")}};t.exports=r},{155:155}],70:[function(e,t,n){"use strict";var a=e(144),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:a(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:a(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=i},{144:144}],71:[function(e,t,n){"use strict";function a(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:a,measureMethods:function(e,t,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=i.measure(t,n[a],e[a]))},measure:function(e,t,n){var a=null,r=function(){return i.enableMeasure?(a||(a=i.storedMeasure(e,t,n)),a.apply(this,arguments)):n.apply(this,arguments)};return r.displayName=e+"_"+t,r},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],72:[function(e,t,n){"use strict";var a={};a={prop:"prop",context:"context",childContext:"child context"},t.exports=a},{}],73:[function(e,t,n){"use strict";var a=e(147),i=a({prop:null,context:null,childContext:null});t.exports=i},{147:147}],74:[function(e,t,n){"use strict";function a(e){function t(t,n,a,i,r,o){if(i=i||_,o=o||a,null==n[a]){var s=y[r];return t?new Error("Required "+s+" `"+o+"` was not specified in "+("`"+i+"`.")):null}return e(n,a,i,r,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,a,i,r){var o=t[n],s=m(o);if(s!==e){var l=y[i],c=g(o);return new Error("Invalid "+l+" `"+r+"` of type "+("`"+c+"` supplied to `"+a+"`, expected ")+("`"+e+"`."))}return null}return a(t)}function r(){return a(w.thatReturns(null))}function o(e){function t(t,n,a,i,r){var o=t[n];if(!Array.isArray(o)){var s=y[i],l=m(o);return new Error("Invalid "+s+" `"+r+"` of type "+("`"+l+"` supplied to `"+a+"`, expected an array."))}for(var c=0;c<o.length;c++){var u=e(o,c,a,i,r+"["+c+"]");if(u instanceof Error)return u}return null}return a(t)}function s(){function e(e,t,n,a,i){if(!b.isValidElement(e[t])){var r=y[a];return new Error("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return a(e)}function l(e){function t(t,n,a,i,r){if(!(t[n]instanceof e)){var o=y[i],s=e.name||_,l=v(t[n]);return new Error("Invalid "+o+" `"+r+"` of type "+("`"+l+"` supplied to `"+a+"`, expected ")+("instance of `"+s+"`."))}return null}return a(t)}function c(e){function t(t,n,a,i,r){for(var o=t[n],s=0;s<e.length;s++)if(o===e[s])return null;var l=y[i],c=JSON.stringify(e);return new Error("Invalid "+l+" `"+r+"` of value `"+o+"` "+("supplied to `"+a+"`, expected one of "+c+"."))}return a(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function u(e){function t(t,n,a,i,r){var o=t[n],s=m(o);if("object"!==s){var l=y[i];return new Error("Invalid "+l+" `"+r+"` of type "+("`"+s+"` supplied to `"+a+"`, expected an object."))}for(var c in o)if(o.hasOwnProperty(c)){var u=e(o,c,a,i,r+"."+c);if(u instanceof Error)return u}return null}return a(t)}function d(e){function t(t,n,a,i,r){for(var o=0;o<e.length;o++){var s=e[o];if(null==s(t,n,a,i,r))return null}var l=y[i];return new Error("Invalid "+l+" `"+r+"` supplied to "+("`"+a+"`."))}return a(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,n,a,i){if(!h(e[t])){var r=y[a];return new Error("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return a(e)}function f(e){function t(t,n,a,i,r){var o=t[n],s=m(o);if("object"!==s){var l=y[i];return new Error("Invalid "+l+" `"+r+"` of type `"+s+"` "+("supplied to `"+a+"`, expected `object`."))}for(var c in e){var u=e[c];if(u){var d=u(o,c,a,i,r+"."+c);if(d)return d}}return null}return a(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||b.isValidElement(e))return!0;var t=S(e);if(!t)return!1;var n,a=t.call(e);if(t!==e.entries){for(;!(n=a.next()).done;)if(!h(n.value))return!1}else for(;!(n=a.next()).done;){var i=n.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var b=e(52),y=e(72),w=e(136),S=e(115),_="<<anonymous>>",C={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:r(),arrayOf:o,element:s(),instanceOf:l,node:p(),objectOf:u,oneOf:c,oneOfType:d,shape:f};t.exports=C},{115:115,136:136,52:52,72:72}],75:[function(e,t,n){"use strict";function a(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var i=e(6),r=e(24),o=e(26),s=e(39),l=e(60),c=e(100),u=e(23),d={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[d,p,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};u(a.prototype,c.Mixin,m),r.addPoolingTo(a),t.exports=a},{100:100,23:23,24:24,26:26,39:39,6:6,60:60}],76:[function(e,t,n){"use strict";function a(){i.attachRefs(this,this._currentElement)}var i=e(77),r={mountComponent:function(e,t,n,i){var r=e.mountComponent(t,n,i);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(a,e),r},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,r){var o=e._currentElement;if(t!==o||r!==e._context){var s=i.shouldUpdateRefs(o,t);s&&i.detachRefs(e,o),e.receiveComponent(t,n,r),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(a,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=r},{77:77}],77:[function(e,t,n){"use strict";function a(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=e(70),o={};o.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&a(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,a=null===t||t===!1;return n||a||t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},t.exports=o},{70:70}],78:[function(e,t,n){"use strict";var a={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:a};t.exports=i},{}],79:[function(e,t,n){"use strict";var a={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=a},{}],80:[function(e,t,n){"use strict";function a(e){o.isValidElement(e)?void 0:h(!1,"renderToString(): You must pass a valid ReactElement.");var t;try{d.injection.injectBatchingStrategy(c);var n=s.createReactRootID();return t=u.getPooled(!1),t.perform(function(){var a=f(e,null),i=a.mountComponent(n,t,p);return l.addChecksumToMarkup(i)},null)}finally{u.release(t),d.injection.injectBatchingStrategy(r)}}function i(e){o.isValidElement(e)?void 0:h(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{d.injection.injectBatchingStrategy(c);var n=s.createReactRootID();return t=u.getPooled(!0),t.perform(function(){var a=f(e,null);return a.mountComponent(n,t,p)},null)}finally{u.release(t),d.injection.injectBatchingStrategy(r)}}var r=e(48),o=e(52),s=e(61),l=e(64),c=e(79),u=e(81),d=e(83),p=e(137),f=e(118),h=e(144);t.exports={renderToString:a,renderToStaticMarkup:i}},{118:118,137:137,144:144,48:48,52:52,61:61,64:64,79:79,81:81,83:83}],81:[function(e,t,n){"use strict";function a(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var i=e(24),r=e(6),o=e(100),s=e(23),l=e(136),c={initialize:function(){this.reactMountReady.reset()},close:l},u=[c],d={getTransactionWrappers:function(){return u},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};s(a.prototype,o.Mixin,d),i.addPoolingTo(a),t.exports=a},{100:100,136:136,23:23,24:24,6:6}],82:[function(e,t,n){"use strict";function a(e){l.enqueueUpdate(e)}function i(e,t){var n=s.get(e);return n?(d(null==r.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),n):(d(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var r=e(34),o=e(52),s=e(62),l=e(83),c=e(23),u=e(144),d=e(155),p={isMounted:function(e){var t=r.current;null!==t&&(d(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var n=s.get(e);return n?!!n._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?u(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var n=i(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void a(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?u(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,a(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(t),a(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");n&&p.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var i=n._pendingElement||n._currentElement,r=i.props,s=c({},r.props,t);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(r,s)),a(n)},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");n&&p.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var i=n._pendingElement||n._currentElement,r=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(r,t)),a(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,a(e)}};t.exports=p},{144:144,155:155,23:23,34:34,52:52,62:62,83:83}],83:[function(e,t,n){"use strict";function a(){A.ReactReconcileTransaction&&w?void 0:g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!1)}function r(e,t,n,i,r,o){a(),w.batchedUpdates(e,t,n,i,r,o)}function o(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,v.length):void 0,v.sort(o);for(var n=0;t>n;n++){var a=v[n],i=a._pendingCallbacks;if(a._pendingCallbacks=null,f.performUpdateIfNecessary(a,e.reconcileTransaction),i)for(var r=0;r<i.length;r++)e.callbackQueue.enqueue(i[r],a.getPublicInstance())}}function l(e){return a(),w.isBatchingUpdates?void v.push(e):void w.batchedUpdates(l,e)}function c(e,t){w.isBatchingUpdates?void 0:g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),b.enqueue(e,t),y=!0}var u=e(6),d=e(24),p=e(71),f=e(76),h=e(100),m=e(23),g=e(144),v=[],b=u.getPooled(),y=!1,w=null,S={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),T()):v.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[S,_];m(i.prototype,h.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var T=function(){for(;v.length||y;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(y){y=!1;var t=b;b=u.getPooled(),t.notifyAll(),u.release(t)}}};T=p.measure("ReactUpdates","flushBatchedUpdates",T);var k={injectReconcileTransaction:function(e){e?void 0:g(!1,"ReactUpdates: must provide a reconcile transaction class"),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,w=e}},A={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:T,injection:k,asap:c};t.exports=A},{100:100,144:144,23:23,24:24,6:6,71:71,76:76}],84:[function(e,t,n){"use strict";t.exports="0.14.3"},{}],85:[function(e,t,n){"use strict";var a=e(10),i=a.injection.MUST_USE_ATTRIBUTE,r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=o},{10:10}],86:[function(e,t,n){"use strict";function a(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(w||null==v||v!==u())return null;var n=a(v);if(!y||!f(y,n)){y=n;var i=c.getPooled(g.select,b,e,t);return i.type="select",i.target=v,o.accumulateTwoPhaseDispatches(i),i}return null}var r=e(15),o=e(19),s=e(130),l=e(60),c=e(92),u=e(139),d=e(120),p=e(148),f=e(153),h=r.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},v=null,b=null,y=null,w=!1,S=!1,_=p({onSelect:null}),C={eventTypes:g,extractEvents:function(e,t,n,a,r){if(!S)return null;switch(e){case h.topFocus:(d(t)||"true"===t.contentEditable)&&(v=t,b=n,y=null);break;case h.topBlur:v=null,b=null,y=null;break;case h.topMouseDown:w=!0;break;case h.topContextMenu:case h.topMouseUp:return w=!1,i(a,r);case h.topSelectionChange:if(m)break;case h.topKeyDown:case h.topKeyUp:return i(a,r)}return null},didPutListener:function(e,t,n){t===_&&(S=!0)}};t.exports=C},{120:120,130:130,139:139,148:148,15:15,153:153,19:19,60:60,92:92}],87:[function(e,t,n){"use strict";var a=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*a)}};t.exports=i},{}],88:[function(e,t,n){"use strict";var a=e(15),i=e(129),r=e(19),o=e(65),s=e(89),l=e(92),c=e(93),u=e(95),d=e(96),p=e(91),f=e(97),h=e(98),m=e(99),g=e(136),v=e(111),b=e(144),y=e(148),w=a.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:y({onAbort:!0}),captured:y({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:y({onCanPlay:!0}),captured:y({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:y({onCanPlayThrough:!0}),captured:y({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:y({onDurationChange:!0}),captured:y({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:y({onEmptied:!0}),captured:y({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:y({onEncrypted:!0}),captured:y({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:y({onEnded:!0}),captured:y({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:y({onLoadedData:!0}),captured:y({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:y({onLoadedMetadata:!0}),captured:y({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:y({onLoadStart:!0}),captured:y({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:y({onPause:!0}),captured:y({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:y({onPlay:!0}),captured:y({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:y({onPlaying:!0}),captured:y({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:y({onProgress:!0}),captured:y({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:y({onRateChange:!0}),captured:y({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:y({onSeeked:!0}),captured:y({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:y({onSeeking:!0}),captured:y({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:y({onStalled:!0}),captured:y({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:y({onSuspend:!0}),captured:y({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:y({onTimeUpdate:!0}),captured:y({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:y({onVolumeChange:!0}),captured:y({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:y({onWaiting:!0}),captured:y({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},_={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var C in _)_[C].dependencies=[C];var T=y({onClick:null}),k={},A={eventTypes:S,extractEvents:function(e,t,n,a,i){var o=_[e];if(!o)return null;var g;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:
g=l;break;case w.topKeyPress:if(0===v(a))return null;case w.topKeyDown:case w.topKeyUp:g=u;break;case w.topBlur:case w.topFocus:g=c;break;case w.topClick:if(2===a.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:g=d;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:g=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:g=f;break;case w.topScroll:g=h;break;case w.topWheel:g=m;break;case w.topCopy:case w.topCut:case w.topPaste:g=s}g?void 0:b(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var y=g.getPooled(o,n,a,i);return r.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,n){if(t===T){var a=o.getNode(e);k[e]||(k[e]=i.listen(a,"click",g))}},willDeleteListener:function(e,t){t===T&&(k[e].remove(),delete k[e])}};t.exports=A},{111:111,129:129,136:136,144:144,148:148,15:15,19:19,65:65,89:89,91:91,92:92,93:93,95:95,96:96,97:97,98:98,99:99}],89:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(92),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(a,r),t.exports=a},{92:92}],90:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(92),r={data:null};i.augmentClass(a,r),t.exports=a},{92:92}],91:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(96),r={dataTransfer:null};i.augmentClass(a,r),t.exports=a},{96:96}],92:[function(e,t,n){"use strict";function a(e,t,n,a){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=a,this.currentTarget=a;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s?this[r]=s(n):this[r]=n[r]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var i=e(24),r=e(23),o=e(136),s=e(155),l={type:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),a.Interface=l,a.augmentClass=function(e,t){var n=this,a=Object.create(n.prototype);r(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(a,i.fourArgumentPooler),t.exports=a},{136:136,155:155,23:23,24:24}],93:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(98),r={relatedTarget:null};i.augmentClass(a,r),t.exports=a},{98:98}],94:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(92),r={data:null};i.augmentClass(a,r),t.exports=a},{92:92}],95:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(98),r=e(111),o=e(112),s=e(113),l={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(a,l),t.exports=a},{111:111,112:112,113:113,98:98}],96:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(98),r=e(101),o=e(113),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};i.augmentClass(a,s),t.exports=a},{101:101,113:113,98:98}],97:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(98),r=e(113),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};i.augmentClass(a,o),t.exports=a},{113:113,98:98}],98:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(92),r=e(114),o={view:function(e){if(e.view)return e.view;var t=r(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(a,o),t.exports=a},{114:114,92:92}],99:[function(e,t,n){"use strict";function a(e,t,n,a){i.call(this,e,t,n,a)}var i=e(96),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(a,r),t.exports=a},{96:96}],100:[function(e,t,n){"use strict";var a=e(144),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,r,o,s,l){this.isInTransaction()?a(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,n,i,r,o,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var a=t[n];try{this.wrapperInitData[n]=r.OBSERVED_ERROR,this.wrapperInitData[n]=a.initialize?a.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:a(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,o=t[n],s=this.wrapperInitData[n];try{i=!0,s!==r.OBSERVED_ERROR&&o.close&&o.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},r={Mixin:i,OBSERVED_ERROR:{}};t.exports=r},{144:144}],101:[function(e,t,n){"use strict";var a={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){a.currentScrollLeft=e.x,a.currentScrollTop=e.y}};t.exports=a},{}],102:[function(e,t,n){"use strict";function a(e,t){if(null==t?i(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==e)return t;var n=Array.isArray(e),a=Array.isArray(t);return n&&a?(e.push.apply(e,t),e):n?(e.push(t),e):a?[e].concat(t):[e,t]}var i=e(144);t.exports=a},{144:144}],103:[function(e,t,n){"use strict";function a(e){for(var t=1,n=0,a=0,r=e.length,o=-4&r;o>a;){for(;a<Math.min(a+4096,o);a+=4)n+=(t+=e.charCodeAt(a))+(t+=e.charCodeAt(a+1))+(t+=e.charCodeAt(a+2))+(t+=e.charCodeAt(a+3));t%=i,n%=i}for(;r>a;a++)n+=t+=e.charCodeAt(a);return t%=i,n%=i,t|n<<16}var i=65521;t.exports=a},{}],104:[function(e,t,n){"use strict";var a=!1;try{Object.defineProperty({},"x",{get:function(){}}),a=!0}catch(i){}t.exports=a},{}],105:[function(e,t,n){"use strict";function a(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var a=isNaN(t);return a||0===t||r.hasOwnProperty(e)&&r[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(4),r=i.isUnitlessNumber;t.exports=a},{4:4}],106:[function(e,t,n){"use strict";function a(e,t,n,a,o){var s=!1,l=function(){return r(s,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,n),s=!0,o.apply(a,arguments)};return i(l,o)}var i=e(23),r=e(155);t.exports=a},{155:155,23:23}],107:[function(e,t,n){"use strict";function a(e){return r[e]}function i(e){return(""+e).replace(o,a)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=i},{}],108:[function(e,t,n){"use strict";function a(e){var t=i.current;return null!==t&&(l(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:r.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?s(!1,"findDOMNode was called on an unmounted component."):void 0,void s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}var i=e(34),r=e(62),o=e(65),s=e(144),l=e(155);t.exports=a},{144:144,155:155,34:34,62:62,65:65}],109:[function(e,t,n){"use strict";function a(e,t,n){var a=e,i=void 0===a[n];o(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),i&&null!=t&&(a[n]=t)}function i(e){if(null==e)return e;var t={};return r(e,a,t),t}var r=e(127),o=e(155);t.exports=i},{127:127,155:155}],110:[function(e,t,n){"use strict";var a=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=a},{}],111:[function(e,t,n){"use strict";function a(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=a},{}],112:[function(e,t,n){"use strict";function a(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=e(111),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=a},{111:111}],113:[function(e,t,n){"use strict";function a(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var a=r[e];return a?!!n[a]:!1}function i(e){return a}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],114:[function(e,t,n){"use strict";function a(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=a},{}],115:[function(e,t,n){"use strict";function a(e){var t=e&&(i&&e[i]||e[r]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=a},{}],116:[function(e,t,n){"use strict";function a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var n=a(e),r=0,o=0;n;){if(3===n.nodeType){if(o=r+n.textContent.length,t>=r&&o>=t)return{node:n,offset:t-r};r=o}n=a(i(n))}}t.exports=r},{}],117:[function(e,t,n){"use strict";function a(){return!r&&i.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var i=e(130),r=null;t.exports=a},{130:130}],118:[function(e,t,n){"use strict";function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e){var t;if(null===e||e===!1)t=new s(r);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?u(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==n.type?n.type:typeof n.type,a(n._owner)):void 0,t="string"==typeof n.type?l.createInternalComponent(n):i(n.type)?new n.type(n):new p}else"string"==typeof e||"number"==typeof e?t=l.createInstanceForText(e):u(!1,"Encountered invalid React node of type %s",typeof e);return d("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var o=e(33),s=e(54),l=e(68),c=e(23),u=e(144),d=e(155),p=function(){};c(p.prototype,o.Mixin,{_instantiateReactComponent:r}),t.exports=r},{144:144,155:155,23:23,33:33,54:54,68:68}],119:[function(e,t,n){"use strict";function a(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"==typeof o[n]}return!a&&i&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var i,r=e(130);r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=a},{130:130}],120:[function(e,t,n){"use strict";function a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&i[e.type]||"textarea"===t)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=a},{}],121:[function(e,t,n){"use strict";function a(e){return i.isValidElement(e)?void 0:r(!1,"onlyChild must be passed a children with exactly one child."),e}var i=e(52),r=e(144);t.exports=a},{144:144,52:52}],122:[function(e,t,n){"use strict";function a(e){return'"'+i(e)+'"'}var i=e(107);t.exports=a},{107:107}],123:[function(e,t,n){"use strict";var a=e(65);t.exports=a.renderSubtreeIntoContainer},{65:65}],124:[function(e,t,n){"use strict";var a=e(130),i=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),a.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(o=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=o},{130:130}],125:[function(e,t,n){"use strict";var a=e(130),i=e(107),r=e(124),o=function(e,t){e.textContent=t};a.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){r(e,i(t))})),t.exports=o},{107:107,124:124,130:130}],126:[function(e,t,n){"use strict";function a(e,t){var n=null===e||e===!1,a=null===t||t===!1;if(n||a)return n===a;var i=typeof e,r=typeof t;return"string"===i||"number"===i?"string"===r||"number"===r:"object"===r&&e.type===t.type&&e.key===t.key}t.exports=a},{}],127:[function(e,t,n){"use strict";function a(e){return v[e]}function i(e,t){return e&&null!=e.key?o(e.key):t.toString(36)}function r(e){return(""+e).replace(b,a)}function o(e){return"$"+r(e)}function s(e,t,n,a){var r=typeof e;if(("undefined"===r||"boolean"===r)&&(e=null),null===e||"string"===r||"number"===r||u.isValidElement(e))return n(a,e,""===t?m+i(e,0):t),1;var l,d,v=0,b=""===t?m:t+g;if(Array.isArray(e))for(var w=0;w<e.length;w++)l=e[w],d=b+i(l,w),v+=s(l,d,n,a);else{var S=p(e);if(S){var _,C=S.call(e);if(S!==e.entries)for(var T=0;!(_=C.next()).done;)l=_.value,d=b+i(l,T++),v+=s(l,d,n,a);else for(h(y,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),y=!0;!(_=C.next()).done;){var k=_.value;k&&(l=k[1],d=b+o(k[0])+g+i(l,0),v+=s(l,d,n,a))}}else if("object"===r){var A="";if(A=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(A=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),c.current){var x=c.current.getName();x&&(A+=" Check the render method of `"+x+"`.")}var I=String(e);f(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===I?"object with keys {"+Object.keys(e).join(", ")+"}":I,A)}}return v}function l(e,t,n){return null==e?0:s(e,"",t,n)}var c=e(34),u=e(52),d=e(61),p=e(115),f=e(144),h=e(155),m=d.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},b=/[=.:]/g,y=!1;t.exports=l},{115:115,144:144,155:155,34:34,52:52,61:61}],128:[function(e,t,n){"use strict";var a=e(23),i=e(136),r=e(155),o=i,s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],c=l.concat(["button"]),u=["dd","dt","li","option","optgroup","p","rp","rt"],d={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},p=function(e,t,n){var i=a({},e||d),r={tag:t,instance:n};return-1!==l.indexOf(t)&&(i.aTagInScope=null,i.buttonTagInScope=null,i.nobrTagInScope=null),-1!==c.indexOf(t)&&(i.pTagInButtonScope=null),-1!==s.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(i.listItemTagAutoclosing=null,i.dlItemTagAutoclosing=null),i.parentTag=r,"form"===t&&(i.formTag=r),"a"===t&&(i.aTagInScope=r),"button"===t&&(i.buttonTagInScope=r),"nobr"===t&&(i.nobrTagInScope=r),"p"===t&&(i.pTagInButtonScope=r),"li"===t&&(i.listItemTagAutoclosing=r),("dd"===t||"dt"===t)&&(i.dlItemTagAutoclosing=r),i},f=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===u.indexOf(t);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},h=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},m=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},g={};o=function(e,t,n){n=n||d;var a=n.parentTag,i=a&&a.tag,o=f(e,i)?null:a,s=o?null:h(e,n),l=o||s;if(l){var c,u=l.tag,p=l.instance,v=t&&t._currentElement._owner,b=p&&p._currentElement._owner,y=m(v),w=m(b),S=Math.min(y.length,w.length),_=-1;for(c=0;S>c&&y[c]===w[c];c++)_=c;var C="(unknown)",T=y.slice(_+1).map(function(e){return e.getName()||C}),k=w.slice(_+1).map(function(e){return e.getName()||C}),A=[].concat(-1!==_?y[_].getName()||C:[],k,u,s?["..."]:[],T,e).join(" > "),x=!!o+"|"+e+"|"+u+"|"+A;if(g[x])return;if(g[x]=!0,o){var I="";"table"===u&&"tr"===e&&(I+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),r(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,u,A,I)}else r(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,u,A)}},o.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),o.updatedAncestorInfo=p,o.isTagValidInContext=function(e,t){t=t||d;var n=t.parentTag,a=n&&n.tag;return f(e,a)&&!h(e,t)},t.exports=o},{136:136,155:155,23:23}],129:[function(e,t,n){"use strict";var a=e(136),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:a})},registerDefault:function(){}};t.exports=i},{136:136}],130:[function(e,t,n){"use strict";var a=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:a,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen,isInWorker:!a};t.exports=i},{}],131:[function(e,t,n){"use strict";function a(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=a},{}],132:[function(e,t,n){"use strict";function a(e){return i(e.replace(r,"ms-"))}var i=e(131),r=/^-ms-/;t.exports=a},{131:131}],133:[function(e,t,n){"use strict";function a(e,t){var n=!0;e:for(;n;){var a=e,r=t;if(n=!1,a&&r){if(a===r)return!0;if(i(a))return!1;if(i(r)){e=a,t=r.parentNode,n=!0;continue e}return a.contains?a.contains(r):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(r)):!1}return!1}}var i=e(146);t.exports=a},{146:146}],134:[function(e,t,n){"use strict";function a(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return a(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=e(154);t.exports=i},{154:154}],135:[function(e,t,n){"use strict";function a(e){var t=e.match(u);return t&&t[1].toLowerCase()}function i(e,t){var n=c;c?void 0:l(!1,"createNodesFromMarkup dummy not initialized");var i=a(e),r=i&&s(i);if(r){n.innerHTML=r[1]+e+r[2];for(var u=r[0];u--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(t?void 0:l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),o(d).forEach(t));for(var p=o(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var r=e(130),o=e(134),s=e(140),l=e(144),c=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;t.exports=i},{130:130,134:134,140:140,144:144}],136:[function(e,t,n){"use strict";function a(e){return function(){return e}}function i(){}i.thatReturns=a,i.thatReturnsFalse=a(!1),i.thatReturnsTrue=a(!0),i.thatReturnsNull=a(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],137:[function(e,t,n){"use strict";var a={};Object.freeze(a),t.exports=a},{}],138:[function(e,t,n){"use strict";function a(e){try{e.focus()}catch(t){}}t.exports=a},{}],139:[function(e,t,n){"use strict";function a(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=a},{}],140:[function(e,t,n){"use strict";function a(e){return o?void 0:r(!1,"Markup wrapping node not initialized"),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?p[e]:null}var i=e(130),r=e(144),o=i.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){p[e]=d,s[e]=!0}),t.exports=a},{130:130,144:144}],141:[function(e,t,n){"use strict";function a(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=a},{}],142:[function(e,t,n){"use strict";function a(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=a},{}],143:[function(e,t,n){"use strict";function a(e){return i(e).replace(r,"-ms-")}var i=e(142),r=/^ms-/;t.exports=a},{142:142}],144:[function(e,t,n){"use strict";var a=function(e,t,n,a,i,r,o,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,i,r,o,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=a},{}],145:[function(e,t,n){"use strict";function a(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=a},{}],146:[function(e,t,n){"use strict";function a(e){return i(e)&&3==e.nodeType}var i=e(145);t.exports=a},{145:145}],147:[function(e,t,n){"use strict";var a=e(144),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:a(!1,"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=i},{144:144}],148:[function(e,t,n){"use strict";var a=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=a},{}],149:[function(e,t,n){"use strict";function a(e,t,n){if(!e)return null;var a={};for(var r in e)i.call(e,r)&&(a[r]=t.call(n,e[r],r,e));return a}var i=Object.prototype.hasOwnProperty;t.exports=a},{}],150:[function(e,t,n){"use strict";function a(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=a},{}],151:[function(e,t,n){"use strict";var a,i=e(130);i.canUseDOM&&(a=window.performance||window.msPerformance||window.webkitPerformance),t.exports=a||{}},{130:130}],152:[function(e,t,n){"use strict";var a=e(151),i=a;i&&i.now||(i=Date);var r=i.now.bind(i);t.exports=r},{151:151}],153:[function(e,t,n){"use strict";function a(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=i.bind(t),o=0;o<n.length;o++)if(!r(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=a},{}],154:[function(e,t,n){"use strict";function a(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof t?i(!1,"toArray: Object needs a length property"):void 0,0===t||t-1 in e?void 0:i(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var a=Array(t),r=0;t>r;r++)a[r]=e[r];return a}var i=e(144);t.exports=a},{144:144}],155:[function(e,t,n){"use strict";var a=e(136),i=a;i=function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;n>i;i++)a[i-2]=arguments[i];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){var r=0,o="Warning: "+t.replace(/%s/g,function(){return a[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(s){}}},t.exports=i},{136:136}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("react"),require("react-dom"),require("angular")):"function"==typeof define&&define.amd?define(["react","react-dom","angular"],function(n,a,i){return e.ngReact=t(n,a,i)}):e.ngReact=t(e.React,e.ReactDOM,e.angular)}(this,function(e,t,n){"use strict";function a(e,t){if(n.isFunction(e))return e;if(!e)throw new Error("ReactComponent name attribute must be specified");var a;try{a=t.get(e)}catch(i){}if(!a)try{a=e.split(".").reduce(function(e,t){return e[t]},window)}catch(i){}if(!a)throw Error("Cannot find react component "+e);return a}function i(e,t){if(e.wrappedInApply)return e;var n=function(){var n=arguments,a=t.$root.$$phase;return"$apply"===a||"$digest"===a?e.apply(null,n):t.$apply(function(){return e.apply(null,n)})};return n.wrappedInApply=!0,n}function r(e,t){return Object.keys(e||{}).reduce(function(a,r){var o=e[r];return a[r]=n.isFunction(o)?i(o,t):o,a},{})}function o(e,t,a,i){"collection"===e&&n.isFunction(t.$watchCollection)?a.forEach(function(e){t.$watchCollection(e,i)}):"reference"===e?n.isFunction(t.$watchGroup)?t.$watchGroup(a,i):a.forEach(function(e){
t.$watch(e,i)}):a.forEach(function(e){t.$watch(e,i,!0)})}function s(n,a,i,r){i(function(){t.render(e.createElement(n,a),r[0])})}var l=function(e,n){return{restrict:"E",replace:!0,link:function(i,l,c){var u=a(c.name,n),d=function(){var t=i.$eval(c.props),n=r(t,i);s(u,n,e,l)};c.props?o(c.watchDepth,i,[c.props],d):d(),i.$on("$destroy",function(){t.unmountComponentAtNode(l[0])})}}},c=function(e,i){return function(l,c,u){var d={restrict:"E",replace:!0,link:function(n,u,d){var p=a(l,i);c=c||Object.keys(p.propTypes||{});var f=function(){var t={};c.forEach(function(e){t[e]=n.$eval(d[e])}),s(p,r(t,n),e,u)},h=c.map(function(e){return d[e]});o(d.watchDepth,n,h,f),f(),n.$on("$destroy",function(){t.unmountComponentAtNode(u[0])})}};return n.extend(d,u)}};return n.module("react",[]).directive("reactComponent",["$timeout","$injector",l]).factory("reactDirective",["$timeout","$injector",c])}),function(e,t){"use strict";var n="0.7.9",a="",i="?",r="function",o="undefined",s="object",l="string",c="major",u="model",d="name",p="type",f="vendor",h="version",m="architecture",g="console",v="mobile",b="tablet",y="smarttv",w="wearable",S="embedded",_={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.split(".")[0]:t}},C={rgx:function(){for(var e,n,a,i,l,c,u,d=0,p=arguments;d<p.length&&!c;){var f=p[d],h=p[d+1];if(typeof e===o){e={};for(i in h)l=h[i],typeof l===s?e[l[0]]=t:e[l]=t}for(n=a=0;n<f.length&&!c;)if(c=f[n++].exec(this.getUA()))for(i=0;i<h.length;i++)u=c[++a],l=h[i],typeof l===s&&l.length>0?2==l.length?typeof l[1]==r?e[l[0]]=l[1].call(this,u):e[l[0]]=l[1]:3==l.length?typeof l[1]!==r||l[1].exec&&l[1].test?e[l[0]]=u?u.replace(l[1],l[2]):t:e[l[0]]=u?l[1].call(this,u,l[2]):t:4==l.length&&(e[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):t):e[l]=u?u:t;d+=2}return e},str:function(e,n){for(var a in n)if(typeof n[a]===s&&n[a].length>0){for(var r=0;r<n[a].length;r++)if(_.has(n[a][r],e))return a===i?t:a}else if(_.has(n[a],e))return a===i?t:a;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,h],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],h],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[d,h],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],h],[/(edge)\/((\d+)?[\w\.]+)/i],[d,h],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],h],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[d,h],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],h],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],h],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[h,[d,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[h,[d,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[h,[d,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[h,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[h,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[h,C.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[d,h],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],h],[/fxios\/([\w\.-]+)/i],[h,[d,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,_.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",_.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,_.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,f,[p,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[f,"Apple"],[p,b]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[f,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,u,[p,b]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[u,[f,"Amazon"],[p,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[u,C.str,T.device.amazon.model],[f,"Amazon"],[p,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,f,[p,v]],[/\((ip[honed|\s\w*]+);/i],[u,[f,"Apple"],[p,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,u,[p,v]],[/\(bb10;\s(\w+)/i],[u,[f,"BlackBerry"],[p,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[u,[f,"Asus"],[p,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[f,"Sony"],[u,"Xperia Tablet"],[p,b]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[f,"Sony"],[u,"Xperia Phone"],[p,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[f,u,[p,g]],[/android.+;\s(shield)\sbuild/i],[u,[f,"Nvidia"],[p,g]],[/(playstation\s[3portablevi]+)/i],[u,[f,"Sony"],[p,g]],[/(sprint\s(\w+))/i],[[f,C.str,T.device.sprint.vendor],[u,C.str,T.device.sprint.model],[p,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[f,u,[p,b]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[u,/_/g," "],[p,v]],[/(nexus\s9)/i],[u,[f,"HTC"],[p,b]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[f,"Microsoft"],[p,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,"Microsoft"],[p,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[u,[f,"Motorola"],[p,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[f,"Motorola"],[p,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],u,[p,b]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],u,[p,v]],[/(samsung);smarttv/i],[f,u,[p,y]],[/\(dtv[\);].+(aquos)/i],[u,[f,"Sharp"],[p,y]],[/sie-(\w+)*/i],[u,[f,"Siemens"],[p,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],u,[p,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[f,"Acer"],[p,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],u,[p,b]],[/(lg) netcast\.tv/i],[f,u,[p,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[u,[f,"LG"],[p,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[f,"Lenovo"],[p,b]],[/linux;.+((jolla));/i],[f,u,[p,v]],[/((pebble))app\/[\d\.]+\s/i],[f,u,[p,w]],[/android.+;\s(glass)\s\d/i],[u,[f,"Google"],[p,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[u,/_/g," "],[f,"Xiaomi"],[p,v]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[p,_.lowerize],f,u]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[h,[d,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,h],[/rv\:([\w\.]+).*(gecko)/i],[h,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,h],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[h,C.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[h,C.str,T.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],h],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[d,h],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[d,"Symbian"],h],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],h],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[d,h],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],h],[/(sunos)\s?([\w\.]+\d)*/i],[[d,"Solaris"],h],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[d,h],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[d,"iOS"],[h,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[h,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[d,h]]},A=function(t,n){if(!(this instanceof A))return new A(t,n).getResult();var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:a),r=n?_.extend(k,n):k;return this.getBrowser=function(){var e=C.rgx.apply(this,r.browser);return e.major=_.major(e.version),e},this.getCPU=function(){return C.rgx.apply(this,r.cpu)},this.getDevice=function(){return C.rgx.apply(this,r.device)},this.getEngine=function(){return C.rgx.apply(this,r.engine)},this.getOS=function(){return C.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),this};A.VERSION=n,A.BROWSER={NAME:d,MAJOR:c,VERSION:h},A.CPU={ARCHITECTURE:m},A.DEVICE={MODEL:u,VENDOR:f,TYPE:p,CONSOLE:g,MOBILE:v,SMARTTV:y,TABLET:b,WEARABLE:w,EMBEDDED:S},A.ENGINE={NAME:d,VERSION:h},A.OS={NAME:d,VERSION:h},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=A),exports.UAParser=A):typeof define===r&&define.amd?define(function(){return A}):e.UAParser=A;var x=e.jQuery||e.Zepto;if(typeof x!==o){var I=new A;x.ua=I.getResult(),x.ua.get=function(){return I.getUA()},x.ua.set=function(e){I.setUA(e);var t=I.getResult();for(var n in t)x.ua[n]=t[n]}}}("object"==typeof window?window:this),angular.module("dcbImgFallback",[]).directive("fallbackSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";return{restrict:"A",link:function(t,n,a){var i=function(){n.off("error",i);var t=a.fallbackSrc||e;n[0].src!==t&&(n[0].src=t)};n.on("error",i)}}}).directive("loadingSrc",["$interpolate",function(e){var t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==",n=function(n,a,i){
if(a[0].src=i.loadingSrc||t,-1===a[0].src.indexOf("https")&&-1===a[0].src.indexOf("http"))throw new Error("Not a full url, beginning in either http or https");var r=new Image;r.src=e(i.imgSrc)(n),r.onload=function(){r.onload=null,a[0].src!==r.src&&(a[0].src=r.src)}};return{restrict:"A",compile:function(e,t){return t.imgSrc=t.ngSrc,delete t.ngSrc,n}}}]),function(){"use strict";var e=this,t=e.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),i=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=i;var n=this.width=e.canvas.width,i=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,a.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var a=n.helpers={},i=a.each=function(e,t,n){var a=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(a))}else for(var r in e)t.apply(n,[e[r],r].concat(a))},r=a.clone=function(e){var t={};return i(e,function(n,a){e.hasOwnProperty(a)&&(t[a]=n)}),t},o=a.extend=function(e){return i(Array.prototype.slice.call(arguments,1),function(t){i(t,function(n,a){t.hasOwnProperty(a)&&(e[a]=n)})}),e},s=a.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),o.apply(null,e)},l=a.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(a.where=function(e,t){var n=[];return a.each(e,function(e){t(e)&&n.push(e)}),n},a.findNextWhere=function(e,t,n){n||(n=-1);for(var a=n+1;a<e.length;a++){var i=e[a];if(t(i))return i}},a.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var a=n-1;a>=0;a--){var i=e[a];if(t(i))return i}},a.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=n};return a.prototype=t.prototype,n.prototype=new a,n.extend=c,e&&o(n.prototype,e),n.__super__=t.prototype,n}),u=a.noop=function(){},d=a.uid=function(){var e=0;return function(){return"chart-"+e++}}(),p=a.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},f=a.amd="function"==typeof define&&define.amd,h=a.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=a.max=function(e){return Math.max.apply(Math,e)},g=a.min=function(e){return Math.min.apply(Math,e)},v=(a.cap=function(e,t,n){if(h(t)){if(e>t)return t}else if(h(n)&&n>e)return n;return e},a.getDecimalPlaces=function(e){return e%1!==0&&h(e)?e.toString().split(".")[1].length:0}),b=a.radians=function(e){return e*(Math.PI/180)},y=(a.getAngleFromPoint=function(e,t){var n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a),r=2*Math.PI+Math.atan2(a,n);return 0>n&&0>a&&(r+=2*Math.PI),{angle:r,distance:i}},a.aliasPixel=function(e){return e%2===0?0:.5}),w=(a.splineCurve=function(e,t,n,a){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=a*i/(i+r),s=a*r/(i+r);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},a.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),S=(a.calculateScaleRange=function(e,t,n,a,i){var r=2,o=Math.floor(t/(1.5*n)),s=r>=o,l=m(e),c=g(e);l===c&&(l+=.5,c>=.5&&!a?c-=.5:l+=.5);for(var u=Math.abs(l-c),d=w(u),p=Math.ceil(l/(1*Math.pow(10,d)))*Math.pow(10,d),f=a?0:Math.floor(c/(1*Math.pow(10,d)))*Math.pow(10,d),h=p-f,v=Math.pow(10,d),b=Math.round(h/v);(b>o||o>2*b)&&!s;)if(b>o)v*=2,b=Math.round(h/v),b%1!==0&&(s=!0);else if(i&&d>=0){if(v/2%1!==0)break;v/=2,b=Math.round(h/v)}else v/=2,b=Math.round(h/v);return s&&(b=r,v=h/b),{steps:b,stepValue:v,min:f,max:f+b*v}},a.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join(" ").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split(" ").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[e]=a[e];return t?n(t):n}if(e instanceof Function)return e(t);var a={};return n(e,t)}),_=(a.generateLabels=function(e,t,n,a){var r=new Array(t);return labelTemplateString&&i(r,function(t,i){r[i]=S(e,{value:n+a*(i+1)})}),r},a.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,a=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),a<Math.abs(1)?(a=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/a),1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):a*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-_.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*_.easeInBounce(2*e):.5*_.easeOutBounce(2*e-1)+.5}}),C=a.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),T=a.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),k=(a.animationLoop=function(e,t,n,a,i,r){var o=0,s=_[n]||_.linear,l=function(){o++;var n=o/t,c=s(n);e.call(r,c,n,o),a.call(r,c,n),t>o?r.animationFrame=C(l):i.apply(r)};C(l)},a.getRelativePosition=function(e){var t,n,a=e.originalEvent||e,i=e.currentTarget||e.srcElement,r=i.getBoundingClientRect();return a.touches?(t=a.touches[0].clientX-r.left,n=a.touches[0].clientY-r.top):(t=a.clientX-r.left,n=a.clientY-r.top),{x:t,y:n}},a.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),A=a.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=u},x=(a.bindEvents=function(e,t,n){e.events||(e.events={}),i(t,function(t){e.events[t]=function(){n.apply(e,arguments)},k(e.chart.canvas,t,e.events[t])})},a.unbindEvents=function(e,t){i(t,function(t,n){A(e.chart.canvas,n,t)})}),I=a.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},E=a.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},N=(a.getMaximumSize=a.getMaximumWidth,a.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,a=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=a+"px",t.canvas.height=a*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),O=a.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=a.fontString=function(e,t,n){return t+" "+e+"px "+n},M=a.longestText=function(e,t,n){e.font=t;var a=0;return i(n,function(t){var n=e.measureText(t).width;a=n>a?n:a}),a},j=a.drawRoundedRectangle=function(e,t,n,a,i,r){e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+a-r,n),e.quadraticCurveTo(t+a,n,t+a,n+r),e.lineTo(t+a,n+i-r),e.quadraticCurveTo(t+a,n+i,t+a-r,n+i),e.lineTo(t+r,n+i),e.quadraticCurveTo(t,n+i,t,n+i-r),e.lineTo(t,n+r),e.quadraticCurveTo(t,n,t+r,n),e.closePath()};n.instances={},n.Type=function(e,t,a){this.options=t,this.chart=a,this.id=d(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},o(n.Type.prototype,{initialize:function(){return this},clear:function(){return O(this.chart),this},stop:function(){return T(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=I(this.chart.canvas),a=this.options.maintainAspectRatio?n/this.chart.aspectRatio:E(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=a,N(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?a.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return S(this.options.legendTemplate,this)},destroy:function(){this.clear(),x(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var r=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(i(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(r||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,s,c=this.datasets.length-1;c>=0&&(o=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,s=l(o,e[0]),-1===s);c--);var u=[],d=[],p=function(){var e,t,n,i,r,o=[],l=[],c=[];return a.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&o.push(e[s])}),a.each(o,function(e){l.push(e.x),c.push(e.y),u.push(a.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),r=g(c),n=m(c),i=g(l),t=m(l),{x:i>this.chart.width/2?i:t,y:(r+n)/2}}.call(this,s);new n.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else i(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:S(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,a=function(){return t.apply(this,arguments)};if(a.prototype=r(t.prototype),o(a.prototype,e),a.extend=n.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,l=n.defaults[t.prototype.name]?r(n.defaults[t.prototype.name]):{};n.defaults[i]=o(l,e.defaults),n.types[i]=a,n.prototype[i]=function(e,t){var r=s(n.defaults.global,n.defaults[i],t||{});return new a(e,r,this)}}else p("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){o(this,e),this.initialize.apply(this,arguments),this.save()},o(n.Element.prototype,{initialize:function(){},restore:function(e){return e?i(e,function(e){this[e]=this._saved[e]},this):o(this,this._saved),this},save:function(){return this._saved=r(this),delete this._saved._saved,this},update:function(e){return i(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return i(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return h(this.value)}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=a.getAngleFromPoint(this,{x:e,y:t}),i=n.angle>=this.startAngle&&n.angle<=this.endAngle,r=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return i&&r},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,a=this.x+t,i=this.base-(this.base-this.y),r=this.strokeWidth/2;this.showStroke&&(n+=r,a-=r,i+=r),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(a,i),e.lineTo(a,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,a=this.fontSize+2*this.yPadding,i=a+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var r=this.x-n/2,o=this.y-i;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":r=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":r=this.x-(this.cornerRadius+this.caretHeight)}j(e,r,o,n,a,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,r+n/2,o+a/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=M(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var a=this.height/2;this.y-a<0?this.y=a:this.y+a>this.chart.height&&(this.y=this.chart.height-a),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{j(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,a.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(S(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?M(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,a=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=a/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,r=M(this.ctx,this.font,this.xLabels);this.xLabelWidth=r;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(b(this.xLabelRotation)),e=i*n,t=i*a,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*r;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*r+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),a=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(a+=n/2),Math.round(a)},update:function(e){a.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,i(this.yLabels,function(i,r){var o=this.endPoint-t*r,s=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(i,n-10,o),0!==r||l||(l=!0),l&&e.beginPath(),r>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=a.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),i(this.xLabels,function(t,n){var a=this.calculateX(n)+y(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+y(this.lineWidth),r=this.xLabelRotation>0,o=this.showVerticalLines;0!==n||o||(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(a,r?this.endPoint+12:this.endPoint+8),e.rotate(-1*b(this.xLabelRotation)),e.font=this.font,e.textAlign=r?"right":"center",e.textBaseline=r?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(S(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,a,i,r,o,s,l,c,u,d,p=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,m=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),n=this.ctx.measureText(S(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(a=n/2,e.x+a>f&&(f=e.x+a,i=t),e.x-a<m&&(m=e.x-a,o=t)):t<this.valuesCount/2?e.x+n>f&&(f=e.x+n,i=t):t>this.valuesCount/2&&e.x-n<m&&(m=e.x-n,o=t);l=m,c=Math.ceil(f-this.width),r=this.getIndexAngle(i),s=this.getIndexAngle(o),u=c/Math.sin(r+Math.PI/2),d=l/Math.sin(s+Math.PI/2),u=h(u)?u:0,d=h(d)?d:0,this.drawingArea=p-(d+u)/2,this.setCenterPoint(d,u)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,a=e+this.drawingArea;this.xCenter=(a+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(i(this.yLabels,function(t,n){if(n>0){var a,i=n*(this.drawingArea/this.steps),r=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)a=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),0===o?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,r-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,r)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var a=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var r=this.labels.length,o=this.labels.length/2,s=o/2,l=s>t||t>r-s,c=t===s||t===r-s;e.textAlign=0===t?"center":t===o?"center":o>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],a.x,a.y)}}}}}),a.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){i(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,a={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:a,initialize:function(e){var a=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),r=this.calculateX(n)-i/2,o=this.calculateBarWidth(e);return r+o*t+t*a.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*a.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*a.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(a),n.each(t.data,function(n,i){a.bars.push(new this.BarClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,a){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,a,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,a){n.each(t.bars,e,this,a)},this)},getBarsAtEvent:function(e){for(var t,a=[],i=n.getRelativePosition(e),r=function(e){a.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(i.x,i.y))return n.each(this.datasets,r),a;return a},buildScale:function(e){var t=this,a=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(a(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},
addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),n.each(this.datasets,function(e,a){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,a,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,a={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:a,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],a=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,n){var a=t||this.segments.length;this.segments.splice(a,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(a,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,a={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:a,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),n.each(t.data,function(n,i){a.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],a=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(a.x,a.y)&&t.push(e)})},this),t},buildScale:function(e){var a=this,i=function(){var e=[];return a.eachPoints(function(t){e.push(t.value)}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(r,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(r)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var a=this.chart.ctx,i=function(e){return null!==e.value},r=function(e,t,a){return n.findNextWhere(t,i,a)||e},o=function(e,t,a){return n.findPreviousWhere(t,i,a)||e};this.scale.draw(t),n.each(this.datasets,function(e){var s=n.where(e.points,i);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(s,function(e,t){var a=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,s,t),e,r(e,s,t),a),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),n.each(s,function(e,t){if(0===t)a.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,s,t);a.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else a.lineTo(e.x,e.y)},this),a.stroke(),this.options.datasetFill&&s.length>0&&(a.lineTo(s[s.length-1].x,this.scale.endPoint),a.lineTo(s[0].x,this.scale.endPoint),a.fillStyle=e.fillColor,a.closePath(),a.fill()),n.each(s,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,a={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:a,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],a=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,n){var a=t||this.segments.length;this.segments.splice(a,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,a,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),n.each(t.data,function(n,i){var r;this.scale.animation||(r=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),a.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:r.x,y:this.options.animation?this.scale.yCenter:r.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),a=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,r=Math.round((a.angle-1.5*Math.PI)/i),o=[];return(r>=this.scale.valuesCount||0>r)&&(r=0),a.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[r])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,a)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var a=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:a.x,y:a.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,a=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),n.each(e.points,function(e,t){0===t?a.moveTo(e.x,e.y):a.lineTo(e.x,e.y)},this),a.closePath(),a.stroke(),a.fillStyle=e.fillColor,a.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){"use strict";"object"==typeof exports?module.exports=e(require("angular"),require("Chart.js")):"function"==typeof define&&define.amd?define(["angular","chart"],e):e(angular,Chart)}(function(e,t){"use strict";function n(){var n={},a={Chart:t,getOptions:function(t){var a=t&&n[t]||{};return e.extend({},n,a)}};this.setOptions=function(t,a){return a?void(n[t]=e.extend(n[t]||{},a)):(a=t,void(n=e.extend(n,a)))},this.$get=function(){return a}}function a(n,a){function r(e,t){return e&&t&&e.length&&t.length?Array.isArray(e[0])?e.length===t.length&&e.every(function(e,n){return e.length===t[n].length}):t.reduce(o,0)>0?e.length===t.length:!1:!1}function o(e,t){return e+t}function s(t,n,a,i){var r=null;return function(o){var s=n.getPointsAtEvent||n.getBarsAtEvent||n.getSegmentsAtEvent;if(s){var l=s.call(n,o);(i===!1||e.equals(r,l)===!1)&&(r=l,t[a](l,o),t.$apply())}}}function l(a,i){for(var r=e.copy(i.colours||n.getOptions(a).colours||t.defaults.global.colours);r.length<i.data.length;)r.push(i.getColour());return r.map(c)}function c(e){return"object"==typeof e&&null!==e?e:"string"==typeof e&&"#"===e[0]?d(h(e.substr(1))):u()}function u(){var e=[p(0,255),p(0,255),p(0,255)];return d(e)}function d(e){return{fillColor:f(e,.2),strokeColor:f(e,1),pointColor:f(e,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:f(e,.8)}}function p(e,t){return Math.floor(Math.random()*(t-e+1))+e}function f(e,t){return i?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function h(e){var t=parseInt(e,16),n=t>>16&255,a=t>>8&255,i=255&t;return[n,a,i]}function m(t,n,a,i){return{labels:t,datasets:n.map(function(t,n){return e.extend({},i[n],{label:a[n],data:t})})}}function g(t,n,a){return t.map(function(t,i){return e.extend({},a[i],{label:t,value:n[i],color:a[i].strokeColor,highlight:a[i].pointHighlightStroke})})}function v(e,t){var n=e.parent(),a=n.find("chart-legend"),i="<chart-legend>"+t.generateLegend()+"</chart-legend>";a.length?a.replaceWith(i):n.append(i)}function b(e,t,n,a){Array.isArray(n.data[0])?e.datasets.forEach(function(e,n){(e.points||e.bars).forEach(function(e,a){e.value=t[n][a]})}):e.segments.forEach(function(e,n){e.value=t[n]}),e.update(),n.$emit("update",e),n.legend&&"false"!==n.legend&&v(a,e)}function y(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function w(a,i){var r=e.extend({},t.defaults.global,n.getOptions(a),i.options);return r.responsive}return function(t){return{restrict:"CA",scope:{data:"=?",labels:"=?",options:"=?",series:"=?",colours:"=?",getColour:"=?",chartType:"=",legend:"@",click:"=?",hover:"=?",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColours:"=?",chartLegend:"@",chartClick:"=?",chartHover:"=?"},link:function(o,c){function d(e,t){o.$watch(e,function(e){"undefined"!=typeof e&&(o[t]=e)})}function p(n,a){if(!y(n)&&!e.equals(n,a)){var i=t||o.chartType;i&&(S&&S.destroy(),f(i))}}function f(t){if(w(t,o)&&0===c[0].clientHeight&&0===_.clientHeight)return a(function(){f(t)},50,!1);if(o.data&&o.data.length){o.getColour="function"==typeof o.getColour?o.getColour:u,o.colours=l(t,o);var i=c[0],r=i.getContext("2d"),d=Array.isArray(o.data[0])?m(o.labels,o.data,o.series||[],o.colours):g(o.labels,o.data,o.colours),p=e.extend({},n.getOptions(t),o.options);S=new n.Chart(r)[t](d,p),o.$emit("create",S),i.onclick=o.click?s(o,S,"click",!1):e.noop,i.onmousemove=o.hover?s(o,S,"hover",!0):e.noop,o.legend&&"false"!==o.legend&&v(c,S)}}function h(e){if("undefined"!=typeof console&&"test"!==n.getOptions().env){var t="function"==typeof console.warn?console.warn:console.log;o[e]&&t.call(console,'"%s" is deprecated and will be removed in a future version. Please use "chart-%s" instead.',e,e)}}var S,_=document.createElement("div");_.className="chart-container",c.replaceWith(_),_.appendChild(c[0]),i&&window.G_vmlCanvasManager.initElement(c[0]),["data","labels","options","series","colours","legend","click","hover"].forEach(h),d("chartData","data"),d("chartLabels","labels"),d("chartOptions","options"),d("chartSeries","series"),d("chartColours","colours"),d("chartLegend","legend"),d("chartClick","click"),d("chartHover","hover"),o.$watch("data",function(e,n){if(e&&e.length&&(!Array.isArray(e[0])||e[0].length)){var a=t||o.chartType;if(a){if(S){if(r(e,n))return b(S,e,o,c);S.destroy()}f(a)}}},!0),o.$watch("series",p,!0),o.$watch("labels",p,!0),o.$watch("options",p,!0),o.$watch("colours",p,!0),o.$watch("chartType",function(t,n){y(t)||e.equals(t,n)||(S&&S.destroy(),f(t))}),o.$on("$destroy",function(){S&&S.destroy()})}}}}t.defaults.global.responsive=!0,t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.colours=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var i="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return i&&(t.defaults.global.animation=!1),e.module("chart.js",[]).provider("ChartJs",n).factory("ChartJsFactory",["ChartJs","$timeout",a]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("Line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("Bar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("Radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("Doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("Pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("PolarArea")}])}),function(){angular.module("younow.core.services",["younow.core.services.channel"]),angular.module("younow.core.directives",[]),angular.module("younow.core",["younow.core.services","younow.core.directives"])}(),function(){angular.module("younow.core.directives").directive("ynModalDraggable",["$timeout","$document","$window",function(e,t,n){return{restrict:"A",compile:function(n,a,i,r){return{post:function(){e(function(){function r(t){angular.element(document.getElementById("modalWindow"))[0].style.setProperty("top","0","important"),i=t.clientY-e[0].clientHeight,n=t.clientX-e[0].clientWidth/2,e.css({top:i+"px",left:n+"px"})}function o(){e.css({cursor:"default"}),t.unbind("mousemove",r),t.unbind("mouseup",o)}if("profile-summary-wrapper"!==a.$$element.parent().attr("window-class"))return!1;var n,i,e=a.$$element;e.css({position:"fixed",left:"40%"}),e.on("mousedown",function(n){var a=!1;if(-1===n.originalEvent.target.className.indexOf("yn-modal-draggable")&&(a=!0),("TEXTAREA"===n.originalEvent.target.tagName||"INPUT"===n.target.tagName||"BUTTON"===n.target.tagName)&&(a=!0),!a){if(e.css({cursor:"move"}),3===n.originalEvent.which)return!1;n.preventDefault(),t.on("mousemove",r),t.on("mouseup",o)}})},0)}}}}}]).directive("windowClass",["$timeout",function(e){return{restrict:"A",compile:function(t,n,a,i){return{post:function(){e(function(){angular.element(n.$$element[0]).removeClass(n.windowClass),angular.element(n.$$element[0]).children().addClass(n.windowClass)},0)}}}}}])}(),function(){angular.module("younow.core.directives").directive("scrolledClass",function(e){return{restrict:"A",scope:{scrolledClass:"@"},link:function(t,n,a){angular.element(e).on("scroll",function(){this.pageYOffset>(t.scrolledClass||0)?n.addClass("scrolled"):n.removeClass("scrolled")}),t.$on("$destroy",function(){angular.element(e).off("scroll")})}}}).directive("scrolledInView",function(e,t){return{restrict:"A",scope:{leftView:"&",enteredView:"&"},link:function(n,a,i){function s(e){var t=e.getBoundingClientRect();return t.top<=r&&t.bottom>=r}var o,r=window.innerHeight/2;t(function(){o=s(a[0])?"enteredView":"leftView","enteredView"===o&&n.enteredView(),e.addEventListener("scroll",function(){s(a[0])&&"leftView"===o?(o="enteredView",n.enteredView()):s(a[0])||"enteredView"!==o||(o="leftView",n.leftView())}),n.$on("$destroy",function(){e.removeEventListener("scroll")})})}}}).directive("onlyScroll",function(){return{restrict:"A",link:function(e,t,n){var a=t[0].attributes["horizontal-scroll"];t.on("mousewheel",function(e){e.preventDefault(),void 0===a?t.scrollTop(t.scrollTop()-e.originalEvent.wheelDelta):t.scrollLeft(t.scrollLeft()-e.originalEvent.wheelDelta)})}}}).directive("getScrollDirection",function(){return{link:function(e,t,n){function a(e){var t=e.wheelDeltaY<0?"down":"up";n.$set("direction",t)}t.bind("mousewheel",a),t.on("$destroy",function(){t.unbind("mousewheel",a)})}}}).directive("infiniteScroll",["$window","$document",function(e,t){return{scope:{infiniteScroll:"&",canLoad:"&"},link:function(n,a,i){var r=parseInt(i.threshold)||0,o=a[0],s=function(){return o.scrollTop+o.offsetHeight>=o.scrollHeight-r},l=function(){if(!n.loading&&n.canLoad()&&s()){n.loading=!0;var e=n.infiniteScroll();e&&e.then?e.then(function(){n.loading=!1}):n.loading=!1}};i.pagescroll&&(a.on("$destroy",function(){t.unbind("scroll",l)}),a=t,s=function(){return t.scrollTop()+e.innerHeight>=t[0].body.offsetHeight-r}),void 0===n.canLoad()&&(n.canLoad=function(){return!0}),a.bind("scroll",l)}}}])}(),function(){window.clearSelection=function(){var e;if((e=document.selection)&&e.empty)e.empty();else{window.getSelection&&window.getSelection().removeAllRanges();var t=document.activeElement;if(t){var n=t.nodeName.toLowerCase();("textarea"==n||"input"==n&&"text"==t.type)&&(t.selectionStart=t.selectionEnd)}}},angular.module("younow.core.directives").directive("ynEnter",function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ynEnter)}),t.preventDefault())})}}}).directive("preventDefault",function(){return{restrict:"A",link:function(e,t,n){(n.ngClick||""===n.href||"#"===n.href)&&t.on("click dblclick",function(e){e.preventDefault()})}}}).directive("copyOnClick",function(e){return{restrict:"A",link:function(t,n,a){n.on("click",function(){this.select(),window.document.execCommand("copy")&&(window.copyHref=angular.element(this),window.copyHref.trigger("hrefCopied"),e(function(){window.copyHref.trigger("hrefCopied"),window.clearSelection()},1e3))})}}}).directive("ynOnChange",function(){return{restrict:"A",link:function(e,t,n){var a=e.$eval(n.ynOnChange);t.bind("change",function(t){for(var i=n.params.split(","),r=0;r<i.length;r++)"event"!==i[r]&&"$event"!==i[r]?void 0!==e[i[r]]?i[r]=e[i[r]]:i.splice(r,1):i[r]=t;a.apply(this,i)})}}}).directive("cameraValid",function(e){return{restrict:"A",scope:{onValid:"&",onInvalid:"&"},link:function(t,n,a){var r,i=20;if("VIDEO"!=n[0].tagName)throw new Error("This element must be a tag! "+(n.id||""));n[0].onplay=function(){void 0!==r&&(e.cancel(r),i=20),r=e(function(){i>0?--i:e.cancel(r),(n[0].readyState>0||!i)&&(n[0].duration===1/0&&void 0!==t.onValid&&t.onValid(),n[0].duration!==1/0&&void 0!==t.onInvalid&&t.onInvalid(),e.cancel(r))},200)},t.$on("$destroy",function(){void 0!==r&&e.cancel(r)})}}}).directive("passFocusTo",function(e,t){return{link:function(n,a,i){a.on("click",function(n){return t.getSelection().toString().length>0?!1:void e(function(){for(var e=a.parent();e[0].id!=i.focusParent;)e=e.parent();e.find("#"+i.passFocusTo)[0].focus()})})}}}).directive("bindHtmlCompile",["$compile",function(e){return{restrict:"A",replace:!0,link:function(t,n,a){t.$watch(a.bindHtmlCompile,function(a){a&&a.$$unwrapTrustedValue&&(a=a.$$unwrapTrustedValue()),/<[^>]+>/gm.test(a)?(n.html(a),e(n.contents())(t)):n.html(a)})}}}])}(),function(){angular.module("younow.core.directives").directive("videojsPlayer",function(e,t){return{restrict:"E",replace:!0,scope:{options:"="},template:'<span><video class="video-js vjs-default-skin"><source></video></span>',link:function(n,a,i){function h(e){n.options&&n.options[e]&&n.options[e](n.options.playerEl);
}function m(e){n.options.breakages||(n.options.breakages={}),-1!==e.indexOf("rtmp")?r.childNodes[0].type="rtmp/mp4":r.childNodes[0].type="application/x-mpegURL",r.childNodes[0].src=e,n.options.playerEl=window.videojs(r,n.options.player).ready(function(){h("onReady"),this.on("pause",function(){h("onPause")}),this.on("error",function(){if(h("onError"),u++,n.options.playerEl&&r.childNodes&&r.childNodes[0].src&&"application/x-mpegURL"===r.childNodes[0].type&&10>=u){var a,e=n.options.url;t.cancel(l),l=!1;var i=n.options.playerEl.tech({IWillNotUseThisInPlugins:!0}).hls;if(i&&(c=i.playlists.media()),c&&c.segments){s===!1&&(s=o),a=s!==!1?Math.floor(s):Math.floor(o),n.options.breakages[e]||(n.options.breakages[e]={});var d=Math.ceil(o),p=d%c.targetDuration;0!==p&&(d+=c.targetDuration-p),n.options.breakages[e][a]=c.segments[d/c.targetDuration>0?d/c.targetDuration-1:d/c.targetDuration].duration+d+.1,v(e)}else console.warn("No segments")}}),this.on("loadedmetadata",function(){b(),h("onLoadedMetadata")}),this.on("play",function(){h("onPlay")}),this.on("timeupdate",function(){if(n.options){if(!s&&n.options.playerEl&&(o=n.options.playerEl.currentTime()),n.options.playerEl&&!n.options.playerEl.paused()&&n.options.playerEl.currentTime()===f){if(p++,p>=5){var e=4*(Math.floor(n.options.playerEl.currentTime()/4)+1)+.1;n.options.playerEl.currentTime(e),p=0}}else p=0;f=n.options.playerEl.currentTime(),b(),h("onTimeupdate")}}),this.on("click",function(){h("onClick")}),this.on("ended",function(){h("onEnded")}),this.on("canplay",function(){h("onCanplay")}),d&&d(),d=n.$on("$destroy",function(){n.options.playerEl.dispose(),n.options.playerEl=void 0})})}function v(t){n.options.playerEl.dispose(),r=angular.element('<video class="video-js vjs-default-skin"><source></video>'),e.leave(angular.element(a[0].children[0])).then(function(){e.enter(r,a).then(function(){r=r[0],m(t)})})}function b(){var e=n.options.breakages[n.options.url],a=Math.floor(o);n.options.playerEl&&e&&e[a]&&n.options.playerEl.currentTime(e[a]),n.options.playerEl&&n.options.playerEl.currentTime()>s&&!l&&(l=t(function(){s=!1},500))}var c,d,r=a[0].children[0],o=0,s=!1,l=!1,u=0,p=0,f=0,g=n.$watch(function(){return n.options},function(e,t){e&&e.url&&(g(),m(n.options.url))})}}})}(),function(){angular.module("younow.core.services").directive("ab",["ab","$http","$compile","$templateCache",function(e,t,n,a){return{restrict:"AE",link:function(i,r,o,s){var l="angularjsapp/src/"+e.app+"/services/ab/"+o.id+".tpl.html",c=a.get(l);void 0===c?t.get(l).then(function(e){c=n(e.data)(i),r.append(c)}):r.append(c);var u=e.experiments[o.id],d=e.variant(o.id);i.abexperiment=o.id,i.abvariant=d,u.variants&&u.variants[d]&&(i.abvalue=u.variants[d]),r.addClass("ab-"+o.id),r.addClass("ab-"+o.id+"-"+d)}}}]).factory("AbCore",function(e,t){var i,n={},a=e.search();return n.Base=function(e){"use strict";if(!(this instanceof n.Base))throw new Error("abCore.Base needs to be called with the new keyword");if(!e.experiments)throw new Error("An experiments option is required for the abCore");if(!e.app)throw new Error("An app option (mobile or desktop) must be specified");if(!e.captureCallback)throw new Error("A captureCallback option must be specified for tracking");"mobile"==e.app?this.app="mobile":this.app="app",i=new t.Base(e.config),this.experiments=e.experiments,this.variant=function(t,n){var r=this.experiments[t];if(a["ab_"+t])return a["ab_"+t];if(r.backendExperiment)return e.BEexperiments&&e.BEexperiments[t]?e.BEexperiments[t]:r.na;if(r.variantOverload)return r.variantOverload;if(i.store("ab_"+t)){var o=i.store("ab_"+t);return"na"==o?"control":o}var s=r.selectionAttributes;if(s){if(n)for(var l in n)if("newVisitor"!==l&&n[l]!=s[l])return i.store("ab_"+t,"na"),"control";if(s.newVisitor&&!window.newVisitor)return i.store("ab_"+t,"na"),"control"}if(100*Math.random()>r.trafficAllocation)return i.store("ab_"+t,"na"),"control";var c;if(Array.isArray(r.variants))c=r.variants[Math.floor(100*Math.random()/(100/r.variants.length))];else{var u=[];for(var d in r.variants)u.push(d);c=u[Math.floor(100*Math.random()/(100/u.length))]}return i.store("ab_"+t,c),e.captureCallback({event:"JOINED_EXPERIMENT",extradata:t,field1:c,field2:r.version,field3:e.app_version}),c}},n})}(),angular.module("younow.core.services.channel",[]).factory("broadcasterServiceCore",function(){var e={};return e.Base=function(){this.channelFormat=function(e,t){if(!e)return e;if(t&&(e=angular.extend(e,t)),e.user&&(e=angular.extend(e,e.user)),e.profile=e.profileUrlString=e.profile||e.profileUrlString,e.length&&(e.length=parseInt(e.length)),e.viewers&&(e.viewers=parseInt(e.viewers)),e.likes&&(e.likes=parseInt(e.likes)),e.shares&&(e.shares=parseInt(e.shares)),e.latestSubscriptions&&e.totalSubscriptions&&(e.latestSubscriptionsPlus=e.totalSubscriptions-e.latestSubscriptions.length||0),e.disabledGoodies)for(var n in e.disabledGoodies)e.disabledGoodies[n]!==!0&&(e.disabledGoodies[e.disabledGoodies[n]]=!0,delete e.disabledGoodies[n]);if(e.subscribersCount&&(e.subscribersCount=parseInt(e.subscribersCount),e.subscribersCount>0?e.subscribersString=e.subscribersCount+" Subscriber"+(1!=e.subscribersCount?"s":""):e.subscribersString="0 Subscribers"),e.latestSubscriptions&&Object.keys(e.latestSubscriptions).length>3){var a=e.latestSubscriptions,i=0;e.latestSubscriptions={};var r=0;for(var o in a)5>r?e.latestSubscriptions[o]=a[o]:i++,r++;e.latestSubscriptionsPlus=(e.latestSubscriptionsPlus||0)+i}return e}},e}),function(){angular.module("younow.core.services").factory("ConfigCore",function(e){function n(e){return"https:"===window.location.protocol&&-1===e.ServerCDNBaseUrl.indexOf("https")&&(e.ServerCDNBaseUrl=e.ServerCDNBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===e.ServerLocalBaseUrl.indexOf("https")&&(e.ServerLocalBaseUrl=e.ServerLocalBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===e.ServerRecommendationsBaseUrl.indexOf("https")&&(e.ServerRecommendationsBaseUrl=e.ServerRecommendationsBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===e.TrackingHost.indexOf("https")&&(e.TrackingHost=e.TrackingHost.replace("http","https")),"https:"===window.location.protocol&&-1===e.PlayDataBaseUrl.indexOf("https")&&(e.PlayDataBaseUrl=e.PlayDataBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===e.ServerHomeBaseUrl.indexOf("https")&&(e.ServerHomeBaseUrl=e.ServerHomeBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===e.BadgeBaseUrl.indexOf("https")&&(e.BadgeBaseUrl=e.BadgeBaseUrl.replace("http","https")),e}var t={};return t.Base=function(){this.params=e.search(),this.settings=n(window.bootstrapConfig),this.host=this.params.host||window.location.host,this.buybarsiframe=!1,this.newVisitor=window.newVisitor=window.localStorage.trpx_device_id?!1:!0,this.bootstrap={adminRoles:[1,2,3,4,5],cdnDev:"cdnv2-vd.younow.com",cdnProduction:"cdn2.younow.com",facebookAppId:0x9bdd06215862,flashVersion:"47.35",googleClientId:"619368150599-2ef6s6o5dqgv6oqoq5tevtqo1k7gni12.apps.googleusercontent.com",googleAnalyticsId:"UA-24148895-1",jwplayerKey:"gyoz1D2yoy+GG57wtwrgni10vNZ0+43mBkBYhw==",TM_DOMAIN:"images1.younow.com",TM_ID:"7jnw4jh4"}},t})}(),angular.module("younow.core.services").factory("TrackingPixelCore",function(e,t,n,a){function s(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;10>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function l(){r.store("trpxId",s()),r.store("countSessionsEnable")&&r.store("countSessions",r.store("countSessions")+1),r.store("countSessionArrivals",0),r.store("trpxTime",(new Date).getTime())}function c(e){var t={};for(var n in e)t[o._paramsMap[n]]=e[n];return t}var r,i={},o={_paramsMap:{host:0,event:1,dateday:2,userid:3,session:4,broadcastid:5,doorid:6,userlevel:7,broadcastscount:8,unspentcoins:9,usertype:10,extradata:11,coins:12,points:13,platform:14,sourceid:15,domain:16,field1:17,field2:18,field3:19,field4:20,field5:21,field6:22,field7:23,pixel:24},_paramTypes:{host:"string",event:"string",dateday:"string",userid:"number",session:"string",broadcastid:"number",doorid:"number",userlevel:"number",broadcastscount:"number",unspentcoins:"number",usertype:"number",extradata:"string",coins:"number",points:"number",platform:"number",sourceid:"number",domain:"string",field1:"string",field2:"string",field3:"string",field4:"string",field5:"string",field6:"string",field7:"string",pixel:"string"},_localStorageDeviceId:"trpx_device_id"};return i.Base=function(e){"use strict";if(!(this instanceof i.Base))throw new Error("TrackingPixelCore.Base needs to be called with the new keyword");r=new a.Base(e.config),e.paramsMap&&"object"==typeof e.paramsMap&&angular.extend(o._paramsMap,e.paramsMap),e.paramTypes&&"object"==typeof e.paramTypes&&angular.extend(o._paramTypes,e.paramTypes),o._countSessions=r.store("countSessions"),r.store(o._localStorageDeviceId)&&(null==o._countSessions||o._countSessions[0])&&(r.store("countSessionsEnable",null),r.store("countSessions",0),r.store("countSessionArrivals",0)),r.store(o._localStorageDeviceId)||(r.store(o._localStorageDeviceId,s()),r.store("countSessionsEnable","true"),r.store("countSessions",0),r.store("countSessionArrivals",0)),this.checkTrpxSession=function(){var e=r.store("trpxTime"),t=(new Date).getTime();e&&null!==r.store("trpxId")?e&&t-e>18e5&&l():l()},this.checkTrpxSession(),this.captureHelper=function(e){for(var n in e)"number"!=o._paramTypes[n]||isNaN(e[n])||(e[n]=parseInt(e[n])||0),typeof e[n]!==o._paramTypes[n]&&console.warn("Warning: "+n+" should have a type of "+o._paramTypes[n]);return t.get(r.buildPixelTracking(c(e)))},this.trackArrivalHelper=function(e){e.broadcastscount||(e.broadcastscount=2),e.field3=r.getLinkType(window.location.pathname,window.location.search),e.field6=r.getReferrer();var t=r.getLinkTerm(window.location.pathname,window.location.search,e.field3),n=r.getReferrerPath();return t&&(e.field2=t),n&&(e.field7=n),e.field5||(e.field5=""),e.field6||(e.field6=""),this.capture(e)},this.trackClick=function(e,t){var n={event:"CLICK",extradata:e,points:r.store("countSessionsEnable")?r.store("countSessions")||0:0};return n=angular.extend(n,t),this.capture(n)},this._getLocalVar=function(e){return o["_"+e]}},i}),function(){angular.module("younow.core.services").factory("ApiCore",function(e,t,n,a,i,r,o,s,l,c){function d(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="; expires="+a.toGMTString();document.cookie=e+"="+t+i+"; path=/"}function p(e){for(var t=e+"=",n=document.cookie.split(";"),a=0,i=n.length;i>a;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}var u={};return u.Base=function(n){if(!n)throw new Error("The ApiCore requires a config");if(window.UAParser){var a=new window.UAParser;this.os=a.getOS(),this.browser=a.getBrowser(),this.browser.name||(this.browser.name="Unknown"),this.browser.version?this.browser.version=this.browser.version.substr(0,6):this.browser.version="0",this.browser.major||(this.browser.major=""+this.browser.version.substring(0,this.browser.version.indexOf(".")||1)||this.browser.version),this.os.name||(this.os.name="Unknown"),this.os.version||(this.os.version="0"),this.os.major||(this.os.major=""+this.os.version.substring(0,this.os.version.indexOf(".")||1)||this.os.version);var s=document.getElementsByTagName("html")[0];s.className+=" "+this.os.name,s.className+=" v"+this.os.major}this.sortObject=function(e){var t=[],n={};for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t.sort(),angular.forEach(t,function(a,i){n[t[i]]=e[t[i]]}),n},this.splitter=function(e){if(e&&"object"!=typeof e)throw new Error("Splitter can only take an array");var n,t=Math.floor(100*Math.random()),a=0,i=[];for(n in e)i.push(Number(n));for(i.sort(function(e,t){return e-t}),a;a<i.length;a++)if(t<=i[a]||t>=i[a]&&i.length-1===a)return e[i[a]]},this.get=function(a,i,r){var s,o=!r||e.nonCDN?n.settings.ServerLocalBaseUrl:n.settings.ServerCDNBaseUrl;return s=void 0!==n.settings.apiMap[a]?this.generateDynamicApi(a):"http"===a.substr(0,4)?a:o+"/php/api/"+a,i=i?i:{},"www.younow.com"===n.params.host&&(i.callback="JSON_CALLBACK"),i&&(i=this.sortObject(i)),angular.forEach(i,function(e,t){s+="/"+t+"="+e}),this.addToStack(a,"lastApiStack"),window.YouNow.loadingTime&&window.YouNow.loadingTime.request&&window.YouNow.loadingTime.request(),i.callback?t.jsonp(s).success(function(e){window.YouNow.loadingTime&&window.YouNow.loadingTime.response&&window.YouNow.loadingTime.response()}):t.get(s,{withCredentials:!0}).success(function(e){window.YouNow.loadingTime&&window.YouNow.loadingTime.response&&window.YouNow.loadingTime.response()})},this.post=function(e,a,i,r,o){var s,l={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};if(a=a?a:{},this.prepost){var c=this.prepost(e);if(c&&c.then)return c.then}if(this.store("trpxId")&&(a.tsi=this.store("trpxId"),a.tdi=this.store("trpx_device_id")),s=void 0!==n.settings.apiMap[e]?this.generateDynamicApi(e):r?r:i?n.settings.ServerSecureLocalBaseUrl+"/php/api/"+e:n.settings.ServerLocalBaseUrl+"/php/api/"+e,a=o?a:this.serialize(a),window.YouNow.loadingTime&&window.YouNow.loadingTime.request&&window.YouNow.loadingTime.request(),this.requestBy&&(l["X-Requested-By"]=this.requestBy),this.showError)var u=this.showError;return t({method:"POST",headers:l,data:a,withCredentials:!0,url:s}).success(function(e){window.YouNow.loadingTime&&window.YouNow.loadingTime.response&&window.YouNow.loadingTime.response(),u&&u(e)})},this.polls={},this.poll=function(e,t,n,a){this.polls||(this.polls={}),this.polls[t]&&o.cancel(this.polls[t]),a||(a=30),n||(n=a),this.polls[t]=o(function(){e()},1e3*n)},this.trustedSrc=function(e){return i.trustAsResourceUrl(e)},this.trustedHTML=function(e){return e.$$unwrapTrustedValue?e:i.trustAsHtml(e)},this.serialize=function(e){var n,a,i,r,o,s,l,t="";for(n in e)if(a=e[n],a instanceof Array)for(l=0;l<a.length;++l)o=a[l],i=n+"["+l+"]",s={},s[i]=o,t+=this.serialize(s)+"&";else if(a instanceof Object)for(r in a)o=a[r],i=n+"["+r+"]",s={},s[i]=o,t+=this.serialize(s)+"&";else void 0!==a&&null!==a&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(a)+"&");return t.length?t.substr(0,t.length-1):t},this.fullName=function(e){if(!e)return"";var t=e.profile||e.profileUrlString,n=e.useprofile||e.useProfile;return 1==n?t:!e.firstName&&e.username?e.username:(e.firstName||"")+(e.lastName?" "+e.lastName:"")},this.friendlyName=function(e){return"0"!==e.useprofile?e.profile:e.firstName},this.cleanLocation=function(e,t){return t&&e.state&&!e.city&&(e.city=e.state),(e.city?e.city+", ":"")+(e.state&&!t?e.state+" ":"")+e.country},this.linksniffer=/((http(s?)(:\/\/))?(([w]{3}|(.*))\.)?([a-zA-Z|0-9])+\.(com(\.au)?|org|me|net|ly|be|gl|co|it|info|(co(\.))?uk|ca|nz|tv)(\/[^\s]+)*)+/g,this.findLinks=function(e){if(!e)return[];e=e.replace(/:\/\/www./g,"://"),e=e.replace(/www./g," http://"),e=e.replace(/&nbsp;/g," ");var t=[],n=this.linksniffer;return e.split(/\s+/).map(function(e){e.match(n)&&t.push(e)}),t},this.linkify=function(e){if(!e)return e;e.$$unwrapTrustedValue&&(e=e.$$unwrapTrustedValue(e));var t=e.indexOf("<"),n=t>-1?e.substr(0,t):e,a=t>-1?e.substr(t):"",i=this.linksniffer,r=n.split(" ").map(function(e){return e.replace(i,function(e){var t="http"!==e.substr(0,4)?"http://"+e:e;return'<a href="'+t.replace(/("|').*$/g,"")+'" target="_blank" rel="nofollow">'+e.replace(/("|').*$/g,"")+"</a>"})});return r.join(" ")+a},this.stripHTML=function(e){return e.replace(/<[^>]+>/gm,"")},this.prepareDescription=function(e){return e=this.linkify(e)||"This profile does not have a description",i.trustAsHtml(e)},this["goto"]=function(e){return e?("http"==e.substr(0,4)&&(e=e.slice(e.indexOf(e.split("/")[2]))),void l.path(e)):!1},this.squashedNumber=function(e,t,n){if(void 0===e||null===e)return"";"string"==typeof e&&(e=Number(e.replace(",","")));var a=e.toString().length;return void 0===n&&(n=t==a-1?1:0),e=a>t&&a>=10?c("number")(e/1e9,n)+"B":a>t&&a>=7?c("number")(e/1e6,n)+"M":a>t&&a>=4?c("number")(e/1e3,n)+"k":c("number")(e)},this.store=function(t,n){var a=!0;try{e.localStorage.setItem("isLocalStorage",!0)}catch(i){a=!1}var r;if("undefined"!=typeof n&&null!==n&&("object"==typeof n&&(n=JSON.stringify(n)),a?e.localStorage.setItem(t,n):d(t,n,3650)),"undefined"==typeof n){r=a?e.localStorage.getItem(t):p(t);try{r=JSON.parse(r)}catch(o){r=r}return r}null===n&&(a?e.localStorage.removeItem(t):d(t,"",-1))},this.ArrayToObject=function(e){var n,t={};for(n=0;n<e.length;++n)t[n]=e[n];return t},this.addToStack=function(t,n){e.bugsnagAdditionalParams&&e.bugsnagAdditionalParams[n]&&(5===e.bugsnagAdditionalParams[n].length&&e.bugsnagAdditionalParams[n].pop(),e.bugsnagAdditionalParams[n].unshift(t),e.bugsnagAdditionalParams[n+"Object"]=this.ArrayToObject(e.bugsnagAdditionalParams[n]))},this.generateTrackingId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;10>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},this.getLinkType=function(e,t){var n,a=e.split("/"),i={b:"broadcast",p:"post",c:"comment",m:"moment"};return n="/getpartnered"===e?"getpartnered":"/"==e?"root":-1!==t.indexOf("?yozio")?"yozio":-1!==t.indexOf("?q=")?"search":"explore"===a[1]?e.length>9?"tag":"explore":-1!==["featured","about","info","policy","thankyou","getpartnered"].indexOf(a[1])?a[1]:-1!==["b","p","c","m"].indexOf(a[5])?i[a[5]]:"channel"===a[2]?"profile":"0"===a[2]?"profile":2===a.length?"profile":"other"},this.getLinkTerm=function(e,t,n){var a;return-1!==["search"].indexOf(n)?a=t.split("?q=")[1]:-1!==["info","policy"].indexOf(n)?a=e.split("/")[3]:-1!==["tag","featured"].indexOf(n)?a=e.split("/")[2]:-1!==["profile","broadcast","comment","post"].indexOf(n)&&(a=e.split("/")[1]),a},this.getReferrer=function(){var e=document.referrer,t=document.referrer.split("/")[2];return e=0===document.referrer.length?"direct":-1!==document.referrer.indexOf("facebook.com/")?"facebook":-1!==document.referrer.indexOf("t.co/")?"twitter":-1!==document.referrer.indexOf("younow.com/")?"younow":-1!==document.referrer.indexOf("google")?"google":t},this.getReferrerPath=function(){var e=document.referrer.substr(document.referrer.indexOf("://")+3);return e=encodeURIComponent(e).replace(/_/g,"__").replace(/%/g,"_"),e=e.substr(0,299)},this.buildPixelTracking=function(e,t){var n=this.generateDynamicApi("TRACKING")+"/";t=t?t:24;for(var a=1;t>a;a++)n+=void 0!==e[a]?e[a]+"/":"/";return n+e[t]},this.triggerTooltip=function(e,t){if(t||(t=2e3),e[0]&&e[0].outerHTML||"string"==typeof e&&(e=angular.element(document.getElementById(e))),!e[0]||!e[0].outerHTML)throw new Error("Api.triggerTooltip failed! First attribute must be DOM element or ID string.");var n=e;n&&n.triggerHandler&&(r(function(){n.triggerHandler("show")},0),r(function(){n.triggerHandler("hide")},t))},this.trackError=function(t){e.Bugsnag&&e.Bugsnag.notify(t)},this.pad=function(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e},this.isMEdge=function(){return/Edge\/12./i.test(navigator.userAgent)?!0:!1},this.pixelSafe=function(e,t){return t||(t=50),e=encodeURIComponent(e).replace(/_/g,"__").replace(/%/g,"_"),e=e.substr(0,t-1)},this.store("trpx_device_id")||(window.newVisitor=!0),this.generateDynamicApi=function(e){return n.settings.apiMap?n.settings.apiMap.DNS[n.settings.apiMap[e].DNS]+n.settings.apiMap[e].URL:void console.warn("Oops, no apiMap provided")},this.timeSince=function(e){var t=new Date(1e3*[e]),n=Math.floor((new Date-t)/1e3),a=Math.floor(n/31536e3);return a>1?{untranslated:a+" years ago",translationKey:"time_ago_years",unit:a}:(a=Math.floor(n/2592e3),a>1?{untranslated:a+" months ago",translationKey:"time_ago_months",unit:a}:(a=Math.floor(n/86400),a>1?{untranslated:a+" days ago",translationKey:"time_ago_days",unit:a}:(a=Math.floor(n/3600),a>1?{untranslated:a+" hours ago",translationKey:"time_ago_hours",unit:a}:(a=Math.floor(n/60),a>1?{untranslated:a+" minutes ago",translationKey:"time_ago_minutes",unit:a}:0===a?{untranslated:"Just Now!",translationKey:"post_just_now",unit:0}:{untranslated:Math.floor(n)+" seconds ago",translation:"time_ago_seconds",unit:Math.floor(n)}))))},this.getJsonFromUrl=function(e){var t=e.split("?")[1],n={};return t&&t.split("&").forEach(function(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])}),n}},e.countWatchers=function(){for(var e=document.getElementsByClassName("ng-scope"),t=[],n={},a=0;a<e.length;a++){var i=angular.element(e[a]).scope();i.$id in n||(n[i.$id]=!0,t.push.apply(t,i.$$watchers))}return t.length},e.currentScope=function(){return angular.element(e.$0).scope()},e.getService=function(e){return-1!=window.location.search.indexOf("debugInfoEnabled")||window.readCookie("debugInfoEnabled")?angular.element(document.querySelector(".ng-scope")).injector().get(e):void console.warn("Use the query param with the debugInfoEnabled option to use this feature.")},u})}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.io=e()}}(function(){var e;return function a(e,t,n){function i(o,s){if(!t[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,a,e,t,n)}return t[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(e,t,n){(function(n){function p(e,t){if(!(this instanceof p))return new p(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate?t.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized;var a="object"==typeof n&&n;a.global===a&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function f(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=e("./transports"),i=e("component-emitter"),r=e("debug")("engine.io-client:socket"),o=e("indexof"),s=e("engine.io-parser"),l=e("parseuri"),c=e("parsejson"),u=e("parseqs");t.exports=p,p.priorWebsocketSuccess=!1,i(p.prototype),p.protocol=s.protocol,p.Socket=p,p.Transport=e("./transport"),p.transports=e("./transports"),p.parser=e("engine.io-parser"),p.prototype.createTransport=function(e){r('creating transport "%s"',e);var t=f(this.query);t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},p.prototype.open=function(){var e;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},p.prototype.setTransport=function(e){r("setting transport %s",e.name);var t=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},p.prototype.probe=function(e){function i(){if(a.onlyBinaryUpgrades){var i=!this.supportsBinary&&a.transport.supportsBinary;n=n||i}n||(r('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"==i.type&&"probe"==i.data){if(r('probe transport "%s" pong',e),a.upgrading=!0,a.emit("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"==t.name,r('pausing current transport "%s"',a.transport.name),a.transport.pause(function(){n||"closed"!=a.readyState&&(r("changing transport and sending upgrade packet"),d(),a.setTransport(t),t.send([{type:"upgrade"}]),a.emit("upgrade",t),t=null,a.upgrading=!1,a.flush())})}else{r('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,a.emit("upgradeError",o)}}))}function o(){n||(n=!0,d(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),r('probe transport "%s" failed because of error: %s',e,n),a.emit("upgradeError",i)}function l(){s("transport closed")}function c(){s("socket closed")}function u(e){t&&e.name!=t.name&&(r('"%s" works - aborting "%s"',e.name,t.name),o())}function d(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",l),a.removeListener("close",c),a.removeListener("upgrading",u)}r('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,a=this;p.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",l),this.once("close",c),this.once("upgrading",u),t.open()},p.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},p.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(c(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else r('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},p.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},p.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},p.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},p.prototype.sendPacket=function(e,t,n,a){if("function"==typeof t&&(a=t,t=void 0),"function"==typeof n&&(a=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}},p.prototype.close=function(){function t(){e.onClose("forced close"),r("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function a(){e.once("upgrade",n),e.once("upgradeError",n)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?a():t()}):this.upgrading?a():t()}return this},p.prototype.onError=function(e){r("socket error %j",e),p.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},p.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){r('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},p.prototype.filterUpgrades=function(e){for(var t=[],n=0,a=e.length;a>n;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var a=e("engine.io-parser"),i=e("component-emitter");t.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){
return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=a.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(e,t,n){(function(t){function s(e){var n,o=!1,s=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),o=e.hostname!=location.hostname||u!=e.port,s=e.secure!=c}if(e.xdomain=o,e.xscheme=s,n=new a(e),"open"in n&&!e.forceJSONP)return new i(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var a=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),r=e("./polling-jsonp"),o=e("./websocket");n.polling=s,n.websocket=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t,n){(function(n){function c(){}function u(e){a.call(this,e),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=c)},!1)}var a=e("./polling"),i=e("component-inherit");t.exports=u;var s,r=/\n/g,o=/\\n/g;i(u,a),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var a="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);a&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},u.prototype.doWrite=function(e,t){function c(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';l=document.createElement(t)}catch(e){l=document.createElement("iframe"),l.name=n.iframeId,l.src="javascript:0"}l.id=n.iframeId,n.form.appendChild(l),n.iframe=l}var n=this;if(!this.form){var l,a=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=s,a.method="POST",a.setAttribute("accept-charset","utf-8"),i.name="d",a.appendChild(i),document.body.appendChild(a),this.form=a,this.area=i}this.form.action=this.uri(),u(),e=e.replace(o,"\\\n"),this.area.value=e.replace(r,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(e,t,n){(function(n){function l(){}function c(e){if(i.call(this,e),n.location){var t="https:"==location.protocol,a=location.port;a||(a=t?443:80),this.xd=e.hostname!=n.location.hostname||a!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function d(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}var a=e("xmlhttprequest-ssl"),i=e("./polling"),r=e("component-emitter"),o=e("component-inherit"),s=e("debug")("engine.io-client:polling-xhr");t.exports=c,t.exports.Request=u,o(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new u(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,a=this.request({method:"POST",data:e,isBinary:n}),i=this;a.on("success",t),a.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=a},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},r(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),i=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}}catch(o){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){i.onError(o)},0)}n.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}n.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var a=new Uint8Array(this.xhr.response),i=[],r=0,o=a.length;o>r;r++)i.push(a[r]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},n.document&&(u.requestsCount=0,u.requests={},n.attachEvent?n.attachEvent("onunload",d):n.addEventListener&&n.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(e,t,n){function u(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),a.call(this,e)}var a=e("../transport"),i=e("parseqs"),r=e("engine.io-parser"),o=e("component-inherit"),s=e("yeast"),l=e("debug")("engine.io-client:polling");t.exports=u;var c=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();o(u,a),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){function a(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){l("pre-pause polling complete"),--i||a()})),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",function(){l("pre-pause writing complete"),--i||a()}))}else a()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,a){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var a=-1!==this.hostname.indexOf(":");return t+"://"+(a?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(e,t,n){(function(n){function p(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,a.call(this,e)}var a=e("../transport"),i=e("engine.io-parser"),r=e("parseqs"),o=e("component-inherit"),s=e("yeast"),l=e("debug")("engine.io-client:websocket"),c=n.WebSocket||n.MozWebSocket,u=c;if(!u&&"undefined"==typeof window)try{u=e("ws")}catch(d){}t.exports=p,o(p,a),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),n=void 0,a={agent:this.agent,perMessageDeflate:this.perMessageDeflate};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(a.headers=this.extraHeaders),this.ws=c?new u(t):new u(t,n,a),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(p.prototype.onData=function(e){var t=this;setTimeout(function(){a.prototype.onData.call(t,e)},0)}),p.prototype.write=function(e){function s(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}var t=this;this.writable=!1;for(var a=e.length,r=0,o=a;o>r;r++)!function(e){i.encodePacket(e,t.supportsBinary,function(i){if(!c){var r={};if(e.options&&(r.compress=e.options.compress),t.perMessageDeflate){var o="string"==typeof i?n.Buffer.byteLength(i):i.length;o<t.perMessageDeflate.threshold&&(r.compress=!1)}}try{c?t.ws.send(i):t.ws.send(i,r)}catch(u){l("websocket closed before onclose event")}--a||s()})}(e[r])},p.prototype.onClose=function(){a.prototype.onClose.call(this)},p.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e);var a=-1!==this.hostname.indexOf(":");return t+"://"+(a?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===p.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(e,t,n){var a=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||a))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(r){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}},{"has-cors":22}],11:[function(e,t,n){function a(e,t,n){function r(e,i){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(a=!0,t(e),t=n):0!==r.count||a||t(null,i)}var a=!1;return n=n||i,r.count=e,0===e?t():r}function i(){}t.exports=a},{}],12:[function(e,t,n){t.exports=function(e,t,n){var a=e.byteLength;if(t=t||0,n=n||a,e.slice)return e.slice(t,n);if(0>t&&(t+=a),0>n&&(n+=a),n>a&&(n=a),t>=a||t>=n||0===a)return new ArrayBuffer(0);for(var i=new Uint8Array(e),r=new Uint8Array(n-t),o=t,s=0;n>o;o++,s++)r[s]=i[o];return r.buffer}},{}],13:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var a,n=new Uint8Array(t),i=n.length,r="";for(a=0;i>a;a+=3)r+=e[n[a]>>2],r+=e[(3&n[a])<<4|n[a+1]>>4],r+=e[(15&n[a+1])<<2|n[a+2]>>6],r+=e[63&n[a+2]];return i%3===2?r=r.substring(0,r.length-1)+"=":i%3===1&&(r=r.substring(0,r.length-2)+"=="),r},n.decode=function(t){var i,o,s,l,c,n=.75*t.length,a=t.length,r=0;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);var u=new ArrayBuffer(n),d=new Uint8Array(u);for(i=0;a>i;i+=4)o=e.indexOf(t[i]),s=e.indexOf(t[i+1]),l=e.indexOf(t[i+2]),c=e.indexOf(t[i+3]),d[r++]=o<<2|s>>4,d[r++]=(15&s)<<4|l>>2,d[r++]=(3&l)<<6|63&c;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t,n){(function(e){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var a=n.buffer;if(n.byteLength!==a.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(a,n.byteOffset,n.byteLength)),a=i.buffer}e[t]=a}}}function s(e,t){t=t||{};var a=new n;o(e);for(var i=0;i<e.length;i++)a.append(e[i]);return t.type?a.getBlob(t.type):a.getBlob()}function l(e,t){return o(e),new Blob(e,t||{})}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),i=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),r=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return a?i?e.Blob:l:r?s:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,n){function a(e){return e?i(e):void 0}function i(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}t.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},a.prototype.once=function(e,t){function a(){n.off(e,a),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},a.fn=t,this.on(e,a),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var a,i=0;i<n.length;i++)if(a=n[i],a===t||a.fn===t){n.splice(i,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var a=0,i=n.length;i>a;++a)n[a].apply(this,t)}return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],16:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],17:[function(e,t,n){function a(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var a="color: "+this.color;e=[e[0],a,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,a),e}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=r,n.formatArgs=i,n.save=o,n.load=s,n.useColors=a,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":18}],18:[function(e,t,n){function r(){return n.colors[a++%n.colors.length]}function o(e){function t(){}function a(){var e=a,t=+new Date,o=t-(i||t);e.diff=o,e.prev=i,e.curr=t,i=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,a){if("%%"===t)return t;l++;var i=n.formatters[a];if("function"==typeof i){var r=s[l];t=i.call(e,r),s.splice(l,1),l--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var c=a.log||n.log||console.log.bind(console);c.apply(e,s)}t.enabled=!1,a.enabled=!0;var o=n.enabled(e)?a:t;return o.namespace=e,o}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),a=t.length,i=0;a>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function l(){n.enable("")}function c(e){var t,a;for(t=0,a=n.skips.length;a>t;t++)if(n.skips[t].test(e))return!1;for(t=0,a=n.names.length;a>t;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var i,a=0},{ms:25}],19:[function(e,t,n){(function(t){function g(e,t){var a="b"+n.packets[e.type]+e.data.data;return t(a)}function v(e,t,a){if(!t)return n.encodeBase64Packet(e,a);var i=e.data,r=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=p[e.type];for(var s=0;s<r.length;s++)o[s+1]=r[s];return a(o.buffer)}function b(e,t,a){if(!t)return n.encodeBase64Packet(e,a);var i=new FileReader;return i.onload=function(){e.data=i.result,n.encodePacket(e,t,!0,a)},i.readAsArrayBuffer(e.data)}function y(e,t,a){if(!t)return n.encodeBase64Packet(e,a);if(d)return b(e,t,a);var i=new Uint8Array(1);i[0]=p[e.type];var r=new m([i.buffer,e.data]);return a(r)}function w(e,t,n){for(var a=new Array(e.length),i=s(e.length,n),r=function(e,n,i){t(n,function(t,n){a[e]=n,i(t,a)})},o=0;o<e.length;o++)r(o,e[o],i)}var a=e("./keys"),i=e("has-binary"),r=e("arraybuffer.slice"),o=e("base64-arraybuffer"),s=e("after"),l=e("utf8"),c=navigator.userAgent.match(/Android/i),u=/PhantomJS/i.test(navigator.userAgent),d=c||u;n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=a(p),h={type:"error",data:"parser error"},m=e("blob");n.encodePacket=function(e,n,a,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof a&&(i=a,a=null);var r=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&r instanceof ArrayBuffer)return v(e,n,i);if(m&&r instanceof t.Blob)return y(e,n,i);if(r&&r.base64)return g(e,i);var o=p[e.type];return void 0!==e.data&&(o+=a?l.encode(String(e.data)):String(e.data)),i(""+o)},n.encodeBase64Packet=function(e,a){var i="b"+n.packets[e.type];if(m&&e.data instanceof t.Blob){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];a(i+e)},r.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];o=String.fromCharCode.apply(null,c)}return i+=t.btoa(o),a(i)},n.decodePacket=function(e,t,a){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(a)try{e=l.decode(e)}catch(i){return h}var o=e.charAt(0);return Number(o)==o&&f[o]?e.length>1?{type:f[o],data:e.substring(1)}:{type:f[o]}:h}var s=new Uint8Array(e),o=s[0],c=r(e,1);return m&&"blob"===t&&(c=new m([c])),{type:f[o],data:c}},n.decodeBase64Packet=function(e,n){var a=f[e.charAt(0)];if(!t.ArrayBuffer)return{type:a,data:{base64:!0,data:e.substr(1)}};var i=o.decode(e.substr(1));return"blob"===n&&m&&(i=new m([i])),{type:a,data:i}},n.encodePayload=function(e,t,a){function o(e){return e.length+":"+e}function s(e,a){n.encodePacket(e,r?t:!1,!0,function(e){a(null,o(e))})}"function"==typeof t&&(a=t,t=null);var r=i(e);return t&&r?m&&!d?n.encodePayloadAsBlob(e,a):n.encodePayloadAsArrayBuffer(e,a):e.length?void w(e,s,function(e,t){return a(t.join(""))}):a("0:")},n.decodePayload=function(e,t,a){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,a);"function"==typeof t&&(a=t,t=null);var i;if(""==e)return a(h,0,1);for(var o,s,r="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)r+=u;else{if(""==r||r!=(o=Number(r)))return a(h,0,1);if(s=e.substr(l+1,o),r!=s.length)return a(h,0,1);if(s.length){if(i=n.decodePacket(s,t,!0),h.type==i.type&&h.data==i.data)return a(h,0,1);var d=a(i,l+o,c);if(!1===d)return}l+=o,r=""}}return""!=r?a(h,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function a(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void w(e,a,function(e,n){var a=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(a),r=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var a=new Uint8Array(e.length),o=0;o<e.length;o++)a[o]=e.charCodeAt(o);n=a.buffer}t?i[r++]=0:i[r++]=1;for(var s=n.byteLength.toString(),o=0;o<s.length;o++)i[r++]=parseInt(s[o]);i[r++]=255;for(var a=new Uint8Array(n),o=0;o<a.length;o++)i[r++]=a[o]}),t(i.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function a(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var a=new Uint8Array(e.length),i=0;i<e.length;i++)a[i]=e.charCodeAt(i);e=a.buffer,n[0]=0}for(var r=e instanceof ArrayBuffer?e.byteLength:e.size,o=r.toString(),s=new Uint8Array(o.length+1),i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,m){var l=new m([n.buffer,s.buffer,e]);t(null,l)}})}w(e,a,function(e,n){return t(new m(n))})},n.decodePayloadAsBinary=function(e,t,a){"function"==typeof t&&(a=t,t=null);for(var i=e,o=[],s=!1;i.byteLength>0;){for(var l=new Uint8Array(i),c=0===l[0],u="",d=1;255!=l[d];d++){if(u.length>310){s=!0;break}u+=l[d]}if(s)return a(h,0,1);i=r(i,2+u.length),u=parseInt(u);var p=r(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(f){var m=new Uint8Array(p);p="";for(var d=0;d<m.length;d++)p+=String.fromCharCode(m[d])}o.push(p),i=r(i,u)}var g=o.length;o.forEach(function(e,i){a(n.decodePacket(e,t,!0),i,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var a in e)n.call(e,a)&&t.push(a);return t}},{}],21:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(a(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return!0}return!1}return t(e)}var a=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(a){t.exports=!1}},{}],23:[function(e,t,n){var a=[].indexOf;t.exports=function(e,t){if(a)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],24:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],25:[function(e,t,n){function l(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),l=(t[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*r;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function c(e){return e>=o?Math.round(e/o)+"d":e>=r?Math.round(e/r)+"h":e>=i?Math.round(e/i)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function u(e){return d(e,o,"day")||d(e,r,"hour")||d(e,i,"minute")||d(e,a,"second")||e+" ms"}function d(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,i=60*a,r=60*i,o=24*r,s=365.25*o;t.exports=function(e,t){return t=t||{},"string"==typeof e?l(e):t["long"]?u(e):c(e)}},{}],26:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,a=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(a,"@").replace(i,"]").replace(r,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),a=0,i=n.length;i>a;a++){var r=n[a].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},{}],28:[function(e,t,n){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=a.exec(e||""),s={},l=14;l--;)s[i[l]]=o[l]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],29:[function(t,n,a){(function(t){!function(i){function c(e){for(var i,r,t=[],n=0,a=e.length;a>n;)i=e.charCodeAt(n++),i>=55296&&56319>=i&&a>n?(r=e.charCodeAt(n++),56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)):t.push(i);return t}function u(e){for(var a,t=e.length,n=-1,i="";++n<t;)a=e[n],a>65535&&(a-=65536,i+=l(a>>>10&1023|55296),a=56320|1023&a),i+=l(a);return i}function d(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function p(e,t){return l(e>>t&63|128)}function f(e){if(0==(4294967168&e))return l(e);var t="";return 0==(4294965248&e)?t=l(e>>6&31|192):0==(4294901760&e)?(d(e),t=l(e>>12&15|224),t+=p(e,6)):0==(4292870144&e)&&(t=l(e>>18&7|240),t+=p(e,12),t+=p(e,6)),t+=l(63&e|128)}function h(e){for(var i,t=c(e),n=t.length,a=-1,r="";++a<n;)i=t[a],r+=f(i);return r}function m(){if(y>=b)throw Error("Invalid byte index");var e=255&v[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function g(){var e,t,n,a,i;if(y>b)throw Error("Invalid byte index");if(y==b)return!1;if(e=255&v[y],y++,0==(128&e))return e;if(192==(224&e)){var t=m();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=m(),n=m(),i=(15&e)<<12|t<<6|n,i>=2048)return d(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=m(),n=m(),a=m(),i=(15&e)<<18|t<<12|n<<6|a,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected")}function w(e){v=c(e),b=v.length,y=0;for(var n,t=[];(n=g())!==!1;)t.push(n);return u(t)}var r="object"==typeof a&&a,o="object"==typeof n&&n&&n.exports==r&&n,s="object"==typeof t&&t;(s.global===s||s.window===s)&&(i=s);var v,b,y,l=String.fromCharCode,S={version:"2.0.0",encode:h,decode:w};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return S});else if(r&&!r.nodeType)if(o)o.exports=S;else{var _={},C=_.hasOwnProperty;for(var T in S)C.call(S,T)&&(r[T]=S[T])}else i.utf8=S}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(e,t,n){"use strict";function c(e){var t="";do t=a[e%i]+t,e=Math.floor(e/i);while(e>0);return t}function u(e){var t=0;for(s=0;s<e.length;s++)t=t*i+r[e.charAt(s)];return t}function d(){var e=c(+new Date);return e!==l?(o=0,l=e):e+"."+c(o++)}for(var l,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,r={},o=0,s=0;i>s;s++)r[a[s]]=s;d.encode=c,d.decode=u,t.exports=d},{}],31:[function(e,t,n){function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var p,n=a(e),i=n.source,l=n.id,c=n.path,u=s[l]&&c in s[l].nsps,d=t.forceNew||t["force new connection"]||!1===t.multiplex||u;return d?(o("ignoring socket cache for %s",i),p=r(i,t)):(s[l]||(o("new io instance for %s",i),s[l]=r(i,t)),p=s[l]),p.socket(n.path)}var a=e("./url"),i=e("socket.io-parser"),r=e("./manager"),o=e("debug")("socket.io-client");t.exports=n=l;var s=n.managers={};n.protocol=i.protocol,n.connect=l,n.Manager=e("./manager"),n.Socket=e("./socket");
},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(e,t,n){function f(e,t){return this instanceof f?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new o.Encoder,this.decoder=new o.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new f(e,t)}var a=e("engine.io-client"),i=e("./socket"),r=e("component-emitter"),o=e("socket.io-parser"),s=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:manager"),u=e("indexof"),d=e("backo2"),p=Object.prototype.hasOwnProperty;t.exports=f,f.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},r(f.prototype),f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=a(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=s(t,"open",function(){n.onopen(),e&&e()}),r=s(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var a=new Error("Connection error");a.data=t,e(a)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;c("connect attempt will timeout after %d",o);var l=setTimeout(function(){c("connect attempt timed out after %d",o),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(r),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},f.prototype.socket=function(e){function a(){~u(n.connecting,t)||n.connecting.push(t)}var t=this.nsps[e];if(!t){t=new i(this,e),this.nsps[e]=t;var n=this;t.on("connecting",a),t.on("connect",function(){t.id=n.engine.id}),this.autoConnect&&a()}return t},f.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var a=0;a<n.length;a++)t.engine.write(n[a],e.options);t.encoding=!1,t.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},f.prototype.cleanup=function(){c("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(e,t,n){function a(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=a},{}],34:[function(e,t,n){function p(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var a=e("socket.io-parser"),i=e("component-emitter"),r=e("to-array"),o=e("./on"),s=e("component-bind"),l=e("debug")("socket.io-client:socket"),c=e("has-binary");t.exports=n=p;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=r(arguments),n=a.EVENT;c(t)&&(n=a.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:a.CONNECT})},p.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(e);break;case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:this.onack(e);break;case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=r(arguments);l("sending ack %j",i);var o=c(i)?a.BINARY_ACK:a.ACK;t.packet({type:o,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(e,t,n){(function(n){function r(e,t){var r=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=a(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":"),s=o?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port==r.port?"":":"+r.port),r}var a=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(e,t,n){function a(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=a,a.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},a.prototype.reset=function(){this.attempts=0},a.prototype.setMin=function(e){this.ms=e},a.prototype.setMax=function(e){this.max=e},a.prototype.setJitter=function(e){this.jitter=e}},{}],37:[function(e,t,n){var a=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}}},{}],38:[function(e,t,n){function a(e){return e?i(e):void 0}function i(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}t.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},a.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a,i=0;i<n.length;i++)if(a=n[i],a===t||a.fn===t){n.splice(i,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var a=0,i=n.length;i>a;++a)n[a].apply(this,t)}return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],39:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(a(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return!0}return!1}return t(e)}var a=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(e,t,n){(function(t){var a=e("isarray"),i=e("./is-buffer");n.deconstructPacket=function(e){function r(e){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(a(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=r(e[s]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var l in e)o[l]=r(e[l]);return o}return e}var t=[],n=e.data,o=e;return o.data=r(n),o.attachments=t.length,{packet:o,buffers:t}},n.reconstructPacket=function(e,t){function i(e){if(e&&e._placeholder){var n=t[e.num];return n}if(a(e)){for(var r=0;r<e.length;r++)e[r]=i(e[r]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=i(e[o]);return e}return e}return e.data=i(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function r(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:s=this.result,--o||n(s)},u.readAsArrayBuffer(e)}else if(a(e))for(var d=0;d<e.length;d++)r(e[d],d,e);else if(e&&"object"==typeof e&&!i(e))for(var p in e)r(e[p],p,e)}var o=0,s=e;r(s),o||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(e,t,n){function c(){}function u(e){var t="",r=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=i.stringify(e.data)),a("encoded %j as %s",e,t),t}function d(e,t){function n(e){var n=s.deconstructPacket(e),a=u(n.packet),i=n.buffers;i.unshift(a),t(i)}s.removeBlobs(e,n)}function p(){this.reconstructor=null}function f(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return m();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var s=e.charAt(r);if(","==s)break;if(t.nsp+=s,r==e.length)break}else t.nsp="/";var l=e.charAt(r+1);if(""!==l&&Number(l)==l){for(t.id="";++r;){var s=e.charAt(r);if(null==s||Number(s)!=s){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=i.parse(e.substr(r))}catch(c){return m()}return a("decoded %s as %j",e,t),t}function h(e){this.reconPack=e,this.buffers=[]}function m(e){return{type:n.ERROR,data:"parser error"}}var a=e("debug")("socket.io-parser"),i=e("json3"),o=(e("isarray"),e("component-emitter")),s=e("./binary"),l=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=c,n.Decoder=p,c.prototype.encode=function(e,t){if(a("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)d(e,t);else{var i=u(e);t([i])}},o(p.prototype),p.prototype.add=function(e){var t;if("string"==typeof e)t=f(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new h(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!l(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(t,n,a){(function(t){(function(){function c(e,t){function w(e){if(w[e]!==v)return w[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=w("json-stringify")&&w("json-parse");else{var r,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&b;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===l(0)&&"0"===l(new n)&&'""'==l(new a)&&l(h)===v&&l(v)===v&&l()===v&&"1"===l(r)&&"[1]"==l([r])&&"[null]"==l([v])&&"null"==l(null)&&"[null,null,null]"==l([v,h,null])&&l({a:[r,!0,!1,null,"\x00\b\n\f\r "]})==s&&"1"===l(null,r)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new o(-1))}catch(u){c=!1}}i=c}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){r=d(s);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!d('" "')}catch(u){}if(p)try{p=1!==d("01")}catch(u){}if(p)try{p=1!==d("1.")}catch(u){}}}}catch(u){p=!1}i=p}}return w[e]=!!i}e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,a=e.String||s.String,i=e.Object||s.Object,o=e.Date||s.Date,l=e.SyntaxError||s.SyntaxError,u=e.TypeError||s.TypeError,d=e.Math||s.Math,p=e.JSON||s.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var m,g,v,f=i.prototype,h=f.toString,b=new o(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(y){}if(!w("json")){var S="[object Function]",_="[object Date]",C="[object Number]",T="[object String]",k="[object Array]",A="[object Boolean]",x=w("bug-string-char-index");if(!b)var I=d.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(e,t){return E[t]+365*(e-1970)+I((e-1969+(t=+(t>1)))/4)-I((e-1901+t)/100)+I((e-1601+t)/400)};if((m=f.hasOwnProperty)||(m=function(e){var n,t={};return(t.__proto__=null,t.__proto__={toString:1},t).toString!=h?m=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,m=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,m.call(this,e)}),g=function(e,t){var a,i,o,n=0;(a=function(){this.valueOf=0}).prototype.valueOf=0,i=new a;for(o in i)m.call(i,o)&&n++;return a=i=null,n?g=2==n?function(e,t){var i,n={},a=h.call(e)==S;for(i in e)a&&"prototype"==i||m.call(n,i)||!(n[i]=1)||!m.call(e,i)||t(i)}:function(e,t){var a,i,n=h.call(e)==S;for(a in e)n&&"prototype"==a||!m.call(e,a)||(i="constructor"===a)||t(a);(i||m.call(e,a="constructor"))&&t(a)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var a,o,n=h.call(e)==S,s=!n&&"function"!=typeof e.constructor&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(a in e)n&&"prototype"==a||!s.call(e,a)||t(a);for(o=i.length;a=i[--o];s.call(e,a)&&t(a));}),g(e,t)},!w("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P="000000",M=function(e,t){return(P+(t||0)).slice(-e)},j="\\u00",$=function(e){for(var t='"',n=0,a=e.length,i=!x||a>10,r=i&&(x?e.split(""):e);a>n;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=O[o];break;default:if(32>o){t+=j+M(2,o.toString(16));break}t+=i?r[n]:e.charAt(n)}}return t+'"'},D=function(e,t,n,a,i,r,o){var s,l,c,d,p,f,b,y,w,S,x,E,O,P,j,R;try{s=t[e]}catch(U){}if("object"==typeof s&&s)if(l=h.call(s),l!=_||m.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=C&&l!=T&&l!=k||m.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&1/0>s){if(N){for(p=I(s/864e5),c=I(p/365.2425)+1970-1;N(c+1,0)<=p;c++);for(d=I((p-N(c,0))/30.42);N(c,d+1)<=p;d++);p=1+p-N(c,d),f=(s%864e5+864e5)%864e5,b=I(f/36e5)%24,y=I(f/6e4)%60,w=I(f/1e3)%60,S=f%1e3}else c=s.getUTCFullYear(),d=s.getUTCMonth(),p=s.getUTCDate(),b=s.getUTCHours(),y=s.getUTCMinutes(),w=s.getUTCSeconds(),S=s.getUTCMilliseconds();s=(0>=c||c>=1e4?(0>c?"-":"+")+M(6,0>c?-c:c):M(4,c))+"-"+M(2,d+1)+"-"+M(2,p)+"T"+M(2,b)+":"+M(2,y)+":"+M(2,w)+"."+M(3,S)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(l=h.call(s),l==A)return""+s;if(l==C)return s>-1/0&&1/0>s?""+s:"null";if(l==T)return $(""+s);if("object"==typeof s){for(P=o.length;P--;)if(o[P]===s)throw u();if(o.push(s),x=[],j=r,r+=i,l==k){for(O=0,P=s.length;P>O;O++)E=D(O,s,n,a,i,r,o),x.push(E===v?"null":E);R=x.length?i?"[\n"+r+x.join(",\n"+r)+"\n"+j+"]":"["+x.join(",")+"]":"[]"}else g(a||s,function(e){var t=D(e,s,n,a,i,r,o);t!==v&&x.push($(e)+":"+(i?" ":"")+t)}),R=x.length?i?"{\n"+r+x.join(",\n"+r)+"\n"+j+"}":"{"+x.join(",")+"}":"{}";return o.pop(),R}};t.stringify=function(e,t,n){var a,i,o,s;if(r[typeof t]&&t)if((s=h.call(t))==S)i=t;else if(s==k){o={};for(var u,l=0,c=t.length;c>l;u=t[l++],s=h.call(u),(s==T||s==C)&&(o[u]=1));}if(n)if((s=h.call(n))==C){if((n-=n%1)>0)for(a="",n>10&&(n=10);a.length<n;a+=" ");}else s==T&&(a=n.length<=10?n:n.slice(0,10));return D("",(u={},u[""]=e,u),i,o,a,"",[])}}if(!w("json-parse")){var L,B,R=a.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:" ",110:"\n",102:"\f",114:"\r"},F=function(){throw L=B=null,l()},G=function(){for(var n,a,i,r,o,e=B,t=e.length;t>L;)switch(o=e.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=x?e.charAt(L):e[L],L++,n;case 34:for(n="@",L++;t>L;)if(o=e.charCodeAt(L),32>o)F();else if(92==o)switch(o=e.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=U[o],L++;break;case 117:for(a=++L,i=L+4;i>L;L++)o=e.charCodeAt(L),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||F();n+=R("0x"+e.slice(a,L));break;default:F()}else{if(34==o)break;for(o=e.charCodeAt(L),a=L;o>=32&&92!=o&&34!=o;)o=e.charCodeAt(++L);n+=e.slice(a,L)}if(34==e.charCodeAt(L))return L++,n;F();default:if(a=L,45==o&&(r=!0,o=e.charCodeAt(++L)),o>=48&&57>=o){for(48==o&&(o=e.charCodeAt(L+1),o>=48&&57>=o)&&F(),r=!1;t>L&&(o=e.charCodeAt(L),o>=48&&57>=o);L++);if(46==e.charCodeAt(L)){for(i=++L;t>i&&(o=e.charCodeAt(i),o>=48&&57>=o);i++);i==L&&F(),L=i}if(o=e.charCodeAt(L),101==o||69==o){for(o=e.charCodeAt(++L),(43==o||45==o)&&L++,i=L;t>i&&(o=e.charCodeAt(i),o>=48&&57>=o);i++);i==L&&F(),L=i}return+e.slice(a,L)}if(r&&F(),"true"==e.slice(L,L+4))return L+=4,!0;if("false"==e.slice(L,L+5))return L+=5,!1;if("null"==e.slice(L,L+4))return L+=4,null;F()}return"$"},V=function(e){var t,n;if("$"==e&&F(),"string"==typeof e){if("@"==(x?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=G(),"]"!=e;n||(n=!0))n&&(","==e?(e=G(),"]"==e&&F()):F()),","==e&&F(),t.push(V(e));return t}if("{"==e){for(t={};e=G(),"}"!=e;n||(n=!0))n&&(","==e?(e=G(),"}"==e&&F()):F()),(","==e||"string"!=typeof e||"@"!=(x?e.charAt(0):e[0])||":"!=G())&&F(),t[e.slice(1)]=V(G());return t}F()}return e},H=function(e,t,n){var a=W(e,t,n);a===v?delete e[t]:e[t]=a},W=function(e,t,n){var i,a=e[t];if("object"==typeof a&&a)if(h.call(a)==k)for(i=a.length;i--;)H(a,i,n);else g(a,function(e){H(a,e,n)});return n.call(e,t,a)};t.parse=function(e,t){var n,a;return L=0,B=""+e,n=V(G()),"$"!=G()&&F(),L=B=null,t&&h.call(t)==S?W((a={},a[""]=n,a),"",t):n}}}return t.runInContext=c,t}var i="function"==typeof e&&e.amd,r={"function":!0,object:!0},o=r[typeof a]&&a&&!a.nodeType&&a,s=r[typeof window]&&window||this,l=o&&r[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(s=l),o&&!i)c(s,o);else{var u=s.JSON,d=s.JSON3,p=!1,f=c(s,s.JSON3={noConflict:function(){return p||(p=!0,s.JSON=u,s.JSON3=d,u=d=null),f}});s.JSON={parse:f.parse,stringify:f.stringify}}i&&e(function(){return f})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(e,t,n){function a(e,t){var n=[];t=t||0;for(var a=t||0;a<e.length;a++)n[a-t]=e[a];return n}t.exports=a},{}]},{},[31])(31)});var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");document.addEventListener("DOMContentLoaded",function(e){document.body.id="default"}),window.onload=function(){if("0.8.6c"!=window.darkMode.version){var e=document.createElement("div");e.id="update",e.innerHTML='<h2>Awesome!</h2><p>You\'re using the DarkMode! <br>Thanks for that. Unfortunately your version is a little outdated. <br><strong>But that\'s no problem at all!</strong><br>Just reinstall the script from the following location and you\'re good to go!<br><br><a href="https://schwestertester.github.io/DarkMode.2.0.beta.user.js">https://schwestertester.github.io/DarkMode.2.0.beta.user.js</a><br><br>Sincerely,<br>SOULDR!NKER</p><img src="https://lh3.googleusercontent.com/-J0DBZHrYkGA/UoJsytwH7rI/AAAAAAAC_a4/CGvUdJz9Mcg/w640-h400-p-k/Vault_Boy.png">',document.body.appendChild(e)}var t=document.createElement("div");t.id="flames";var n=document.createElement("div");n.className="dancing left";var a=document.createElement("div");a.className="dancing right",document.body.appendChild(t),document.body.appendChild(n),document.body.appendChild(a)},window.broadcasterThemes={14793089:"werwolf",14484509:"kuhlmann",12681330:"drachenlord",8911994:"ml"};var colors={"default":["#111215","#151619","#222327","#343439","#424348","#55565a","#d63","#e74","#f31","#f52","#bbb","#ddd"],werwolf:["#110002","#150003","#220004","#340005","#420006","#550007","#d63","#e74","#f31","#f52","#bbb","#ddd"],kuhlmann:["#321700","#321700","#472100","#512500","#602c00","#655a00","#897b00","#756500","#ff4b00","#ff6626","#bbb","#ddd"],drachenlord:["#14120a","#2c120a","#3b180d","#481d10","#542213","#603a16","#ab6827","#ab9027","#bd5b0d","#cc620e","#bbb","#ddd"],ml:["#44120a","#55120a","#66180d","#771d10","#882213","#603a16","#ab6827","#ab9027","#bd5b0d","#cc620e","#bbb","#ddd"]},selectors=[{"background-color":["body","html","#update"]},{"background-color":[".left-panel",".chat-mention","#playersystem","div div.sidebar-header",".volume-background","#chatcomments","#globalchatcomments"]},{"background-color":[".leaderboard .lb-cell",".leaderboard-lists .mini-scroll","#sidebar-container .sidebar-header .tab-icon.selected","#main .main-left .channel-menu-content",".main-content-right",".result","#sidebar-container .sidebar-header",".list-group-item","#settinguppanel",".modal-footer",".tab-icon.selected","#topfan-slider",".level-bar","button.next-fan","button.prev-fan","div.settings-page","div.main-player",".end-of-broadcast-container","div.mini-player","div#chatinput","input","textarea",".editor",".comment-area",".comment-area.form-control",".fan-mail-widget","#sidebar-container",".user-progress-bar",".guest-optin"],"border-color":[".chat-mention",".d_content",".selectUIInput",".broadcast-summary",".modal-footer",".navbar-content .notifications .dropdown-menu .list>*","ul.dropdown-menu li"]},{"background-color":[".search-title","#sharepanel","#momentpanel",".comment-container",".moment-container",".leaderboard .lb-heading","#sidebar-container .sidebar-header .tab-icon","#leftsidebar .panel-title","div #leftsidebar div a:hover",".newFooter, a.activity:hover",".dropdown-menu",".buybars-modal .panel-two",".buybars-modal .panel-four",".verifications-modal .panel-two",".verifications-modal .panel-four",".buybars-modal .content",".verifications-modal .content",".gifttray-premium",".modal-body",".comment-container",".fans-tab-fan",".user-summary",".stats-container",".navbar",".social-panel",".profile-summary-wrapper .profile-summary","div.audience-summary.refresh","ul.dropdown-menu","ul.list li","ul.list",".d_content",".selectUIInput",".eob-header",".guest-preview"],"border-color":["#playerheader","#sidebar-container .sidebar-header","#sidebar-container .sidebar-header .tab-icon","#main .main-left .channel-menu-content",".main-content-right",".result","#sidebar-container","div.audience-summary",".guest-nav",".modal-header","div.topfan-slider-divider","#guestpanel .guest","div#chatinput","div.main-player","div.mini-player"],color:[".ynicon.ynicon-carrot-up",".ynicon.ynicon-carrot-dwn",".d_arrow.ynicon.ynicon-carrot-dwn"]},{"background-color":[".main-content.main-async .main-content-left ul.nav","#addSession",".buybars-modal .item:hover",".verifications-modal .item:hover",".buybars-modal .popular",".navbar-content .user-menu .dropdown-menu .user","ul li a:hover","ul.list li:hover",".searchResult:hover","ul.dropdown-menu li.active","ul.dropdown-menu li:hover","ul.dropdown-menu li:active",".mini-scroll::-webkit-scrollbar-thumb"],color:[".user-menu .ynicon.ynicon-carrot-up","#sidebar-container #chatinput .selfie-container","#sidebar-container .selfie-container .ynicon-icon-selfie"],"border-color":["#leftsidebar .panel-title","legend","#main .main-left .channel-menu-content","#playersystem","textarea",".comment-area.form-control",".comment-area",".line-spacing"]},{"border-color":[".modal-content .actions",".social-panel",".navbar",".tab-header.active",".tab-header:hover",".end-of-broadcast-container .detail-container"]},{"background-color":["div #leftsidebar div a.active",".user-progress-value",".chiclet",".thumbnail-placeholder",".total-progress",".selfie-chat-view .semi-prog-2",".selfie-chat-view .semi-prog-3","button.btn-primary","div button.edit-profile",".explore_more",".settings-link",".alert","div.typeahead-container .tag",".connect",".nav-pills li a",".total-views",".comment-actions button.btn-cancel",".searchResult-more",".end-of-broadcast-container .social-panel .title",".end-of-broadcast-container .your-stats",".volume-foreground","button.btn-fan"],
color:["a",".ynicon.ynicon-icon-check",".ynbar.ynicon.ynicon-icon-bar",".yncoin.ynicon.ynicon-coins",".main-content.main-async .main-content-left .social-alert .ynicon-carrot-up",".ynicon-broadcast"],"border-color":[".social-panel",".tab-header.active",".tab-header:hover",".end-of-broadcast-container .detail-container"]},{"background-color":[".nav-pills li a:hover"],"border-color":["button.btn-primary","div button.edit-profile",".explore_more",".settings-link",".alert","div.typeahead-container .tag, .connect",".nav-pills li a",".total-views",".comment-actions button.btn-cancel",".searchResult-more","button.btn-fan"]},{"background-color":["div div button.btn-fanned","button.btn-cancel"]},{"border-color":["div div button.btn-fanned","button.btn-cancel"]},{color:[":placeholder-shown",":-ms-input-placeholder","::-moz-placeholder",":-moz-placeholder","::-webkit-input-placeholder","legend","input:placerholder-shown","textarea:placeholder-shown"]},{color:[".navbar-content .user-menu .dropdown-menu li .ynicon",".result .thumb a","input","h1","textarea, .comment-area.form-control","button.btn-cancel","button.btn-primary","div button.edit-profile",".explore_more",".settings-link",".alert","div.typeahead-container .tag",".connect",".nav-pills li a",".total-views",".comment-actions button.btn-cancel",".searchResult-more","span","div","ul.dropdown-menu li a"]}],colorsCSS="",streamerCSS={},getStreamerCSS=function(e){if(null==streamerCSS[e]){var t="";if(null!=colors[e])for(var n=0;n<colors[e].length;n++)for(var a in selectors[n]){for(var i="",r=0;r<selectors[n][a].length;r++){var o=selectors[n][a][r];o="body"==o||"html"==o?o+"#"+e:"#"+e+" "+o,o.indexOf("::")>-1?t+=o+"{"+a+":"+colors[e][n]+" !important;}\r\n":selectors[n][a][r].startsWith(":")?t+=o+"{"+a+":"+colors[e][n]+" !important;}\r\n":(""!=i&&(i+=","),i+=o)}t+=i+"{"+a+":"+colors[e][n]+" !important;}\r\n"}streamerCSS[e]=t}return streamerCSS[e]},streamerStyle=document.createElement("style");streamerStyle.type="text/css",head.appendChild(streamerStyle);var hearts=[],heartsCount=50,heartsInterval=-1,endML=function(){clearInterval(heartsInterval);for(var e=0;e<hearts.length;e++)hearts[e].el.remove();hearts=[],heartsInterval=-1},startML=function(){if(-1==heartsInterval){for(var e=0;heartsCount>e;e++){var t=document.createElement("img");t.style.position="fixed",t.style.opacity=.3+.7*Math.random(),t.style.width=10+15*Math.random()+"px",t.style.zIndex=-1,t.src="https://schwestertester.github.io/img/streamers/ml.png",document.body.appendChild(t),hearts.push({el:t,phase:Math.random(),speed:.5+.1*Math.random(),x:Math.random(),off:6*Math.random()})}heartsInterval=setInterval(function(){for(var e=0;e<hearts.length;e++)hearts[e].phase+=.01*hearts[e].speed,hearts[e].el.style.top=window.innerHeight-hearts[e].phase*(window.innerHeight+70)+"px",hearts[e].el.style.left=-50+((window.innerWidth+100)*hearts[e].x+30*Math.cos(5*hearts[e].phase+hearts[e].off))+"px",hearts[e].phase>=1&&(hearts[e].x=Math.random(),hearts[e].phase=0)},50)}};window.setStreamerID=function(e){if("ml"==window.broadcasterThemes[e]?startML():endML(),null!=window.broadcasterThemes[e]&&"default"!=window.broadcasterThemes[e]){var t=getStreamerCSS(window.broadcasterThemes[e]);streamerStyle.styleSheet?streamerStyle.styleSheet.cssText=t:(streamerStyle.innerText="",streamerStyle.appendChild(document.createTextNode(t))),document.body.id=window.broadcasterThemes[e]}else document.body.id="default",streamerStyle.styleSheet?streamerStyle.styleSheet.cssText="":streamerStyle.innerText=""};var colorsCSS=getStreamerCSS("default"),styleText=colorsCSS+window.layoutCSS;style.type="text/css",style.styleSheet?style.styleSheet.cssText=styleText:style.appendChild(document.createTextNode(styleText)),head.appendChild(style),window.globalVars&&"me"==window.globalVars.pageLanguage&&(window.globalVars.pageLanguage="ar"),window.YouNow||(window.YouNow={}),window.YouNow.track={},window.YouNow.ReactComponents={},String.prototype.capitalize=function(){return this.toLowerCase().replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},window.YouNow.captureError=function(){},window.reset?console.warn("window.reset() already defined"):window.reset=function(){window.localStorage.clear();var e=window.document.cookie.split("; ");for(var t in e)window.document.cookie=/^[^=]+/.exec(e[t])[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";return window.location.reload(!0),"cleared cache and cookies and localStorage... reloading..."},window.readCookie||(window.readCookie=function(e,t,n,a){if(window.localStorate)return window.localStorage.getItem(e);if(window.readCookies)return window.readCookies[e];for(t=window.document.cookie.split("; "),window.readCookies={},a=t.length-1;a>=0;a--)n=t[a].split("="),window.readCookies[n[0]]=n[1];return window.readCookies[e]}),window.createCookie||(window.createCookie=function(e,t,n){if(window.localStorate)return window.localStorage.setItem(e,t);var a;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),a="; expires="+i.toGMTString()}else a="";document.cookie=e+"="+t+a+"; path=/"}),window.YouNow.UILanguages={en:"English",de:"Deutsch",ar:"???????",tr:"Trke",es:"Espaol",fr:"Franais",pt:"Portugus",id:"Indonesia"},window.YouNow.UILanguageRegex="";for(var la in window.YouNow.UILanguages)window.YouNow.UILanguageRegex+="/"+la+"|";window.YouNow.UILanguageRegex+="/",angular.module("younow",["templates","younow.content-creator","younow.core","younow.directives","younow.partner","younow.jobs","younow.info","younow.policy","younow.home","younow.about","younow.gettheapp","younow.lockout","younow.bigsister","younow.streetteam","younow.main","younow.leaderboard","younow.missing","younow.mention","younow.post","younow.moment","younow.momentHighlight","younow.reply","younow.fan-button","younow.guest-button","younow.subscribe-button","younow.seach-bar","younow.user-badge","younow.stripe","younow.miniPlayer","younow.modals.alert","younow.modals.vip","younow.modals.confirm","younow.modals.iframe","younow.modals.login","younow.modals.gate","younow.modals.media-player-modal","younow.modals.partner","younow.modals.agreement-acceptance","younow.modals.profile-summary","younow.modals.subscribe-modal","younow.modals.download-broadcast-modal","younow.modals.trap","younow.modals.youtube-subscribe","younow.modals.share-broadcast-modal","younow.modals.buybars","younow.modals.verification","younow.modals.ep","younow.modals.mobile-download","younow.modals.spending-redirect","younow.modals.reconnect-modal","younow.services.ab","younow.services.channel","younow.services.config","younow.services.dashboard","younow.services.session","younow.services.pusher","younow.services.swf","younow.services.utils","younow.services.tracking-pixel","younow.services.trpx","younow.services.shareService","younow.services.eventbus","younow.services.debugger","younow.services.web-rtc","younow.services.guest-service","younow.services.external-streamer","younow.services.selfies","younow.services.webpush","ui.router","ui.bootstrap","pascalprecht.translate","lr.upload","angular-embedly","duScroll","mentio","zeroclipboard","react","dcbImgFallback","chart.js"]).value("duScrollGreedy",!0).config(["$httpProvider","$compileProvider","$locationProvider","$urlRouterProvider","$sceDelegateProvider","$translateProvider","embedlyServiceProvider","uiZeroclipConfigProvider","$tooltipProvider",function(e,t,n,a,i,r,o,s,l){i.resourceUrlWhitelist(["self","**"]),a.otherwise("/"),n.html5Mode(!0),r.useSanitizeValueStrategy(null),r.preferredLanguage("en").fallbackLanguage("en"),r.useStaticFilesLoader({prefix:"https://schwestertester.github.io/",suffix:".json?v="+window.globalVars.JS_VERSION}),o.setKey("d4272e7f48454b81849810f8d9258198"),e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"],t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data|javascript):/),-1!=window.location.search.indexOf("debugInfoEnabled")||window.readCookie("debugInfoEnabled")?window.createCookie("debugInfoEnabled","true"):t.debugInfoEnabled(!1),s.setZcConf({swfPath:window.globalVars.CDN_BASE_URL+"/angularjsapp/vendor/bower/zeroclipboard/dist/ZeroClipboard.swf",cacheBust:!1}),l.setTriggers({show:"hide",mouseenter:"mouseleave click"}),window.isPrerender=-1!==window.navigator.userAgent.indexOf("Prerender")?!0:!1}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$window",function(e,t){return function(n,a){if(t.bugsnagAdditionalParams&&t.Bugsnag&&(t.Bugsnag.metaData={lastApiStack:t.bugsnagAdditionalParams.lastApiStackObject,lastClickStack:t.bugsnagAdditionalParams.lastClickStackObject}),t.Bugsnag){var i=0;try{i=window.localStorage.getItem("trpx_device_id")}catch(r){i=window.readCookie("trpx_device_id")}i||window.YouNow.captureError(n.name),t.Bugsnag.notifyException("#INITIAL_ERROR: "+n)}e(n,a)}}]),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date;var t="www.younow.com"===window.location.host?"UA-24148895-1":"UA-24148895-2";window.ga("create",t,"auto"),window.ga("require","displayfeatures")}]).config(function(e){e.update()}).run(function(e,t){var n=t.defer();e.deferred=n,e.init=n.promise}).controller("AppCtrl",["$window","$document","$location","$rootScope","$scope","$state","$stateParams","$urlRouter","$translate","$modal","$timeout","$q","config","Api","broadcasterService","session","pusher","twitter","swf","trackingPixel","trpx","debug","eventbus","guestService","webpush","dashboard","webRtc","ab",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y,w,S,_,C,T,k,A,x){function I(e){window.ga("set","contentGroup3",e.linkType),window.ga("set","dimension4",e.linkType),S.console(["GA","DIMENSION"],{linkType:e.linkType,contentGroup:"contentGroup3",dimensionGroup:"dimension4"}),window.ga("set","contentGroup1",e.pageType),window.ga("set","dimension1",e.pageType),S.console(["GA","DIMENSION"],{pageType:e.pageType,contentGroup:"contentGroup1",dimensionGroup:"dimension1"}),window.ga("set","contentGroup4",e.linkType+" >> "+e.pageType),window.ga("set","dimension5",e.linkType+" >> "+e.pageType),S.console(["GA","DIMENSION"],{pageType:e.linkType+" >> "+e.pageType,contentGroup:"contentGroup4",dimensionGroup:"dimension5"}),window.contentSet=!0}p.init.then(function(){A.midstreamReconnectEnabled="B"===x.variant("BRCST_FEEDBACK")}),u(function(){window.isPrerender&&(window.prerenderReady=!0)},12e3),a.httpStatus=window.isPrerender?"200":!1,e.bugsnagAdditionalParams={lastApiStack:[],lastClickStack:[],lastApiStackObject:{},lastClickStackObject:{}},window.YouNow.captureError=function(e){y.capture({event:"INITIAL_ERROR",extradata:e.name,field1:f.browser.name+"_"+f.browser.version})},a.$watch(function(){return a.title},function(e){e&&!window.isPrerender&&(i.pageTitle=e)}),a.gaPage=function(e){var t=["home","explore","tag","profile","live broadcast","archived broadcast"],n=["about","info","policy","jobs"];if(e="object"==typeof e?e:{},e.path=e.path||window.location.pathname,e.path!==a.previousPath&&(a.previousPath=e.path,window.ga("set","page",e.path)),e.pageType||(e.pageType=(y.getUserLocation()||"ANCILLARY").toLowerCase()),"brdcst"===e.pageType&&(e.pageType="live broadcast"),e.linkType=p.linkType,!window.YouNow.track.pageFirst&&!window.waitForPageType){if(e.pageType&&-1===t.indexOf(e.pageType)){if(-1===n.indexOf(e.pageType))return window.YouNow.track.pageFirst="other",!1;e.pageType="ancillary"}I(e),a.gaEvent("LANDING",e.pageType),window.YouNow.track.pageFirst=e.pageType,S.console(["GA","PAGE"],e),window.ga("send","pageview")}},a.gaEvent=function(e,t,n,a,i){var r={hitType:"event",eventCategory:e,eventAction:t};n&&(r.eventLabel=n),a&&(r.eventValue=a),i&&(r=angular.extend(r,i)),S.console(["GA","EVENT",e.toUpperCase()],{category:e,action:t,label:n,value:a,extraFields:i}),window.ga("send",r)},i.$on("$stateChangeStart",function(e,t,n,i,o){if(window.globalVars.pageLanguage&&window.isPrerender?(p.setTempLanguage(window.globalVars.pageLanguage),window.globalVars.pageLanguage=null):p.keepTempLanguage=!1,a.fromState=i,-1!==t.name.indexOf("explore")||-1!==t.name.indexOf("channel")||(_.notifySubscribers("broadcaster:beforeChange",{}),h.updateBc({})),!p.linkType){var s=window.location.pathname,l=["about","info","policy"];-1!==s.indexOf("/jobs")?p.linkType="ancillary":-1!==l.indexOf(s.split("/")[1])?p.linkType="ancillary":"/"===s?p.linkType="home":/^['/en|/de|/ar|/tr|/es|/fr|/pt|/ms|/id|/nl|/ru|/ja|/ko|/hi|/th']{2}\/?$/i.test(s)?p.linkType="home":-1!==s.indexOf("/explore")&&void 0!==s[9]?p.linkType="tag":-1!==s.indexOf("/explore")?p.linkType="explore":s.match(/\//g).length>2?p.linkType="brdcst":p.linkType="profile",("brdcst"===p.linkType||"profile"===p.linkType||"home"===p.linkType)&&(window.waitForPageType=!0)}if(m.isBroadcasting&&((n.profileUrlString!==m.user.profile||n.entityId)&&(m.preventBroadcastInterrupt(),e.preventDefault()),C.guest&&C.guest.userId==m.user.userId&&(C.preventGuestingInterrupt(),e.preventDefault())),!f.store("younowOldEnough")){var u=f.store("younowAgeLockout");u&&"0"!==u&&"lockout"!=t.name&&Number(u)>(new Date).getTime()/1e3&&(e.preventDefault(),r.go("lockout"))}if(!m.isBroadcasting&&p.params&&("about"===n.profileUrlString&&(r.go("about"),p.linkType="ancillary",e.preventDefault()),p.params.profile&&(c.profileSummary(p.params.profile),delete p.params.profile),p.params.channel&&(h.switchBroadcaster(p.params.channel),e.preventDefault(),delete p.params.channel),p.params.broadcastid&&(c.mediaPlayerModal(p.params.broadcastid),delete p.params.broadcastid),p.params.featured||p.params.tag)){var d=p.params.featured||p.params.tag;a.gaPage({path:"/featured/"+d}),h.featuredBroadcaster(d),delete p.params[d]}}),i.$on("$stateChangeSuccess",function(n,i,r,s,l){a.fromState=s,p.UILanguageOriginal&&(p.keepTempLanguage?p.keepTempLanguage=!1:p.resetTempLanguage()),m.referralData||(m.inviteString=o.inviteString||"",m.srcId=o.srcId||"",m.profileUrlString=r.profileUrlString,m.referralData=!0),k.tags&&k.users||k.getTrending(),window.YouNow.track.pageFirst||a.gaPage(),t.scrollTop(0),a.title=a.newTitle||"YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android",e.Bugsnag&&e.Bugsnag.refresh()}),p.settings.UseBroadcastThumbs?p.broadcasterThumb=p.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/broadcastId=":p.broadcasterThumb=p.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",window.isPrerender?(m.user={userId:0},p.deferred.resolve(),g.init()):m.getSession().success(function(e){p.deferred.resolve(),c.ageGate().then(function(){if(0===e.userId){var t=m.silentAuth();t?t["catch"](function(e){m.forceLogin("REOPEN")}):m.profileUrlString?m.forceLogin("LINK"):m.forceLogin("REOPEN")}}),g.init()}),window.YouNow.loadingTime.younowReady=Date.now()-window.YouNow.loadingTime.startTime,p.imageApis={base:p.settings.ServerCDNBaseUrl,image:p.settings.ServerCDNBaseUrl+"/images",thumb:p.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",nothumb:p.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",broadcast:f.generateDynamicApi("BROADCAST_THUMB"),snapshot:f.generateDynamicApi("GET_SNAPSHOT")+"/id=",media:f.generateDynamicApi("POST_MEDIA")+"/channelId=",moment:f.generateDynamicApi("MOMENT_THUMB"),background:function(e,t,n){t=t||"Image";var a="Image"==t?", url("+i.cdn.nothumb+")":"";return"background:url("+i.cdn.channelImage(e,t,n)+")"+a+" no-repeat center center; background-size: cover;"},channelImage:function(e,t,n){t=t||"Image",n=n||"";var a=m.user&&m.user.userId==e?p.settings.ServerLocalBaseUrl:p.settings.ServerCDNBaseUrl;return a+"/php/api/channel/get"+t+"/channelId="+e+n}},i.cdn=p.imageApis,c.loginModal=function(e,t,n){if(window.isPrerender)return!1;var i=c.open({templateUrl:"angularjsapp/src/app/components/login-modal/login-modal.tpl.html",controller:"LoginModalCtrl",windowClass:"social-login-modal",backdrop:e?"static":!0,keyboard:e?!1:!0,resolve:{soft:function(){return!e},source:function(){return t},data:function(){return n}}});return i.result["catch"](function(){"LINK"===t&&(t=r.is("main.channel.detail")?h.async?"LINK_PROFILE":"LINK_LIVE":"LINK_OTHER"),a.gaEvent("LOGIN","DISMISS",t)}),i},c.profileSummary=function(e,t,n){t=t||{},t.channelId=e,t.userId=m.loggedIn?m.user.userId:0,t.state=n||!1,h.broadcaster&&h.broadcaster.broadcastId&&(t.broadcastId=h.broadcaster.broadcastId,h.broadcaster.userId===e&&(t.broadcastRelated=1));var a=c.open({templateUrl:"angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html",controller:"ProfileSummaryCtrl",windowClass:"profile-summary-wrapper",resolve:{params:function(){return t}}});return a},c.youtube=function(e){return c.open({templateUrl:"angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html",controller:"YoutubeSubscribeCtrl",windowClass:"youtube-modal",resolve:{username:function(){return e}}})},c.subscribeModal=function(e,t){if(t=t||{},t.channelId=e,t.userId=m.loggedIn?m.user.userId:0,h.broadcaster&&h.broadcaster.broadcastId&&(t.broadcastId=h.broadcaster.broadcastId,h.broadcaster.userId===e&&(t.broadcastRelated=1)),m.user.spendingDisabled)return f.showTopNotification("Spending disabled. Please contact YouNow Support."),!1;var n=c.open({templateUrl:"angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html",controller:"SubscribeModalCtrl",windowClass:"subscribe-modal-wrapper",resolve:{params:function(){return t}}});return n},c.downloadBroadcastModal=function(e){var t=c.open({templateUrl:"angularjsapp/src/app/components/download-broadcast-modal/download-broadcast.tpl.html",controller:"DownloadBroadcastModalCtrl",windowClass:"subscribe-modal-wrapper",controllerAs:"vm",resolve:{params:function(){return e}}});return t},c.mediaPlayerModal=function(e,t,n){var a=c.open({templateUrl:"angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html",controller:"MediaPlayerModalCtrl",windowClass:"media-player-modal",resolve:{broadcastId:function(){return e},params:function(){return t||{}},broadcast:function(){return n||{}}}});return a.result["catch"](function(e){}),a},c.iframe=function(e,t){var n=t?"iframe-modal "+t:"iframe-modal";return c.open({templateUrl:"angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html",controller:"IframeModalCtrl",windowClass:n,resolve:{src:function(){return e}}})},c.alert=function(e){return c.open({templateUrl:"angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html",controller:"AlertModalCtrl",windowClass:"alert-modal",resolve:{message:function(){return e}}})},c.vip_welcome=function(e){return c.open({templateUrl:"angularjsapp/src/app/components/vip-modal/welcome-modal.tpl.html",controller:"VipModalCtrl",windowClass:"vip-modal",resolve:{message:function(){return e}}})},c.gate=function(e){return c.open({templateUrl:"angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html",controller:"GateModalCtrl",windowClass:"gate-modal",backdrop:"static",keyboard:!1,resolve:{data:function(){return e}}})},c.ageGate=function(){var e=d.defer(),t=(window.navigator.language||window.navigator.browserLanguage||window.navigator.systemLanguage||window.navigator.userLanguage).substr(0,2)||"en";return"de"!=t&&-1==t.indexOf("de-")||f.store("younowOldEnough")||a.skipAgeGate?e.resolve():(a.skipAgeGate=!1,c.gate({title:"agegate_modal_title",message:"agegate_modal_message",decline:"agegate_modal_under",confirm:"agegate_modal_over"}).result.then(function(t){if(t)f.store("younowOldEnough",!0),e.resolve();else{r.go("lockout");var n=Math.floor((new Date).getTime()/1e3)+86400;f.store("younowAgeLockout",n)}})),e.promise},c.trap=function(e,t,n,a){return c.open({templateUrl:"angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html",controller:"TrapModalCtrl",windowClass:"trap-modal",resolve:{data:function(){return{user:t,type:e,callback:a}},source:function(){return n}}})},c.partner=function(){return c.open({templateUrl:"angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html",controller:"PartnerModalCtrl",windowClass:"partner-modal"})},c.agreementAcceptance=function(){return c.open({templateUrl:"angularjsapp/src/app/components/agreement-acceptance-modal/agreement-acceptance-modal.tpl.html",controller:"AgreementAcceptanceModalCtrl",windowClass:"agreement-acceptance-modal",backdrop:"static",keyboard:!1})},c.shareBroadcast=function(e,t){return c.open({templateUrl:"angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html",controller:"ShareBroadcastModalCtrl",windowClass:"share-broadcast-ctrl",resolve:{data:function(){return{message:e,type:t}}}})},c.verification=function(e,t){return c.open({templateUrl:"angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html",controller:"VerificationModalCtrl",windowClass:"buybars-modal",resolve:{data:function(){return{params:e,source:t}}}})},c.buyBars=function(e){if(e||void 0===e){var t=d.defer();t.reject("suspending disabled"),f.showTopNotification("Account purchasing disabled. Please email support@younow.com to review this matter.");var n={result:t.promise};return n}var a=c.open({templateUrl:"angularjsapp/src/app/components/buybars-modal/buybars.tpl.html",controller:"BuybarsModalCtrl",windowClass:"buybars-modal"});return a},c.ccVerified=function(e){var t=c.open({templateUrl:"angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html",controller:"CcVerifiedModalCtrl",windowClass:"buybars-modal "+e.type,resolve:{data:function(){return{type:e.type,data:e.data}}}});return t},c.epModal=function(e){var t="angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html";"expired"===e&&(t="angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html");var n=c.open({templateUrl:t,controller:"EpModalCtrl",windowClass:"ep-modal",resolve:{data:function(){return{state:e}}}});return n},c.mobileDownloadExperiment=function(e,t){var n=c.open({templateUrl:"angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html",controller:"mobileDownloadCtrl",controllerAs:"vm",windowClass:"mobile-download-experiment",resolve:{data:function(){return{source:e,customCopy:t}}}});return e&&a.gaEvent("Conversion","Get App Experiment",e),n},c.mobileDownload=function(e,t){var n=c.open({templateUrl:"angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html",controller:"mobileDownloadCtrl",controllerAs:"vm",windowClass:"mobile-download-modal",resolve:{data:function(){return{source:e,customCopy:t}}}});return e&&a.gaEvent("Conversion","Click Get App",e),n},c.spendingFailed=function(e){return c.open({templateUrl:"angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html",controller:"SpendingRedirectModalCtrl",controllerAs:"vm",windowClass:"spending-redirect-modal",resolve:{params:function(){return e}}})},c.spendingRedirect=function(){var e=c.open({templateUrl:"angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html",controller:"SpendingRedirectModalCtrl",controllerAs:"vm",windowClass:"spending-redirect-modal",resolve:{params:function(){return{}}}});return e},c.reconnect=function(){var e=c.open({templateUrl:"angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html",controller:"ReconnectModalCtrl",controllerAs:"vm",windowClass:"reconnect-modal"});return e};var E=80,N=f.store("younowVol");void 0===N||null===N||isNaN(Number(N))||(E=Number(N)),f.store("younowVol",E),y.startPinging(),t.on("click",function(e){return e.target.outerHTML?void f.addToStack(e.target.outerHTML.substring(0,100),"lastClickStack"):!1})}]),angular.module("younow.directives",[]).directive("intlTelInput",["config","$timeout","Api","$rootScope","trackingPixel","session","swf",function(e,t,n,a,i,r,o){return{restrict:"A",link:function(s,l,c){function f(e){i.trackClick("GETTHEAPP",{field1:"TWILLIO"});var t={number:e};r.user&&r.user.userId&&(t.userId=r.user.userId),o.broadcast&&o.broadcast.broadcastId&&(t.broadcastId=o.broadcast.broadcastId),e=e.replace("+",""),n.post("YOUNOW_SEND_TO_PHONE",t).then(function(e){e.data.result&&"Success"===e.data.result&&(s.twilioSuccess=!0)})}function h(){if(a.gaEvent("Conversion","Send App Attempt",i.getUserLocation()||"ANCILLARY"),u)if(u.intlTelInput("isValidNumber"))f(u.intlTelInput("getNumber"));else{var t,e=u.intlTelInput("getValidationError");for(t in window.intlTelInputUtils.validationError)if(window.intlTelInputUtils.validationError[t]===e&&"IS_POSSIBLE"!==t){s.errorMsg=t.toLowerCase().replace(/_/g," ").capitalize(),s.$apply();break}n.triggerTooltip(l)}}var u,d,p;t(function(){d="#"+c.id,u=window.$(d),p=l.siblings(".btn"),p.on("click",h),l.on("keydown",function(e){e&&13===e.keyCode&&h()}),u.intlTelInput({utilsScript:e.settings.ServerCDNBaseUrl+"/angularjsapp/vendor/static/libphonenumber.js"}),s.$on("$destroy",function(){u.intlTelInput("destroy")})})}}}]),window.YouNow.loadingTime.event=window.document.createEvent("Event"),window.YouNow.loadingTime.event.initEvent("loadTime",!0,!1),window.YouNow.loadingTime.outstandingRequests=0,window.YouNow.loadingTime.request=function(e){window.YouNow.loadingTime.timeout&&window.clearTimeout(window.YouNow.loadingTime.timeout),window.YouNow.loadingTime.outstandingRequests++},window.YouNow.loadingTime.response=function(e){window.YouNow.loadingTime.timeout&&window.clearTimeout(window.YouNow.loadingTime.timeout),window.YouNow.loadingTime.outstandingRequests--,window.YouNow.loadingTime.timeout=window.setTimeout(window.YouNow.loadingTime.track,250)},window.YouNow.loadingTime.track=function(e){window.YouNow.loadingTime.outstandingRequests||(window.document.dispatchEvent(window.YouNow.loadingTime.event),window.YouNow.loadingTime.request=void 0,window.YouNow.loadingTime.response=void 0,window.YouNow.loadingTime.track=void 0)},angular.module("younow.activity-panel",["ui.router"]).directive("activityPanel",["$http","$window","broadcasterService","Api","swf","session","config","trackingPixel","guestService",function(e,t,n,a,i,r,o,s,l){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html",scope:{onlineFriends:"=",source:"@"},link:function(e){e.panel={},e.panel.cdn={thumb:o.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",nothumb:o.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",base:o.settings.ServerCDNBaseUrl},e.panel.panelCollapsed=!1,e.panel.trackClickFriend=function(e,t,n){s.trackClick(t.toUpperCase(),{doorid:e.userId,field1:2==e.status?"LIVE":"VIEWING",sourceid:n>=0?n+1:0})},e.panel.changeBroadcaster=function(e){return i.settingUpBroadcast&&(r.isBroadcasting=!0),r.isBroadcasting||l.guest&&l.guest.userId==r.user.userId?(r.preventBroadcastInterrupt(),!1):i.broadcast&&n&&!n.async&&e==n.broadcaster.userId?!1:void n.switchBroadcaster(e)}}}}]),angular.module("younow.modals.alert",[]).controller("AlertModalCtrl",["$scope","message","Api","$translate",function(e,t,n,a){try{a(t).then(function(t){e.message=n.trustedHTML(n.linkify(t))})}catch(i){e.message=n.trustedHTML(n.linkify(t))}}]),angular.module("younow.channel.audience-panel",[]).controller("AudiencePanelCtrl",["$scope","$modal","$element","$interval","$timeout","session","swf","config","Api","trackingPixel",function(e,t,n,a,i,r,o,s,l,c){var u=this,d=angular.element(document.getElementById("audiencelist")),f=0,h=1;u.swf=o,u.session=r,u.baseImageUrlv3=s.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/images/icons_v3",u.thumb=s.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",u.noThumb=s.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",u.messageNumberInView=0,u.globalVars=window.globalVars,u.config=s,o.audienceLists.currentPage=0,c.trackClick("AUDIENCE"),u.openProfileSummary=function(e,n){t.profileSummary(e,{source:n})},u.scrollLoadAudience=function(e,t){o.audienceLists.hasNext&&(o.audienceLists.loading||e||u.swf.getAudience(t,20,!1))},u.clickToRefresh=function(){u.swf.getAudience(o.audienceLists.currentPage,20,!0)},d.on("scroll",function(){var e=d.children();d[0].scrollTop;f<d[0].scrollTop&&(h=1),f>d[0].scrollTop&&(h=0),f=d[0].scrollTop,d[0].scrollHeight-Math.round(d.scrollTop())<=d[0].offsetHeight&&u.scrollLoadAudience(!1,e.length,!1),0===d[0].scrollTop&&(o.audienceLists.currentPage=0);for(var n=0;n<e.length;n++){var a=angular.element(e[n]),i=a.prop("offsetTop");d.scrollTop()>i&&d.scrollTop()<950*(n+1)&&(o.audienceLists.currentPage=n,0===h&&o.audienceLists.prevLoadedPage>o.audienceLists.currentPage&&o.getAudience(o.audienceLists.currentPage,20,!0),1===h&&o.audienceLists.prevLoadedPage<o.audienceLists.currentPage&&o.getAudience(o.audienceLists.currentPage,20,!0))}}),e.$on("$destroy",function(){d.off("scroll")})}]).directive("audiencePanel",["broadcasterService",function(e){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html",controller:"AudiencePanelCtrl",controllerAs:"vm",scope:{},link:function(t,n,a,i){var r=i;angular.element(n).on("$destroy",function(){"Chat"!==r.swf.activeChatTab&&e.async===!0&&(r.swf.activeChatTab="Chat"),r.swf.audienceLists=null,r.swf.audienceLists={}})}}}]).directive("audienceMessage",["$interval","swf","session","$filter",function(e,t,n,a){return{restrict:"A",scope:{viewer:"="},link:function(i,r,o,s){function d(){i.viewer.messageNumberInView=0,p(i.viewer.messages[i.viewer.messageNumberInView]),c=e(function(){i.viewer.messageNumberInView===i.viewer.messages.length-1?i.viewer.messageNumberInView=0:i.viewer.messageNumberInView++,p(i.viewer.messages[i.viewer.messageNumberInView])},3500)}function p(e){for(var t=0;t<i.viewer.messages.length;t++)i.viewer.messages[t]===e?angular.element(r).addClass(i.viewer.messages[t]+"-active"):angular.element(r).removeClass(i.viewer.messages[t]+"-active")}var c,u=t.broadcast.userId===n.user.userId;i.viewer.messages=[],i.viewer.subscriptionDate=a("date")(i.viewer.subscriptionDateUNIX,"MM/dd/yyyy"),i.viewer.subscriptionType&&i.viewer.messages.length<3&&i.viewer.messages.push("subscriber"),-1!==i.viewer.fanRank&&i.viewer.messages.length<3&&i.viewer.messages.push("fanRank"),-1===i.viewer.fanRank&&u&&i.viewer.messages.length<3&&i.viewer.messages.push("isFan"),i.viewer.birthdayCopy&&u&&i.viewer.messages.length<3&&i.viewer.messages.push("birthday"),i.viewer.gifts>0&&i.viewer.messages.length<3&&i.viewer.messages.push("gifts"),i.viewer.viewersRs>0&&i.viewer.messages.length<3&&i.viewer.messages.push("viewersRs"),(i.viewer.location.city.length>0||i.viewer.location.state.length>0||i.viewer.location.country.length>0)&&i.viewer.messages.length<3&&i.viewer.messages.push("location"),i.viewer.fans&&i.viewer.messages.length<3&&i.viewer.messages.push("fans"),d(),i.$on("$destroy",function(){e.cancel(c)})}}}]),angular.module("younow.modals.buybars",[]).controller("BuybarsModalCtrl",["$scope","$modalInstance","session","Api","$interval","$translate","config","$filter","$rootScope","$timeout","$modal","trpx",function(e,t,n,a,i,r,o,s,l,c,u,d){function h(i){d.capture({event:"PURCHASE_REQUEST",productsku:i.SKU,productname:i.name,productprice:i.price,productamount:i.amount},d.captureGroups.buybars);var r={userId:n.user.userId,amount:i.price,name:i.name,sku:i.SKU,origin:"webBars",htdid:a.store("_ht_did")};"http:"===window.location.protocol&&(r.s=n.user.session);var s=a.post("STORE_PURCHASE_TOKEN",r);return s.then(function(n){if("paypal"==n.data.vendor?(e.vendor="payPal",e.copy={title:"Get YouNow Bars",subtitle:"Bars allow you to buy premium gifts for the broadcaster."}):(e.vendor="braintree",e.copy={title:"Select Payment Method",subtitle:"Enter your credit card information below."}),n.data.errorCode>0&&d.capture({event:"PURCHASE_FAILURE",productsku:i.SKU,productname:i.name,productprice:i.price,productamount:i.amount,errorcode:n.data.errorCode},d.captureGroups.buybars),6020===n.data.errorCode&&n.data.ccVerificationSaleDetails){var a=JSON.parse(n.data.ccVerificationSaleDetails);t.close(),c(function(){u.verification(a,{source:"buyBars"})},200)}else if(6021===n.data.errorCode)t.close(),c(function(){u.ccVerified({type:"verified-failed"})},200);else if(6032===n.data.errorCode)t.close(),c(function(){u.spendingFailed({purchaseItem:"bars"})},200);else if(n.data.errorCode)t.close();else if(0===n.data.errorCode&&document.getElementById("braintree-dropin")&&"braintree"==e.vendor&&e.disableBuy&&(window.braintree.setup(n.data.token,"dropin",{
container:"braintree-dropin",paymentMethodNonceReceived:function(t,n){d.capture({event:"PURCHASE_SUCCESS",productsku:i.SKU,productname:i.name,productprice:i.price,productamount:i.amount,signature:n},d.captureGroups.buybars),e.buyRequest(n,"braintree")}}),window.BraintreeData)){var r=window.BraintreeData.environments[o.settings.BTEnv].withId(o.settings.BTKountId);window.BraintreeData.setup(o.settings.BTMerchantId,"braintree-form",r)}n.data.token&&"payPal"==e.vendor&&(f=n.data.token),e.disableBuy&&(e.disableBuy=!1)}),s}function m(i,r){if(e.activeItem.successfulBuy=!0,0===i.data.errorCode&&i.data.bars)if(n.user.vault.webBars=Number(i.data.bars),d.capture({event:"PURCHASE_VALIDATE_SUCCESS",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount,signature:r},d.captureGroups.buybars),i.data.isVerificationSale&&i.data.ccVerificationSaleDetails){var o=i.data.ccVerificationSaleDetails;o.justPurchased=!0,t.close(),c(function(){u.verification(o,{source:"buyBars"})},200)}else t.close(e.activeItem),a.showTopNotification("Purchase successful. You now have "+n.user.vault.webBars+" bars!","success"),i.data.vipSpenderMessage&&u.vip_welcome(i.data.vipSpenderMessage);else 0!==i.data.errorCode||i.data.bars?(t.dismiss(i.data.errorCode),6013===i.data.errorCode&&"paypal_account"!=i.data.paymentType?u.spendingRedirect():a.showTopNotification(i.data.errorMsg)):(t.dismiss(i.data.errorCode),a.showTopNotification("Oops! Something went wrong. Please email support@younow.com to review this matter."));(!i.data.bars||i.data.errorCode>0)&&d.capture({event:"PURCHASE_VALIDATE_FAILURE",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount,signature:r},d.captureGroups.buybars)}e.Api=a,e.session=n,e.activeItem=!1,e.config=o,e.disableBuy=!0;var p,f;e.paypalCheckout=function(){var t=window.screenLeft?window.screenLeft:window.screenX,n=window.screenTop?window.screenTop:window.screenY,a=t+window.innerWidth/2-400,r=n+window.innerHeight/2-325;p=window.open(o.settings.PayPalIncontextUrl+f,"","width=800, height=650, top="+r+", left="+a);var s=e.$watch(function(){return p.location},function(t,n){try{if("/api/paypal/paypalReturn.php"==t.pathname){var a=i(function(){if(p.getPayPalDetails){var t=p.getPayPalDetails();p.close(),m({data:t}),i.cancel(a),d.capture({event:"PURCHASE_VALIDATE_REQUEST",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount,signature:f},d.captureGroups.buybars)}},300);s()}"/api/paypal/paypalCancel.php"==t.pathname&&(p.close(),s())}catch(r){}})},e.buyRequest=function(t,i){var r={data:e.activeItem.price,signature:t,sku:e.activeItem.SKU,userId:n.user.userId,device_data:"braintree"==i?void 0:document.getElementById("device_data").value,vendor:i};"http:"===window.location.protocol&&(r.s=n.user.session),e.disableBuy=!0,d.capture({event:"PURCHASE_VALIDATE_REQUEST",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount,signature:t},d.captureGroups.buybars),a.post("STORE_BUY",r).then(function(e){m(e,t)})},a.get("STORE_PRODUCTS",{store:"web",lang:o.UILanguage}).then(function(n){6032===n.data.errorCode?(t.close(),c(function(){u.spendingFailed({purchaseItem:"bars"})},200)):n.data.errorCode&&t.close();for(var a in n.data.products)n.data.products[a].amount=parseInt(n.data.products[a].amount),n.data.products[a].bonusCoins=3*n.data.products[a].amount,n.data.products[a].bonusBars=Math.floor(.05*n.data.products[a].amount);e.products=n.data.products}),e.cancel=function(){t.dismiss("Modal (buy bars) closed")},e.toggleActiveItem=function(t){t?e.gettingToken=!0:d.capture({event:"PURCHASE_CANCELED",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount},d.captureGroups.buybars),e.activeItem.buying?(e.activeItem.buying=!1,e.modalLarge=!1):h(t).then(function(){e.gettingToken=!1,e.activeItem=t,e.activeItem.buying=!0;var n;n=i(function(){angular.element(document.getElementById("braintree-form"))[0]?angular.element(document.getElementById("braintree-form"))[0].offsetHeight>=250&&(e.modalLarge=!0):(i.cancel(n),e.modalLarge=!1)},500)})},e.$on("$destroy",function(){e.activeItem&&!e.activeItem.successfulBuy&&d.capture({event:"PURCHASE_CANCELED",productsku:e.activeItem.SKU,productname:e.activeItem.name,productprice:e.activeItem.price,productamount:e.activeItem.amount},d.captureGroups.buybars)})}]),angular.module("younow.channel.chat-panel",[]).directive("chatPanel",function(e,t,n,a,i,r){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/chat/chat-panel.tpl.html",link:function(i,r,o){function p(){s.chatWindow=angular.element(document.getElementById("chatcomments")),s.topfanSlider=document.getElementById("topfan-slider"),s.nextFanBtn=angular.element(document.getElementById("nextfan")),s.prevFanBtn=angular.element(document.getElementById("prevfan")),s.topfanSliderEl=angular.element(s.topfanSlider),s.isScrolling=!1,s.lastHeight=1,s.chatWindow.off("scroll"),s.chatWindow.on("scroll",function(){l=(new Date).getTime()}),s.chatWindow.off("mouseover"),s.chatWindow.on("mouseover",function(){c=(new Date).getTime()})}function f(i){if(i=i||{},("main.channel.detail"!==a.current.name||t.async===!0)&&e.cancel(d),void 0===s.chatWindow[0])return p(),!1;if(s.pauseChat)return!1;var r=(new Date).getTime();if(s.isScrolling)return!1;if(!i.instant&&(2e3>r-c||2e3>r-l))return!1;n.broadcast&&n.broadcast.comments.length>100&&(n.broadcast.comments=u(n.broadcast.comments,80));var o=1e3;i.instant&&(o=0);var f=s.chatWindow[0].clientHeight,h=s.chatWindow[0].scrollHeight,m=s.chatWindow.scrollTop()+f,g=h-f;if(h>m){if(380>h-m){var v=(h-m)/380;o*=v}s.chatWindow.scrollTopAnimated(g,o)}}function h(t){t=t||{},p(),e.cancel(d),t.instant&&f(),d=e(f,1e3)}var d,s=i.$parent.vm,l=0,c=0,u=function(e,t){return e.splice(e.length-t,t)};i.$on("$destroy",function(){d&&e.cancel(d)}),n.broadcast&&n.broadcast.comments.length&&n.broadcast.comments.length>50&&(n.broadcast.comments=u(n.broadcast.comments,50)),h({instant:!0})}}}),angular.module("younow.channel.chat",[]).factory("chatService",function(){var e={};return e.expose=function(t,n){e[t]=n},e.destroyExposed=function(t){e[t]&&delete e[t]},e}).controller("ChatCtrl",["$rootScope","$scope","$interval","$timeout","$modal","broadcasterService","session","swf","config","Api","shareService","eventbus","trackingPixel","guestService","$filter","chatService","$translate","selfies","trpx","webRtc",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y){function N(){_&&a.cancel(_),_=a(function(){w.chatWindow.scrollTopAnimated(w.chatWindow[0].scrollHeight,500)},2e3)}function O(e){return!1}function P(){w.spamTimer&&n.cancel(w.spamTimer),w.spamTimer||(w.spamTimeLeft=60),w.spamTimer=n(function(){w.spamTimeLeft--,0===w.spamTimeLeft&&(n.cancel(w.spamTimer),w.spamTimer=!1)},1e3)}function M(){return s.broadcast&&s.broadcast.currentChatInCooldown===!0?s.broadcast.currentChatCooldown:0}function j(){A&&n.cancel(A),A=n(function(){w.cooldownTime--,w.cooldownTime<0&&(w.cooldownTime=0,w.closeGiftTray(),n.cancel(A))},1e3)}function $(e,t){return t&&"fullscreen"==t.type?("Chat"!=w.swf.activeChatTab&&(w.swf.activeChatTab="Chat"),!1):(w.newComment=void 0,document.getElementById("topfan-slider")&&angular.element(document.getElementById("topfan-slider")).scrollLeft(0),w.premiumGiftSelected&&w.premiumGiftSelected.opened&&(w.premiumGiftSelected.opened=!1,a(function(){w.premiumGiftSelected=void 0},700)),w.collapsedGiftTray||(w.collapsedGiftTray=!0),w.fanMailMessage=void 0,w.fanmailInvalid=void 0,w.topFanPosition="start",w.cooldownTime=M(),w.creatingSelfie=void 0,0!==w.cooldownTime&&j(),void(w.commentForm&&(w.commentForm.clickedComment=void 0)))}var S,_,T,k,A,w=this;w.chatWindow=angular.element(document.getElementById("chatcomments")),w.globalChatWindow=null,setInterval(function(){null==w.globalChatWindow&&(w.globalChatWindow=document.getElementById("globalchatcomments"),null!=w.globalChatWindow&&(w.globalChatWindow.scrollTop=w.globalChatWindow.scrollHeight+w.globalChatWindow.offsetHeight,w.globalChatWindow.addEventListener("DOMSubtreeModified",function(){w.globalChatWindow.scrollTop=w.globalChatWindow.scrollHeight+w.globalChatWindow.offsetHeight})))},500),w.topfanSlider=document.getElementById("topfan-slider"),w.nextFanBtn=angular.element(document.getElementById("nextfan")),w.prevFanBtn=angular.element(document.getElementById("prevfan")),w.topfanSliderEl=angular.element(w.topfanSlider),w.thumb=l.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",w.noThumb=l.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",w.baseImageUrlv3=l.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/images/icons_v3",w.baseImageUrl=l.settings.ServerCDNBaseUrl+"/images/public/gifts/v2",w.swf=s,w.Api=c,w.session=o,w.broadcast=r,w.activeTab="Chat",w.alert="",w.chatCooldown=s.chatCoolDown,w.fanMailAnimation=l.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/animations/FAN_MAIL.gif",w.fanMailStatic=w.baseImageUrlv3+"/_gifts/FAN_MAIL.png",w.fanmailAnimState=w.fanMailStatic,w.spamCounter=[],w.collapsedGiftTray=!0,w.bcGifts=[],w.globalVars=window.globalVars,w.config=l,w.guestService=f,w.selectedSelfie={},w.selfies=v,w.unreadGlobalMessages=0,w.unreadGlobalMessagesText="0",w.isHttps="https:"===window.location.protocol,w.activateGlobalChat=function(){window.location.href=window.location.href+"?useHTTPS=false"},w.commentLength=function(){if(null===w.newComment||void 0===w.newComment)return 0;var e=w.newComment.match(/[0-9]{6}/g),t=0;return null!==e&&(t=e.length),w.newComment.length+t},w.globalCommentLength=function(){return null===w.newGlobalComment||void 0===w.newGlobalComment?0:w.newGlobalComment.length},s.activeChatTab=w.activeTab;var x=["treffen"],I={a:"",b:"b",c:"",d:"d",e:"",f:"f",g:"g",h:"h",i:"",j:"",k:"k",l:"",m:"m",n:"n",o:"",p:"",q:"q",r:"r",s:"",t:"t",u:"u",v:"v",w:"w",x:"",y:"",z:"z",A:"",B:"",C:"",D:"D",E:"",F:"F",G:"G",H:"",I:"",J:"",K:"",L:"L",M:"",N:"",O:"",P:"",Q:"Q",R:"R",S:"",T:"",U:"U",V:"V",W:"W",X:"",Y:"",Z:""},E=function(){return w.swf.broadcast?void(1==w.swf.broadcast.chatMode?w.session.subStatus[w.swf.broadcast.userId]?1!=w.swf.broadcast.subscribersCount?g("chat_with_subscribers",{subscribers:w.swf.broadcast.subscribersCount}).then(function(e){w.chatInputPlaceholder=e}):g("chat_with_subscriber").then(function(e){w.chatInputPlaceholder=e}):g("chat_subscribers_only").then(function(e){w.chatInputPlaceholder=e}):1!=w.swf.broadcast.viewers?g("chat_with_viewers",{viewers:w.swf.broadcast.viewers}).then(function(e){w.chatInputPlaceholder=e}):g("chat_with_viewer").then(function(e){w.chatInputPlaceholder=e})):!1};m.expose("chatInputPlaceholder",E),w.openGiftTray=function(){w.collapsedGiftTray=!1},w.closeGiftTray=function(){w.premiumGiftSelected&&w.premiumGiftSelected.opened&&(w.premiumGiftSelected.opened=!1),w.premiumGiftSelected&&w.premiumGiftSelected.buying&&(w.premiumGiftSelected.buying=!1),w.collapsedGiftTray=!0,w.fanMailMessage=void 0,a(function(){N()},800)},w.toggleGiftTray=function(e){e||w.collapsedGiftTray?(w.openGiftTray(),p.trackClick("GIFT")):w.closeGiftTray(),a(function(){N()},800)},w.hidePlayerFullscreen=function(){d.notifySubscribers("swf:reset",{type:"fullscreen",state:"close"})},w.changeTab=function(e){null!=s.broadcast.comments&&s.broadcast.comments.length>30&&s.broadcast.comments.splice(0,s.broadcast.comments.length-30),null!=s.globalComments&&s.globalComments.length>30&&s.globalComments.splice(0,s.globalComments.length-30),"Guest"==e&&(s.activeChatTab=e,s.broadcast.userId==o.user.userId?p.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_GUEST_TAB"}):p.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_CALL_IN"}),f.countUpdated=!1),"GlobalChat"==e?(s.activeChatTab="GlobalChat",s.unreadGlobalMessages=0):w.globalChatWindow=null,"Info"==e&&(s.activeChatTab=e),"Audience"==e&&(s.activeChatTab=e,w.fanmailAnimState=w.fanMailAnimation,s.getAudience(0,20,!0)),"Chat"==e&&(s.activeChatTab=e,s.unreadMessages=0,w.chatWindow=angular.element(document.getElementById("chatcomments")),null!=w.chatWindow&&null!=w.chatWindow[0]&&w.chatWindow.scrollTopAnimated(w.chatWindow[0].scrollHeight,500))};var D=function(){c.get("STORE_GOODIES",{v3:1,lang:l.UILanguage}).then(function(e){s.giftsAssetsBaseUrl=e.data.giftsAssetsBaseUrl,w.giftItems=[],w.bcGiftItems=[],s.giftSkus={},s.giftObjects={};var t,n;for(t in e.data.goodies)n=e.data.goodies[t],n.originalLocales="ww",n.locales="ww",3==n.id&&(n.hidden=!1),"GIFT"==n.itemType&&63!=n.id&&15!=n.id&&(n.hidden=!1),n.description&&(n.description=n.description.replace("{giverName}",o.user.profile),n.description=n.description.replace("{receiverName}",r.broadcaster.username)),s.giftSkus[n.id]=n.SKU,n.displayMode&&"1"!==n.displayMode&&(s.giftObjects[n.SKU]={id:n.id,minVis:1e3*n.minVisDuration,maxVis:1e3*n.maxVisDuration,itemGameType:n.itemGameType}),n.hidden!==!0&&w.giftItems.push(n),n.broadcasterType&&n.broadcasterType&&n.hidden&&-1!==n.itemGameType.indexOf("BROADCASTER")&&w.bcGifts.push(n),"CHATCOOLDOWN"==n.SKU&&(k=n)})};r.broadcaster&&D(),d.subscribe("broadcaster:beforeChange",D,"chat",t),d.subscribe("session:loggedIn",function(e,t){t&&D()},"chat",t),w.chatWindow.on("mouseenter",function(){_&&a.cancel(_)}),w.nextFanBtn.on("mouseleave",N),w.prevFanBtn.on("mouseleave",N),w.topfanSliderEl.on("mouseleave",N),w.changeTopFan=function(e){w.isScrolling=!0;var t=210,n=400,a=200,i=Math.ceil(Math.round(w.topfanSlider.scrollLeft)/t)*t+t*e;w.topfanSliderEl.scrollLeftAnimated(i,a).then(function(){w.topFanPosition=0===w.topfanSlider.scrollLeft?"start":w.topfanSlider.scrollLeft===w.topfanSlider.scrollWidth-n?"end":""})["finally"](function(){w.isScrolling=!1})},w.postComment=function(){if(w.chatters&&w.chatters.length>0)return!1;if(p.capture({event:"BROADCAST_ACTION",extradata:"ENTERCHAT"}),e.gaEvent("Conversion","Chat (Attempt)",p.getUserLocation()||"ANCILLARY"),!o.user||!o.user.userId)return o.showLoginModal("","CHAT").result.then(w.postComment),!1;if(o.user.userId!=w.swf.broadcast.userId&&1==w.swf.broadcast.chatMode&&!o.subStatus[w.swf.broadcast.userId])return i.subscribeModal(w.swf.broadcast.userId),!1;if(w.commentForm.commentInput.$valid){if(w.cooldownTime>0)return w.postGift(k),!1;if(S=w.newComment,w.newComment=void 0,S.startsWith("!"))S=S.substring(1);else{for(var t=!1,n=0;n<x.length;n++)if(S.indexOf(x[n])>=0){t=!0;break}S=S.replace(/([0-9]{6})/g,"$1\ufeff");for(var l="",u=!1,n=0;n<S.length;n++){var d=!0;if(S.length>n+7){var f=S.substr(n,7);if("http://"==f||"https:/"==f){var h=S.indexOf(" ",n);h>=0?(l+=S.substring(n,h),n+=h):(l+=S.substring(n),n=S.length),d=!1}}var m=S.substr(n,1);"#"==m||u&&" "!=m?(u=!0,l+=m):(u=!1,l+=null!=I[m]?I[m]:m)}S=l}if(0===w.cooldownTime&&(O(S)||w.spamTimer)&&0===o.user.role&&1!==o.user.partner)return""!==w.alert?!1:(w.alert="Dude stop spamming!",a(function(){w.alert=""},2500),w.spamTimer||P(),!1);if(0===S.length)return!1;w.swf.postChatComment(S,o.user.userId,r.broadcaster.userId).then(function(e){if(0===e.data.errorCode){if(e.data.thresholdDelay&&(w.cooldownTime=e.data.thresholdDelay,j()),S=c.stripHTML(S),!S)return!1;var t=new w.swf.Comment(S,c.fullName(o.user),o.user.userId,o.user.realLevel,e.data.chatRole,!1,!1,e.data.subscriptionType,void 0,v.localSelfieSrc.sf);if(t.hashedComment=c.replaceHash(c.convertEmoji(c.linkify(c.stripHTML(t.comment)))),t.own=!0,w.swf.broadcast.comments.length>0&&w.swf.broadcast.comments[w.swf.broadcast.comments.length-1].userId==o.user.userId&&0==w.swf.broadcast.comments[w.swf.broadcast.comments.length-1].giftId?w.swf.broadcast.comments[w.swf.broadcast.comments.length-1].sub.push(t):(t.sub=[t],w.swf.broadcast.comments.push(t)),w.commentForm.clickedComment&&-1!==t.comment.indexOf("@")){var n={event:"AT_MENTION",extradata:"CHAT",field3:w.commentForm.clickedComment.type};w.commentForm.clickedComment.isFriend?n.field2="FRIEND_IN":n.field2="USER",p.capture(n)}}else S=void 0})}},w.postGlobalComment=function(){if(!o.user||!o.user.userId)return o.showLoginModal("","CHAT").result.then(w.postComment),!1;var t=w.newGlobalComment;w.newGlobalComment="";var a=(document.createElement("img"),o.user.dynamoFirstName+" "+o.user.dynamoLastName);a=a.trim();o.user.profile,Math.floor(o.user.realLevel),o.user.userId;e.socket.sendMessage("chat",{message:t})},w.trackChat=function(){p.trackClick("CHAT")},w.postGift=function(t,n,l,u){if(p.trackClick("GIFT_"+t.costType.toUpperCase(),{field1:t.SKU}),o.user.userId!=w.swf.broadcast.userId&&"BARS"!=t.costType&&1==w.swf.broadcast.chatMode&&!o.subStatus[s.broadcast.userId])return i.subscribeModal(s.broadcast.userId),!1;if(e.gaEvent("Conversion","Gift (Attempt)",p.getUserLocation()||"ANCILLARY"),t.minLevel>o.user.realLevel)return!1;if(s.stickersMultiplier&&2==t.dynamicCost?t.purchasePrice=Math.floor(Number(t.cost*s.stickersMultiplier)):s.dynamicPricedGoodies&&1==t.dynamicCost?t.purchasePrice=s.dynamicPricedGoodies[t.SKU]:t.purchasePrice=t.cost,s.giftObjects[t.SKU]&&(t.itemGameType=s.giftObjects[t.SKU].itemGameType),"BARS"===t.costType)return w.premiumGiftSelected=t,w.premiumGiftSelected.opened=!0,w.collapsedGiftTray=!1,!1;if(!t.giftQuantity){if(!o.user.userId)return!1;if(0!==o.user.banId)return!1;if(o.user.realLevel<t.minLevel)return!1;t.giftQuantity=0,t.totalCost=0}var d=1;1==w.ctrlKey?d=10:1==w.shiftKey&&(d=100),o.user.userCoins-t.cost*d>=0&&(o.user.userCoins=o.user.userCoins-t.purchasePrice*d,t.totalCost+=t.purchasePrice*d,t.giftQuantity+=d,T=1e3,u&&(angular.element(u.target).css("transform","scale(1.1)"),a(function(){angular.element(u.target).css("transform","scale(1)")},200)),(1===t.giftQuantity||w.ctrlKey&&10===t.giftQuantity||w.shiftKey&&100===t.giftQuantity)&&a(function(){w.swf.postGift(o.user.userId,r.broadcaster.userId,t.id,t.giftQuantity,n,l).then(function(e){if(0!==e.data.errorCode)o.user.userCoins=o.user.userCoins+t.totalCost;else{var n=new w.swf.Comment("",c.fullName(o.user),o.user.userId,o.user.realLevel,e.data.chatRole,t.id,t.giftQuantity,e.data.subscriptionType);n.sub=[n],w.swf.broadcast.comments.push(n)}t.giftQuantity=0})},T))},w.buyGift=function(e){if(0===w.premiumGiftSelected.VIP||"1"===r.broadcaster.partner&&2===w.premiumGiftSelected.VIP){if("FANMAIL"===w.premiumGiftSelected.itemGameType&&!w.fanMailMessage)return w.fanmailInvalid=!0,a(function(){w.fanmailInvalid&&(w.fanmailInvalid=!1)},5e3),!1;w.premiumGiftSelected.buying=!0;var t={userId:o.user.userId,channelId:r.broadcaster.userId,sku:w.premiumGiftSelected.SKU};if("FANMAIL"===w.premiumGiftSelected.itemGameType&&(t.fanMailText=w.fanMailMessage),"TIP"===w.premiumGiftSelected.itemGameType&&e?(t.qty=e,t.currentCost=e):"0"===w.premiumGiftSelected.dynamicCost?t.currentCost=w.premiumGiftSelected.purchasePrice:t.currentCost=s.dynamicPricedGoodies[w.premiumGiftSelected.SKU],o.user.vault.webBars-t.currentCost<0)return i.buyBars(o.user.spendingDisabled).result.then(function(t){t&&w.buyGift(e)},function(e){w.premiumGiftSelected.buying=!1}),!1;"GIFT"==w.premiumGiftSelected.itemType?s.postGift(t.userId,t.channelId,w.premiumGiftSelected.id).then(function(e){o.user.vault.webBars=e.data.bars,w.closeGiftTray()}):c.post("STORE_GOODIE",t).then(function(e){0===e.data.errorCode?(o.user.vault.webBars=e.data.bars,w.closeGiftTray(),"FANMAIL"===w.premiumGiftSelected.itemGameType&&(s.broadcast&&s.broadcast.username.length>9?w.alert="Fan Mail sent. Waiting for "+s.broadcast.username.substring(0,9)+"... to accept.":w.alert="Fan Mail sent. Waiting for "+s.broadcast.username+" to accept.",w.fanMailMessage=void 0,a(function(){w.alert=""},3e3)),"CHATCOOLDOWN"===w.premiumGiftSelected.SKU&&(s.broadcast.currentChatInCooldown=!1,w.cooldownTime=0)):w.premiumGiftSelected.buying=!1})}},w.getMultiplierCost=function(e){var t=1;return w.ctrlKey?t=10:w.shiftKey&&(t=100),o.user&&0!==o.user.userId?0!==o.user.banId?!1:e.minLevel>o.user.realLevel?"Level "+Number(e.minLevel)+" needed.":"TIP"===e.itemGameType?"Tip":e.cost*t>o.user.userCoins&&"COINS"===e.costType?"Not enough coins!":s.stickersMultiplier&&"0"==e.dynamicCost&&"COINS"!==e.costType?'<i class="ynbar ynicon ynicon-icon-bar"></i> '+e.cost*t+"<br />Recipient points: "+e.recipientPoints*t+"<br />Giver points: "+e.giverPoints*t+"<br />Quantity: "+t:s.dynamicPricedGoodies&&1==e.dynamicCost&&"COINS"!==e.costType?'<i class="ynbar ynicon ynicon-icon-bar"></i> '+s.dynamicPricedGoodies[e.SKU]+"<br />Recipient points: "+e.recipientPoints*t+"<br />Giver points: "+e.giverPoints*t+"<br />Quantity: "+t:s.stickersMultiplier&&2==e.dynamicCost?'<i class="ynbar ynicon ynicon-coins"></i> '+Math.ceil(Number(e.cost*s.stickersMultiplier))*t+"<br />Recipient points: "+e.recipientPoints*t+"<br />Giver points: "+e.giverPoints*t+"<br />Quantity: "+t:"COINS"===e.costType?'<i class="ynbar ynicon ynicon-coins"></i> '+e.cost*t+"<br />Recipient points: "+e.recipientPoints*t+"<br />Giver points: "+e.giverPoints*t+"<br />Quantity: "+t:void 0:!1},document.body.addEventListener("keydown",function(e){e.shiftKey?w.shiftKey=!0:e.ctrlKey&&(w.ctrlKey=!0)}),document.body.addEventListener("keyup",function(e){e.shiftKey||(w.shiftKey=!1),e.ctrlKey||(w.ctrlKey=!1)}),w.openProfile=function(e,t,n,a){a&&a.stopPropagation(),t?i.profileSummary(e,{comment:encodeURIComponent(t.comment),sf:t.sf,source:n}):i.profileSummary(e,{source:n})},w.respondToFanMail=function(e,t){s.fanMailQueue[0]&&(s.fanMailQueue[0].isShowing=!1),a(function(){for(var n in s.fanMailRequestQueue){if(window.num=n,"0"!=n){s.fanMailRequestQueue[0]=s.fanMailRequestQueue[n],delete s.fanMailRequestQueue[n];break}delete s.fanMailRequestQueue[0]}e&&c.post("STORE_SET_STATE",{transactionId:e.goodieTransactionId,state:t,userId:o.user.userId})},700)},w.dismissFanMail=function(){s.fanMailQueue[0]&&(s.fanMailQueue[0].isShowing=!1),a(function(){for(var e in s.fanMailRequestQueue){if(window.num=e,"0"!=e){s.fanMailRequestQueue[0]=s.fanMailRequestQueue[e],delete s.fanMailRequestQueue[e];break}delete s.fanMailRequestQueue[0]}a.cancel(s.fanMailTimer),1===s.fanMailQueue.length?s.fanMailDisplay(s.giftObjects.FANMAIL.maxVis):s.fanMailDisplay(s.giftObjects.FANMAIL.minVis)},1e3)},w.disabledGiftTray=function(){e.gaEvent("Conversion","Gift (Attempt)",p.getUserLocation()||"ANCILLARY"),0===o.user.userId&&o.showLoginModal("","GIFT").result.then(w.toggleGiftTray),o.isBroadcasting&&o.preventBroadcastInterrupt()},w.buyBars=function(){i.buyBars(o.user.spendingDisabled)},w.searchChatters=function(e){e&&0!==e.length?(w.chatters=h("orderBy")(h("filter")(s.broadcast.chatters,{displayName:e}),"displayName"),w.chatters=w.chatters.splice(0,5)):w.chatters=null},w.selectChatter=function(e){return w.chatters=null,w.commentForm.clickedComment||(w.commentForm.clickedComment=e,w.commentForm.clickedComment.type="DIRECT"),"@"+e.displayName},w.selectSelfie=function(e,t,n){if(e.sfb&&0!==e.userId){if(e={sfb:e.sfb,sf:e.sf,userId:e.userId,name:e.name},s.broadcast.userId!=o.user.userId)return w.selectedSelfie=e,!1;if(e.sfDOM=n?n.currentTarget.children[0]:void 0,f.guest||f.pendingGuest)return f.preventGuestingInterrupt(),!1;if(!l.bootstrap.supportsCanvasStream)return v.attempted=!0,!1;b.capture({event:"SELFIE_DISPLAYED",sourceid:e.userId,field1:e.sf.replace("/","_")},b.captureGroups.trackevents),v.loadSelfie(e,t)}},w.createSelfie=function(){return s.fullscreenActive?!1:o.user&&o.user.userId?void(y.supportsWebRtc()?s.broadcast.userId!=o.user.userId&&(w.creatingSelfie=!0,b.capture({event:"SELFIE_CLICK",sourceid:o.user.userId},b.captureGroups.trackevents)):i.alert(h("translate")("feature_unsupported"))):(o.showLoginModal("","CREATE_SELFIE"),!1)},d.subscribe("swf:reset",$,"chat",t),d.subscribe("chatMode:one",w.closeGiftTray,"chat",t),t.$on("$destroy",function(){A&&n.cancel(A),w.spamTimer&&n.cancel(w.spamTimer),m.destroyExposed("chatInputPlaceholder")})}]).directive("channelChat",["$interval","broadcasterService","swf","$state","$timeout","$q",function(e,t,n,a,i,r){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/chat/chat.tpl.html",controller:"ChatCtrl",controllerAs:"vm",scope:{}}}]),angular.module("younow.channel.promo-widget",[]).directive("promoWidget",function(e,t,n){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/chat/promo-widget.tpl.html",scope:!0,replace:!0,link:function(a,i,r){a.$watch(function(){return e.UILocale},function(i,r){void 0!==i&&(a.fetching=!0,n.get("RECO_PROMOBANNER",{locale:i},!0).then(function(n){n.data&&n.data.image?(n.data.image=e.settings.PromoBannersPath+"/"+n.data.image,a.banner=n.data):a.banner={image:!1},t(function(){a.fetching=!1})}))})}}}),angular.module("younow.channel.selfie-view",[]).directive("selfieView",function(e,t,n,a,i,r,o,s,l){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/chat/selfie-view.tpl.html",link:function(l,c,u){function m(e,t,n,s){l.closing||window.SuperGif.encoder.createGIF({images:e,interval:a.settings.SelfieFramerate/1e3,gifWidth:t,gifHeight:n},function(e){e.error||(i.localSelfieSrc[s]=e.image,h.framesProcessed.push(s),3===h.framesProcessed.length&&i.uploadSelfie(r.broadcast.userId,o.user.requestBy))})}var p,f,d=l.$parent.vm,h={preview:[],sf:[],sfb:[],framesProcessed:[]};l.animationProgress="",l.selfies=i,d.creatingSelfie&&(f=c[0].getElementsByTagName("video")[0],i.localSelfieSrc.preview="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",e.loadPreview("preview-selfie").then(function(e){p=e})),n(function(){l.opening=!0,angular.element(document).on("click",d.closeSelfieView)},0),d.closeSelfieView=function(t){if(t&&t.target){for(var a in t.target.attributes)if(("'"+t.target.attributes[a]+"'").indexOf("ng-click"))return!1;if("BUTTON"===t.target.tagName||"SPAN"===t.target.parentNode.tagName)return!1}d.creatingSelfie&&!l.closing?(4===h.preview.length?s.capture({event:"SELFIE_CMPLT",extradata:h.preview.length},s.captureGroups.trackevents):s.capture({event:"SELFIE_INCMPLT",extradata:h.preview.length},s.captureGroups.trackevents),l.closing=!0,n(function(){d.creatingSelfie=void 0,e.destroy(p,f,"preview"),angular.element(c[0].getElementsByClassName("selfie-creation")).removeClass("animate")},1e3)):(l.closing=!0,n(function(){d.selectedSelfie=void 0},1e3)),d.closeSelfieView=void 0,d.cameraValid=void 0},d.cameraValid=function(){function a(){n(function(){if(h.preview.length<4){void 0!==h.preview.length?0:Number(h.preview.length);l.animationProgress+=" animate-"+(h.preview.length+1)+" ",l.flickerMode=!0;var a="data:image/jpeg;base64,"+e.takeSnapshot(f,400,400),r="data:image/jpeg;base64,"+e.takeSnapshot(f,322,276),o="data:image/jpeg;base64,"+e.takeSnapshot(f,150,150);h.preview.push(a),h.sf.push(r),h.sfb.push(o),4===h.preview.length&&(m(h.preview,400,400,"sfb"),m(h.sf,322,276,"preview"),m(h.sfb,150,150,"sf"))}else i&&t.cancel(i)},500)}angular.element(c[0].getElementsByClassName("selfie-creation")).addClass("animate"),f.style.visibility="visible";var i=t(function(){l.flickerMode=!1,h.preview.length>=4?(t.cancel(i),a()):a()},700)},l.$on("$destroy",function(){d.creatingSelfie&&(d.creatingSelfie=void 0,d.closeSelfieView=void 0,d.cameraValid=void 0,e.destroy(p,f,"preview")),angular.element(document).off("click")})}}}),angular.module("younow.modals.confirm",[]).directive("confirm",["$modal",function(e){return{restrict:"A",scope:{confirm:"=",confirmData:"="},link:function(t,n,a){n.bind("click",function(){var n=["$scope","message","Api","$translate",function(e,t,n,a){try{a(t).then(function(t){e.message=t})}catch(i){e.message=t}}],i=e.open({templateUrl:"angularjsapp/src/app/components/confirm-modal/confirm.tpl.html",controller:n,windowClass:"confirmation-modal",resolve:{message:function(){return a.confirmMessage||"Are you sure?"}}});i.result.then(function(){t.confirm(t.confirmData)},function(){})})}}}]),angular.module("younow.modals.download-broadcast-modal",[]).controller("DownloadBroadcastModalCtrl",function(e,t,n,a,i){var r=this;r.channelId=a.channelId,r.session=n,r.config=i,r.submitting=!1,r.submitEmail=function(n){return r.submitting=!0,n.$invalid?(t.triggerTooltip("emailInput",2e3),!1):(a.emailAddress=r.session.user.email,void t.post("BROADCAST_DOWNLOAD",a).then(function(n){e.dismiss(),r.submitting=!1,n.errorCode?t.showTopNotification("An error occurred. Please try again"):t.showTopNotification("Success. You will receive an email soon","success")}))}}),angular.module("younow.modals.ep",[]).controller("EpModalCtrl",["$scope","config","session","$modalInstance","Api","data",function(e,t,n,a,i,r){e.modal={state:r.state?r.state:"intro"};var o={intro:2,description:2,expired:4};e.modal.thumb=t.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+n.user.userId,e.modal.noThumb=t.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",e.modal.session=n,e.modal.name=i.friendlyName(n.user),e.modal["continue"]=function(){"intro"===e.modal.state?e.modal.state="description":a.close()},e.$on("$destroy",function(){i.post("CHANNEL_UPDATE_EDITORS_PICK",{userId:n.user.userId,channelId:n.user.userId,locale:t.UILocale,state:o[e.modal.state]})})}]),angular.module("younow.fan-button",[]).directive("fanButton",["session","Api","broadcasterService","config","trackingPixel","$rootScope","guestService","webpush","eventbus",function(e,t,n,a,i,r,o,s,l){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/fan-button/fan-button.tpl.html",scope:{channel:"=",size:"@",classname:"@"},link:function(o,c,u){function d(t,n){if(void 0!==n.list)for(var a=0;a<n.list.length;a++){var i=n.list[a];e.fanStatus[i]=n.fan>0?!0:!1,o.channel.totalFans=1*o.channel.totalFans+n.fan,1===n.fan&&s.triggerPushPrompt("FAN")}else e.fanStatus[o.channel.userId]=n.fan>0?!0:!1,o.channel.totalFans=1*o.channel.totalFans+n.fan,1===n.fan&&s.triggerPushPrompt("FAN")}"small"===o.size&&c.addClass("btn-small"),o.base=a.settings.ServerCDNBaseUrl,o.hidden=!0,o.subStatus=e.subStatus,o.fanStatus=e.fanStatus,o.checkFan=function(t){t&&t.userId&&(e.user&&t.userId==e.user.userId?o.hidden=!0:(e.getFan(t.userId),o.hidden=!1),o.channel=t)},a.init.then(function(){o.$watch("channel",o.checkFan,!0)}),o.toggleFan=function(){if(i.trackClick("FAN"),r.gaEvent("Conversion","Fan (Attempt)",i.getUserLocation()||"ANCILLARY"),!e.loggedIn)return e.showLoginModal("","FAN").result.then(o.toggleFan),!1;var a,s;e.fanStatus[o.channel.userId]?(a="CHANNEL_UNFAN",s=-1):(a="CHANNEL_FAN",s=1);var l={userId:e.user.userId,channelId:o.channel.userId};n.broadcaster&&n.broadcaster.broadcastId&&(l.broadcastId=n.broadcaster.broadcastId),c[0].parentElement.attributes["track-source"]&&(l.fan_type=c[0].parentElement.attributes["track-source"].value),!c[0].parentElement.attributes["track-context"]||"GUESTLIST"!==c[0].parentElement.attributes["track-context"].value&&"GUESTLIVE"!==c[0].parentElement.attributes["track-context"].value||(l.fan_type=c[0].parentElement.attributes["track-context"].value),c[0].parentElement.attributes.modelId&&(l.modelId=c[0].parentElement.attributes.modelId.value),t.post(a,l).then(function(e){e.data&&!e.data.errorCode&&d(void 0,{fan:s})})},l.subscribe("fanbutton:updateUI",d,"fanbutton",o)}}}]),angular.module("younow.footer",["ui.router"]).directive("footer",function(){return{restrict:"A",replace:!0,templateUrl:"angularjsapp/src/app/components/footer/footer.tpl.html",controller:"FooterCtrl"}}).controller("FooterCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){e.state=i,e.config=o,e.links={},e.selectLanguage=function(e){t.gaEvent("LANGUAGE","user-selected","from-footer",e),l.updateLanguage(e),p.guestListCountFormatted=c.trustedHTML(f("translate")("_guests"))},e.selectLocale=function(e){t.gaEvent("LOCALE","user-selected","from-footer",e),u.updateLocale(e)},e.openModal=function(e){return i.is("about")&&a.navigator.userAgent.search("Chrome/39")>0?(a.open(e,"_blank"),!1):void r.iframe(e)},e.openAsModal=function(e){return i.is("about")&&a.navigator.userAgent.search("Chrome/39")>0?!0:(r.iframe(e.target.href),void e.preventDefault())},e.openDoc=function(t,n){e.doAboutClick("Footer link",n),
i.is("policy")||(a.open(t.target.href,"_blank"),t.preventDefault())},e.showAbout=function(){i.go("about")},e.downloadApp=function(e){c.goMobile(e,l.user.level,"_FOOTER")},e.doAboutClick=function(e,n){i.is("about")&&t.gaEvent("About Page Button Click",e,n)}}),angular.module("younow.modals.gate",[]).controller("GateModalCtrl",["$scope","$translate","$modalInstance","data",function(e,t,n,a){e.data=a,e.respond=function(e){n.close(e)}}]),angular.module("younow.guest-button",[]).directive("guestButton",function(e,t,n,a,i,r,o,s){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/guest-button/guest-button.tpl.html",scope:{channel:"=",onInvite:"&"},link:function(o,l,c){function d(){this.location={state:o.channel.state,country:o.channel.country,city:o.channel.city},this.formattedLocation=this.location?a.cleanLocation(this.location):"",this.name=o.channel.profile,this.userId=o.channel.userId,this.level=o.channel.level,this.locale=o.channel.locale,this.mode="direct",this.bars="",this.chatRole="",this.fanRank="",this.snapshotUrl="",this.subscriptionType=""}function p(e){return a.post("GUEST_ISINVITABLE",{userId:n.user.userId,guestId:e})}if(e.broadcast&&e.broadcast.userId===n.user.userId&&"1"==e.broadcast.allowGuestCallers&&r.supportsWebRtc()?o.hidden=!1:o.hidden=!0,!o.hidden){l.on("click",function(){if("ready"!=t.overlayStates.guest&&"connected"!=t.overlayStates.guest)return!1;void 0!==s.currentSelfie&&s.clearSelfies(e.broadcast.userId,n.user.userId),i.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_INVITE_GUEST"});var a=new d;"connected"==t.overlayStates.guest?(t.overlayStates.guest="swapping",t.pendingGuest={guest:a},o.onInvite()):(t.inviteGuest(n.user.userId,o.channel.userId,a,"direct"),o.onInvite())}),o.$watch(function(){return t.overlayStates.guest},function(e){e&&("ready"!=e&&"connected"!=e?l.children().addClass("disabled"):l.children().removeClass("disabled"))});var u=o.$watch(function(){return o.channel},function(n){void 0!==n&&(u(),e.broadcast&&(e.broadcast.userId==n.userId||t.guest&&t.guest.userId==n.userId)&&(o.hidden=!0),p(n.userId).then(function(e){0===e.data.errorCode&&void 0!==e.data.isInvitable&&1!=e.data.isInvitable&&(o.hidden=!0)}))})}}}}),function(){window.YouNow.ReactComponents.GuestListComponent=React.createClass({displayName:"GuestListComponent",propTypes:{guests:React.PropTypes.array,userId:React.PropTypes.any,config:React.PropTypes.object,openProfile:React.PropTypes.func.isRequired,inviteGuest:React.PropTypes.func.isRequired,broadcaster:React.PropTypes.object,translatedText:React.PropTypes.object},render:function(){var l,c,e=this.props.userId,t=this.props.config,n=this.props.broadcaster,a=this.props.translatedText.guest_make,i=this.props.openProfile,r=this.props.inviteGuest,o=function(e){i(this,e)},s=function(){r(this)},d=window.YouNow.ReactComponents.UserBadge;if(this.props.guests&&this.props.guests.length>0){var p=this.props.guests.map(function(i,r){return i.userId!=e?(l=i.bars>0&&i.formattedLocation.length>0?React.createElement("div",null,React.createElement("span",{className:"guest-bars"},React.createElement("i",{className:"ynicon ynicon-icon-bar"})," ",i.bars),React.createElement("span",{className:"bullet"},""),React.createElement("span",{className:"guest-location"},i.formattedLocation)):i.bars>0?React.createElement("div",null,React.createElement("span",{className:"guest-bars"},React.createElement("i",{className:"ynicon ynicon-icon-bar"})," ",i.bars)):i.formattedLocation.length>0?React.createElement("div",null,React.createElement("span",{className:"guest-location"},i.formattedLocation)):null,c=i.description&&i.description.length>0?React.createElement("div",{className:"description line-clamp"},i.description):null,React.createElement("div",{className:"guest",key:i.userId},React.createElement("div",{className:"thumb clickable",onClick:o.bind(i.userId,r),style:{backgroundImage:"url("+t.settings.GuestSnapshotsBaseUrl+i.snapshotUrl+")",backgroundSize:"cover"}}),React.createElement("div",{className:"summary"},React.createElement("div",{className:"guest-name short-text clickable",onClick:o.bind(i.userId,r)},React.createElement(d,{role:i.chatRole,level:i.level,subscriptionType:i.subscriptionType,channelId:i.userId,broadcaster:n,config:t}),React.createElement("b",null,i.name)),l,c,React.createElement("button",{className:"btn btn-primary",onClick:s.bind(i)},a)))):void 0});return React.createElement("div",null,p)}return null}})}(),angular.module("younow.channel.guest-panel",[]).controller("GuestPanelCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p){function b(e){var t=!0,r={channelId:n.broadcast.userId,sort:l.listPreferences.filter};e&&o.polls.guestList&&(a.cancel(o.polls.guestList),delete o.polls.guestList),void 0!==l.listPreferences.dir&&(r.dir=l.listPreferences.dir),t=n.broadcast.userId==i.user.userId?!1:!0,o.get("GUEST_LIST",r,t).then(function(e){e.data.nextRefresh=e.data.nextRefresh?e.data.nextRefresh:30,e.data.list&&(y(e.data.list),m!=e.data.nextRefresh&&void 0!==o.polls.guestList&&(a.cancel(o.polls.guestList),delete o.polls.guestList)),e.data.errorCode>0&&o.showTopNotification(e.data.errorMsg),o.polls.guestList||(o.poll(b,"guestList",e.data.nextRefresh),m=e.data.nextRefresh)})}function y(e){for(var t=0;t<e.length;t++)e[t].location?e[t].formattedLocation=o.cleanLocation(e[t].location):e[t].formattedLocation="";g=null,g=e,f.loadGuestList()}var h,m,g,f=this,v=5;f.animate=!1,f.state="guestList",f.swf=n,f.session=i,f.config=s,f.guestService=l,f.cameraReady=!1,f.translatedText={guest_make:p("translate")("guest_make")},f.guestListFilter="sorting_level",f.guestListFilterLabels={sorting_level:"Level",sorting_waitingtime_asc:"Waiting Longest",sorting_waitingtime_desc:"Just Joined",sorting_alphabetical:"Alphabetical"},f.openGuestOptIn=function(){return!window.getUserMedia||o.isMEdge()?(c.alert("Sorry, you're browser doesn't support YouNow broadcasting. Please upgrade to the latest version of <a href='https://www.mozilla.org/en-US/firefox/new/' target='_blank'>FireFox</a> or <a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Chrome</a>."),d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_BECOME",field2:"UNSUPPORTED"}),!1):l.userGuestObj?!1:0===i.user.userId?(i.showLoginModal(!1,"GUEST_BECOME").result.then(function(e){e.data&&0!==e.data.id&&(f.state="guestPreview",d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_BECOME",field2:"CONFIRM"}),t.loadPreview("preview-video").then(function(e){f.previewStream=e},function(){f.state="guestList"}))}),!1):(d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_BECOME",field2:"CONFIRM"}),f.state="guestPreview",void t.loadPreview("preview-video").then(function(e){f.previewStream=e},function(){f.state="guestList"}))},f.closeGuestOptIn=function(){f.state="guestList",f.imageTaken=void 0,f.previewImage=void 0,f.counter=void 0,h&&a.cancel(h),d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_GIF_CANCEL"})},f.previewCountdown=function(e){return f.previewStream?(f.imageTaken?d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_REDO_PREVIEW"}):d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_MAKE_PREVIEW"}),f.counter=3,f.previewImage=void 0,void(h=a(function(){0!==f.counter&&f.counter--,0===f.counter&&(a.cancel(h),f.previewImage=t.takeSnapshot(document.getElementById("preview-video"),320,240),f.imageTaken||(f.imageTaken=!0))},1e3))):(c.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings."),f.state="guestList",!1)},f.optIn=function(){d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_GIF_SUBMIT"}),o.post("GUEST_OPTIN",{channelId:n.broadcast.userId,userId:i.user.userId,snapshot:f.previewImage}).then(function(e){0===e.data.errorCode&&e.data.guestInfo&&(f.state="guestList",r(function(){t.destroy(f.previewStream,void 0,"preview"),l.newUserGuestObj(e.data.guestInfo),b(!0)},1e3),r(function(){f.previewImage=void 0,f.imageTaken=!1},3e3)),(e.data.errorCode>0||!e.data.guestInfo)&&(f.state="guestList",r(function(){t.destroy(f.previewStream,void 0,"preview")},1e3),r(function(){f.previewImage=void 0,f.imageTaken=!1},3e3))})},f.optOut=function(){o.post("GUEST_OPTOUT",{channelId:n.broadcast.userId,userId:i.user.userId}).then(function(e){0===e.data.errorCode&&(l.updateUserGuestObj(),b(!0)),e.data.errorCode>0&&o.showTopNotification(e.data.errorMsg)}),d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_REMOVE_ME"})},f.inviteGuest=function(e){return l.pendingGuest?!1:void(l.guest?(l.overlayStates.guest="swapping",l.pendingGuest={guest:e}):l.inviteGuest(i.user.userId,e.userId,e))},f.openProfile=function(e,t){c.profileSummary(e,{source:"GUESTLIST"}),t&&(i.user.userId==n.broadcast.userId?d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_GUEST_GIF",sourceid:t+1}):d.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_GIF",sourceid:t+1}))},f.cameraValid=function(){var e=t.checkIfCameraExists(f.previewStream);e&&(f.cameraReady=!0)},u.subscribe("session:loggedIn",function(e,t){t||(f.state="guestList")},"guestpanel",e),f.loadGuestList=function(e){g&&(e&&g.length>v&&(v+=5),f.guestList=p("limitTo")(g,v))},f.sortGuestList=function(e,t){e&&(l.listPreferences.dir=void 0,void 0===t?t="":(l.listPreferences.dir="desc"==t?0:1,t="_"+t),l.listPreferences.filter=e,f.guestListFilter="sorting_"+e+t,v=5,b(!0))},b(),e.$on("$destroy",function(){h&&a.cancel(h),o.polls.guestList&&(f.guestList=null,a.cancel(o.polls.guestList),delete o.polls.guestList)})}).value("GuestListComponent",window.YouNow.ReactComponents.GuestListComponent).directive("guestList",function(e){return e("GuestListComponent")}).directive("guestPanel",function(e){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html",controller:"GuestPanelCtrl",controllerAs:"vm",scope:{},link:function(t,n,a,i){n.on("$destroy",function(){i.previewStream&&e.destroy(i.previewStream,void 0,"preview")})}}}),angular.module("younow.header",["ui.router"]).directive("header",function(){return{restrict:"A",replace:!0,templateUrl:"angularjsapp/src/app/components/header/header.tpl.html",controller:"HeaderCtrl"}}).controller("HeaderCtrl",["$location","$interval","$scope","$state","$location","$timeout","config","session","swf","broadcasterService","Api","$translate","$modal","$rootScope","eventbus","trackingPixel","guestService","ab","selfies","pusher",function(e,t,n,a,e,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b){function S(e){return s.settingUpBroadcast&&(o.isBroadcasting=!0),o.isBroadcasting||m.guest&&m.guest.userId==o.user.userId?!1:void e()}function _(e){"main.explore"===e?n.currentGradient=n.stateGradients.explore:"main.channel.detail"===e?i(function(){n.broadcasterService.async?n.currentGradient=n.stateGradients.profile:n.currentGradient=n.stateGradients.live},0):"main.momentsFeed"===e?n.currentGradient=n.stateGradients.moments:"/partners/earnings"===e?n.currentGradient=n.stateGradients.profile:n.currentGradient=n.stateGradients["default"]}n.session=o,n.config=r,n.swf=s,n.pusher=b,n.broadcasterService=l,n.searchBox="",n.userMenuOpened=!1,n.Api=c,n.locales=[],n.gradientProgress="",n.currentGradient="",n.logoBlack="",n.userMenu={open:!1},n.hasSeen=c.store("seenLeaderboards"),r.init.then(function(){n.inEarningsExp="B"==g.variant("PARTNER_EARNINGS_PAGE")});for(var y in r.settings.Locales)n.locales.push({locale:y,name:r.settings.Locales[y].name});var w={};n.getBars=function(){return o.user&&0!==o.user.banId?(o.checkBan(),!1):void d.buyBars(o.user.spendingDisabled)},n["goto"]=function(t){return t?("http"==t.substr(0,4)&&(t=t.slice(t.indexOf(t.split("/")[3]))),void e.path(t)):!1},n.selfProfile=function(){S(function(){l.switchBroadcaster(o.user.profile,!0,!0),i(function(){-1!==a.current.name.indexOf("main.channel.")&&"main.channel.detail"!==a.current.name&&a.go("main.channel.detail")})})},n.onMainPage=function(){return l.broadcaster&&l.broadcaster.broadcastId&&a.is("main.channel.detail")?!0:!1},n.checkNotifications=function(e){var t=angular.element(document.getElementById("notifications-dropdown")).hasClass("open");t||(o.notificationCount=0,o.getNotifications(0))},n.checkSessions=function(e){angular.element(document.getElementById("sessions-dropdown")).hasClass("open");console.log(o.savedSessions)},n.openNotification=function(e,t){"I"===t.target.tagName||"BUTTON"===t.target.tagName?(t.preventDefault(),t.stopPropagation()):S(function(){e.linkTo?(n["goto"](e.linkTo),l.deeplinking=!0):l.switchBroadcaster(e.eventUserId)})},n.preventClose=function(e){return e.stopPropagation(),!1},n.addSession=function(){var e=document.getElementById("sessionAdd"),t=e.value,n=t.indexOf(":");if(32==n&&69==t.length){var a=t.substring(0,32),i=t.substring(33);o.previousSession=readCookie("PHPSESSID"),o.previousSessionSLT=readCookie("slt"),o.addingSessionID=a,o.addingSessionSLT=i,o.addingSession=!0,document.cookie="PHPSESSID="+a+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",document.cookie="slt="+i+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",o.getSession()}else d.alert("The entered session data is invalid. Format is: {SESSIONID}:{SLT}")},n.openSession=function(e){document.cookie="PHPSESSID="+e.session+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",document.cookie="slt="+e.slt+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",o.sessionSwitched=!0,o.getSession()},n.openSettings=function(e){return o.user&&0!==o.user.banId?(o.checkBan(),!1):s.settingUpBroadcast||m.guest&&m.guest.userId==o.user.userId?(o.preventBroadcastInterrupt(),!1):(e=e?e:"",void a.go("main.settings",{section:e}))},n.openWindow=function(e,t){S(function(){t=t?"#"+t:"",window.open(e+t,"_blank")})},n.openModForm=function(e,t){var n={},a=new Date,i=a.getMinutes();0!==o.user.userId&&(n.field1=o.user.firstName,n.field2=o.user.lastName,n.field17=o.user.email),l.broadcaster&&l.broadcaster.username&&(n.field19=window.location.protocol+"://www.younow.com/"+l.broadcaster.profile,n.field5=l.broadcaster.username),n.field7=a.getHours()>12?a.getHours()-12:a.getHours(),n["field7-1"]=10>i?"0"+i:i,n["Field7-3"]=a.getHours()<12?"AM":"PM",e=c.buildWufooUrl(e+"/",n),t=t?"#"+t:"",window.open(e+t,"_blank")},n.isPartner=function(e){if(o.user){var t=o.user.partner;if("active"===e&&1===t)return!0;if("pending"===e&&(2===t||6===t||7===t))return!0}return!1},n.needsUpdate=function(){var e=n.isPartner("active");return"4"!==o.user.mcnTypeId&&"3"!==o.user.mcnTypeId&&e===!0?!0:!1},n.loadChannel=function(e){l.switchBroadcaster(e)},n.toggleUserMenu=function(e){n.userMenu.open=!0,w&&w.dismissUserMenu&&i.cancel(w.dismissUserMenu),w&&e&&(w.dismissUserMenu=i(function(){n.userMenu.open=!1},500))},n.goLive=function(){return h.trackClick("GOLIVE"),o.checkBan()?!1:o.isBroadcasting||s.settingUpBroadcast||m.guest&&m.guest.userId==o.user.userId?(o.preventBroadcastInterrupt(),!1):r.mcu&&(!window.getUserMedia||c.isMEdge())||navigator.userAgent.indexOf("Safari")>-1&&-1==navigator.userAgent.indexOf("Chrome")?(d.alert("Sorry, your browser doesn't support YouNow broadcasting. Please upgrade to the latest version of <a href='https://www.mozilla.org/en-US/firefox/new/' target='_blank'>FireFox</a> or <a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Chrome</a>."),!1):("main.channel.detail.endOfBroadcast"===a.current.name&&a.go("main.channel.detail"),l.goLive(),s.goLive(),void v.clearSelfies())},n.doHeaderNavigation=function(e,t){S(function(){"moments"!==e||o.loggedIn||(o.showLoginModal("","MOMENT_FEED").result.then(function(){a.go("main.momentsFeed")}),t.preventDefault(),t.stopPropagation()),h.trackClick(e,{field1:"HEADER"})})},n.getTheApp=function(){h.trackClick("GETTHEAPP",{field1:"HEADER"}),d.mobileDownload(h.getUserLocation()||"ANCILLARY")},n.loginClick=function(e){p.gaEvent("Conversion",e,h.getUserLocation()||"ANCILLARY"),h.trackClick("SIGNIN")},n.clickLogo=function(t){S(function(){o.user&&0===o.user.userId?(r.showHomepage=!0,e.path("/"+t)):l.featuredBroadcaster()})},n.goToProfile=function(t,n){S(function(){n.stopPropagation(),e.path(t+"/channel")})},n.checkSeenLeaderboards=function(){c.store("seenLeaderboards",!0),n.hasSeen=c.store("seenLeaderboards")},n.stateGradients={live:"linear-gradient(270deg, #0293fc, #7de316)",profile:"linear-gradient(270deg, #f93593, #943bf8)",explore:"linear-gradient(270deg, #fadd2f, #f49223)",moments:"linear-gradient(270deg, #943bf8, #0397fb)","default":"linear-gradient(270deg, #80e230 , #80e230)"};var C=n.$on("$stateChangeStart",function(e,t,a,i,r){_(t.name),n.gradientProgress=0});n.load=function(){"home"===a.current.name&&(n.logoBlack=!0),_(a.current.name),i(function(){n.gradientProgress<100&&(n.gradientProgress=100)},1e3)};var T=n.$on("$stateChangeSuccess",function(e,t,a,r,o){i(function(){n.gradientProgress<100&&(n.gradientProgress=100)},1e3)});n.$on("$destroy",function(){T(),C()}),f.subscribe("user:onNotificationCountChange",function(){angular.element(document.getElementById("notifications-dropdown")).hasClass("open")&&(o.notificationCount=0,o.getNotifications(0))},"header",n)}]),angular.module("younow.modals.iframe",[]).controller("IframeModalCtrl",["$scope","Api","src",function(e,t,n){e.src=t.trustedSrc(n)}]),angular.module("younow.leftsidebar",[]).directive("leftsidebar",function(e,t,n,a,i){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html",controller:"LeftSidebarCtrl",controllerAs:"leftSidebar"}}).controller("LeftSidebarCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p){var f=this;f.baseImages=o.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/images",f.session=i,f.swf=r,f.dashboard=a,f.broadcasterService=n,f.usersTrendingCollapsed=!1,f.usersFeaturedCollapsed=!1,f.tagsTrendingCollapsed=!1,f.friendsCollapsed=!1,f.mobileCollapsed=!1,f.session=i,f.localeLanguageMenu=null,f.toggleMenu=function(e){null===f.localeLanguageMenu?f.localeLanguageMenu=e:f.localeLanguageMenu=null},f.selectLanguage=function(e){t.gaEvent("LANGUAGE","user-selected","from-footer",e),i.updateLanguage(e),u.guestListCountFormatted=s.trustedHTML(p("translate")("_guests"))},f.selectLocale=function(e){t.gaEvent("LOCALE","user-selected","from-footer",e),n.updateLocale(e)},f.config={thumb:o.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",nothumb:o.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",base:o.settings.ServerCDNBaseUrl},f.getTagFeatured=function(e){return c.trackClick("TAG",{field1:"SIDEBAR"}),r.settingUpBroadcast&&(i.isBroadcasting=!0),i.isBroadcasting||u.guest&&u.guest.userId==i.user.userId?(i.preventBroadcastInterrupt(),!1):(t.gaEvent("Conversion","Click Tag",c.getUserLocation()||"ANCILLARY"),i.isBroadcasting=0,r.settingUpBroadcast=!1,void l.go("main.explore",{tag:e,q:void 0},{reload:!0}))},f.changeBroadcaster=function(e){return c.trackClick("BROADCASTER"),r.settingUpBroadcast&&(i.isBroadcasting=!0),(i.isBroadcasting||u.guest&&u.guest.userId==i.user.userId)&&!n.async?(i.preventBroadcastInterrupt(),!1):r.broadcast&&n.broadcast&&!n.async&&e==n.broadcaster.userId&&"main.channel.detail"===l.current.name?!1:(n.switchBroadcaster(e),void(r.settingUpBroadcast=!1))},f.trackMobile=function(e){("IOS"==e||"ANDROID"==e)&&c.trackClick("GETTHEAPP",{field1:"SIDEBAR"});var t;n.async&&"main.settings"!==l.current.name&&"about"!==l.current.name&&"policy"!==l.current.name&&"main.explore"!==l.current.name&&"lockout"!==l.current.name&&(t="PROFILE"),n.async||(t="BROADCAST"),"main.explore"===l.current.name&&(t="EXPLORE"),void 0===t&&(t="OTHER"),s.goMobile(e,i.user.level,"_SIDEBAR",t)}}),angular.module("younow.modals.login",[]).controller("LoginModalCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){function h(t){var n=0,i=a(function(){n++,60===n&&window[t+"Popup"]&&window[t+"Popup"].close&&window[t+"Popup"].close(),20===n&&"google"===t&&(e.loggingIn[t]=!1,a.cancel(i)),window[t+"Popup"]&&window[t+"Popup"].closed&&(e.loggingIn[t]=!1,a.cancel(i))},1e3)}e.base=s.settings.ServerCDNBaseUrl,e.soft=u,e.loggingIn={},e.data=f||{},e.data.title||(e.data.title="loginmodal_title"),d||(d=l.$current.name),n(function(){"LINK"===d&&(d=l.is("main.channel.detail")?c.async?"LINK_PROFILE":"LINK_LIVE":"LINK_OTHER"),t.gaEvent("LOGIN","PROMPT",d)},500),e.showMoreOptions=function(){e.moreOptions=!0},e.cancel=function(){i.dismiss("Modal closed without authenticating")},e.login=function(a){e.attemptedLogin||(e.attemptedLogin=!0),e.loggingIn[a]=!0,h(a),t.gaEvent("LOGIN","ATTEMPT_"+a.toUpperCase(),d),p.trackClick("LOGIN",{field1:a.toUpperCase(),field2:d.toUpperCase()}),r.authenticate[a]?n(function(){r.auth(a).then(function(r){r&&r.data&&r.data.id?(r.data.newUser?t.gaEvent("LOGIN","LOGIN_NEW_"+a.toUpperCase(),d):t.gaEvent("LOGIN","LOGIN_RETURNING_"+a.toUpperCase(),d),n(function(){i.close(r)},300),r.data.coinFeedbackCopy&&r.data.coinFeedbackAmount&&o.showTopNotification(r.data.coinFeedbackCopy+' <img class="coin-sm" src="'+s.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+r.data.coinFeedbackAmount,"now",!1,void 0,5e3)):m("Unsuccessful"),e.loggingIn[a]=!1})["catch"](function(){e.loggingIn[a]=!1,m("Failed to login")})},0):m("Invalid auth method")};var m=function(e){i.dismiss(e)};u||m("m")}),angular.module("younow.modals.media-player-modal-exp",[]).controller("MediaPlayerModalExpCtrl",["$rootScope","$scope","$modalInstance","config","Api","session","broadcastId","trackingPixel","$interval","$timeout","$state","params","broadcast","broadcasterService","swf","$window","$modal",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g){console.log("BS1",v,o);var v=o;o=v.shift();var y,w,b=this;w=window.onbeforeunload,t.session=r;var _,S=0;d&&void 0!==d.start&&(u.params.copy=d.start,delete d.start),b.channel={},b.broadcast={},s.archiveActive=!0,window.YouNow.track.pageFirst||(window.waitForPageType=!1,e.gaPage({pageType:"archived broadcast"})),console.log("BS2",v,o);var C=function(e){i.get("BROADCAST_VIDEO_PATH",{broadcastId:e},!0).then(function(n){if(n.data.errorCode){if(v&&v[0])return e=v.shift(),C(e),!1;var o="Error: "+n.data.errorCode+"<br />"+n.data.errorMsg;248==n.data.errorCode&&(o='<b style="color:#111;">We\'re sorry; this broadcast has not yet finished saving (encoding) to a video file.</b><br />Check back later, and please note that this may take a while if it was a very long broadcast.'),window.$(".modal-content").html('<table style="height:100%;width:100%;"><tbody><tr><td style="color: #666;text-align: center;">'+o+"</td></tr></tbody></table>"),console.warn("broadcast/videoPath",n.data.errorCode,n.data.errorMsg)}else{h.oldVolume=h.volume||100,h.volume=0,h.setMiniPlayerVolume(),b.broadcast=f.channelFormat(n.data,p),b.broadcast.broadcastId=b.broadcast.broadcastId||e,b.broadcast.downloadUrl=f.getDownloadUrl(b.broadcast.broadcastId),jwplayer.key=a.settings.JW_PLAYER_KEY;var s=b.broadcast.server+b.broadcast.stream+"?sessionId="+r.user.session,c=[{file:s}],u={file:s,levels:c,image:a.imageApis.broadcast+e,width:"592",height:"444",autostart:!1,flashplayer:"js/jwplayer7.3/jwplayer.flash.swf",controlbar:{position:"bottom"},logo:{file:a.settings.ServerCDNBaseUrl+"/images/jwlogo4.png",position:"bottom-left",margin:"0"},events:{onError:function(e){t.gaEvent("Broadcast Player","playbackError","Profile Broadcasts")},onReady:function(e){},onPlay:function(e){b.broadcast.loginAttempted||r.user.userId||(window.jwplayer("media-player-modal-player-expplayer").pause(),b.broadcast.loginAttempted=!0,g.loginModal("","POST").result.then(function(){window.jwplayer("media-player-modal-player-expplayer").play()})["catch"](function(){window.jwplayer("media-player-modal-player-expplayer").play()})),b.seekInterval||(y=jwplayer("media-player-modal-player-expplayer"),b.seekInit()),_||(_=l(function(){S++},1e3))},onPause:function(e){l.cancel(_),_=!1,S++}}};jwplayer("media-player-modal-player-expplayer").setup(u),i.get("CHANNEL_INFO",{channelId:b.broadcast.userId},!0).then(function(e){e.data.errorCode?console.warn("CHANNEL_INFO",e.data.errorCode,e.data.errorMsg):(b.channel=f.channelFormat(e.data),h.snapshotLinks({broadcast:b.broadcast}).then(function(e){b.links=e,b.broadcast.sharePath=e.COPIEDURL,b.broadcast.shareTitle=b.broadcast.broadcastTitle.replace(/\s/g,"-")+"",b.broadcast.href=b.broadcast.sharePath+"/"+b.broadcast.shareTitle}))})}})};C(o),b.seekClick=function(e){y.seek(b.broadcast.length*b.broadcast.offsetXFraction)},b.seekMove=function(e){e.offsetX&&e.offsetX>.01&&(b.broadcast.offsetX=e.offsetX,b.broadcast.offsetXFraction=e.offsetX/592,b.broadcast.offsetXString=T(parseInt(b.broadcast.length*b.broadcast.offsetXFraction)))};var T=function(e){var t=(Math.floor(e/3600)||"")+"",n="";t&&(n=":");var a=Math.floor(e%3600/60)||"0",i="";(10>a||"0"==a)&&(i="0");var r=":",o="",s=e%60||"0";(10>s||"0"==s)&&(o="0");var l=t+n+i+a+r+o+s;return l},k=function(e){var t=0,n=e.split(":"),a=0;if(n[0]){n=n.reverse();for(var i=0;3>i;){var r=a+(parseInt(n[i])||0);a=0,r>59&&(a=Math.floor(r/60),r%=60),t+=r*Math.pow(60,i),i++}}return t},A=function(e){if(!e||e.indexOf(",-")>-1)return"00:00";e=e.replace(/[^\d:]/g,"");var t=k(e);return t?e=T(t):"00:00"};b.seekOn=!1,b.seekString=b.seekValue=b.broadcast.seekString=A(u.params.copy),b.seekInitial=b.seekSec=k(b.seekString),u.params.copy&&e.gaEvent("FEATURE","archived_seek",u.params.copy),b.seekInit=function(){b.seekOn=!1,b.seekString=b.seekValue=b.broadcast.seekString=A(u.params.copy),b.seekInitial=b.seekSec=k(b.seekString),b.seekSec&&y.seek(b.seekSec),b.seekWatch(),y.getDuration()>2&&y.onComplete(b.seekReset),y.setMute(!1),y.setVolume(50),u.params.copy=""},b.seekReset=function(){l.cancel(b.seekInterval),y.seek(0),c(function(){b.seekInit()},500),c(function(){y.getDuration()>=0&&y.pause()},1e3)},b.seekWatch=function(){b.seekInterval=l(function(){b.seekSec=Math.floor(y.getPosition()),b.broadcast.positionXFraction=b.seekSec/b.broadcast.length,b.broadcast.positionX=593*b.broadcast.positionXFraction,b.broadcast.positionXString=T(parseInt(b.seekSec)),b.seekOn?b.broadcast.href=b.broadcast.sharePath+"/"+b.seekValue:(b.seekString=T(b.seekSec),b.seekValue=b.seekString,b.broadcast.href=b.broadcast.sharePath+"/"+b.broadcast.shareTitle)},1e3)},b.seekCheck=function(){b.seekOn?(b.broadcast.seekString=b.seekString,b.broadcast.href=b.broadcast.sharePath+"/"+b.broadcast.seekString):(b.broadcast.seekString=null,b.broadcast.href=b.broadcast.sharePath+"/"+b.broadcast.shareTitle)},b.seekFocus=function(){b.seekOn=!0,b.seekValueBefore=b.seekValue},b.seekChange=function(){b.seekOn=!0,c.cancel(b.seekValueTimeout),b.seekValueTimeout=c(b.seekBlur,2e3)},b.seekBlur=function(){if(b.seekValueBefore!=b.seekValue){var e=b.seekValue=A(b.seekValue),t=k(e);y.seek(t)}},b.shareFacebook=function(){FB.ui({method:"share",href:b.links.FACEBOOK})},b.shareTwitter=function(){var e="https://twitter.com/intent/tweet?text=I just watched an awesome %23YouNow broadcast. "+b.links.TWITTER;i.openPopup("Tweet",e)},t.vm=b;var x=function(){return s.archiveActive=!1,s.capture({event:"ARCHIVE_VIEW",points:S,broadcastid:b.broadcast.broadcastId,extradata:b.seekInitial>0||!d.source?"DEEP":d.source,sourceid:b.seekInitial||0})};t.$on("$destroy",function(){h.volume=h.oldVolume||100,h.setMiniPlayerVolume(),l.cancel(_),l.cancel(b.seekInterval),x("channel",{}),m.onbeforeunload=w,w=null}),m.onbeforeunload=function(e){x("channel",{})}}]),angular.module("younow.modals.media-player-modal",[]).controller("MediaPlayerModalCtrl",["$rootScope","$scope","$modalInstance","config","Api","session","broadcastId","trackingPixel","$interval","$timeout","$state","params","broadcast","broadcasterService","swf","$window","$modal",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g){var b,y,v=this;y=window.onbeforeunload,t.session=r;var S,x,I,E,w=0,_=(new Date).getTime(),C=0,T="abandon",k=0,A=0,N="";d&&void 0!==d.start&&(u.params.copy=d.start,delete d.start),v.channel={},v.broadcast={},s.archiveActive=!0,window.YouNow.track.pageFirst||(window.waitForPageType=!1,e.gaPage({pageType:"archived broadcast"})),i.get("BROADCAST_VIDEO_PATH",{broadcastId:o},!0).then(function(e){if(A=(new Date).getTime()-_,e.data.errorCode){var t="Error "+e.data.errorCode+": "+e.data.errorMsg;248==e.data.errorCode&&(t="Sorry, this broadcast is not ready to replay. Check back soon!"),i.showTopNotification(t),T="loadError",N=e.data.errorCode,n.dismiss()}else if(e.data.videoAvailable){e.data.stream&&(I=-1!=e.data.stream.indexOf("amazons3")?"s3":-1!=e.data.stream.indexOf("wowza")?"wowza":"other"),e.data.server&&(E=e.data.server.split("/")[2].split(".")[2]);var r=e.data.hls;h.oldVolume=h.volume||i.store("younowVol")||0,h.volume=0,h.setMiniPlayerVolume(),v.broadcast=f.channelFormat(e.data,p),v.broadcast.broadcastId=v.broadcast.broadcastId||o,v.broadcast.downloadUrl=f.getDownloadUrl(v.broadcast.broadcastId);var c;c=!r||-1===r.indexOf("ynassets.younow.com")&&-1===r.indexOf("hls.younow.com")?e.data.server+"&"+e.data.stream:r,x=-1!==c.indexOf("rtmp")?"rtmp":"hls",v.playerOptions={url:c,onReady:function(e){k=(new Date).getTime()-_,e.volume(h.oldVolume/100),this.onPlay()},onPlay:function(){0===C&&(T="success",C=(new Date).getTime()-_,s.capture({event:"ARCHIVE_LOAD_TIME",coins:C,broadcastid:v.broadcast.broadcastId,extradata:v.seekInitial>0||!d.source?"DEEP":d.source,sourceid:v.seekInitial||0})),v.seekInterval||(b=v.playerOptions.playerEl,v.seekInit()),S||(S=l(function(){w++},1e3))},onPause:function(){l.cancel(S),S=!1,w++},onError:function(e){l.cancel(v.seekInterval);var t=e.error();T="playError",N=i.pixelSafe(t.code+"_"+t.message,300)},player:{poster:a.imageApis.broadcast+"/"+o+"/"+o+".jpg",width:592,height:444,controls:!0,autoplay:!0}},i.get("CHANNEL_INFO",{channelId:v.broadcast.userId},!0).then(function(e){e.data.errorCode?console.warn("CHANNEL_INFO",e.data.errorCode,e.data.errorMsg):(v.channel=f.channelFormat(e.data),h.snapshotLinks({broadcast:v.broadcast}).then(function(e){v.links=e,v.broadcast.sharePath=e.COPIEDURL,v.broadcast.shareTitle=v.broadcast.broadcastTitle.replace(/\s/g,"-")+"",v.broadcast.href=v.broadcast.sharePath+"/"+v.broadcast.shareTitle}))})}else i.showTopNotification("Sorry, this video is not available"),T="loadError",N="noVideoAvailable",n.dismiss()}),v.seekClick=function(e){b.currentTime(v.broadcast.length*v.broadcast.offsetXFraction)},v.seekMove=function(e){e.offsetX&&e.offsetX>.01&&(v.broadcast.offsetX=e.offsetX,v.broadcast.offsetXFraction=e.offsetX/592,v.broadcast.offsetXString=O(parseInt(v.broadcast.length*v.broadcast.offsetXFraction)))};var O=function(e){var t=(Math.floor(e/3600)||"")+"",n="";t&&(n=":");var a=Math.floor(e%3600/60)||"0",i="";(10>a||"0"==a)&&(i="0");var r=":",o="",s=e%60||"0";(10>s||"0"==s)&&(o="0");var l=t+n+i+a+r+o+s;return l},P=function(e){var t=0,n=e.split(":"),a=0;if(n[0]){n=n.reverse();for(var i=0;3>i;){var r=a+(parseInt(n[i])||0);a=0,r>59&&(a=Math.floor(r/60),r%=60),t+=r*Math.pow(60,i),i++}}return t},M=function(e){if(!e||e.indexOf(",-")>-1)return"00:00";e=e.replace(/[^\d:]/g,"");var t=P(e);return t?e=O(t):"00:00"};v.seekString=v.seekValue=v.broadcast.seekString=M(u.params.copy),v.seekInitial=v.seekSec=P(v.seekString),u.params.copy&&e.gaEvent("FEATURE","archived_seek",u.params.copy),v.seekInit=function(){v.seekOn=!1,v.seekString=v.seekValue=v.broadcast.seekString=M(u.params.copy),v.seekInitial=v.seekSec=P(v.seekString),v.seekSec&&b.currentTime(v.seekSec),v.seekWatch(),b.duration()>2&&b.ended(v.seekReset),u.params.copy=""},v.seekReset=function(){l.cancel(v.seekInterval),b.currentTime(0),c(function(){v.seekInit()},500),c(function(){b.duration()>=0&&b.pause()},1e3)},v.seekWatch=function(){v.seekInterval=l(function(){v.seekSec=Math.floor(b.currentTime()),v.broadcast.positionXFraction=v.seekSec/v.broadcast.length,v.broadcast.positionX=593*v.broadcast.positionXFraction,v.broadcast.positionXString=O(parseInt(v.seekSec)),v.seekOn?v.broadcast.href=v.broadcast.sharePath+"/"+v.seekValue:(v.seekString=O(v.seekSec),v.seekValue=v.seekString,v.broadcast.href=v.broadcast.sharePath+"/"+v.broadcast.shareTitle)},1e3)},v.seekCheck=function(){
v.seekOn?(v.broadcast.seekString=v.seekString,v.broadcast.href=v.broadcast.sharePath+"/"+v.broadcast.seekString):(v.broadcast.seekString=null,v.broadcast.href=v.broadcast.sharePath+"/"+v.broadcast.shareTitle)},v.seekFocus=function(){v.seekOn=!0,v.seekValueBefore=v.seekValue},v.seekChange=function(){console.log("Clicking around seek: ",b.currentTime()),v.seekOn=!0,c.cancel(v.seekValueTimeout),v.seekValueTimeout=c(v.seekBlur,2e3)},v.seekBlur=function(){if(v.seekValueBefore!=v.seekValue){var e=v.seekValue=M(v.seekValue),t=P(e);b.currentTime(t)}},v.shareFacebook=function(){FB.ui({method:"share",href:v.links.FACEBOOK})},v.shareTwitter=function(){var e="https://twitter.com/intent/tweet?text=I just watched an awesome %23YouNow broadcast. "+v.links.TWITTER;i.openPopup("Tweet",e)},t.vm=v;var j=function(){return s.archiveActive=!1,0===C&&(C=(new Date).getTime()-_),s.capture({event:"ARCHIVE_VIEW",unspentcoins:A,broadcastscount:k,coins:C,points:w,broadcastid:o,extradata:v.seekInitial>0||!d.source?"DEEP":d.source,sourceid:v.seekInitial||0,field1:T,field2:x,field3:I,field4:E,field7:N})};t.$on("$destroy",function(){h.volume=h.oldVolume||100,h.setMiniPlayerVolume(),l.cancel(S),l.cancel(v.seekInterval),j("channel",{}),m.onbeforeunload=y,y=null}),m.onbeforeunload=function(e){j("channel",{})},s.capture({event:"ARCHIVE_ATTEMPT",broadcastid:o,extradata:v.seekInitial>0||!d.source?"DEEP":d.source,sourceid:v.seekInitial||0})}]),angular.module("younow.channel.moment-panel",[]).directive("momentPanel",function(e,t,n,a,i,r,o,s,a,l,c,u,d,p){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/moment-panel/moment-panel.tpl.html",scope:{target:"@",closeCallback:"="},link:function(t,n,s,f){i.store("ynMomentCaptured",!0);var h=(new Date).getTime(),m=0,g=0,v=!1,b=!1;t.panel={},t.panel.swf=e,t.panel.guestService=a,t.panel.session=r,t.panel.inputPlaceholder=d("translate")("moment_creation_caption"),e.dimmed=!0,t.vm={moment:{owner:{name:r.user.fullName,userId:r.user.userId},text:"",maxChars:30,charsRemaining:"",placeholder:!0}},t.vm.cdn=c.imageApis,t.vm.highlightClick=function(){document.getElementById("moment-caption-input").focus()},o(function(){t.vm.doAnimation()},500),t.panel.slider={left:0,right:100,width:280};var y={left:angular.element(document.getElementById("slider-handle-left")),right:angular.element(document.getElementById("slider-handle-right"))},w={left:angular.element(document.getElementById("slider-dim-left")),right:angular.element(document.getElementById("slider-dim-right"))},S={top:angular.element(document.getElementById("slider-wall-top")),bottom:angular.element(document.getElementById("slider-wall-bottom"))};t.panel.broadcastOriginalVolume=e.volume,e.setVolume(0),t.panel.close=function(){t.closeCallback&&t.closeCallback(),e.activeChatTab="Chat"},t.panel.postMoment=function(){if(b)return!1;b=!0;var n=t.panel.getSegments(),a=Math.round(((new Date).getTime()-h)/1e3);v=!0,n.text=t.vm.moment.text,n.thumbnail=i.base64ToFile(e.moment.previews[0]),n.userId=e.currentSession.userId,n.channelId=e.broadcast.userId,l({url:i.generateDynamicApi("MOMENT_CREATE"),method:"POST",headers:{"X-Requested-By":r.user.requestBy},data:n}).then(function(e){b=!1,e.data&&0===e.data.errorCode?(i.showTopNotification('<div class="moment-create-notif">'+d("translate")("moment_created",{emoji:i.convertEmoji("")})+('<button ng-click="swf.shareMoment('+e.data.momentId+')" class="btn btn-moment-share btn-outline">Share</button></div>'),"moment",!1,"",1e4),t.panel.close(),p.capture({event:"MOMENT_POST_SUCCESS",unspentcoins:g,coins:n.startSegmentOffset,points:n.trimmedLength,sourceid:e.data.momentId},p.captureGroups.trackevents)):(i.showError(e.data),p.capture({event:"MOMENT_ABANDON",extradata:t.vm.moment.text,broadcastscount:a,unspentcoins:g,coins:n.startSegmentOffset,points:n.trimmedLength,field1:m,field2:e.data.errorCode,field3:e.data.errorMsg},p.captureGroups.trackevents))}),p.capture({event:"MOMENT_POST",extradata:t.vm.moment.text,broadcastscount:a,unspentcoins:g,coins:n.startSegmentOffset,points:n.trimmedLength,field1:m},p.captureGroups.trackevents)},t.panel.moveSlider=function(n,a){var i=angular.element(document.getElementById("moment-progress"));i.addClass("quick-return"),e.moment.options.playerEl.pause();var r=a.screenX,s=e.moment.length<e.moment.minLength?e.moment.length:e.moment.minLength/e.moment.length*100,l=t.panel.slider[n],c="left"===n?t.panel.slider.right-s:100,d="right"===n?t.panel.slider.left+s:0,p=function(e){var a=l+100*(e.screenX-r)/t.panel.slider.width;d>a&&(a=d),a>c&&(a=c),t.panel.updatePreview(a),t.panel.sliderPos(n,a)},f=function(e){t.panel.scrublord=!1,u.off("mousemove",p),u.off("mouseup",f),t.panel.updatePlayer(),o(function(){i.removeClass("quick-return")},100)};u.on("mousemove",p),u.on("mouseup",f),t.panel.updatePreview(l),g++},t.panel.sliderPos=function(e,n){y[e].css("left",n+"%"),t.panel.slider[e]=n;var a="left"===e?n:100-n;w[e].css("width",a+"%"),S.top.css(e,a+"%"),S.bottom.css(e,a+"%")},t.panel.updatePlayer=function(){e.moment.start=t.panel.slider.left,e.moment.end=t.panel.slider.right;var n=e.moment.length-e.moment.length/100*(100-e.moment.start);e.moment.options.playerEl.currentTime(n),e.moment.options.playerEl.play()},t.panel.updatePreview=function(n){var a=Math.round(e.moment.previews.length/100*n);a!=t.panel.preview&&o(function(){t.panel.preview=a}),t.panel.scrublord=!0},t.panel.getSegments=function(){var t={},n=e.moment.length-e.moment.length/100*(100-e.moment.start),a=e.moment.length-e.moment.length/100*(100-e.moment.end),i=e.moment.options.playerEl.tech({IWillNotUseThisInPlugins:!0}).hls,r=[];if(i)r=i.playlists.media().segments;else for(var o=e.moment.initial.startSegment;o<=e.moment.initial.endSegment;o++)r.push({duration:4,uri:"fake/"+o+".ts"});if(t.startSegment=r[0].uri.split("/").pop().split(".")[0],t.startSegmentOffset=0,t.endSegment=r[r.length-1].uri.split("/").pop().split(".")[0],t.endSegmentOffset=0,t.trimmedLength=a-n,0!==e.moment.start||100!==e.moment.end){var s,l=0;angular.forEach(r,function(e,i){s=l+e.duration,n>l&&s>=n&&(t.startSegment=e.uri.split("/").pop().split(".")[0],t.startSegmentOffset=(n-l).toFixed(3)),a>l&&s>=a&&(t.endSegment=e.uri.split("/").pop().split(".")[0],t.endSegmentOffset=(l+e.duration-a).toFixed(3)),l+=e.duration})}return t},t.panel.updateCaption=function(){m++,t.vm.moment.charsRemaining=0===t.vm.moment.text.length?"":t.vm.moment.maxChars-t.vm.moment.text.length},t.$on("$destroy",function(){var n=t.panel.getSegments(),a=Math.round(((new Date).getTime()-h)/1e3);0===e.volume&&e.setVolume(t.panel.broadcastOriginalVolume),v||p.capture({event:"MOMENT_ABANDON",extradata:t.vm.moment.text,broadcastscount:a,unspentcoins:g,coins:n.startSegmentOffset,points:n.trimmedLength,field1:m},p.captureGroups.trackevents),e.moment=null,e.dimmed=!1})}}}),angular.module("younow.mention",[]).directive("contenteditable",["$sce","$timeout",function(e,t){return{restrict:"A",require:"?ngModel",link:function(n,a,i,r){function o(){var e=a.html();i.stripBr&&"<br>"===e&&(e=""),r.$setViewValue(e)}r&&(r.$render=function(){r.$viewValue!==a.html()&&a.html(e.getTrustedHtml(r.$viewValue||""))},a.on("blur keyup change",function(){t(o)}),o())}}}]),angular.module("younow.miniPlayer",[]).directive("miniPlayer",function(e,t,n,a,i){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/mini-player/mini-player.tpl.html",scope:{broadcast:"=",showBroadcast:"&"},link:function(e,r,o){if(window.isPrerender)return!1;var s="rtmp://"+e.broadcast.media.host+e.broadcast.media.app+"/&"+e.broadcast.media.stream;e.vm={viewers:n.squashedNumber(e.broadcast.viewers),likes:n.squashedNumber(e.broadcast.likes),shares:n.squashedNumber(e.broadcast.shares),swf:t,broadcast:e.broadcast,openProfile:function(){i.profileSummary(e.broadcast.userId)},playerOptions:{url:s,player:{width:500,height:400},onReady:function(e){e.play(),e.width(280),e.height(210),e.el_.style.visibility="visible",e.el_.style.position="relative"},onPlay:function(e){var a=0;void 0!==t.volume?a=t.volume/100:null!==n.store("younowVol")&&(a=Number(n.store("younowVol"))/100),t.volume||(t.volume=a),e.volume(a)}}},a.subscribe("miniplayer:mute",function(){e.vm.playerOptions.playerEl&&e.vm.playerOptions.playerEl.volume(t.volume/100)},"miniplayer",e)}}}),angular.module("younow.modals.mobile-download",[]).controller("mobileDownloadCtrl",["$scope","config","data","$translate",function(e,t,n,a){var i=this;i.baseCDN=t.settings.ServerCDNBaseUrl,i.telInputId="telInputModal",i.data=n,e.vm=i}]),angular.module("younow.modals.partner-agreement",[]).controller("PartnerAgreementModalCtrl",["$scope","$modalInstance","session","$location","$state",function(e,t,n,a,i){e.title="Updated Partner Agreement",e.message="Please be sure to review and accept before you proceed.",e.cancelState=!1,e.checkAgreement=function(n){n===!1&&(e.title="Sure you want to skip?",e.message="Skipping will remove your Partner status until you accept the updated terms.",e.cancelState=!0),n===!0&&(t.close(),i.go("/partners")),void 0===n&&(e.cancelState=!1,e.title="Updated Partner Agreement",e.message="Please be sure to review and accept before you proceed.")},e.finalDismiss=function(){t.close()}}]),angular.module("younow.modals.partner",[]).controller("PartnerModalCtrl",["$scope","$timeout","$modalInstance","session","Api","config",function(e,t,n,a,i,r){e["continue"]=function(){window.open("/partners","_blank"),n.close()}}]),angular.module("younow.reply",[]).directive("younowReply",function(){return{restrict:"A",replace:!0,templateUrl:"angularjsapp/src/app/components/post/reply/reply.tpl.html",controller:"YounowReplyCtrl"}}).controller("YounowReplyCtrl",["$scope",function(e){e.reply&&(e.post=e.preparePost(e.reply))}]),angular.module("younow.post",[]).directive("younowPost",function(){return{restrict:"A",replace:!0,templateUrl:"angularjsapp/src/app/components/post/post.tpl.html",controller:"YounowPostCtrl"}}).controller("YounowPostCtrl",["$scope","$http","config","Api","session","pusher","broadcasterService","$filter","$translate","$modal",function(e,t,n,a,i,r,o,s,l,c){e.session=i,e.broadcasterService=o,e.baseUrl=n.settings.ServerCDNBaseUrl,e.imageApis=n.imageApis;var u=function(){e.post.media&&e.post.media.embedly&&!e.post.media.embedly.provider_url.match(a.regexStore.embedlyWhiteList)?e.$destroy():e.post=e.preparePost(e.post)};e.preparePost=function(e){return e&&(e=a.replaceMentions(e),e.post=a.convertEmoji(a.linkify(e.post)),e=f(e),e=p(e),e.changeLikes=function(t){e.likesCount=e.likesCount?e.likesCount+t:t,e.like.type=2,e=f(e)},e.post=a.trustedHTML(e.post)),e};var p=function(e){return e.media&&(e.media.broadcast&&(e.downloadUrl=o.getDownloadUrl(e.media.broadcast.broadcastId)),"4"==e.media.type?e.embed="video":"5"==e.media.type?(e.embed="archive",e.media.broadcast.broadcastLength&&(e.media.broadcast.broadcastLengthNice=s("date")(1e3*e.media.broadcast.broadcastLength,"mm:ss"),e.media.broadcast.broadcastLength>=3600&&(e.media.broadcast.broadcastLengthNice=Math.floor(e.media.broadcast.broadcastLength/3600)+":"+e.media.broadcast.broadcastLengthNice))):"6"==e.media.type?e.embed="snapshot":("1"==e.media.type||"2"==e.media.type)&&(e.embed="uploadimage")),e},f=function(e){switch(e.like||(e.like={type:0},e.likesCount=0),e.like.type){case 1:l("like_who",{value:a.fullName(e.like.user)}).then(function(t){e.likeText=t}),e.liked=!1;break;case 2:l("like_you_others",{value:e.likesCount}).then(function(t){e.likeText=t}),e.liked=!1;break;case 3:l("like_you",{}).then(function(t){e.likeText=t}),e.liked=!0;break;case 4:2===e.likesCount?l("like_you_other",{}).then(function(t){e.likeText=t}):l("like_you_others",{value:e.likesCount}).then(function(t){e.likeText=t}),e.liked=!0;break;default:e.likeText="",e.liked=!1}return e},h=function(e){return e.likesCount?e.liked?e.like.type=1===e.likesCount?3:4:e.like.type=1===e.likesCount?1:2:e.like.type=0,e};e.trustedSrc=function(e){return a.trustedSrc(e)},e.toggleLike=function(e){if(!i.loggedIn)return i.showLoginModal("","POST_LIKE"),!0;var t;e.liked?(e.liked=!1,e.likesCount--,t="POST_UNLIKE"):(e.liked=!0,e.likesCount++,t="POST_LIKE"),a.post(t,{userId:i.user.userId,channelId:o.channel.userId,id:e.id,isComment:e.parentId?1:0,socket_id:r.SDK.connection.socket_id}),e=h(e),e=f(e)},e.togglePin=function(e){var t;e.isPinned?(e.isPinned=!1,t="post/unpin"):(o.channel&&o.channel.posts&&o.channel.posts[0]&&(o.channel.posts[0].isPinned=!1),e.isPinned=!0,t="post/pin"),a.post(t,{userId:i.user.userId,channelId:o.channel.userId,id:e.id})},e.downloadBroadcast=function(e){var t={userId:i.user.userId,channelId:o.channel.userId,broadcastId:e.media.broadcast.broadcastId};a.get("BROADCAST_DOWNLOAD",t).then(function(e){var n=e.data.errorCode;0===n?window.open(e.data.url):262===n?c.downloadBroadcastModal(t):a.showError(e.data)})},e["delete"]=function(e){a.post("POST_DELETE",{userId:i.user.userId,channelId:o.channel.userId,id:e.id,isComment:e.parentId?1:0})},e.moreComments=function(e){var t={postId:e.id,channelId:o.channel.userId,numberOfRecords:5,doEnrich:1,startFrom:e.replies.length};i.loggedIn&&(t.userId=i.user.userId),a.get("POST_COMMENTS",t).success(function(t){if(t){for(var n=t.replies.length-1;n>=0;n--)e.replies.unshift(t.replies[n]);e.hasMore=t.hasMore}else a.trackError("Empty post/getComments")})},u()}]),angular.module("younow.modals.profile-summary",[]).controller("ProfileSummaryCtrl",["$rootScope","$scope","$modalInstance","$timeout","$location","config","Api","session","broadcasterService","params","$modal","$state","$filter","eventbus","swf","upload","guestService",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g){function S(n,a){t.canFollow(n)&&s.user[w[n]]?o.get("CHANNEL_IS_FOLLOW",{userId:s.user.userId,channelId:c.channelId,sn:y[n],followType:v}).then(function(a){a&&(a.data.follow&&e.gaEvent("FOLLOW",n.toUpperCase()+"_FOLLOWING",v),t.modal.following.followed=a.data.follow,t.modal.state="following")}):t.modal.state="following"}function C(){g.guest&&g.guest.userId==c.channelId&&(c.broadcastRelated=1);var e={userId:c.userId,onUserId:c.channelId,broadcastId:c.channelId,userOnly:c.userOnly||!1,broadcastRelated:c.broadcastRelated||0};c.sf&&(e.selfie=1),o.get("GET_USER_ACTIONS",e).success(function(e){t.actions=e.actions,(s.isMod()||9==s.user.role)&&(t.actions.push({actionId:"1099511627776",actionName:"User Chat Log",actionPath:"chatLogs.php?userId="+c.channelId}),9!=s.user.role&&t.actions.push({actionId:"1099511627776",actionName:"Show User History",actionPath:"moderatorLog.php?userIds="+c.channelId}),l.broadcaster&&l.broadcaster.userId===c.channelId&&t.actions.push({actionId:"1099511627776",actionName:"Broadcast Chat Log",actionPath:"chatLogs.php?broadcastId="+c.broadcastId}));for(var n=0;n<e.actions.length;n++)if(e.actions[n].reportOptions){t.flags=e.actions[n].reportOptions;break}})}s.user||(s.user={}),t.modal={reason:c.comment?decodeURIComponent(c.comment):void 0},t.base=r.settings.ServerCDNBaseUrl,s.user.userId==c.channelId?(t.thumb=r.imageApis.thumb+c.channelId+"?"+(1e4*Math.random()).toFixed(),t.cover=r.settings.ServerLocalBaseUrl+"/php/api/channel/getCover/channelId="+c.channelId+"?"+(1e4*Math.random()).toFixed()):(t.thumb=r.imageApis.thumb+c.channelId,t.cover=r.settings.ServerCDNBaseUrl+"/php/api/channel/getCover/channelId="+c.channelId+"?"+(1e4*Math.random()).toFixed()),t.nothumb=r.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",t.session=s,t.modal.state=c.state||"",t.globalVars=window.globalVars,t.config=r,t.params=c;var v;c.isFlagging&&a(function(){t.toggleDropdown()},0);var b={twitter:"ynicon-social-tw",facebook:"ynicon-social-fb",youtube:"ynicon-icon-social-yt",instagram:"ynicon-social-insta",google:"ynicon-social-gp"},y={twitter:2,facebook:4,instagram:8,youtube:16,google:32},w={twitter:"twitterAuth",facebook:"facebookAuth",instagram:"instagramAuth",youtube:"youTubeAuth",google:"googleAuth"};t.sn_titles={twitter:"Twitter",facebook:"Facebook",instagram:"Instagram",youtube:"YouTube",google:"Google+"},t.sn_verb={twitter:"Follow",facebook:"Follow",instagram:"Follow",youtube:"Subscribe to",google:"Follow"},t.sn_verbed={twitter:"Following",facebook:"Following",instagram:"Following",youtube:"Subscribed to",google:"Following"},t.canFollow=function(e){return"twitter"==e||"youtube"==e?!0:!1},t.setupFollowing=function(n,a){n||(n=c.network),!c.network&&a&&e.gaEvent("FOLLOW",n.toUpperCase()+"_OPEN",v),t.modal.following={network:n,icon:b[n],back_to_summary:!1},s.loggedIn?S(n,a):u.loginModal("","FOLLOWING").result.then(function(e){return t.user.userId==s.user.userId?!1:void S(n,a)})},t.startFollowing=function(n){t.setupFollowing(n),s.user&&s.user[w[n]]?_(n):(e.gaEvent("CONNECT","ATTEMPT_"+n.toUpperCase(),"FOLLOW"),s.authenticate[n]().then(function(t){s.login(t,!0).then(function(t){0===t.data.errorCode?(e.gaEvent("CONNECT","CONNECT_"+n.toUpperCase(),"FOLLOW"),_(n)):e.gaEvent("CONNECT","ERROR_"+n.toUpperCase()+"_"+t.data.errorCode,"FOLLOW")})}))};var _=function(n){e.gaEvent("FOLLOW",n.toUpperCase()+"_FOLLOW_ATTEMPT",v);var a={userId:s.user.userId,channelId:c.channelId,sn:y[n],followType:v};l.broadcaster&&l.broadcaster.broadcastId&&(a.broadcastId=l.broadcaster.broadcastId),o.post("CHANNEL_FOLLOW",a).success(function(a){a.follow&&(t.modal.following.followed=!0,e.gaEvent("FOLLOW",n.toUpperCase()+"_FOLLOW_SUCCESS",v))})};"following"==c.state&&t.setupFollowing(),t.openUrl=function(n,a){"following"===t.modal.state&&("link"===a&&e.gaEvent("FOLLOW",t.modal.following.network.toUpperCase()+"_PROFILE_LINK",v),"button"===a&&e.gaEvent("FOLLOW",t.modal.following.network.toUpperCase()+"_PROFILE_BUTTON",v)),window.open(n,"_blank")},c.userId&&C();var T=function(){o.get("CHANNEL_INFO",{channelId:c.channelId},"usecdn").success(function(a){if(!a.userId)return o.showTopNotification("This user is no longer available"),n.close(),!1;if(a=l.channelFormat(a),a.latestSubscriptions&&Object.keys(a.latestSubscriptions).length>8){var i=a.latestSubscriptions,r=0;a.latestSubscriptions={};var s=0;for(var u in i)8>s?a.latestSubscriptions[u]=i[u]:r++,s++;a.latestSubscriptionsPlus=(a.latestSubscriptionsPlus||0)+r}e.gaPage({page:"Summary",path:"/"+a.profile+"/summary"}),a.description=o.convertEmoji(o.prepareDescription(a.description)),a.location=o.cleanLocation(a,!0),a.fullName=1===a.useprofile?a.profile:a.firstName+" "+a.lastName,a.friendlyName=a.useprofile?a.profile:a.firstName,angular.forEach(a.permissions,function(e){"6"===e.id&&(a.channelmanager=!0),"8"===e.id&&(a.ambassador=!0)}),a.facebookLink="1"==a.facebookOption&&a.websiteUrl.length?a.websiteUrl:"http://www.facebook.com/"+a.facebookId,"http"!=a.facebookLink.substr(0,4)&&(a.facebookLink="http://"+a.facebookLink),t.user=a;try{t.user.totalFans=p("number")(t.user.totalFans),t.user.totalSubscribers=p("number")(t.user.totalSubscribers),t.user.dateString=p("date","MM/dd/yyyy")(t.user.dateCreated.substr(0,10))}catch(f){console.warn("filter error:",f)}l.async&&"main.explore"!==d.current.name&&(v=l.channel.userId===a.userId?"PROFILE_OWNER":"PROFILE_OTHER"),!l.async&&l.broadcaster&&(v=l.broadcaster.userId===a.userId?"BROADCASTER":c.source),"main.explore"===d.current.name&&(v="EXPLORE"),t.openedFrom=v,"following"===c.state&&e.gaEvent("FOLLOW",c.network.toUpperCase()+"_OPEN",v),a.twitterHandle&&a.twitterHandle.length>0&&e.gaEvent("FOLLOW","TWITTER_DISPLAY",v),a.youTubeChannelId&&a.youTubeChannelId.length>0&&e.gaEvent("FOLLOW","YOUTUBE_DISPLAY",v),o.get("CHANNEL_SUBSCRIBER_OF",{channelId:t.user.userId},!0).success(function(e){e.subscriberOf?(t.user.subscriptions=e.subscriberOf,t.user.subscriptions.length>5&&(t.user.subscriptions_extras=t.user.subscriptions.splice(4),t.user.subscriptions_extras.reverse())):console.error("channel/getSubscriberOf/channelId="+t.user.broadcaster.userId+":",e)})},function(e){T()})};T(),t.composeMessage=function(){c.userId?t.modal.state="messaging":s.showLoginModal("","POST").result.then(t.composeMessage)},t.sendMessage=function(){o.post("sendMessage",{message:t.modal.message,toUserId:c.channelId,userId:c.userId}),t.modal.message="",t.showNotification("success","Message sent to "+t.user.friendlyName)},t.showNotification=function(e,n){t.modal.notifying=!0,t.modal.notificationType=e,t.modal.notificationMessage=n},t.doAction=function(e){if(t.modal.action=e,e.needsFlag)t.modal.state="flagging";else if(e.needsReason)t.modal.state="suspending",t.modal.actionOptions=r.settings[e.actionOptions];else if("1099511627776"===e.actionId){var n=e.actionPath||"users.php?userId="+c.channelId,a=r.settings.ServerSecureLocalBaseUrl+"/administrator/"+n;window.open(a,"_blank")}else t.submitAction()},t.submitAction=function(){if(t.modal.reasonForm&&!t.modal.reasonForm.$valid)return o.triggerTooltip("reason-form-tooltip",2e3),!1;if("flagging"===t.modal.state){if(void 0===t.modal.flag)return o.triggerTooltip("flagging-tooltip",2e3),!1;if(!t.modal.action)for(var e=0;e<t.actions.length;e++)if("FlaggingOptions"==t.actions[e].actionOptions){t.modal.action=t.actions[e];break}}var n={actionId:t.modal.action.actionId,userId:c.userId,onUserId:t.user.userId},a={url:o.generateDynamicApi("DO_ADMIN_ACTION"),method:"post",data:n};if(c.momentId&&(a.data.momentId=c.momentId),t.modal.reasonOption&&(n.banReasonId=t.modal.reasonOption),t.modal.action.needsFlag){if(void 0===t.modal.flag)return!1;n.flagId=t.modal.flag}if(t.modal.action.needsReason){if(!t.modal.reason)return!1;n.reason=t.modal.reason}(t.modal.action.needsFlag||t.modal.action.needsReason)&&(c.broadcastId&&(n.broadcastId=c.broadcastId),c.comment&&(n.comment=c.comment),n.broadcaster=c.broadcastRelated?1:0);var i=document.getElementById("flashObj1");null===i||2!==a.data.flagId&&5!==a.data.flagId||c.sf?c.sf&&2===a.data.flagId?(n.sf=c.sf,k(a)):k(a):(f.subscribe("swf:snapshot",function(e,t){if(t){var n=o.base64ToFile("data:image/jpeg;base64,"+t);k(a,n)}},"profileSummary",t),h.invokeSwfMethod("getSnapshot",!1))},t.goToProfile=function(e,t){return t&&2===t.which?(t.preventDefault(),!1):(n.close(),void i.path(e+"/channel"))},t.showProfileSummary=function(e){return e?(n.close(),void a(function(){u.profileSummary(e)},500)):!1},t.followUser=function(){t.modal.state="follow-notify"},t.modal.resetProfileSummary=function(){t.modal.notifying=void 0,t.modal.state="",t.modal.reasonOption=void 0,t.modal.reason=void 0},t.toggleDropdown=function(e){e&&(e.preventDefault(),e.stopPropagation()),t.modal.notifying&&(t.modal.notifying=void 0),t.modal.flagging=!t.modal.flagging},t.closeOnInvite=function(){n.close()};var k=function(e,t){t?(e.data.image=t,m(e).then(function(e){A(e)})):m(e).then(function(e){A(e)})},A=function(e){0===e.data.errorCode?(t.showNotification("success","Success"),("Block"===t.modal.action.actionName||"Unblock"===t.modal.action.actionName)&&C()):t.showNotification("error",e.data.errorMsg)}}]),angular.module("younow.modals.reconnect-modal",[]).controller("ReconnectModalCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d){function h(){n.close(),s.dropBroadcast(r.user.userId),o.destroy()}function m(e){p.retryTime++,o.reconnect(r.user.userId,o.pc).then(function(t){t.data.sdpAnswer&&o.pc.setRemoteDescription(new e.SessionDescription({sdp:t.data.sdpAnswer,type:"answer"}),o.setRemoteDescriptionSuccess,o.setRemoteDescriptionFail),p.retryTime<=10?t.data.sdpAnswer&&917!=t.errorCode?t.data.sdpAnswer?(window.YouNow.App.stateChange("PLAYING"),n.close()):h():m(e):h()})}var f,p=this;p.retryTime=0,p.viewers=r.user.activeBroadcastReconnect.viewers,p.noReconnect=function(){s.dropBroadcast(r.user.userId),n.close()},p.reconnect=function(){p.retryTime=1,r.isBroadcasting=!0,l.bootingFlash=!1,i.go("main.channel.detail",{profileUrlString:r.user.profile}),f=t.$watch(function(){return document.getElementById("bcVideo")},function(e,t){null!==e&&(f(),o.initialize(function(e){if(e.candidate)console.log("Sending Ice Candidate:\n"+JSON.stringify({id:"broadcaster",candidate:e.candidate}));else{var t=o.getCurrentConfig();o.setStatus("End of candidates, sending sdp to server."),t.streamReady=!0,m(t)}}).then(function(){o.setupWebrtcStream()}))})},p.endBroadcast=function(){n.close(),s.dropBroadcast(r.user.userId)},p.closeModal=function(){n.dismiss()},t.$on("$destroy",function(){f&&f()})}),angular.module("younow.seach-bar",[]).directive("ynSearchBar",["$state","$location","Api","broadcasterService","session","config","$translate","trpx","$timeout","$filter",function(e,t,n,a,i,r,o,s,l,c){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/search-bar/search-bar.tpl.html",scope:{type:"@",size:"@"},link:function(a,u,d){function f(e,t,n){n.result_set_size="algoliaResults"==e?p[e].length-1:p[e].length,e=p[e];for(var a=t.objectID?"objectID":"tag",i=0;i<e.length;i++)if(e[i][a]==t[a]){n.click_index=i;break}return n}var p={lastQuery:"",algoliaResults:[],tagResults:[]};"tiny"===a.size&&u.addClass("tiny-search-bar"),a.search={},a.search.cdn=r.settings.ServerCDNBaseUrl,a.search.searching=!1,o("search_placeholder_home").then(function(e){a.search_placeholder_home=e}),o("search_placeholder_site").then(function(e){a.search_placeholder_site=e}),a.search.animateSearchBar=function(){u.addClass("tiny-search-active")},a.search.closeSearchBar=function(){u.removeClass("tiny-search-active")},a.search.changeState=function(){u.removeClass("tiny-search-active")},a.search.query=function(e){a.search.searching=!0;var t="#"===e.substr(0,1)?"tag":!1;return t&&(e=e.substr(1)),p.lastQuery=e,n.algolia(e,t).then(function(t){a.search.searching=!1;var i=t.data.hits||[];angular.forEach(i,function(e,t){e.fullName=n.fullName(e),e.hashedDescription=n.convertEmoji(e.description)});var o=[],s=[];if(i.length>0){for(var l=0;l<i.length;l++)i[l].tag&&o.push(i[l]),i[l].tag&&0!==i[l].tag.length||s.push(i[l]);o.length>0&&o.unshift({title:c("translate")("_live"),type:"live",showBorder:!1}),s.length>0&&s.unshift({title:c("translate")("_profiles"),type:"profile",showBorder:o.length>0?!0:!1}),i=[].concat(o,s)}return p.algoliaResults=i,n.get("YOUNOW_TAGS",{s:e},!0).then(function(t){return t.data.tags&&t.data.tags.length>0&&(i.push({title:c("translate")("_tags"),type:"tags",showBorder:!0}),i=i.concat(t.data.tags.slice(0,4)),i.push({more:!0,profile:e,query:e}),p.tagResults=t.data.tags.slice(0,4)),i})})},a.search.selectResult=function(n,i,r){p.selectionMade=!0;var o={event:"SEARCH_CLICK",query:p.lastQuery};n.objectID?(t.path(n.profile),o.click_field=i.tag&&i.tag.length>0?"USER_BROADCAST":"USER_PROFILE"):n.tag&&"main.explore"!==e.current.name?(e.go("main.explore",{tag:n.tag}),o.click_field="TAGS"):n.tag&&"main.explore"===e.current.name?(e.go("main.explore",{tag:n.tag,q:void 0},{reload:!0}),o.click_field="TAGS"):(e.go("main.explore",{q:o.query,tag:void 0}),o.click_field="ALLRESULTS"),a.search.searchBox="","USER_BROADCAST"==o.click_field||"USER_PROFILE"==o.click_field?o=f("algoliaResults",n,o):"TAGS"==o.click_field&&(o=f("tagResults",n,o)),p.lastQuery="",s.capture(o,s.captureGroups.searchevents)},a.search.background=function(e,t,n){t=t||"Image";var a="Image"==t?", url("+r.settings.ServerCDNBaseUrl+"/images/nothumb.jpg)":"";n=n||"";var o=i.user&&i.user.userId==e?r.settings.ServerLocalBaseUrl:r.settings.ServerCDNBaseUrl;return"background:url("+o+"/php/api/channel/get"+t+"/channelId="+e+n+")"+a+" no-repeat center center; background-size: cover;"},a.search.trackBlur=function(e,t){p.abandonEventTimer&&l.cancel(p.abandonEventTimer),p.abandonEventTimer=l(function(){return p.selectionMade||0===p.lastQuery.length?(p.selectionMade=!1,!1):(s.capture({event:e||"SEARCH_ABANDON",click_field:t||"",query:p.lastQuery},s.captureGroups.searchevents),p.lastQuery="",void(p.abandonEventTimer=void 0))},2e3)},a.goToExplore=function(){p.abandonEventTimer&&a.search.trackBlur("SEARCH_CLICK","ALLRESULTS"),e.go("main.explore",{q:a.search.searchBox})}}}}]),angular.module("younow.channel.settingupPanel",[]).directive("settingupPanel",["Api","config","swf","session","$rootScope","broadcasterService","eventbus","$timeout","webRtc","externalStreamer","trackingPixel",function(e,t,n,a,i,r,o,s,l,c,u){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html",link:function(d,p,f){function b(t,a){n.getShareData(t,a,!1,!0).then(function(t){t.callback=function(e){e&&(d.panel.networks.facebookShare=!0)},e.openSharePopup(t)})}function y(){return c.settings.active||c.settings.streaming?!1:void(d.panel.snapshot||"1"==t.mcu?"1"==t.mcu?(d.panel.snapshot||d.panel.takeSnapshot(),e.post("BROADCAST_UPLOAD_THUMB",{userId:a.user.userId,channelId:a.user.userId,image:d.panel.snapshot})):window.YouNow.App.sendSnapshot(d.panel.snapshot,!0):n.invokeSwfMethod("getSnapshot",!0))}function w(e,i){t.mcu&&!c.settings.active?(l.pc.setRemoteDescription(new v.SessionDescription({sdp:e.data.sdpAnswer,type:"answer"}),l.setRemoteDescriptionSuccess,l.setRemoteDescriptionFail),l.settings.state="connected"):i?l.destroy():n.invokeSwfMethod("startBroadcast",e.data),i||(a.isBroadcasting=!0),y(),r.switchBroadcaster(a.user.userId,void 0,void 0,e.data),n.eob&&delete n.eob}function S(){var t,n=d.panel.tagSelected?d.panel.tagSelected:!1;return n&&0!==n.length?(t=d.panel.tagSelected,e.store("lastBroadcastedTag",t)):(e.store("lastBroadcastedTag")||(t=a.user.fullName.replace(" ",""),e.store("lastBroadcastedTag",t)),e.store("lastBroadcastedTag")&&(t=e.store("lastBroadcastedTag"))),t}function _(e){e.candidate||(v=l.getCurrentConfig(),l.setStatus("End of candidates, sending sdp to server."),v.streamReady=!0,d.panel.startBroadcast())}d.panel={typeaheadClosed:!0,popularTags:void 0,networks:{twitter:a.user.twitterAuthPublish?!0:!1,tumblr:a.user.tumblrAuthPublish?!0:!1,facebook:a.user.facebookAuthPublish?!0:!1,youtube:a.user.youTubeAuthPublish?!0:!1,facebookShare:!1},showYoutube:a.user.level>=5||a.user.youTubeAuthPublish?!0:!1,startingBroadcast:!1,externalStreaming:c.settings};var v,h=document.getElementById("typeaheadInput"),m=document.getElementById("share-input");document.getElementById("start-broadcast-btn");d.panel.getTags=function(){e.get("YOUNOW_POPULAR_TAGS",{locale:t.UILocale}).then(function(e){if(e.data&&0===e.data.errorCode){for(var t in e.data.popular_tags)e.data.popular_tags[t].tag="#"+e.data.popular_tags[t].tag;e.data.popular_tags.unshift({tag:!1}),d.panel.matches=e.data.popular_tags,d.panel.popularTags=e.data.popular_tags}})},d.panel.loadTags=function(n){return d.panel.typeaheadClosed=!1,-1!==n.indexOf("#")&&(n=n.replace("#","")),e.get("YOUNOW_TAGS",{locale:t.UILocale,s:n}).then(function(e){if(e&&e.data&&e.data.tags){for(var t in e.data.tags)a.user.editorsPick&&e.data.tags[t].tag===a.user.editorsPick.tag&&(e.data.tags[t].isEp=!0),e.data.tags[t].tag===n?e.data.tags.splice(t,1):-1===e.data.tags[t].tag.indexOf("#")&&(e.data.tags[t].tag="#"+e.data.tags[t].tag);e.data.tags=[{tag:"#"+n}].concat(e.data.tags),d.panel.matches=e.data.tags.concat(angular.copy(d.panel.popularTags))}else d.panel.matches=[{tag:"#"+n}].concat(angular.copy(d.panel.popularTags));return d.panel.matches})},d.panel.validateTag=function(e){e||(e=""),0===e.length&&(d.panel.tagSelected="",d.panel.typeaheadClosed=!0),"false"===d.panel.tagSelected&&(d.panel.tagSelected=""),/[#\ ]/.test(e)&&(e=e.replace(/[#]/g,""),e=e.replace(/[\ ]/g,"-")),e.slice(1,e.length).match(/^((?!\-$|_$)[a-zA-Z1-9\-_()])+$/g)&&e.length>1?d.panel.tagValid=!0:d.panel.tagValid=!1,d.panel.tagSelected=e},d.panel.selectTag=function(e,t,n){e&&!e.tag&&(e.tag=""),d.panel.typeaheadClosed=!0,d.panel.tagSelected=e.tag.replace("#",""),m.focus()},d.panel.takeSnapshot=function(){"1"==t.mcu?d.panel.snapshot=l.takeSnapshot(void 0,void 0,void 0,!0):n.invokeSwfMethod("getSnapshot",!1)},d.panel.toggleShare=function(e){"twitter"==e&&!a.user.twitterHandle||"tumblr"==e&&!a.user.tumblrId||"facebook"==e&&!a.user.facebookId||"youtube"==e&&!a.user.youTubeAuth?(i.gaEvent("CONNECT","ATTEMPT_"+e.toUpperCase(),"GOLIVE"),a.authenticate[e]().then(function(t){a.login(t,!0).then(function(t){if(t.data.errorCode>0||t.config.data.indexOf("lastName=&")>-1)i.gaEvent("CONNECT","ERROR_"+e.toUpperCase(),"GOLIVE");else{if("facebook"==e&&0===a.user.facebookPageId.length)return b(e,d.panel.initResponse.id),!1;"youtube"==e?d.panel.checkYoutube():d.panel.networks[e]=d.panel.networks[e]?!1:!0,
i.gaEvent("CONNECT","CONNECT_"+e.toUpperCase(),"GOLIVE")}})})):"facebook"==e&&a.user.facebookId&&0===a.user.facebookPageId.length?b(e,d.panel.initResponse.id):"youtube"!=e||a.user.youTubeAuthPublish?d.panel.networks[e]=!d.panel.networks[e]:d.panel.checkYoutube()},d.panel.checkYoutube=function(){d.panel.networks.youtube=!d.panel.networks.youtube,e.get("CHANNEL_YOUTUBE_LIVE_ENABLED",{userId:a.user.userId}).success(function(t){0!==t.errorCode&&(d.panel.networks.youtube=!d.panel.networks.youtube,e.showTopNotification('Live streaming is not enabled on your Youtube account: <a target="_blank" href="https://www.youtube.com/live_streaming_signup">https://www.youtube.com/live_streaming_signup</a>',"danger",!1,!1,5e3))})},d.panel.startBroadcast=function(){if(d.panel.startingBroadcast=!0,t.mcu&&!l.getCurrentConfig().streamReady)return l.setupWebrtcStream(),l.settings.state="connecting",!1;var e=S();r.addBroadcast(d.panel.initResponse.id,e,d.panel.networks,d.panel.shareCopy,l.pc).then(function(t){0===t.data.errorCode&&w(t),t.data.errorCode>0&&(249===t.data.errorCode?r.initBroadcast().then(function(t){r.addBroadcast(t.data.id,e,d.panel.networks,d.panel.shareCopy,l.pc).then(function(e){0===e.data.errorCode&&w(e)})}):(d.panel.startingBroadcast=!1,l.settings.state="ready"))})},d.panel.prepareBroadcast=function(){d.panel.startingBroadcast=!0;var e=S();r.addBroadcast(d.panel.initResponse.id,e,d.panel.networks,d.panel.shareCopy).then(function(e){0===e.data.errorCode&&(c.setBroadcastAddResp(e.data),w(e,!0)),d.panel.startingBroadcast=!1}),u.trackClick("EXTERNAL_TOOL",{field1:"GENERATE"})},window.YouNow.App.cameraReady=function(){d.panel.initResponse||r.initBroadcast().then(function(e){c.setBroadcastInitResp(e.data),e&&0===e.data.errorCode&&(d.panel.initResponse=e.data),e&&603===e.data.errorCode&&w(e),e&&606===e.data.errorCode&&r.reconnect().then(function(t){w(e)})})},angular.element(h).on("keyup",function(e){9==e.which&&m.focus()}),d.panel.getTags(),h.focus(),s(function(){n.invokeSwfMethod("goLive",{skipChannelSelection:!1})}),o.subscribe("pusher:ban",function(e,t){t.message&&(n.settingUpBroadcast=!1)},"settingupPanel",d),o.subscribe("swf:snapshot",function(e,t){t&&(d.panel.snapshot=t)},"settingupPanel",d),d.$on("$destroy",function(){window.YouNow.App.cameraReady=null}),t.mcu&&l.initialize(_).then(function(e){window.YouNow.App.cameraReady()})}}}]),angular.module("younow.modals.share-broadcast-modal",[]).controller("ShareBroadcastModalCtrl",["$scope","$modalInstance","session","data",function(e,t,n,a){e.modal={},e.modal.session=n,e.modal.type=a.type,e.modal.recommendMessage=a.message,e.modal.invite=function(){e.modal.form.$valid&&t.close(e.modal.recommendMessage)},e.modal.closeModal=function(){t.close()}}]),angular.module("younow.channel.share-panel",[]).directive("sharePanel",function(e,t,n,a,i,r,o,s,a,l,c,u,d){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/share-panel/share-panel.tpl.html",scope:{target:"@",closeCallback:"="},link:function(s,p,f,h){function v(e){i.get("MOMENT_FETCH",{id:s.panel.momentId}).then(function(e){e.data&&(s.vm.moment.text=e.data.item.text,s.moment=e.data.item,s.moment.options={url:i.generateDynamicApi("MOMENT_PLAYLIST")+"/"+s.moment.momentId+"/"+s.moment.momentId+".m3u8",onLoadedMetadata:function(e){var t=e.duration(),n=e.tech({IWillNotUseThisInPlugins:!0});n.hls?(n=n.hls.playlists.media(),n.segments&&(m=i.getJsonFromUrl(n.segments[0].uri).offset||0,g=t-i.getJsonFromUrl(n.segments[n.segments.length-1].uri).offset||t)):(m="0",g=e.duration()),e.play(),u(function(){s.vm.doAnimation()},500)},onTimeupdate:function(e){if(e&&e.currentTime){var t=e.currentTime();t>g&&(e.currentTime(m),e.play())}},onEnd:function(e){e.play()},onCanplay:function(e){e.el_.style["z-index"]=2},onClick:function(e){if(e){var t=e.paused();t?e.play():e.pause()}},player:{autoplay:!1,preload:!1,controls:!1,width:400,height:300}})})}function b(){if(!e.broadcast||e.broadcast.share_message&&0!==e.broadcast.share_message.length)e.broadcast.share_message=i.stripHTML(e.broadcast.share_message),y();else{var t=o.shareBroadcast(e.broadcast.share_message);t.result.then(function(t){t&&t.length>0&&(e.broadcast.share_message=i.stripHTML(t),y())})}}function y(){var t=i.base64ToFile("data:image/jpeg;base64,"+a.eobSnapshot),n={post:e.broadcast.share_message,parentId:0,channelId:r.user.userId,userId:r.user.userId,doEnrich:1,media:t,tsi:i.store("trpxId"),tdi:i.store("trpx_device_id")},o={url:i.generateDynamicApi("POST_CREATE"),method:"POST",data:n,headers:{"X-Requested-By":r.user.requestBy}};l(o).then(function(e){0===e.data.errorCode?(s.panel.post.shared=!0,s.panel.post.sharing=!1):(s.panel.post.shared=!1,s.panel.post.sharing=!1)})}var m=0,g=0;s.vm={cdn:c.imageApis,moment:{owner:{name:r.user.profile,userId:r.user.userId},text:""}},s.panel={target:s.target,post:{shared:!1,sharing:!1}},s.panel.swf=e,s.panel.guestService=a,s.panel.session=r,e.activeChatParams&&e.activeChatParams.momentId&&(s.panel.momentId=e.activeChatParams.momentId),s.panel.swf.options={},s.panel.shareUrl="",s.panel.momentId&&n.getMomentToShare(s.panel.momentId,r.user.userId).then(function(e){e.data.url&&(s.panel.shareUrl=e.data.url),v(s.panel.momentId)}),s.panel.clickToCopy=function(){var e={event:"CLICK",extradata:"SHARE",field1:"MORE",field2:"MOMENT_CAPTURE"};d.capture(e,d.captureGroups.trackevents)},s.panel.close=function(){s.closeCallback&&s.closeCallback(),e.activeChatTab="Chat"},s.panel.newSnapshot=function(){"guest"==s.target?a.getSnapshot():(e.getSnapshot(),n.trackFunnel("snapshot"))},s.panel.attemptShare=function(i){var r,o,l;"shareMoment"===s.target?("twitter"===i&&(r=e.broadcast.twitterHandle?e.broadcast.twitterHandle:e.broadcast.profile,e.broadcast.twitterHandle&&(r="@"+r),o={event:"CLICK",extradata:"SHARE",field1:"TWITTER",field2:"MOMENT_CAPTURE"},n.clientShareTwitter(s.panel.shareUrl,r,o)),"facebook"===i&&(e.broadcast.profile&&(l=e.broadcast.profile),o={event:"CLICK",extradata:"SHARE",field1:"FACEBOOK",field2:"MOMENT_CAPTURE"},n.clientShareFacebook(s.panel.shareUrl,l,o))):(e.snapshot||(e.snapshot={snapshot:a.eobSnapshot}),"invite"==i?t.trackClick("INVITE"):t.trackClick("SHARE",{field1:i.toUpperCase()}),"post"===i?(b(),s.panel.post.sharing=!0):s.panel.share(i),n.trackFunnel(i+"_attempt"),!e.snapshot.messageAdded&&e.broadcast.share_message&&(n.trackFunnel("message"),e.snapshot.messageAdded=!0))},s.panel.share=function(t){if(a.eobSnapshot||"guest"!==s.target||a.getSnapshot(),e.snapshot||"guest"===s.target||e.getSnapshot(),"object"!=typeof s.panel.swf.snapshot.shared&&(e.snapshot.shared={}),"object"!=typeof s.panel.swf.snapshot.sharing&&(e.snapshot.sharing={}),!s.panel.swf.broadcast||!r.user)return!1;if(!r.loggedIn)return r.showLoginModal("","SHARE").result.then(function(e){s.panel.share(t)}),!1;if(e.snapshot.sharing[t]=!0,"facebook"==t&&n.shareFacebook(),"twitter"==t&&n.shareTwitter().then(function(e){})["catch"](function(n){"error"===n&&(e.snapshot.shared.twitter_login_attempted||(e.snapshot.shared.twitter_login_attempted=!0,s.panel.share(t)))}),"tumblr"==t&&n.shareTumblr().then(function(e){})["catch"](function(n){"error"===n&&(e.snapshot.shared.tumblr_login_attempted||(e.snapshot.shared.tumblr_login_attempted=!0,s.panel.share(t)))}),"invite"==t){if(e.broadcast.shared.younow)return i.showTopNotification("You can only invite your fans to a broadcast once."),n.trackFunnel(t+"_duplicate"),!1;if(!e.broadcast||e.broadcast.share_message&&0!==e.broadcast.share_message.length)n.sendShare("younow",1);else{var l=o.shareBroadcast(e.broadcast.share_message);l.result.then(function(t){t&&t.length>0&&(e.broadcast.share_message=t,n.sendShare("younow",1))})}e.snapshot.sharing[t]=!1}},s.$on("$destroy",function(){a.eobSnapshot&&delete a.eobSnapshot,e.snapshot&&"guest"!==s.target&&(e.snapshot=null)})}}}),angular.module("younow.modals.spending-redirect",[]).controller("SpendingRedirectModalCtrl",function(e,t,n,a,i,r){e.settings=i.settings,e.params=r,e.dismiss=function(){t.dismiss()},e.tryAgain=function(){t.close(),n.buyBars(a.user.spendingDisabled)},e.downloadTheApp=function(){t.close(),n.mobileDownload()},e.contactSupport=function(){var e=window.open(i.settings.SupportUrl,"_blank");e.focus()}}),angular.module("younow.stripe",[]).directive("stripeForm",function(e){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html",scope:{stripeCallback:"&"},link:function(t,n,a){function r(e){t.component.formSubmitting=e,angular.element(i).find("button").prop("disabled",e)}function o(e,n){if(n.error?t.component.errorMessage=n.error.message:t.component.errorMessage=null,void 0!==t.stripeCallback){var a=t.stripeCallback()(n.id,"stripe");a&&a.then?a.then(function(){r(!1)}):r(!1)}else r(!1)}var i=n.find("form");t.component={},t.component.ccRegex="^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35d{3})d{11})$",t.component.cvvRegex="^[0-9]{3,4}$",t.component.moRegex="(0[1-9])|(1[012])",t.component.yrRegex="^[0-9]{4}$",t.component.submitForm=function(n){t.component.formSubmitted=!0,n.preventDefault(),t.stripeForm.$valid&&(r(!0),e.Stripe.card.createToken(i,o))}}}}),angular.module("younow.subscribe-button",[]).directive("subscribeButton",["session","Api","broadcasterService","config","$modal","$timeout","eventbus","$timeout",function(e,t,n,a,i,r,o,r){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html",scope:{channel:"=",source:"@",size:"@"},link:function(r,s,l){r.base=a.settings.ServerCDNBaseUrl,r.subStatus=e.subStatus,r.fanStatus=e.fanStatus,r.hidden=!0;var c=0;o.subscribe("session:loggedIn",function(){r.checkSub()},"subscribe-button",r),r.checkSub=function(){r.channel&&r.channel.userId&&e.user&&(!e.user||e.user.banId||e.user.suspendId?r.hidden=!0:r.channel.isSubscribable&&"0"!=r.channel.isSubscribable?(e.getSub(r.channel.userId),r.hidden=!1):r.hidden=!0)},r.$watch("channel",function(t){e.user&&r.channel&&r.channel.userId!=c&&(r.channel=t,c=t.userId,r.checkSub())},!0),r.subscribe=function(){return e.loggedIn?e.checkBan()?!1:void(e.subStatus[r.channel.userId]?a&&a.settings&&a.settings.TrackingHost&&(a.settings.TrackingHost.indexOf("-vpc")>0||a.settings.TrackingHost.indexOf("-dev")>0)&&t.get("channel/unSubscribe/userId="+e.user.userId+"/channelId="+n.broadcaster.userId).then(function(){window.location.reload()}):i.subscribeModal(r.channel.userId,{source:r.source})):(e.showLoginModal("","SUBSCRIBE").result.then(r.subscribe),!1)}}}}]),angular.module("younow.modals.subscribe-modal",[]).controller("SubscribeModalCtrl",["$rootScope","$scope","$modalInstance","$timeout","$location","config","Api","session","broadcasterService","params","eventbus","trackingPixel","$modal","swf",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){var h={},m={};m.channelId=c.channelId,m.subscription=c.sub||{},m.template={},m.template.cdn=r.settings.ServerCDNBaseUrl,m.session=s,m.spanel=c.state||"initial",m.params=c;var g=function(t){if(!t||!t.userId)return!1;m.channel=t,m.template.channelThumb=r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+m.channel.userId,"initial"!=m.spanel&&(m.sub={},m.submitting=!0,o.get("STORE_SUBSCRIPTION_PRODUCTS",{store:"web",channelId:m.channel.userId,lang:r.UILanguage},!0).then(function(e){e.data&&e.data.products&&(m.sub=e.data.products[0])})),m.sub={};var n={store:"web",channelId:m.channel.userId,lang:r.UILanguage};m.submitting=!0,o.get("STORE_SUBSCRIPTION_PRODUCTS",n,!0).then(function(e){m.submitting=!1,m.sub={},m.sub.id=e.data.products[0].id,m.sub.SKU=e.data.products[0].SKU,m.sub.name=e.data.products[0].name,m.sub.price=e.data.products[0].price}),h.userLocation=c.source||d.getUserLocation(),m.channel.chatMode?(h.category="SUBSCRIBE_CHATMODE",h.action_x="",h.location="LIVE_SUB",h.origin="BROADCAST"):"MINI_PROFILE"==c.source?(h.category="SUBSCRIBE_MINIPROFILE",m.channel.broadcastId?(h.action_x="_LIVE",h.location="LIVE"):(h.action_x="_OFFLINE",h.location="OFFLINE"),h.origin="MINI_PROFILE"):"PROFILE"==h.userLocation?(h.category="SUBSCRIBE_PROFILE",m.channel.broadcastId?(h.action_x="_LIVE",h.location="LIVE"):(h.action_x="_OFFLINE",h.location="OFFLINE"),h.origin="PROFILE"):m.channel.broadcastId?(h.category="SUBSCRIBE_BROADCAST",h.action_x="",h.location="LIVE",h.origin="BROADCAST"):(h.category="SUBSCRIBE_"+h.userLocation.toUpperCase(),h.action_x="",h.location="SETTINGS",h.origin="SETTINGS"),e.gaEvent(h.category,"PROMPT"+h.action_x,"LEVEL1"),d.capture({event:"SUB_CLICK",coins:s.fanStatus[m.channel.userId]?1:0,extradata:"PROMPT"})};g(l.channel||l.broadcaster),m.channel&&c.channelId==m.channel.userId||o.get("CHANNEL_INFO",{channelId:c.channelId},!0).then(function(e){g(e.data)}),m.template.userThumb=r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+s.user.userId,m.template.noThumb=r.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",m.globalVars=window.globalVars,m.config=r,m.submitting=!1,m.braintreeLoading=!0;var v=function(){if(!s.fanStatus[m.channel.userId]){e.gaEvent("Conversion","Fan (Attempt)","AUTOFAN-SUBCRIBING");var t={userId:s.user.userId,channelId:m.channel.userId};m.channel&&m.channel.broadcastId&&(t.broadcastId=m.channel.broadcastId),o.post("CHANNEL_FAN",t).then(function(e){e.data&&!e.data.errorCode&&(s.fanStatus[m.channel.userId]=!0,m.channel.totalFans=1*m.channel.totalFans+1)})}},b={userId:s.user.userId,htdid:o.store("_ht_did")};"http:"===window.location.protocol&&(b.s=s.user.session),m.submitting=!0,o.post("STORE_PURCHASE_TOKEN",b).then(function(i){if(m.submitting=!1,6032===i.data.errorCode)e.gaEvent("PURCHASE","ERROR_6032","INLINE","SUBSCRIPTION"),n.close(),a(function(){p.spendingFailed({purchaseItem:"subscription"})},200);else if(6020===i.data.errorCode&&i.data.ccVerificationSaleDetails){var l=JSON.parse(i.data.ccVerificationSaleDetails);l.channelId=c.channelId,n.close(),a(function(){p.verification(l,{source:"subscribeModal"})},200)}else 6021===i.data.errorCode?(n.close(),a(function(){p.ccVerified({type:"verified-failed"})},200)):i.data.errorCode&&n.close();if(0===i.data.errorCode&&document.getElementById("braintree-dropin")&&(window.braintree.setup(i.data.token,"dropin",{container:"braintree-dropin",onReady:function(){m.braintreeLoading=!1},paymentMethodNonceReceived:function(i,r){m.braintreeLoading=!1;var l={data:t.vm.sub.price,signature:r,sku:t.vm.sub.SKU,userId:s.user.userId,device_data:document.getElementById("device_data").value,channelId:m.channel.userId,origin:h.origin};"http:"===window.location.protocol&&(l.s=s.user.session);var c="STORE_BUY";m.subscription&&m.subscription.subscriptionId&&(c="STORE_CHANGE_SUBSCRIPTION_PAYMENT",l.subscriptionId=m.subscription.subscriptionId),v(),m.submitting=!0,o.post(c,l,!0).then(function(t){m.submitting=!1,6032===t.data.errorCode?(e.gaEvent("PURCHASE","ERROR_6032","INLINE","SUBSCRIPTION"),n.close(),a(function(){p.spendingFailed({purchaseItem:"subscription"})},200)):t.data.errorCode?n.close():t.data.errorCode?(console.info(c+" failed:",t.data),o.showTopNotification(JSON.stringify(t.data))):("STORE_CHANGE_SUBSCRIPTION_PAYMENT"==c?(n.close(),o.showTopNotification("Thank you! Your payment information has been updated.","success")):(window.YouNow.reloadSubscriptions=!0,f.broadcast?n.dismiss():m.spanel="thankyou",o.showTopNotification("You have subscribed to "+m.channel.profile+"!","success"),e.gaEvent(h.category,"SUBSCRIBE"+h.action_x,"LEVEL1"),d.capture({event:"SUB_CLICK",coins:s.fanStatus[m.channel.userId]?1:0,extradata:"SUBSCRIBE"}),t.data.vipSpenderMessage&&p.vip_welcome(t.data.vipSpenderMessage)),s.subStatus[l.channelId]=!0)})}}),window.BraintreeData)){var u=window.BraintreeData.environments[r.settings.BTEnv].withId(r.settings.BTKountId);window.BraintreeData.setup(r.settings.BTMerchantId,"braintree-form",u)}}),m.submitInitial=function(){s.user.email&&s.user.isEmailConfirmed?(m.spanel="payment",e.gaEvent(h.category,"PAYVIEW"+h.action_x,"LEVEL1"),d.capture({event:"SUB_CLICK",coins:s.fanStatus[m.channel.userId]?1:0,extradata:"PAYVIEW"})):(m.spanel="email",d.capture({event:"SUB_CLICK",coins:s.fanStatus[m.channel.userId]?1:0,extradata:"EMAIL"}))},m.submitEmail=function(t){if(m.submitting=!0,t.$invalid)return u.notifySubscribers("subscribeForm:invalid"),!1;var n={userId:s.user.userId,channelId:s.user.userId,emailAddress:m.session.user.email};o.post("CHANNEL_UPDATE_SETTINGS",n).then(function(t){t.errorCode||(m.spanel="payment",e.gaEvent(h.category,"PAYVIEW"+h.action_x,"LEVEL1"),d.capture({event:"SUB_CLICK",coins:s.fanStatus[m.channel.userId]?1:0,extradata:"PAYVIEW"})),m.submitting=!1})},m.closeThankyou=function(){n.dismiss()},m.cancelSubscription=function(){return"Android"===m.subscription.subscriptionPlatform.name?(window.open(m.subscription.subscriptionPlatform.url),!1):"iOS"===m.subscription.subscriptionPlatform.name?(window.open(m.subscription.subscriptionPlatform.url),!1):(m.cancelling=!0,void o.post("CHANNEL_CANCEL_SUBSCRIPTION",{userId:s.user.userId,subscriptionId:m.subscription.subscriptionId,channelId:m.channelId,origin:"SETTINGS"}).success(function(e){window.YouNow.reloadSubscriptions=!0,m.cancelling=!1,e.errorCode?(console.info("channel/cancelSubscription failed:",e),o.showTopNotification(JSON.stringify(e))):(n.dismiss(),o.showTopNotification("Cancellation successful. You will not be billed again.","success"),s.subStatus[m.channelId]=!1)}))},t.vm=m}]).directive("subscribeValidate",["Api","$compile","eventbus",function(e,t,n){return{restrict:"A",scope:{message:"@",isValid:"="},link:function(t,a,i){function o(){-1!==a[0].className.indexOf("ng-invalid")&&e.triggerTooltip(a,2500)}var r=a[0].tagName;("TEXTAREA"==r||"INPUT"==r)&&a.on("blur",o),n.subscribe("subscribeForm:invalid",o,i.name,t)}}}]),angular.module("younow.modals.trap",[]).controller("TrapModalCtrl",["$scope","$modal","$modalInstance","config","session","data","source",function(e,t,n,a,i,r,o){e.user=r.user,e.source=o,e.nothumb=a.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",e.thumbPath=a.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",e.background=function(e,t,n){return t=t||"Image","background:url("+a.settings.ServerCDNBaseUrl+"/php/api/channel/get"+t+"/channelId="+e+") no-repeat center center; background-size: cover;"},"fan"===r.type&&(e.fanTrap=!0,e.heading="To participate, become a fan of "+(e.user.profile||e.user.profileUrlString),e.subheading="You will get updates when people comment or like your posts"),"archives"===r.type&&(e.loginTrap=!0,e.heading="To watch my archived broadcasts, you have to login to YouNow!"),e.showLoginModal=function(){n.close()},e.fanTrap&&e.$watch(function(){return i.fanStatus[r.user.userId]},function(t){t&&e.$evalAsync(function(){"function"==typeof r.callback&&r.callback(),n.close()})},!0)}]),function(){window.YouNow.ReactComponents.UserBadge=React.createClass({displayName:"UserBadge",propTypes:{role:React.PropTypes.any,level:React.PropTypes.number,subscriptionType:React.PropTypes.any,channelId:React.PropTypes.any,broadcaster:React.PropTypes.object,config:React.PropTypes.object},render:function(){var e=null,t=null,n=null,a=null;return("0"!=this.props.subscriptionType||this.props.broadcaster.isSubscribabel&&this.props.channelId==this.props.broadcaster.userId)&&(e=React.createElement("span",{className:"user-crowns ynbadge"},React.createElement("img",{src:this.props.config.settings.BadgeBaseUrl+"/"+this.props.broadcaster.userId+"/"+("0"!=this.props.subscriptionType?this.props.subscriptionType:1)+"/badge@2x.png"}))),"0"!=this.props.subscriptionType||!this.props.level||"0"!=this.props.role&&3!=this.props.role||(t=React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-level"}))),2==this.props.role?n=React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-ambass"})):4!=this.props.role&&5!=this.props.role&&6!=this.props.role||!this.props.level?7!=this.props.role&&8!=this.props.role&&9!=this.props.role||!this.props.level?10!=this.props.role&&11!=this.props.role&&12!=this.props.role||!this.props.level||(n=10==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"})):11==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"})):React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"}))):n=7==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-redcrownicon"})):8==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"}),React.createElement("i",{className:"ynicon ynicon-redcrownicon"})):React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-redcrownicon"})):n=4==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-icon-whale"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"})):5==this.props.role?React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-icon-whale"}),React.createElement("i",{className:"ynicon ynicon-icon-whale"})):React.createElement("span",{className:"user-crowns"},React.createElement("i",{className:"ynicon ynicon-icon-whale"})),1!=this.props.role&&this.props.level>1&&(a=React.createElement("span",{className:"chat-name level"},React.createElement("b",null,this.props.level))),React.createElement("span",{className:"crowns-container"},e,t,n,a)}})}(),angular.module("younow.user-badge",[]).value("UserBadge",window.YouNow.ReactComponents.UserBadge).directive("userBadgeRt",function(e){return e("UserBadge")}).directive("userBadge",["broadcasterService","config",function(e,t){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/user-badge/user-badge.tpl.html",replace:!0,scope:{role:"@",level:"@",subscriptionType:"@",channelId:"@"},link:function(n,a,i){n.broadcast=angular.copy(e,{}),n.config=angular.copy(t,{})}}}]).directive("userBadgeDynamic",["broadcasterService","config",function(e,t){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html",replace:!0,scope:{role:"=",level:"=",subscriptionType:"=",channelId:"="},link:function(n,a,i){n.broadcast=e,n.config=angular.copy(t,{})}}}]),angular.module("younow.modals.verification",[]).controller("VerificationModalCtrl",["$scope","$modalInstance","session","Api","config","$rootScope","$timeout","data","$modal",function(e,t,n,a,i,r,o,s,l){function u(t,n,a,i,r){e.verification.sale={originalAmount:t,last4:i,low:Number(t)-1.99,high:Number(t)-.01,date:1e3*n,barsAmount:a,paymentType:r},e.verification.active=!0}e.data=s,e.session=n,e.config=i,e.verification={processing:!1,failed:!1,invalid:!1,active:!1,verifyNowState:function(){e.verification.verifyNow=!0,o(function(){e.verification.animate=!0})}};var c;e.cancel=function(){r.gaEvent("PURCHASE","VERIFICATION_CANCEL"),t.dismiss()},e.verifyAmount=function(){e.verification.invalid=void 0,c&&o.cancel(c),e.verificationForm.$invalid?e.verification.invalid="Oops. needs to include decimals, i.e. $1.99. Try again":(e.verification.amount<e.verification.sale.low||e.verification.amount>e.verification.sale.high)&&(e.verification.invalid="That is an incorrect amount. Try again."),e.verification.invalid?(a.triggerTooltip("verification-tooltip",2500),c=o(function(){e.verification.invalid=void 0},2600)):(e.verification.processing=!0,a.post("STORE_VERIFY_CREDIT_CARD",{amount:e.verification.amount,userId:n.user.userId,s:n.user.session},!0).then(function(n){e.verification.processing=!1,n.data&&0===n.data.errorCode&&(t.close(),o(function(){l.ccVerified({type:"verified",data:s})},200)),n.data&&6023===n.data.errorCode&&(n.data.remainingAttempts>0?(e.verification.failed=!0,e.verification.amountAttempted=angular.copy(e.verification.amount)):(t.close(),o(function(){l.ccVerified({type:"verified-failed",data:s})},200)))}))},u(s.params.originalAmount,s.params.date,s.params.barsAmount,s.params.last4,s.params.paymentType),s.params.justPurchased||e.verification.verifyNowState()}]).controller("CcVerifiedModalCtrl",["$scope","$modalInstance","session","data","$modal",function(e,t,n,a,i){a=a.data,e.cancel=function(){t.dismiss()},e["continue"]=function(){t.dismiss(),"buyBars"===a.source.source?i[a.source.source](n.user.spendingDisabled):"subscribeModal"===a.source.source&&i[a.source.source](a.params.channelId)},e.contactSupport=function(){window.open("https://younow.zendesk.com/anonymous_requests/new?ticket[subject]=Credit+Card+Verification&ticket[ticket_form_id]=67755&ticket[fields][23984596]="+n.user.fullName,"_blank")}}]),angular.module("younow.channel.mini-overlay",[]).directive("miniOverlay",function(e,t,n,a,i,r,o,s,l){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/video-player/mini-overlay.tpl.html",scope:{type:"@"},link:function(i,c,u){function d(){return e.guest&&n.broadcast.userId!=a.user.userId&&e.guest.userId!=a.user.userId?!0:!1}i.config=r,i.guest=e.guest,i.swf=n,i.session=a,i.$watch(function(){return e.overlayStates[i.type]},function(t){t&&("ready"!=t&&"connected"!=t?(i.state=i.type+" active "+t,("connecting-broadcaster"==t||"inviting"==t)&&(i.profile=e.guest.name,i.guest=e.guest),"dropping"==t&&(e.overlayStates.guest="dropping"),("swapping"==t||"inviting"==t||"declined"==t||"inviting-prompt"==t||"inviting-audience"==t||"declined-retry"==t)&&(i.pendingGuest=e.pendingGuest)):i.state=i.type)}),"guest"===i.type&&(c.on("mouseenter",function(){"ready"===e.overlayStates[i.type]&&d()&&(i.state=angular.copy(i.state)+" hover"),e.guest&&(i.profile=e.guest.name)}),c.on("mouseleave",function(){i.state=i.state.replace("hover","")})),"broadcaster"===i.type&&(c.on("mouseenter",function(){"ready"===e.overlayStates[i.type]&&d()&&(i.state=angular.copy(i.state)+" hover")}),c.on("mouseleave",function(){i.state=i.state.replace("hover","")}),i.profile=n.broadcast.profile,i.$watch(function(){return n.broadcast.profile},function(e){i.profile!=e&&(i.profile=e)})),i.cancelDrop=function(){s(function(){e.overlayStates.guest="connected",o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_END_CANCEL"})})},i.cancelSwap=function(){s(function(){e.overlayStates.guest="connected",delete e.pendingGuest})},i.confirmDrop=function(){e.dropGuest(a.user.userId)},i.confirmSwap=function(){e.dropGuest(a.user.userId).then(function(){"direct"==e.pendingGuest.guest.mode?e.inviteGuest(a.user.userId,e.pendingGuest.guest.userId,void 0,"direct"):e.inviteGuest(a.user.userId,e.pendingGuest.guest.userId)})},i.declineInvite=function(){e.declineInviteRequest(n.broadcast.userId,a.user.userId),o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_DECLINE"})},i.cancelInvite=function(){e.cancelInviteRequest(a.user.userId),o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_CANCEL_INVITE"})},i.acceptInvite=function(){i.loadingPermissions=!0,e.acceptInviteRequest().then(function(){o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_GO_LIVE"}),i.loadingPermissions=!1,e.state="loading",e.newGuestObj(e.pendingGuest.guest)})},i.retryDirectInvite=function(){e.inviteGuest(a.user.userId,e.pendingGuest.guest.userId,void 0,"direct"),o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_RETRY_YES"})},i.cancelRetry=function(){e.overlayStates.guest="ready",s(function(){delete e.pendingGuest},3e3),o.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"BROADCASTER_RETRY_NO"})},i.openProfileSummary=function(a){a.stopPropagation(),"guest"===i.type?(t.profileSummary(e.guest.userId,{source:"GUESTLIVE"}),l.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"VIEWER_GUEST"},l.captureGroups.trackevents)):(t.profileSummary(n.broadcast.userId),l.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"VIEWER_HOST"},l.captureGroups.trackevents))},i.captureMoment=function(){"broadcaster"!==i.type||"ready"!==e.overlayStates[i.type]&&"connected"!==e.overlayStates[i.type]||!e.guest?("guest"===i.type&&"ready"===e.overlayStates[i.type]||"connected"===e.overlayStates[i.type])&&n.momentCapture():n.momentCapture()}}}}),angular.module("younow.channel.player-footer",[]).controller("PlayerFooterCtrl",["$scope","swf","session","Api","$timeout","config","$window","shareService","eventbus","broadcasterService","$rootScope","trackingPixel","webRtc","$document","guestService","$modal","externalStreamer","$interval",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v){function y(){b.fullscreenStart=Math.floor(Date.now()/1e3),u.gaEvent("FULLSCREEN","ENTER_FULLSCREEN",r.UILocale),d.capture({event:"BROADCAST_ACTION",extradata:"ENTERFULLSCREEN"}),f.on("keyup",function(e){27==e.which&&w()}),t.fullscreenActive||(t.fullscreenIn=!0,i(function(){document.documentElement.classList.add("overflow-hidden"),t.fullscreenActive=!0},500),i(function(){t.fullscreenIn=!1},600)),"Chat"!=t.activeChatTab&&l.notifySubscribers("swf:reset",{type:"fullscreen"})}function w(){b.fullscreenEnd=Math.floor(Date.now()/1e3),b.fullscreenStart&&(b.fullscreenDuration=b.fullscreenEnd-b.fullscreenStart),u.gaEvent("FULLSCREEN","LEAVE_FULLSCREEN",r.UILocale,b.fullscreenDuration),f.off("keyup"),t.fullscreenActive&&(t.fullscreenOut=!0,i(function(){document.documentElement.classList.remove("overflow-hidden"),t.fullscreenActive=!1},400),i(function(){t.fullscreenOut=!1},500)),window.scrollTo(0,0)}var b=this;b.swf=t,b.session=n,b.shareService=s,b.config=r,b.webRtc=p,b.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,b.ffStreamAudioEnabled=!1,b.externalStreaming=g.settings,b.broadcastSettings={setCamera:function(e,n){t.invokeSwfMethod("setCamera",e)},setMicrophone:function(e){t.invokeSwfMethod("setMicrophone",e)},cameraSetup:function(){var e=t.invokeSwfMethod("cameraSetup"),n=0;for(b.cameraOptions=[],n;n<e.cameras.length;n++)b.cameraOptions.push({name:e.cameras[n],current:e.currentCamera===e.cameras[n]?!0:!1})},microphoneSetup:function(){var e=t.invokeSwfMethod("microphoneSetup"),n=0;for(b.microphoneOptions=[],n;n<e.microphones.length;n++)b.microphoneOptions.push({name:e.microphones[n],current:e.currentMicrophone===e.microphones[n]?!0:!1})}},b.RTCbroadcastSettings={setCamera:function(e){p.changeCamera(e)},setMicrophone:function(e){p.changeMicrophone(e)},cameraSetup:function(){p.getMediaDevices().then(function(e){b.cameraOptions=e.video})},microphoneSetup:function(){p.getMediaDevices().then(function(e){b.microphoneOptions=e.audio})},ffMediaSetup:function(){p.getCurrentConfig().webrtcStream?p.ffMediaSetup():p.initialize(p.pc.onicecandidate).then(function(){window.YouNow.App.cameraReady()},function(){m.alert("You must allow camera access to broadcast. You can edit this in your browser settings.")})},ffMuteStream:function(){b.ffStreamAudioEnabled=p.ffMuteStream()}},b.showFfMuteControls=function(){return b.isFirefox&&(h.isGuest(n.user)||n.isBroadcasting&&"1"==r.mcu)},b.likeStyle=function(){if(!b.swf.broadcast)return{};var e,t,n="#f6faf1",a="#d1e6ba";return b.swf.broadcast.likePercent<=50?(e=n,t=3.6*b.swf.broadcast.likePercent-90):(e=a,t=3.6*b.swf.broadcast.likePercent-270),{background:"linear-gradient("+t+"deg, "+e+" 50%, transparent 50%) 0 0, linear-gradient(90deg, "+n+" 50%, "+a+" 50%) 0 0"}},b.doLike=function(e){return d.trackClick("LIKE"),b.cooldown?!1:n.loggedIn?t.settingUpBroadcast?(n.preventBroadcastInterrupt(),
!1):n.checkBan()?!1:(b.cooldown=!0,i(function(){b.cooldown=!1},6e3),t.broadcast.likes=a.squashedNumber(Number(t.broadcast.likes.replace(/\,/g,""))+1),n.user.userCoins=n.user.userCoins-t.broadcast.nextLikeCost,a.post("BROADCAST_LIKE",{channelId:t.broadcast.userId,userId:n.user.userId}).success(function(e){t.broadcast.nextLikeCost=e.nextLikeCost}),void 0):(n.showLoginModal("","LIKE").result.then(function(){b.doLike(e)}),!1)},b.clipboardMessage="Copy Link",b.clipboardCopied=function(){b.clipboardMessage="Copied!!",i(function(){b.clipboardMessage="Copy Link"},3e3)},b.likeTooltip=function(){return t.broadcast?"<i class='yncoin ynicon ynicon-coins'></i>"+t.broadcast.nextLikeCost:""},b.setVolume=function(e){n.isBroadcasting||t.settingUpBroadcast||h.isGuest(n.user)?t.setGain(t.shadowGain):t.setVolume(t.shadowVolume,!0)},b.getVolume=function(){return n.isBroadcasting||t.shadowVolume||t.settingUpBroadcast||h.isGuest(n.user)||(t.shadowVolume=t.volume),!t.shadowGain&&(n.isBroadcasting&&t.settingUpBroadcast||h.isGuest(n.user))&&(t.shadowGain="1"==r.mcu||h.isGuest(n.user)?p.getGain()||0:t.gain),n.isBroadcasting||t.settingUpBroadcast||h.isGuest(n.user)?t.shadowGain/2:t.shadowVolume/2},b.muteIcon=function(){return n.isBroadcasting||t.settingUpBroadcast||h.isGuest(n.user)?"1"==r.mcu||h.isGuest(n.user)?p.settings.sources.gainNode?0===p.getGain()?"ynicon-icon-mic-off":"ynicon-icon-mic":void 0:0===t.gain?"ynicon-icon-mic-off":"ynicon-icon-mic":0===t.volume?"ynicon-mute-sel":"ynicon-mute"},b.setMute=function(){n.isBroadcasting||h.isGuest(n.user)?"1"==r.mcu||h.isGuest(n.user)?(t&&0!==p.getGain()&&(t.oldGain=p.getGain()||50),p.setGain(0===p.getGain()?t.oldGain||50:0),t.shadowGain=p.getGain()):(t&&0!==t.gain&&(t.oldGain=t.gain||50),t.setGain(0===t.gain?t.oldGain||50:0),t.shadowGain=t.gain):(t&&0!==t.volume&&(t.oldVolume=t.volume||100),t.setVolume(0===t.volume?t.oldVolume||100:0,!0),t.shadowVolume=t.volume)},b.slideVolume=function(e){var a=e.which;if(a=void 0!==e.buttons?e.buttons:e.which,1===a&&(e.offsetX>0||e.layerX>0)){var i=2*Number(e.offsetX||e.layerX);if(0>i||2===i)return!1;i>90&&(i=100),10>i&&(i=0),n.isBroadcasting||t.settingUpBroadcast||h.isGuest(n.user)?t.shadowGain=i:t.shadowVolume=i,"1"==r.mcu&&t.broadcast.userId==n.user.userId||h.isGuest(n.user)?p.setGain(t.shadowGain):(t.shadowGain%5===0||t.shadowVolume%5===0)&&b.setVolume()}},b.openSnapshot=function(e){return u.gaEvent("Conversion","Share (Attempt)",d.getUserLocation()||"ANCILLARY"),e||(e="PROMOTE"),d.trackClick(e),n.loggedIn?n.isBroadcasting||t.settingUpBroadcast?(n.preventBroadcastInterrupt(),!1):n.checkBan()?!1:(s.trackFunnel("open"),t.fullscreenActive&&l.notifySubscribers("share:snapshot"),h.isGuest(n.user)&&"GuestSnapshot"!==t.activeChatTab?p.takeGuestSnapshot(document.getElementById("bcVideo"),document.getElementById("guestVideo")):t.getSnapshot(),b.swf.broadcast.share_message="",void(t.share_facebook_permitted||FB.api("/me/permissions",function(e){if(e&&!e.error)for(var n in e)for(var a in e[n])"publish_actions"==e[n][a].permission&&"granted"==e[n][a].status&&(t.share_facebook_permitted=!0)}))):(n.showLoginModal("","SHARE").result.then(function(){b.openSnapshot(e)}),!1)},b.momentCapture=function(e){return n.loggedIn?void t.momentCapture():(n.showLoginModal("","MOMENT").result.then(function(){b.momentCapture(e)}),!1)},b.togglePlayerFullscreen=function(){t.fullscreenActive?w():y()},b.getWebrtcStats=function(e){e?a.polls.statsForNerds||(b.forNerds=p.retrieveStats().forNerds,a.poll(function(){b.forNerds=p.retrieveStats().forNerds},"statsForNerds",5)):(b.forNerds=null,v.cancel(a.polls.statsForNerds),delete a.polls.statsForNerds)},e.$on("$destroy",function(){a.polls.statsForNerds&&(v.cancel(a.polls.statsForNerds),delete a.polls.statsForNerds)})}]).directive("advancedOptions",function(e,t,n,a,i){return{restrict:"E",replace:!0,templateUrl:"angularjsapp/src/app/components/video-player/advanced-options.tpl.html",link:function(r,o,s,l){r.externalStreaming=e.settings,r.toggleExternalStreaming=function(){n.mcu&&(e.settings.active?a(function(){t.initialize()}):t.destroy()),e.settings.active=!e.settings.active,i.trackClick("EXTERNAL_TOOL",{field1:e.settings.active?"ON":"OFF"})}}}}).directive("bitrateLine",function(e){return{restrict:"E",replace:!0,template:"<canvas></canvas>",scope:{bps:"="},link:function(t,n,a){var s,i=n[0],r=document.createElement("canvas"),o=i.getContext("2d"),l=0,c=0;r.width=r.height=i.width,s=r.getContext("2d"),i.height=75,i.width=300,o.beginPath(),o.moveTo(0,50),o.strokeStyle="#61c13e",o.stroke();var u=e(function(){t.bps&&(l=t.bps<2e3?9*Math.log(t.bps):70,c++,c>=i.width&&(s.clearRect(0,0,r.width,r.height),s.drawImage(i,0,0),o.clearRect(0,0,i.width,i.height),o.beginPath(),o.drawImage(r,-1,0),c=297),o.lineTo(c,75-l),o.stroke())},1e3);t.$on("$destroy",function(){e.cancel(u)})}}}).directive("playerFooter",["eventbus","$interval","swf","$filter","Api","$document","$timeout","guestService","session","webRtc",function(e,t,n,a,i,r,o,s,l,c){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/video-player/player-footer.tpl.html",controller:"PlayerFooterCtrl",controllerAs:"vm",link:function(u,d,p,f){function g(e,t){return t&&"fullscreen"==t.type?("close"==t.state&&h.togglePlayerFullscreen(),!1):(n.broadcast&&0===n.broadcast.length&&(n.broadcast.length=1),void(n.broadcast&&void 0!==n.broadcast.length&&null!==n.broadcast.length&&(u.playerFooter.niceLength=a("date")(1e3*n.broadcast.length,"mm:ss"),n.broadcast.length>=3600&&(u.playerFooter.niceLength=Math.floor(n.broadcast.length/3600)+":"+u.playerFooter.niceLength))))}var h=f;u.playerFooter={};var m=t(function(){n.broadcast&&n.broadcast.length&&!n.eob&&(n.broadcast.length++,g(),navigator.onLine===!1&&(n.userOffline=!0),navigator.onLine&&n.userOffline&&n.broadcast&&n.broadcast.userId&&(i.get("BROADCAST_INFO",{channelId:n.broadcast.userId,curId:n.broadcast.userId}).then(function(e){e.data.errorCode?window.YouNow.App.loadChannel():n.newBroadcaster(n.broadcast)}),n.userOffline=!1),s.isGuest(l.user)?c.takeGuestSnapshot(document.getElementById("bcVideo"),document.getElementById("guestVideo")).then(function(e){n.savePreview(e)}):h.session&&h.session.isBroadcasting?n.savePreview(c.takeSnapshot(void 0,void 0,void 0)):"PLAYING"===n.playState&&n.invokeSwfMethod("getSnapshot",!0))},1e3);o(function(){var e=Number(i.store("younowVol"));0===e&&document.getElementById("volume-icon")&&i.triggerTooltip("volume-icon",4e3)}),e.subscribe("swf:reset",g,"playerfooter",u),u.$on("$destroy",function(){t.cancel(m),r.off("keyup")})}}}]),angular.module("younow.channel.player-header",[]).controller("PlayerHeaderCtrl",["$scope","$element","$modal","$window","swf","Api","broadcasterService","session","config","$timeout","eventbus","playerOverlayService",function(e,t,n,a,i,r,o,s,l,c,u,d){function g(){i.systemMessagesQueue&&i.systemMessagesQueue.length>0&&!p.systemMessage.hasMessage&&(p.systemMessage.message=i.systemMessagesQueue[0],p.systemMessage.message.trustedMessage=r.trustedHTML(r.linkify(p.systemMessage.message.web)),p.systemMessage.hasMessage=!0,messageTimeout=c(function(){p.systemMessage.dismissed=!1,p.systemMessage.hasMessage=!1,i.systemMessagesQueue.splice(0,1),c(function(){g()},1e3)},1e3*(p.systemMessage.message.webTime||3)))}var p=this;p.Api=r,p.swf=i,p.session=s,p.broadcast=o,p.broadcast.chatMode=0,p.Math=a.Math,p.thumb=l.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",p.noThumb=l.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",p.globalVars=window.globalVars,p.config=l,p.systemMessage={},p.systemMessage.hasMessage=!1,p.openBroadcasterProfile=function(e){n.profileSummary(e)};var f,h=0,m=function(e,t){h=t.rank,f!=h&&(p.newRank=h,c(function(){p.newRank=0},1e4)),f=h};u.subscribe("BROADCASTER_RANK",m,"player-header",e),d.expose("onSystemMessage",g),p.chatModeToggle=function(){var e=p.broadcast.chatMode?0:1,t={userId:p.session.user.userId,channelId:p.broadcast.broadcaster.userId,chatMode:e};r.post("BROADCAST_SET_CHAT_MODE",t).success(function(t){t.errorCode||(p.broadcast.chatMode=e)})},e.vm=p}]).directive("playerHeader",function(){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/video-player/player-header.tpl.html",controller:"PlayerHeaderCtrl",controllerAs:"vm",scope:{}}}),angular.module("younow.channel.player-overlay",[]).factory("playerOverlayService",function(){var e={};return e.expose=function(t,n){e[t]=n},e.destroyExposed=function(t){e[t]&&(e[t]=null)},e}).controller("PlayerOverlayCtrl",["$scope","$element","swf","$interval","$window","config","$timeout","Api","broadcasterService","session","$rootScope","$modal","eventbus","webRtc","guestService","trackingPixel","playerOverlayService","externalStreamer",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v){function A(e,t){return t&&"fullscreen"==t.type?!1:(b.systemMessage.hasMessage=!1,b.gift=!1,b.dropBroadcastActive=!1,o.cancel(_),void(b.gift&&o.cancel(S)))}var b=this;b.momentEducationOn=!s.store("ynMomentCaptured"),b.Math=i.Math,b.swf=n,b.session=c,b.broadcast=l,b.baseUrl=r.settings.ServerCDNBaseUrl,b.baseAnimationsUrl=r.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/animations",b.giftOverlayUrl=r.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/images/icons_v3/_gifts/_overlay",b.thumb=r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",b.noThumb=r.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",b.pulseAnimation=r.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/animations/pulse-animation.gif",b.gift=!1,b.systemMessage={},b.systemMessage.hasMessage=!1,b.dropBroadcastActive=!1,b.mirroredCamera=s.store("mirrorCamera"),b.globalVars=window.globalVars,b.config=r,b.guestService=h;var S,_,C=Date.now(),T=function(){if(o.cancel(S),b.gift&&(b.gift=!1,o.cancel(S),n.giftOverlayQueue&&n.giftOverlayQueue[0]))return S=o(T,1e3),!1;if(!n.giftOverlayQueue||!n.giftOverlayQueue[0])return!1;b.gift=n.giftOverlayQueue[0],b.gift.shownAt=Date.now(),b.giftUserId_lastingValue=b.gift.userId,n.giftOverlayQueue.splice(0,1),b.gift.comment=b.gift.comment.replace(/just /gi,""),b.gift.SKU=n.giftSkus[b.gift.giftId],b.gift.info=n.giftObjects[b.gift.SKU],"SUBSCRIPTION"==b.gift.info.itemGameType&&o(function(){b.gift.animateSubs=!0},500);var e=3e3;b.gift&&b.gift.info&&b.gift.info.minVis&&(e=b.gift.info.minVis+0),b.gift.minTime=Math.max(C,Date.now())+e;var t=1e4;b.gift&&b.gift.info&&b.gift.info.maxVis&&(t=b.gift.info.maxVis+0),S=o(T,t)},k=function(){if(b.onGiftTimeout&&(o.cancel(b.onGiftTimeout),b.onGiftTimeout=void 0),!n.giftSkus)return b.onGiftTimeout=o(k,250),!1;var e=Date.now();!b.gift||b.gift.minTime<=e?T():(o.cancel(S),S=o(T,b.gift.minTime-e))};g.expose("onGift",k),b.suppressGiftOverlays=function(){return"ready"===h.overlayStates.guest||"connected"===h.overlayStates.guest?!1:!0},b.isProposalGift=function(e){return e&&"PROPOSAL_RING"===n.giftSkus[e]?!0:!1},b.dropBroadcast=function(e){return n.snapshot=void 0,void 0!==e?(b.dropBroadcastActive=e,!1):void(c.user&&c.user.userId&&!n.eob&&(l.dropBroadcast(c.user.userId).then(function(){v.reset()}),"1"==r.mcu&&f.destroy(),delete l.bcMedia,c.isBroadcasting=!1))},b.cancelBroadcast=function(){n.snapshot=void 0,n.invokeSwfMethod("cancelBroadcast"),"1"===r.mcu&&f.destroy(),l.dropBroadcast(c.user.userId),v.reset(),n.settingUpBroadcast=!1,window.YouNow.App.loadChannel({channelId:n.broadcast.userId,isBroadcasting:!1})},b.mirrorCamera=function(){var e=s.store("mirrorCamera");e?s.store("mirrorCamera",!1):s.store("mirrorCamera",!0),b.mirroredCamera=s.store("mirrorCamera"),"1"!=r.mcu?n.invokeSwfMethod("mirror",b.mirroredCamera):f.settings.mirroredCamera=b.mirroredCamera},b.openProfile=function(e){u.gaEvent("FEATURE","clickvideo",r.UILocale),d.profileSummary(n.broadcast.userId)},b.dropGuestAsBroadcaster=function(){"dropping"!=h.overlayStates.guest&&(h.overlayStates.guest="dropping")},b.dropGuestAsGuest=function(){h.dropGuest(c.user.userId),b.dropBroadcastActive=!1,m.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_END_CALL"})},b.dropGuestAsGuestCancel=function(){b.dropBroadcastActive=!1,m.capture({event:"CLICK",extradata:"GUESTBROADCASTING",field1:"GUEST_END_CANCEL"})},b.dismissSystemMessage=function(){_&&o.cancel(_),b.systemMessage.dismissed=!0,o(function(){b.systemMessage.dismissed=!1,b.systemMessage.hasMessage=!1,n.systemMessagesQueue.splice(0,1),onSystemMessage()},1e3)},b.randomGuest=function(){s.get("GUEST_RANDOM",{channelId:c.user.userId}).then(function(e){e.data&&e.data.guestInfo&&(h.overlayStates.guest="swapping",h.pendingGuest={guest:e.data.guestInfo})})},b.captureMoment=function(){return c.loggedIn?void(n.settingUpBroadcast||n.broadcast.userId===c.user.userId||n.momentCapture()):(c.showLoginModal("","MOMENT").result.then(function(){b.momentCapture()}),!1)},p.subscribe("swf:reset",A,"overlay",e),p.subscribe("pusher:ban",function(e,t){c.user&&!n.settingUpBroadcast&&l.broadcaster&&l.broadcaster.userId==c.user.userId&&b.dropBroadcast()},"overlay",e),e.$on("$destroy",function(){b.gift&&o.cancel(S),_&&o.cancel(_),g.destroyExposed("onGift"),g.destroyExposed("onSystemMessage")})}]).directive("playerOverlay",function(){return{restrict:"A",templateUrl:"angularjsapp/src/app/components/video-player/player-overlay.tpl.html",controller:"PlayerOverlayCtrl",controllerAs:"vm",scope:{}}}),angular.module("younow.channel.selfies-overlay",[]).directive("selfiesOverlay",function(e,t,n,a,i,r,o){return{restrict:"E",templateUrl:"angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html",scope:{},link:function(s,l,c){i("selfies_unavailable_new",{firefox:'<a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>',chrome:'<a href="https://www.google.com/chrome/browser/desktop/" target="_blank">Chrome</a>'}).then(function(e){s.selfiesUnavailableTxt=r.trustedHTML(e)}),s.closeSelfies=function(){e.clearSelfies(n.broadcast.userId,t.user.userId)},s.selfies=e,s.session=t,s.swf=n,s.config=o,s.openProfile=function(t){t.stopPropagation(),e.currentSelfie&&a.profileSummary(e.currentSelfie.userId,{sf:e.currentSelfie.selfiePath,source:"SELFIE"})},s.nextSelfie=function(){t.user.userId!=n.broadcast.userId||e.emptyQueue||e.attempted||e.nextSelfie(n.broadcast.userId),e.emptyQueue&&(e.emptyQueue=!1)}}}}),angular.module("younow.modals.vip",[]).controller("VipModalCtrl",function(e,t,n,a,i,r,o,s,l){var c={};c.session=i,c.config=r,c.message=a,console.log("vm.message",c.message),c.closeModal=function(e){s.dismiss()},c.submitEmail=function(t){if(c.submitting=!0,t&&t.$invalid)return l.notifySubscribers("vipForm:invalid"),!1;var r={userId:i.user.userId,vipSpenderMessage:a,emailAddress:c.session.user.email};n.post("channel/vipConfirmMail",r).then(function(n){c.emailSubmitted=!0,n.errorCode||(c.spanel="payment"),c.submitting=!1,e.gaEvent("VIP_WELCOME",t?"CONTINUE":"DISMISS",""),o.capture({event:"CLICK",extradata:"VIP_WELCOME",field1:t?"CONTINUE":"DISMISS"}),i.getSession(),s.dismiss()})},t.vm=c,t.$on("$destroy",function(){c.submitting||c.emailSubmitted||c.submitEmail()})}).directive("vipValidate",["Api","$compile","eventbus",function(e,t,n){return{restrict:"A",scope:{message:"@",isValid:"="},link:function(t,a,i){function o(){-1!==a[0].className.indexOf("ng-invalid")&&e.triggerTooltip(a,2500)}var r=a[0].tagName;("TEXTAREA"==r||"INPUT"==r)&&a.on("blur",o),n.subscribe("vipForm:invalid",o,i.name,t)}}}]),function(){angular.module("younow.momentHighlight",[]).directive("momentHighlight",function(){return{restrict:"E",replace:!0,templateUrl:function(e,t){return t.$attr.dynamic?"angularjsapp/src/app/components/post/moment-highlight/moment-dynamic-highlight.tpl.html":"angularjsapp/src/app/components/post/moment-highlight/moment-highlight.tpl.html"},link:function(e,t,n){var a=e.$watch(function(){return e.vm},function(n,i){n&&(e.vm.doAnimation=function(){t[0].classList.add("pop-highlight")},e.vm.removeAnimation=function(){t[0].classList.remove("pop-highlight")},a())})}}})}(),angular.module("younow.moment",[]).directive("momentCard",function(){return{restrict:"EA",templateUrl:"angularjsapp/src/app/components/post/moment/moment.tpl.html",controller:"MomentCardCtrl",controllerAs:"vm",scope:{moment:"@","delete":"&",hideCollection:"&",updateOnFetch:"&",ordinalRank:"@"}}}).controller("MomentCardCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p){function O(e,t,n){var a={flagging:!0,deleting:!1,hiding:!1};return c.administrator||c.moderator?(a.deleting=!0,"collection"===f.moment.originalType&&(a.hiding=!0)):n==e.userId?(a.deleting=!0,a.flagging=!1):n==t.userId&&(c.user.partner>0&&s.settings.AllowMomentsDeletionByPartners&&(a.deleting=!0),"collection"===f.moment.originalType&&(a.hiding=!0)),a}function P(e){var t=c.getMomentLike(e);t?t.then(function(){k=c.momentStatus[e]?"2":"0","2"===k&&"0"==f.moment.likes&&f.moment.likes++}):(k=c.momentStatus[e]?"2":"0","2"===k&&"0"==f.moment.likes&&f.moment.likes++)}function R(){_&&U(_,(new Date).getTime(),f.moment.momentId),f.fetchingMoment=!0,angular.merge(f.moment,f.collection.fetchedMoments[f.collection.currentIndex]),P(f.moment.momentId),f.playbackProgress=0,f.removeAnimation(),D.playerEl.pause();var e=l.generateDynamicApi("MOMENT_PLAYLIST")+"/"+f.moment.momentId+"/"+f.moment.momentId+".m3u8";return D.url=e,n.updateOnFetch&&n.updateOnFetch({moment:f.collection.fetchedMoments[f.collection.currentIndex]}),D.playerEl.src({src:e,type:"application/x-mpegURL"})}function U(e,t,a){if(g)return!1;var i=t-e,r=l.post("MOMENT_VIEWED",{id:f.moment.momentId,loops:S,timeViewed:Math.ceil(i/1e3),userId:c.user.userId});r.then&&r.then(function(e){e.data&&e.data.momentViews&&f.moment.momentId===a&&(f.moment.views=e.data.momentViews)}),d.capture({event:"MOMENT_VIEW",unspentcoins:f.moment.momentId,extradata:"collection"|f.moment.titleType,coins:n.momentCollection?n.momentCollection.collectionId:void 0,points:Math.ceil(i/1e3),sourceid:f.moment.owner.userId,field1:""+(Number(n.ordinalRank)+1),field2:""+S,field5:E,field7:k},d.captureGroups.trackevents),_=void 0,S=0}function L(){var e=Math.ceil(((new Date).getTime()-A)/1e3),t=f.collection?n.momentCollection:f.moment;d.capture({event:"COLLECTION_VIEW",points:e,coins:""+I,sourceid:c.fanStatus[t.broadcaster.userId]?1:0,field2:""+x,field4:""+t.momentsIds.length||"1",field5:E,field6:""+(f.collection?f.collection.currentIndex+1:1)},d.captureGroups.trackevents),x=0,I=0,A=0}function B(e){x++,S++,f.moment.views++,f.playbackProgress=100,e.currentTime(b),!T&&f.collection&&"collection"===f.moment.originalType&&f.fetchMoment({},f.collection.currentIndex+1)}function F(e,t){void 0!==t&&f.collection.momentsIds.splice(t,1),f.collection&&0!==f.collection.momentsIds.length?(f.collection.fetchedMoments&&f.collection.fetchedMoments.splice(t,1),f.collection.refreshingCarousel=!0,r(function(){f.collection.refreshingCarousel=!1},0),f.fetchMoment({},t)):"hide"===e?n.hideCollection():"delete"===e&&n["delete"]()}var b,y,w,_,T,f=this,h=u.volume|l.store("younowVol"),m=!1,g=!1,v=function(e){e.which&&(37===e.which?f.fetchMoment({},f.collection.currentIndex-1,"manual"):39===e.which&&f.fetchMoment({},f.collection.currentIndex+1,"manual"))},S=0,k="0",A=0,x=0,I=0,E="main.momentsFeed"===o.current.name?"1":"0",N={"main.momentsFeed":"MOMENT_FEED","main.channel.detail":"MOMENT_PROFILE","main.channel.moment":"MOMENT_DEEPLINK"};if(f.cdn=s.imageApis,f.swf=u,f.session=c,f.config=s,f.playbackProgress=0,f.shareToggle=!1,f.shareUrl="",n.moment){if(n.moment=JSON.parse(n.moment),"collection"===n.moment.type)n.momentCollection=n.moment,n.moment=n.moment.firstMoment,n.moment.originalType=n.momentCollection.originalType,n.moment.created=n.momentCollection.created,f.collection={momentsIds:n.momentCollection.momentsIds,currentIndex:0,collectionId:n.momentCollection.collectionId,fetchedMoments:n.momentCollection.moments},n.moment.title=a("translate")("moment_collection_title",{broadcaster:'<a class="name" href="/'+n.momentCollection.broadcaster.userId+'" ng-click="vm.showProfileSummary('+n.momentCollection.broadcaster.userId+')" prevent-default >'+n.momentCollection.broadcaster.name+"</a>"}),n.moment.thumb=n.momentCollection.broadcaster;else{var M='<a class="name" href="/'+n.moment.owner.name+'" prevent-default ng-click="vm.showProfileSummary(vm.moment.owner.userId)">'+n.moment.owner.name+"</a>",j='<a class="name" href="/'+n.moment.broadcaster.name+'" prevent-default ng-click="vm.showProfileSummary(vm.moment.broadcaster.userId)">'+n.moment.broadcaster.name+"</a>";"guest"===n.moment.titleType?n.moment.title=a("translate")("moment_guest_title",{owner:M,broadcaster:j}):"selfie"===n.moment.titleType?n.moment.title=a("translate")("moment_selfie_title",{owner:M,broadcaster:j}):n.moment.title=a("translate")("moment_title",{owner:M,broadcaster:j}),n.moment.thumb=n.moment.owner}var $=l.timeSince(n.moment.created);n.moment.timeAgo=a("translate")($.translationKey,{time:$.unit}),n.moment.likes=Number(n.moment.likes);var D={url:l.generateDynamicApi("MOMENT_PLAYLIST")+"/"+n.moment.momentId+"/"+n.moment.momentId+".m3u8",onLoadedMetadata:function(e){var t=e.duration(),n=e.tech({IWillNotUseThisInPlugins:!0});n.hls?(n=n.hls.playlists.media(),b=l.getJsonFromUrl(n.segments[0].uri).offset||0,y=t-l.getJsonFromUrl(n.segments[n.segments.length-1].uri).offset||t,m||e.currentTime(b)):(b="0",y=e.duration()),f.inView&&e.play(),f.fetchingMoment=!1,r(function(){f.doAnimation()},500)},onCanplay:function(e){e.el_.style["z-index"]=2},onPlay:function(e){u.setVolume(0),u.setMiniPlayerVolume(),e.volume(u.momentVolume)},onEnded:function(e){(!T||f.shareToggle)&&e.play()},onTimeupdate:function(e){if(e){e.volume(u.momentVolume);var t=D.player.techOrder?e.tech_.currentTime():e.currentTime(),n=t/y*100;if(null===n||void 0===n||isNaN(n))return!1;f.playbackProgress<97?(_||(S++,f.moment.views++,_=(new Date).getTime()),A||"collection"!==f.moment.originalType||(A=(new Date).getTime()),f.playbackProgress=n):f.playbackProgress=100,t>=y&&B(e),"0"==t&&"0"!=b&&e.currentTime(b)}},onError:function(e){m=!0},onClick:function(e){if(e){var t=e.paused();t?e.play():e.pause()}},player:{autoplay:!1,controls:!1,preload:!1,poster:f.config.imageApis.moment+"/"+n.moment.momentId+"/"+n.moment.momentId+".jpg"}};f.fanStatus=c.fanStatus,f.moment=n.moment,f.moment.options=D,P(f.moment.momentId)}f.showProfileSummary=function(e,t,n){i.profileSummary(e,t,n)},f["delete"]=function(e){l.post("MOMENT_DELETE",{id:f.moment.momentId,userId:c.user.userId}),f.collection?F("delete",f.collection.currentIndex):F("delete")},f.leftView=function(){r.cancel(w),f.moment.options.playerEl&&f.moment.options.playerEl.pause(),_&&U(_,(new Date).getTime(),f.moment.momentId),A&&!g&&L(),f.inView=!1,window.removeEventListener("keydown",v)},f.enteredView=function(){window.addEventListener("keydown",v),w=r(function(){D.url=l.generateDynamicApi("MOMENT_PLAYLIST")+"/"+f.moment.momentId+"/"+f.moment.momentId+".m3u8",f.inView=!0},200)},f.toggleLike=function(){if(!c.loggedIn)return c.showLoginModal("","MOMENT_LIKE"),!0;c.momentStatus[f.moment.momentId]?(k="3",c.momentStatus[f.moment.momentId]=!1,f.moment.likes--):(k="1",c.momentStatus[f.moment.momentId]=!0,f.moment.likes++),d.capture({event:"CLICK",unspentcoins:f.moment.momentId,extradata:c.momentStatus[f.moment.momentId]?"LIKE":"UNLIKE",coins:n.momentCollection?n.momentCollection.collectionId:void 0,sourceid:f.moment.owner.userId,field1:n.ordinalRank,field6:f.collection?f.collection.currentIndex:void 0},d.captureGroups.trackevents),l.post("MOMENT_LIKE",{id:f.moment.momentId,unLike:c.momentStatus[f.moment.momentId]?0:1,userId:c.user.userId}).then(function(e){(e.data&&0!==e.data.errorCode||!e.data)&&(c.momentStatus[f.moment.momentId]=!1,f.moment.likes--)})},f.toggleMute=function(){u.momentVolume=0===u.momentVolume?100:0,f.moment.options.playerEl&&f.moment.options.playerEl.volume(u.momentVolume)},f.fetchMoment=function(e,t,a){var o,i=document.getElementById("moment-carousel-"+f.collection.collectionId),r=f.collection.currentIndex;if(f.collection.momentsIds.length>t&&t>0?f.collection.currentIndex=t:f.collection.currentIndex=0,f.collection.fetchedMoments?R():o=l.get("MOMENT_COLLECTION",{broadcastId:n.momentCollection.broadcastId}).then(function(e){for(var t=0;t<e.data.moments.length;t++)-1===f.collection.momentsIds.indexOf(e.data.moments[t].momentId)&&e.data.moments.splice(t,1);f.collection.fetchedMoments=e.data.moments,R()}),i){var s=i.getElementsByTagName("li");s[r].className=s[r].className.replace("selected",""),s[f.collection.currentIndex].className+=" selected",angular.element(i).scrollLeftAnimated(s[f.collection.currentIndex].offsetLeft-50,500),T=a&&r>f.collection.currentIndex&&r!=s.length?!0:!1}return I++,o},f.hideMoment=function(e){l.post("MOMENT_HIDE",{id:f.collection?f.collection.momentsIds[e]:f.moment.momentId,userId:c.user.userId}),F("hide",e)},f.playMoment=function(){D.playerEl?D.onClick(D.playerEl):f.inView=!0},n.$on("$destroy",function(){0===S&&S++,_&&U(_,(new Date).getTime(),f.moment.momentId),A&&L(),u.setVolume(h),window.removeEventListener("keydown",v)}),f.checkMomentPermissions=function(){f.momentPermissions=O(f.moment.owner,f.moment.broadcaster||n.momentCollection.broadcaster,c.user.userId)},f.toggleShare=function(){if(!c.loggedIn)return c.showLoginModal("","SHARE_MOMENT"),!0;var e=f.moment.momentId;p.getMomentToShare(e,f.moment.owner.userId).then(function(e){e.data.url&&(f.shareUrl=e.data.url)}),f.shareToggle?(f.shareToggle=!1,T=!1):(f.shareToggle=!0,T=!0)},f.closeShareSheet=function(){f.shareToggle=!1,T=!1},f.shareFacebook=function(){var e=f.moment.broadcaster?f.moment.broadcaster.name:n.momentCollection.broadcaster.name,t={event:"CLICK",extradata:"SHARE",field1:"FACEBOOK",field2:N[o.current.name]||"OTHER"};p.clientShareFacebook(f.shareUrl,e,t)},f.shareTwitter=function(){var e=f.moment.broadcaster?f.moment.broadcaster.name:n.momentCollection.broadcaster.name,t={event:"CLICK",extradata:"SHARE",field1:"TWITTER",field2:N[o.current.name]||"OTHER"};p.clientShareTwitter(f.shareUrl,e,t)},f.copiedShareUrl=function(){var e={event:"CLICK",extradata:"SHARE",field1:"MORE",field2:N[o.current.name]||"OTHER"};d.capture(e,d.captureGroups.trackevents)}}),angular.module("younow.modals.youtube-subscribe",[]).controller("YoutubeSubscribeCtrl",["$scope","$window","$timeout","username","config",function(e,t,n,a,i){e.base=i.settings.ServerCDNBaseUrl;var r=a.split("/");"user"===r[0]?e.channel=r[1]:"channel"===r[0]?e.channelid=r[1]:e.channel=a,n(function(){gapi.ytsubscribe.go()},10),n(function(){gapi.ytsubscribe.go()},300)}]),angular.module("younow.modals.agreement-acceptance",[]).controller("AgreementAcceptanceModalCtrl",["$scope","$modalInstance","session","$location","$state","Api",function(e,t,n,a,i,r){e.genTerms=r.generateDynamicApi("URL_TERMS"),e.partnerAgreement=r.generateDynamicApi("URL_PARTNER_AGREEMENT"),e.partner=!1,e.session=n,e.acceptParams={userId:n.user.userId,termsOfUseAgreement:"",partnerAgreement:""},e.checkAgreementAction=function(a){if(a===!1)t.close(),n.logout();else{n.user.needsToConfirmTermsOfUse===!0&&e.partner===!0&&(e.acceptParams.termsOfUseAgreement="1",e.acceptParams.partnerAgreement="1"),n.user.needsToConfirmTermsOfUse===!1&&e.partner===!0&&(e.acceptParams.termsOfUseAgreement="0",e.acceptParams.partnerAgreement="1"),n.user.needsToConfirmTermsOfUse===!0&&e.partner===!1&&(e.acceptParams.termsOfUseAgreement="1",e.acceptParams.partnerAgreement="0");var o=r.post("CHANNEL_ACCEPT_AGREEMENT",e.acceptParams);o.then(function(e){}),t.close(),e.partner===!0?i.go("/partners"):i.go("main.channel.detail")}};var o=function(t){(6===t.partner||7===t.partner)&&(e.partner=!0)};o(n.user)}]),angular.module("younow.services.ab",[]).factory("ab",function(e,t,n,a,i,r,o){var s=o.defer(),l={ready:s.promise,isReady:!1};return e.init.then(function(){var t=new r.Base({app:"desktop",app_version:e.settings.JS_VERSION,config:e,experiments:i,captureCallback:a.capture,BEexperiments:n.user.experiments});angular.extend(l,t),s.resolve(),l.isReady=!0,t=null}),l}),angular.module("younow.services.ab").factory("experiments",[function(){return{}}]).run(["experiments",function(e){e.BRCST_FEEDBACK={backendExperiment:!0,na:"A"},e.PARTNER_EARNINGS_PAGE={backendExperiment:!0,na:"A"}}]).controller("PARTNER_EARNINGS_PAGE",function(e,t,n,a,i,r,o,s,l,c,u,d,p){function x(e){void 0!==e.pageX&&void 0!==e.pageY&&(C=e.pageX,T=e.pageY)}function I(){if("1"===v.style.opacity){var t=angular.element(document.getElementById(e.tooltip.broadcastKey)),n=angular.element(document.getElementById("broadcast-bucket"));n.scrollTo(t,1,500)}}window.PARTNER_EARNINGS_PAGE_variant=t.variant("PARTNER_EARNINGS_PAGE");var f,h,m,g,v,b={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},y={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"},w=new Date;w.setDate(w.getDate()-1);var S=new Date;S.setDate(1),S.setHours(-1);var _=new Date;_.setDate(_.getDate()-31),e.months={thisMonth:{month:y[w.getMonth()],date:w.getDate(),year:1900+w.getYear()},lastMonth:{month:y[S.getMonth()],date:S.getDate()},thirtyDaysAgo:{month:y[_.getMonth()],date:_.getDate()}},e.thumb=o.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",e.session=a,e.noThumb=o.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",e.cdn.base=o.settings.ServerCDNBaseUrl,e.optionsId=null,e.broadcasts=[],e.spenders=[],e.earningsMetaData=[],e.sentTo=[],e.newPartner=!1,e.dayCount=30;var C,T;document.getElementById("chart");e.labels=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],e.series=["estimated earnings","hours broadcasted"],e.legend=!0,e.data=[[],[]],e.topSpenders=[],e.colours=[{fillColor:"rgba(152,55,254, .7)",highlightFill:"rgba(152,55,254, 1)",strokeColor:"transparent"},{fillColor:"rgba(255,127,190, 1)",highlightFill:"rgba(251,51,149, 1)",strokeColor:"transparent"}],e.userOfInterest={};var A={0:"Sunday -",1:"Monday -",2:"Tuesday -",3:"Wednesday -",4:"Thursday -",5:"Friday -",6:"Saturday -",7:"Sunday -"};window.onload=function(){f=document.getElementById("earnings-chart"),f.addEventListener("mousedown",I),f.addEventListener("mousemove",x),h=document.getElementById("hours"),m=document.getElementById("value-of-broadcast"),g=document.getElementById("date"),v=document.getElementById("chartjs-tooltip")},e.options={responsive:!0,barValueSpacing:2,scaleShowLabels:!1,showXAxisLabel:!1,barStrokeWidth:1,customTooltips:function(t){t?(f.removeEventListener("mousemove",x),f.addEventListener("mousemove",x),e.tooltip=null,t.title=e.days[t.labels.join("")].day,t.earnings=e.days[t.labels.join("")].earnings,e.days[t.labels.join("")].hours<1?t.time={hours:!1,duration:Math.round(60*e.days[t.labels.join("")].hours*100)/100}:t.time={hours:!0,duration:e.days[t.labels.join("")].hours},t.broadcastKey=e.days[t.labels.join("")].broadcastKey,e.tooltip=t,t.chart&&(v.style.opacity=1,f.style.cursor="pointer",v.style.left=C+"px",v.style.top=T-100+"px")):(f.style.cursor="initial",v.style.opacity=0)}},e.getStats=function(){var t=i.get("channel/partnerEarningsStats",{userId:e.userOfInterest.userId});t.then(function(t){if(t.data&&102===t.data.errorCode)return i.showTopNotification("A user with that ID does not exist!"),d.go("/partners"),!1;if(t.data.result&&t.data.result.stats&&0===t.data.result.stats.total_views)return e.newPartner=!0,!1;if(e.getSpenders(),e.getBroadcasts(),e.userOfInterest.userId===a.user.userId&&p.capture({event:"PAGE_VIEW",extradata:"ESTIMATED_EARNINGS",userid:a.user.userId},p.captureGroups.trackevents),e.days={},0===t.data.errorCode){t.data.result.stats.last_30_earnings=c("currency")(t.data.result.stats.last_30_earnings),t.data.result.payments.belowThreshold=Number(t.data.result.payments.current_balance)<t.data.result.payments.threshold?!0:!1,t.data.result.payments.belowThreshold&&(t.data.result.payments.progress=Number(t.data.result.payments.current_balance)/t.data.result.payments.threshold*100,t.data.result.payments.tilPayout=c("currency")(t.data.result.payments.threshold-Number(t.data.result.payments.current_balance)),t.data.result.payments.threshold=c("currency")(t.data.result.payments.threshold)),
t.data.result.payments.last_month_payment=c("currency")(t.data.result.payments.last_month_payment),t.data.result.payments.current_balance=c("currency")(t.data.result.payments.current_balance),t.data.result.payments.current_month=c("currency")(t.data.result.payments.current_month),t.data.result.stats.total_subscription_earnings=c("currency")(t.data.result.stats.total_subscription_earnings);var n=Math.round(100*t.data.result.graph.max_dollars_earned)/100;e.maxEarnings=c("currency")(Math.round(100*t.data.result.graph.max_dollars_earned)/100),t.data.result.graph.max_hours_broadcasted>24&&(t.data.result.graph.max_hours_broadcasted=24);var r=Math.round(100*t.data.result.graph.max_hours_broadcasted)/100;if(0===Math.round(1.1*t.data.result.graph.max_hours_broadcasted)?e.maxTime={hours:!1,time:Math.round(Number(60*t.data.result.graph.max_hours_broadcasted))}:e.maxTime={hours:!0,time:Math.round(1.1*t.data.result.graph.max_hours_broadcasted*100)/100},t.data.result.graph.graph_data){t.data.result.graph.graph_data.push({day:"",hours:"0.00",earnings:"0.00"}),t.data.result.graph.graph_data=[].concat.apply([],t.data.result.graph.graph_data);for(var o=0;o<t.data.result.graph.graph_data.length;o++){var s=t.data.result.graph.graph_data[o].day,l=new Date(t.data.result.graph.graph_data[o].day);t.data.result.graph.graph_data[o].day=A[l.getDay()]+" "+b[l.getMonth()]+" "+l.getDate(),e.data[0].push(t.data.result.graph.graph_data[o].earnings/n*100),e.data[0]=[].concat.apply([],e.data[0]),t.data.result.graph.graph_data[o].hours=t.data.result.graph.graph_data[o].hours>24?24:t.data.result.graph.graph_data[o].hours,e.data[1].push(t.data.result.graph.graph_data[o].hours/r*90),e.data[1]=[].concat.apply([],e.data[1]);var u=e.series[0]+": "+(t.data.result.graph.graph_data[o].earnings/n*100).toString()+e.series[1]+": "+(t.data.result.graph.graph_data[o].hours/r*90).toString();e.days[u]={day:t.data.result.graph.graph_data[o].day,earnings:c("currency")(Math.round(100*t.data.result.graph.graph_data[o].earnings)/100),hours:Math.round(100*t.data.result.graph.graph_data[o].hours)/100,broadcastKey:s}}e.earningsMetaData=t.data.result}}})},e.getBroadcasts=function(){var t=i.get("channel/partnerBroadcastsData",{userId:e.userOfInterest.userId});t.then(function(t){if(102===t.data.errorCode)return!1;if(0===t.data.errorCode){for(var n=0;n<t.data.result.length;n++){var a=t.data.result[n].aired_timestamp.indexOf(e.months.thisMonth.year)+4;t.data.result[n].id=t.data.result[n].aired_timestamp.slice(0,a)}e.broadcasts=t.data.result}})},e.showMedia=function(e,t,n){r.mediaPlayerModal(e,t,n)};var E={userId:e.userOfInterest.userId,start:0,count:11},N=1;e.getSpenders=function(){if(-1!=N){var t=i.get("channel/partnerSupporters",E);t.then(function(t){return t.data&&102===t.data.errorCode?!1:(N=t.data.nextStart,E.start=N,void(0===t.data.errorCode&&t.data.supporters.length>0&&(e.topSpenders.push(t.data.supporters),e.topSpenders=[].concat.apply([],e.topSpenders))))})}},e.showAction=function(t){-1===e.sentTo.indexOf(t)&&(e.optionsId=t?t:null)},e.sendMessage=function(t){e.showAction(null),e.activeUserId=t?t:null},e.postObject={},e.comment={},e.showUploadPreview=function(t,n){var a=t.target.files;n.upload=a[0],e.readFile(a[0],n),n.fileName=a[0].name,e.comment.imageFile=a[0]},e.openBroadcasterProfile=function(e){r.profileSummary(e)},e.removeUpload=function(e){var t="file_"+(e.id||""),n=angular.element(document.getElementById(t));n.replaceWith(n.val("").clone(!0)),delete window.uploadedImage,delete e.preview,delete e.upload},e.readFile=function(t,n){if(t.size/1e6>6)return i.showTopNotification("Too big! Try a smaller image."),!1;var a=new window.FileReader;a.onload=function(t){e.$evalAsync(function(){e.comment.image=t.target.result})},a.readAsDataURL(t)},e.resetComment=function(){e.activeUserId=null},e.postComment=function(t){if(e.comment.text||e.comment.imageFile){var n={userId:a.user.userId,channelId:t,post:e.comment.text||"",postType:"EE_THANKS"};e.comment.imageFile&&(n.media=e.comment.imageFile);var i={url:window.location.protocol+"//"+o.host+"/php/api/post/create",method:"POST",data:n,headers:{"X-Requested-By":a.user.requestBy}};e.comment={text:null,imageFile:null,image:null},s(i).then(function(t){e.sentTo.push(e.activeUserId),e.activeUserId=null,e.postObject={}})}},e.routeExperience=function(){o.init.then(function(){e.userOfInterest.userId=u.userId?u.userId:a.user.userId,E.userId=e.userOfInterest.userId,e.getStats()})},e.routeExperience()}),angular.module("younow.services.channel",[]).factory("broadcasterService",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y,w,S,_,C){var A,T=new _.Base(u),k=angular.extend(T,{});k.getCurId=function(){var e;return e=k.broadcaster&&k.broadcaster.userId&&!k.channel?k.broadcaster.userId:k.exploreBroadcaster&&k.exploreBroadcaster.userId?k.exploreBroadcaster.userId:k.channel&&k.channel.channelId?k.channel.channelId:0,d.curId=e,e},k.getBroadcaster=function(e,t,n,a){if(k.trackBroadcaster(),r.quickHash){var i=r.quickHash.substr(1);return r.quickHash="",k.featuredBroadcaster(i)}if(!e)return k.featuredBroadcaster();var o={};return t?o.user=e:o.channelId=e,o.curId=void 0!==k.curId?k.curId:0,p.get("BROADCAST_INFO",o).success(function(i){if(!i.userId){if(t)return k.featuredBroadcaster(e);i.userId=e}k.updateBroadcaster(i,n,a)})},k.trackBroadcaster=function(){k.broadcaster&&k.viewtimeSeconds&&!k.broadcaster.async&&m.notifySubscribers("broadcast:end",k.broadcaster)},k.switchBroadcaster=function(e,t,n){k.curId=k.getCurId(),window.isPrerender&&(n=!0),k.getBroadcaster(e,t,n).then(function(){k.broadcaster&&k.broadcaster.userId&&(window.setStreamerID(k.broadcaster.userId),k.showBroadcaster())})},k.featuredBroadcaster=function(e,t,n){var a={locale:u.UILocale};return e&&(a.tag=e),t&&(a.noFans=1),a.curId=k.getCurId(),p.get("YOUNOW_FEATURED",a).success(function(t){t.userId?(k.updateBroadcaster(t,!1),k.showBroadcaster(n)):e?(R(),console.warn("user does not exist")):(s.go("main.channel.detail"),k.broadcaster={broadcastId:1})})},k.getBc=function(e){return A},k.updateBc=function(e){return e?A=e:!1};var x=function(e,t){if(null==e)return"";for(null==t&&(t=",");/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return e};k.updateBroadcaster=function(t,a,i){if(k.broadcaster=t,k.broadcaster.broadcastId){var r=["No partner","Partner","Application pending","Pending","","","Approved (confirm rules)","Partner (reconfirm rules)"];null!=k.broadcaster&&(k.broadcaster.partnerText=r[k.broadcaster.partner],k.broadcaster.levelPercentage=Math.floor(1e3*(k.broadcaster.userlevel-Math.floor(k.broadcaster.userlevel)))/10,k.broadcaster.nextLevel=Math.floor(k.broadcaster.userlevel)+1,k.broadcaster.currentLevel=Math.floor(k.broadcaster.userlevel),k.broadcaster.fineCoins=x(k.broadcaster.coins),k.broadcaster.finePoints=x(k.broadcaster.points),k.broadcaster.fineGiftsValue=x(k.broadcaster.giftsValue),k.broadcaster.rtmp="rtmp://"+k.broadcaster.media.host+k.broadcaster.media.app+"/"+k.broadcaster.media.stream)}m.notifySubscribers("broadcaster:beforeChange",{}),k.broadcaster=k.channelFormat(k.broadcaster),k.updateBc(k.broadcaster),w.updateBroadcast(t),k.chatMode=t.chatMode||0,l.entityId&&k.broadcaster.broadcastId&&"channel"!=l.entityId&&(a=!1),a||!k.broadcaster.broadcastId?k.async=!0:k.async=!1,window.waitForPageType&&(k.async&&(window.YouNow.track.pageFirst||l.entityId||l.entityType)||(window.waitForPageType=!1,e.gaPage({pageType:k.async?"profile":"brdcst"}))),d.channelId=k.broadcaster.userId,window.setStreamerID(d.channelId),k.broadcaster.user&&(k.broadcaster.user.description&&0!==k.broadcaster.user.description.length?k.broadcaster.user.description=p.convertEmoji(p.linkify(k.broadcaster.user.description.replace(/\s{2,}/g," ").replace(/(<br \/>)+/g,"<span class='line-break'> &#8226; </span> "))):k.broadcaster.user.description=p.prepareDescription(""),k.broadcaster.user.location&&(k.broadcaster.user.location=p.cleanLocation(k.broadcaster.location,!0),k.broadcaster.user.description=p.trustedHTML(k.broadcaster.user.location+" <span class='line-break'> &#8226; </span> "+k.broadcaster.user.description.$$unwrapTrustedValue())),void 0!==i&&(k.bcMedia=i)),k.async===!1&&(k.channel=void 0),k.ready=!0;var o=n.defer();return o.resolve(k.broadcaster),o.promise},k.showBroadcaster=function(t){return k.async?(k.setChannel(),!1):(k.viewtimeSeconds=0,f.currentSession&&!f.settingUpBroadcast&&f.currentSession.isBroadcasting?(d.isBroadcasting=!0,f.settingUpBroadcast=!1):f.settingUpBroadcast?(f.currentSession.isBroadcasting=!0,v.newBroadcaster(),f.newBroadcaster(k.broadcaster,t),C.newBroadcaster(k.broadcaster)):(v.newBroadcaster(),e.socket.joinChannel(k.broadcaster.userId),f.newBroadcaster(k.broadcaster),C.newBroadcaster(k.broadcaster)),k.broadcaster&&k.broadcaster.guestInfo?v.newUserGuestObj(k.broadcaster.guestInfo):v.updateUserGuestObj(),k.broadcaster&&k.broadcaster.guestBroadcaster?(v.newGuestObj(k.broadcaster.guestBroadcaster),k.broadcaster.userId==d.user.userId&&(v.overlayStates.guest="connected")):v.updateGuestObj(),k.broadcaster&&k.broadcaster.selfie?C.newSelfie(k.broadcaster.selfie):C.clearSelfies(),t||!k.broadcaster.profile||k.broadcaster.profile===l.profileUrlString&&"channel"!==l.entityId||k.internalLocationChange(k.broadcaster.profile),o(function(){k.broadcaster&&k.broadcaster.user&&(e.title="YouNow | "+k.broadcaster.user.profileUrlString+" | Live Stream Video Chat | Free Apps on Web, iOS and Android","/"!=window.location.pathname&&e.gaPage({page:"Broadcast"}))},1e3),window.YouNow.track.pageFirst||e.gaPage(),h.ready().then(function(){h.subscribeToChannel(k.broadcaster.userId,d.user.sec_token)}),p.polls&&p.polls.getPlayData&&(g.cancel(p.polls.getPlayData),delete p.polls.getPlayData),void I())};var I=function(){if(!k.broadcaster||!k.broadcaster.broadcastId)return!1;if(("main.channel.detail"!==s.current.name||k.async)&&p.polls.getPlayData)return!1;var n={response:void 0,type:void 0};d.user&&f.broadcast&&d.user.userId===f.broadcast.userId?(n.response=f.invokeSwfMethod("onBroadcast"),n.type="broadcaster",p.polls.getStats||p.poll(function(){S.getStats()},"getStats",1)):(n.response=f.invokeSwfMethod("onPlayback"),n.type="viewer"),void 0!==n.response&&isNaN(n.response.nsTime)?("viewer"===n.type&&window.YouNow.App.loadChannel({channelId:f.broadcast.userId}),"broadcaster"===n.type&&f.invokeSwfMethod("startBroadcast",k.bcMedia),window.YouNow.App.stateChange("RECONNECT")):"RECONNECT"===f.playState&&window.YouNow.App.stateChange("PLAYING"),("connected"===v.state||d.isBroadcasting&&1==d.user.partner)&&S.getStats(),-1===k.broadcaster.tagPlayData.indexOf("https")&&(k.broadcaster.tagPlayData=k.broadcaster.tagPlayData.replace("http","https")),u.init.then(function(){t.get(k.broadcaster.tagPlayData).then(function(e){angular.forEach(e.data.items,function(e,t){e.tooltip='<div class="user-row"><span class="ynicon ynicon-level"></span><span class="level">'+e.userlevel+'</span> <span class="name">'+e.username+'</span></div><div class="viewer-row"><span class="ynicon ynicon-viewers"></span> <span class="viewers">'+e.viewers+"</span></div>",d.user&&e.userId==d.user.userId&&(k.broadcaster.tagRank="#"+(t+1)),e.userId==f.broadcast.userId&&(k.bcQueuePos=t+1),e.id=u.settings.UseBroadcastThumbs?e.broadcastId:e.userId,e.thumb=p.generateDynamicApi("BROADCAST_THUMB_DYNAMIC")+"/"+e.broadcastId+"/"+e.broadcastId+".jpg",e.thumb_backup=u.broadcasterThumb+e.id}),f.queue=e.data.items,k.async||p.poll(I,"getPlayData",e.data.nextRefresh)})})};k.setChannel=function(){m.notifySubscribers("broadcast:end",k.broadcaster),k.broadcaster.async=!0;var t={channelId:k.broadcaster.userId},n="usecdn";d.user&&d.user.userId==k.broadcaster.userId&&(n="",t.random=Math.random()),t.includeUserKeyWords=1,p.get("CHANNEL_INFO",t,n).success(function(t){if(p.store("hideYounowLanding")||k.async&&p.store("hideYounowLanding",!0),!t.userId)return R(),!0;if(t.displayDescription=p.convertEmoji(p.prepareDescription(t.description)),t.fullName=1==t.useprofile?t.profile:t.firstName+" "+t.lastName,t.location=p.cleanLocation(t),t.facebookLink="1"==t.facebookOption&&t.websiteUrl.length?t.websiteUrl:"http://www.facebook.com/"+t.facebookId,"http"!=t.facebookLink.substr(0,4)&&(t.facebookLink="http://"+t.facebookLink),t.altName=1==t.useprofile?t.alias:t.profile,t.youtubePath=["user","channel"].indexOf(t.youTubeUserName.split("/")[0])>-1?t.youTubeUserName:"user/"+t.youTubeUserName,k.channel=k.channelFormat(t),k.channel.finished={},k.channel.index={},k.subscribeToAsyncPusher(),k.channel.profile!==l.profileUrlString&&k.internalLocationChange(k.channel.profile),o(function(){return k.channel?void(e.title="YouNow | "+k.channel.profile+" | Live Stream Video Chat | Free Apps on Web, iOS and Android"):!1},1e3),angular.element(document.getElementById("textarea_")).empty(),l.entityId&&"channel"!==l.entityId?(k.deeplinking=!0,k.tab="posts",k.getItems("posts",{numberOfRecords:1,entityId:l.entityId}).then(function(){k.channel.finished.posts=!0,k.asyncTabs={posts:!0},M(),k.showDeepLink()})):(k.tab="moments",k.getItems("moments",{records:20,createdBefore:0}).then(function(){k.asyncTabs={moments:!0},M()})),k.channel_subscriptions_temp&&k.channel_subscriptions_temp.length>8?(k.channel.subscriptions=k.channel_subscriptions_temp,k.channel.subscriptions_extras=k.channel.subscriptions.splice(7),k.channel.subscriptions_extras.reverse(),delete k.channel_subscriptions_temp):(k.channel.subscriptions=[],k.channel.subscriptions_extras=[]),void 0!==k.channel.totalViews&&(k.channel.totalViews=y("number")(k.channel.totalViews)),k.channel.totalFans&&(k.channel.totalFansFormatted=p.squashedNumber(k.channel.totalFans,2,k.channel.totalFans>1e6?1:0)),k.channel.totalFansOf&&(k.channel.totalFansOfFormatted=p.squashedNumber(k.channel.totalFansOf,2,k.channel.totalFansOf>1e6?1:0)),k.channel.snKeyWords)for(var n in k.channel.snKeyWords)k.channel.snKeyWords[n].url&&"www."==k.channel.snKeyWords[n].url.substring(0,4)&&(k.channel.snKeyWords[n].url="http://"+k.channel.snKeyWords[n].url),k.channel.snKeyWords[n].firstName&&k.channel.snKeyWords[n].lastName&&(k.channel.snKeyWords[n].username="@"+k.channel.snKeyWords[n].nickname,k.channel.snKeyWords[n].nickname=k.channel.snKeyWords[n].firstName+" "+k.channel.snKeyWords[n].lastName),"facebook"!=n&&"google"!=n&&(k.channel.snLinks=!0);f.momentVolume=100});var a=n?"CHANNEL_SUBSCRIBER_OF_CDN":"CHANNEL_SUBSCRIBER_OF";p.get(a,{channelId:k.broadcaster.userId}).success(function(e){e.subscriberOf?k.channel?(k.channel.subscriptions=e.subscriberOf,k.channel.subscriptions.length>8&&(k.channel.subscriptions_extras=k.channel.subscriptions.splice(7),k.channel.subscriptions_extras.reverse()),delete k.channel_subscriptions_temp):k.channel_subscriptions_temp=e.subscriberOf:console.error("channel/getSubscriberOf/channelId="+k.broadcaster.userId+":",e)},function(e){})},k.showDeepLink=function(){o(function(){if(l.entityId&&l.entityType){k.broadcaster&&k.broadcaster.broadcastId||w.updateBroadcast({broadcastId:l.entityId}),k.deeplinkId=k.channel.posts&&k.channel.posts[0]&&"c"!==l.entityType?k.channel.posts[0].id:l.entityId;var e=angular.element(document.getElementById("post_"+k.deeplinkId));e&&i.scrollTo(e,100,1e3).then(function(){o(function(){k.deeplinkId=0,l.entityType=null,l.entityId=null,l.srcId=null,l.copy=null,l.inviteString=null,k.deeplinking=!1},1500)})}},500)},k.updateLanguage=function(e){d.updateLanguage(e)},k.updateLocale=function(e){var t={userId:d.user.userId,channelId:d.user.userId,locale:e};if(d.isBroadcasting||f.settingUpBroadcast||v.guest&&v.guest.userId==d.user.userId)return d.preventBroadcastInterrupt(),!1;var n=p.post("CHANNEL_UPDATE_SETTINGS",t);n&&n.then&&n.then(function(t){0===t.data.errorCode&&(u.UILocale=e,k.featuredBroadcaster(!1,!0),w.updateLocale(e))})};var E={posts:{cdn:"POST_GET","default":"POST_GET"},moments:{cdn:"MOMENT_PROFILE","default":"MOMENT_PROFILE"},broadcasts:{cdn:"POST_BROADCASTS","default":"POST_BROADCASTS"},fans:{cdn:"CHANNEL_FANS_CDN","default":"CHANNEL_FANS"},fansof:{cdn:"CHANNEL_FANSOF_CDN","default":"CHANNEL_FANSOF"},subscribers:{cdn:"CHANNEL_SUBSCRIBERS_CDN",defaukt:"CHANNEL_SUBSCRIBERS"}},N={posts:"posts",moments:"items",broadcasts:"posts",fans:"fans",fansof:"fans",subscribers:"subscribers"};k.parseMomentType=function(e){e.originalType=e.type,"collection"===e.type&&e.momentsIds.length<=1&&(e=angular.merge({},e.firstMoment,e),e.type="moment")},k.getItems=function(e,t){if(e||(e=k.tab),t||(t={}),!k.channel||k.channel.finished[e])return n.reject();t.channelId=k.broadcaster.userId,k.channel[e]&&!t.records&&"moments"!=e&&(t.startFrom=k.channel[e].length),k.channel[e]&&!k.channel[e].finished&&"moments"==e&&(t.createdBefore=k.channel[e][k.channel[e].length-1].created,t.records=20),"posts"===N[e]&&d.user&&d.user.userId&&(t.userId=d.user.userId);var a=["fansof","fans","subscribers","broadcasts","moments"],i=!1;return-1!==a.indexOf(e)&&(i=!0),p.get(E[e][i?"cdn":"default"],t).success(function(a){return k.channel?("posts"===e&&a.posts&&"p"===l.entityType&&(a.posts=[a.posts.reduce(function(e){return e.id===l.entityId?e:void 0})]),angular.forEach(a[N[e]],function(t){if(t.type&&("moment"===t.type||"collection"===t.type)){var n="collection"===t.type?"broadcaster":"owner";t[n]={userId:k.channel.userId,name:k.channel.profile}}k.parseMomentType(t),O(t,e)}),k.channel.finished[e]="posts"===N[e]||"moments"===e?!a.hasMore:!a.hasNext,1===t.numberOfRecords&&(k.channel.finished[e]=!1),void(k.channel[e]||(k.channel[e]=[]))):n.reject()})};var O=function(e,t){e.media&&e.media.broadcast&&e.media.broadcast.broadcastLength&&(e.media.broadcast.broadcastLengthString=P(e.media.broadcast.broadcastLength)),k.channel[t]||(k.channel[t]=[]),k.channel.index[t]||(k.channel.index[t]={});var n=e.id||e.userId||e.momentId||e.collectionId;p.addUniqueItem(k.channel[t],k.channel.index[t],e,n)},P=function(e){var t=(Math.floor(e/3600)||"")+"",n="";t&&(n=":");var a=Math.floor(e%3600/60)||"0",i="";(10>a||"0"==a)&&(i="0");var r=":",o="",s=e%60||"0";(10>s||"0"==s)&&(o="0");var l=t+n+i+a+r+o+s;return l},M=function(){k.channel&&($(),j())},j=function(){if(!k.channel||!k.async)return!1;var e={channelId:k.broadcaster.userId};return p.get("RECO_SUGGESTED_USERS_ANON",e,!0).success(function(e){k.channel.moreBroadcasters=e.items,k.channel.moreBroadcastersModelId=e.modelId})},$=function(){if(!k.channel||!k.async)return!1;var e={numberOfRecords:12,channelId:k.broadcaster.userId};return p.get("CHANNEL_TOP_PAID_FANS",e,!0).success(function(t){return k.channel&&k.channel.userId==e.channelId?void(k.channel&&(k.channel.biggestFans=p.sortUsers(t.fans))):!1})},D=function(){var e=void 0!==k.curId?k.curId:0;p.get("BROADCAST_INFO",{channelId:k.broadcaster.userId,curId:e}).then(function(e){e&&(e=e.data,e.media?k.updateBroadcaster(e,!0).then(function(t){if(k.channel){k.channel.preview=!1;var n="window.location.href='/"+e.profile+"?from=notification';";p.showTopNotification('<a href="javascript:'+n+';" >'+e.profile+" just went live! Click here to watch them.</a>","success",!1,!1,1e4)}}):o(function(){D()},2e3))})};k.goLive=function(){if(d.isBroadcasting)d.preventBroadcastInterrupt();else{if(d.checkBan())return!1;d.user.userId?(s.go("main.channel.detail",{profileUrlString:d.user.profile,async:null},{notify:"main.channel.detail"===s.current.name?!1:!0}),o(function(){f.settingUpBroadcast=!0}),k.internalUpdate=!0,k.switchToBroadcast(!0)):d.showLoginModal("","GOLIVE").result.then(k.goLive)}},k.switchToBroadcast=function(e){f.available()||(k.broadcaster&&k.broadcaster.broadcastId?k.switchAsync(!1):(k.async=!1,k.broadcaster=void 0,k.featuredBroadcaster(!1,!1,e)))},k.internalLocationChange=function(e){k.internalUpdate=!0,a.path("/"+e),a.hash("")},k.initBroadcast=function(){return p.post("BROADCAST_INIT",{userId:d.user.userId,channelId:d.user.userId,ver:u.settings.JS_VERSION,mirror:0})},k.addBroadcast=function(e,t,n,a,i){var r={userId:d.user.userId,channelId:d.user.userId,broadcastId:e,ver:u.settings.JS_VERSION,tags:t,fbPublish:n.facebook?1:0,twPublish:n.twitter?1:0,ytPublish:n.youtube?1:0,tumblrPublish:n.tumblr?1:0,mirror:0,shareMsg:a};return u.mcu&&i?(r.mcu=u.mcu,r.sdpOffer=i.localDescription.sdp):b.settings.active?r.broadcastType=2:r.broadcastType=1,p.post("BROADCAST_ADD",r)},k.dropBroadcast=function(e){return e?p.post("BROADCAST_DROP",{userId:e,channelId:e}):void 0};var R=function(){-1!==window.location.pathname.indexOf("/channel")&&window.waitForPageType&&e.gaPage({pageType:"explore"}),window.waitForPageType=!1,s.go("main.explore"),p.showTopNotification("User could not be found"),window.isPrerender&&(e.httpStatus=404)};e.$watch(function(){return f.loadChannel},function(e){e&&(void 0!==e.broadcaster&&(e.isBroadcasting=1==e.broadcaster?!0:!1),void 0!==e.isBroadcasting&&(f.currentSession.isBroadcasting=e.isBroadcasting,d.isBroadcasting=e.isBroadcasting),p.googleAdLoaded=!d.isBroadcasting,e.channelId?k.switchBroadcaster(e.channelId):0!==e.channelId||e.isBroadcasting||k.featuredBroadcaster(),void 0!==e.channelId&&(f.settingUpBroadcast=!1))}),k.switchAsync=function(e){k.async=e,e?k.channel?k.subscribeToAsyncPusher():k.setChannel():k.showBroadcaster()},k.subscribeToAsyncPusher=function(){h.ready().then(function(){h.subscribeToAsync(k.broadcaster.userId,function(e,t){return"onBroadcast"===e&&D(),"ontrackBroadcastViewtime"===e&&(k.broadcaster.broadcastId=!1,M()),"posts"!==k.tab&&"broadcasts"!==k.tab?!0:(k.channel[k.tab]||(k.channel[k.tab]=[]),k.channel.index[k.tab]||(k.channel.index[k.tab]={}),U.posts=k.channel[k.tab],U.index=k.channel.index[k.tab],void(U[e]&&U[e](t.message)))})})},f.channelFormat=angular.copy(k.channelFormat),k.getDownloadUrl=function(e){var t=p.generateDynamicApi("BROADCAST_DOWNLOAD");return t+=void 0===k.channel?"/channelId="+d.user.userId:"/channelId="+k.channel.userId,t+="&broadcastId="+e.toString(),d&&d.user&&d.user.userId&&(t+="&userId="+d.user.userId),t},k.realtime={};var U=k.realtime,L=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id==e)return n};U.new_comment=function(e){if(e.parentId){var t=U.posts[L(e.parentId,U.posts)];t&&(t.replies||(t.replies=[]),t.replies.push(e))}else k.channel.posts.unshift(e),k.channel.index[e.id]=!0},U.new_like=function(e){B(e,1)},U.unlike_comment=function(e){B(e,-1)};var B=function(e,t){var n;if(e.parentId){var a=U.posts[L(e.parentId,U.posts)];a&&(n=a.replies[L(e.id,a.replies)])}else n=U.posts[L(e.id,U.posts)];n&&n.changeLikes(t)};return U.pin_comment=function(e){for(var t=0;t<U.posts.length;t++){var n=U.posts[t];n.isPinned=!1,U.posts[t].id==e.id&&(n.isPinned=!0,U.posts.splice(0,0,U.posts.splice(t,1)[0]))}},U.delete_comment=function(e){if(e.parentId){var t=U.posts[L(e.parentId,U.posts)];t&&t.replies.splice(L(e.id,t.replies),1)}else U.posts.splice(L(e.id,U.posts),1)},k}),angular.module("younow.services.config",["pascalprecht.translate"]).provider("config",function(e){var t={},n=t.readCookie=function(e){var t;try{t=window.localStorage.getItem(e)}catch(n){t=window.readCookie(e)}return t},a=t.saveCookie=function(e,t){try{window.localStorage.setItem(e,t)}catch(n){window.createCookie(e,t,365e4)}};if(window.location.search)try{t.params=JSON.parse('{"'+decodeURI(window.location.search.substring(1).replace(/&/g,'","').replace(/=/g,'":"'))+'"}')}catch(i){t.params=window.location.search}else t.params="";t.host=t.params.host||window.location.host,t.buybarsiframe=!1,t.bootstrap={adminRoles:[1,2,3],modRoles:[1,2,3,4,5],cdnDev:"cdnv2-vd.younow.com",cdnProduction:"cdn2.younow.com",facebookAppId:0x9bdd06215862,flashVersion:"47.35",googleClientId:"619368150599-2ef6s6o5dqgv6oqoq5tevtqo1k7gni12.apps.googleusercontent.com",googleAnalyticsId:"UA-24148895-1",jwplayerKey:"gyoz1D2yoy+GG57wtwrgni10vNZ0+43mBkBYhw==",TM_DOMAIN:"images1.younow.com",TM_ID:"7jnw4jh4",supportsCanvasStream:!1},t.localeFromLanguage=function(e){for(var n in t.settings.Locales){var a=n;for(var i in t.settings.Locales[n].loc){var r=t.settings.Locales[n].loc[i];if(e==r)return a}}return"en"},t.setLocale=function(e){return e?(t.UILocale=e,a("UILocale",e),void(t.UILocaleOriginal="")):!1},t.setLanguage=function(n){return n?("ww"==n&&(n="en"),t.UILanguage=n,e.use(n),a("UILanguage",n),t.UILanguageOriginal="",void(t.hrefLanguage="")):!1},this.update=function(){t.settings=window.bootstrapConfig;var e=t.host;"www.younow.com"===t.host&&(e=t.bootstrap.cdnProduction),"www2-vd.younow.com"===t.host&&(e=t.bootstrap.cdnDev);var a=t.params.host?t.params.host:e,i=window.location.protocol+"//"+a+"/php/api/younow/config";if("www.younow.com"!==t.host&&(i+="/devByPass=1"),window.YouNow.loadingTime.startYounowConfig=Date.now(),window.YouNow.loadingTime.younowConfig=Date.now()-window.YouNow.loadingTime.startYounowConfig,window.bootstrapConfig.redirect)window.location.href=window.bootstrapConfig.redirect;else{"https:"===window.location.protocol&&-1===window.bootstrapConfig.ServerCDNBaseUrl.indexOf("https")&&(t.settings.ServerCDNBaseUrl=window.bootstrapConfig.ServerCDNBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.ServerLocalBaseUrl.indexOf("https")&&(t.settings.ServerLocalBaseUrl=window.bootstrapConfig.ServerLocalBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.ServerRecommendationsBaseUrl.indexOf("https")&&(t.settings.ServerRecommendationsBaseUrl=window.bootstrapConfig.ServerRecommendationsBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.TrackingHost.indexOf("https")&&(t.settings.TrackingHost=window.bootstrapConfig.TrackingHost.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.PlayDataBaseUrl.indexOf("https")&&(t.settings.PlayDataBaseUrl=window.bootstrapConfig.PlayDataBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.ServerHomeBaseUrl.indexOf("https")&&(t.settings.ServerHomeBaseUrl=window.bootstrapConfig.ServerHomeBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.bootstrapConfig.BadgeBaseUrl.indexOf("https")&&(t.settings.BadgeBaseUrl=window.bootstrapConfig.BadgeBaseUrl.replace("http","https")),"https:"===window.location.protocol&&-1===window.globalVars.CDN_BASE_URL.indexOf("https")&&(window.globalVars.CDN_BASE_URL=window.globalVars.CDN_BASE_URL.replace("http","https"));var o,l,c,r=window.navigator.languages||[window.navigator.language||window.navigator.userLanguage];if(t.UILanguages=window.YouNow.UILanguages,!t.UILanguage)if(t.UILanguage=n("UILanguage"),t.UILanguage)t.setLanguage(t.UILanguage);else{if(!t.UILanguage)e:for(o in r){l=r[o].substr(0,2);for(c in t.UILanguages)if(c==l){t.setLanguage(c);break e}}t.UILanguage||t.setLanguage("en")}t.UILocales={};for(l in window.bootstrapConfig.Locales)t.UILocales[l]=t.settings.Locales[l].name;t.UILocale=n("UILocale"),t.UILocale||t.setLocale(t.localeFromLanguage(t.UILanguage))}},this.$get=function(e){return t.checkRole=function(e,t){for(var n=0;n<t.length;n++)if(e&&e.role===t[n])return!0;return!1},t.setTempLanguage=function(n){return n?(t.keepTempLanguage=!0,n==t.UILanguage?!1:(t.UILanguageOriginal=t.UILanguage,t.UILocaleOriginal=t.UILocale,"ww"!=n&&(e.use(n),t.UILanguage=n,"en"!=n&&(t.hrefLanguage=t.UILanguage)),void(t.UILocale=t.localeFromLanguage(n)))):!1},t.resetTempLanguage=function(){return t.UILanguageOriginal&&t.UILanguageOriginal!=t.UILanguage?(e.use(t.UILanguageOriginal),t.UILanguage=t.UILanguageOriginal,t.UILocale=t.UILocaleOriginal,t.UILanguageOriginal="",t.UILocaleOriginal="",void(t.hrefLanguage="")):!1},t}}),angular.module("younow.services.dashboard",[]).factory("dashboard",["$http","$timeout","Api","config","$filter","$rootScope","$q","$state",function(e,t,n,a,i,r,o,s){function u(e,t,a){var i;for(i=a[e].length-1;i>=0;i--)null!==a[e][i]&&a[e][i].username&&null!==a[e][i].viewers&&a[e][i].userId?c.channelId!=a[e][i].userId?a[e][i].viewers=n.squashedNumber(a[e][i].viewers,3):a[e][i].viewers=c.viewers:a[e].splice(i,1);a.trending_users.length&&(l[t]=a[e]),a[e].length>0&&"users"==t&&l.filterUsers()}var l={},c={channelId:null,viewers:null},d=function(){var e={};"main.channel.detail"!==s.current.name&&(c={channelId:null,viewers:null}),l.tags&&l.users&&"main.channel.detail"!==s.current.name&&"main.explore"!==s.current.name&&"main.settings"!==s.current.name||n.get("YOUNOW_DASHBOARD",{locale:a.UILocale,trending:50},"usecdn").success(function(e){e=e;var t;if(e.trending_users&&u("trending_users","users",e),e.featured_users&&u("featured_users","featuredUsers",e),e.trending_tags){for(t=e.trending_tags.length-1;t>=0;t--)null===e.trending_tags[t]&&e.trending_tags.splice(t,1);e.trending_tags.length&&(l.tags=e.trending_tags)}}),n.poll(d,"getTrending",e.nextRefresh,10)},p=function(e,t){var i;return e.broadcastId&&a.settings.UseBroadcastThumbs?(i=n.generateDynamicApi("BROADCAST_THUMB_DYNAMIC")+"/"+e.broadcastId+"/"+e.broadcastId+".jpg",t&&(i=a.imageApis.broadcast+"/"+e.broadcastId+"/"+e.broadcastId+".jpg")):i=e.tag&&e.tag.length>0&&e.userId&&a.settings.UseBroadcastThumbs?a.imageApis.broadcast+"/"+e.broadcastId+"/"+e.broadcastId+".jpg":a.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+e.userId,i};return l.syncCurrentViewers=function(e){if(!e.channelId||!e.viewers)return!1;var t=l.featuredUsers?l.users.concat(l.featuredUsers):l.users;for(var a in t)if(t[a].userId==e.channelId){c.channelId=e.channelId,t[a].viewers=n.squashedNumber(e.viewers,3),c.viewers=t[a].viewers;break}},l.filterTrending=function(e){for(var t=0;t<l.users.length;t++)e==l.users[t].userId&&l.users.splice(t,1)},l.filterUsers=function(e){for(var t=0;t<l.users.length;t++)l.users[t].userlevel=parseFloat(l.users[t].userlevel),l.users[t].thumb=p(l.users[t])},l.getTrending=function(){d()},l}]),angular.module("younow.services.eventbus",[]).service("eventbus",["$rootScope",function(e){var t={};return t.subscribers={},t.notifySubscribers=function(t,n){e.$emit(t,n)},t.subscribe=function(n,a,i,r){var o=i+":"+n;t.subscribers[o]&&t.subscribers[o](),r&&r.$on("$destroy",function(){t.unsubscribe(i,n)}),t.subscribers[o]=e.$on(n,function(e,t){a(e.name,t),e.preventDefault()})},t.unsubscribe=function(e,n){e=e+":"+n;for(var a in t.subscribers)a==e&&(t.subscribers[a](),delete t.subscribers[a])},t}]),angular.module("younow.services.pusher",[]).factory("pusher",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){var h={},m=i.defer();return h.ready=function(){return m.promise},h.init=function(){var e={authEndpoint:t.settings.ServerLocalBaseUrl+"/api/pusherAuthDedicated.php",cluster:"younow"};h.SDK=new a.Pusher(t.settings.PusherDedicatedAppKey,e),m.resolve()},h.subscribeToPrivate=function(e){h.subscribe("privateChannel","private-channel_"+e),h.privateChannel.channel.bind_all(function(e,n){var a=["pusher:subscription_succeeded","pusher:member_removed","pusher:member_added","pusher:subscription_error","channel_is_live","delete_comment","new_comment","new_like","pin_comment","unlike_comment"];s.console(["PRIVATE","PUSHER"],{eventName:e,eventData:n}),-1===a.indexOf(e)&&(n.channelId=h.channelId,n.type="private",r.onPusherEvent(e,n),c.onPusherEvent(e,n),d.onPusherEvent(e,n)),"onNotificationCountChange"==e&&l.notifySubscribers("user:onNotificationCountChange",1),("onSuspend"==e||"onBan"==e)&&(l.notifySubscribers("pusher:ban",n),h.onBan=n),("onUnSuspend"==e||"onUnBan"==e)&&(h.onBan=0,l.notifySubscribers("pusher:ban",0)),"onAccountUpdate"==e&&o.$broadcast("onAccountUpdate",n),"onCoins"==e&&o.$evalAsync(function(){h.onCoins=n.message}),"onLocaleChange"==e&&o.$evalAsync(function(){h.onLocale=n.message.locale}),"onLocale"==e&&o.$evalAsync(function(e){e&&(t.UILocale=e,f.updateLocale(e))})})},h.anon="true"==window.localStorage.getItem("invisible"),o.invisible=h.anon,h.anonMode=function(e){e?(h.unsubscribe("presenceChannel"),h.anon=!0,o.invisible=h.anon,window.localStorage.setItem("invisible","true"),o.socket.auth()):(h.subscribe("presenceChannel",h.currentPresence),h.anon=!1,o.invisible=h.anon,window.localStorage.setItem("invisible","false"),o.socket.auth())},h.currentPresence="",h.subscribeToChannel=function(e,n){h.channelId=e,h.subscribe("asyncChannel","public-async-channel_"+h.channelId),
h.asyncChannel.channel.bind_all(function(e,t){r.onPusherEvent(e,t)}),h.currentPresence="public-on-channel_"+h.channelId+"_"+h.shard+"_web_"+n,h.anon||t.settings.NoPusherOnChannelWeb||h.subscribe("presenceChannel",h.currentPresence),h.subscribe("publicChannel","public-channel_"+h.channelId),h.publicChannel.channel.bind_all(function(e,t){var n=["pusher:subscription_succeeded","pusher:member_removed","pusher:member_added","pusher:subscription_error","channel_is_live","delete_comment","new_comment","new_like","pin_comment","unlike_comment","onBroadcastPlay","onCoins"];-1===n.indexOf(e)&&(t.channelId=h.channelId,t.type="public",r.onPusherEvent(e,t),c.onPusherEvent(e,t),u.onPusherEvent(e,t),d.onPusherEvent(e,t),p.onPusherEvent(e,t,{settingup:r.settingUpBroadcast}));var a=["pusher:subscription_error"];a.indexOf(e)>-1})},h.subscribeToAsync=function(e,t){h.channelId=e,h.subscribe("asyncChannel","public-async-channel_"+h.channelId),h.asyncChannel.channel.bind_all(t)},h.subscribe=function(e,t){h.unsubscribe(e),h[e]={id:t},h[e].channel=h.SDK.subscribe(t),s.console(["PUSHER","SUBSCRIBE"],{name:e,id:t})},h.unsubscribe=function(e){h[e]&&(s.console(["PUSHER","UNSUBSCRIBE"],{name:e,id:h[e].id}),h.SDK.unsubscribe(h[e].id),delete h[e])},h.reset=function(e){h[e]&&h.subscribe(e,h[e].id)},h}),angular.module("younow.services.search",[]).factory("searchService",["Api",function(e){var t={};return t.getItems=function(n,a){n=n||"",t.results&&n===t.query||(t.results=[]),t.query=n;var r,i={numberOfRecords:a||20,startFrom:t.results.length||0};return n?(r="younow/search",i.s=n):r="younow/trendingUsers",e.get(r,i).success(function(e){n?t.results=t.results.concat(e.users):(angular.forEach(e.trending_users,function(e,t){e.tags=e.tags[0],e.profileUrlString=e.profile,e.statusId=2,e.level=Math.round(e.userlevel)}),t.results=t.results.concat(e.trending_users),e.totalUsers=e.total),t.results.length>=e.totalUsers&&(t.finished=!0)})},t}]),angular.module("younow.services.session.facebook",[]).factory("Facebook",["$q","$window","$timeout","config","Api",function(e,t,n,a,i){var r={};return t.fbready=e.defer(),r.ready=function(){return t.fbready.promise},t.fbAsyncInit=function(){r.loaded||(r.options={init:{appId:a.settings.fbAppId,version:"v2.1",cookie:!0,status:!0,xfbml:!0},scope:"public_profile,email,user_friends"},t.FB.init(r.options.init),t.fbready.resolve(),r.loaded=!0)},t.FB&&t.fbAsyncInit(),r.SDK=function(n,a){return r.ready().then(function(){var i=e.defer();return a?t.FB[n](a,function(e){i.resolve(e)}):t.FB[n](function(e){i.resolve(e)}),i.promise})},r.authenticate=function(t){return r.ready().then(function(){return r.deferred=e.defer(),FB.getLoginStatus(function(e){"connected"===e.status?r.expandUser(e.authResponse):t?i.returnDeferred(r.deferred,"reject","facebook silent auth unsuccessful"):r.showAuthDialog()}),r.deferred.promise})},r.showAuthDialog=function(){var e=r.options.scope;t.tempFBscope&&(e=t.tempFBscope,t.tempFBscope=!1),FB.login(function(e){"connected"===e.status?r.expandUser(e.authResponse):r.deferred.reject(e.status)},{scope:e})},r.expandUser=function(e,t){return null===e?void r.deferred.reject("error"):void FB.api("/me",function(a){a||(t?r.deferred.reject(e):n(function(){r.expandUser(e,!0)},300));var o=angular.extend(e,a),s={facebookToken:o.accessToken,facebookWebsite:o.link,facebookEmail:o.email,facebookId:o.id,facebookBirthday:o.birthday,facebookVerified:o.verified,facebookFirstName:o.first_name,facebookLastName:o.last_name,facebookName:o.name,facebookThumbUrl:"http://graph.facebook.com/"+o.id+"/picture?type=large"};return FB.api("/me/friends/?limit=0",function(e){e&&e.summary&&e.summary.total_count&&(s.connections=e.summary.total_count),i.returnDeferred(r.deferred,"resolve",s)}),o})},r.getPagesList=function(){var t=e.defer();return FB.login(function(e){FB.api("/me/accounts",function(n){t.resolve(angular.extend(n,e))})},{scope:"publish_pages,manage_pages",auth_type:"rerequest"}),t.promise},r}]),angular.module("younow.services.session.google",[]).factory("google",["$q","$timeout","Api","config",function(e,t,n,a){var i={};return window.googleReady=e.defer(),i.ready=function(){return window.googleReady.promise},window.gapi?window.googleReady.resolve():window.googleAsyncInit=function(){window.googleReady.resolve()},i.authenticate=function(t){return i.ready().then(function(){window.gapi.auth.signIn({clientid:a.settings.GOOGLE_PLUS_CLIENT_ID,immediate:!0,cookiepolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.profile.emails.read",callback:"googleLogin"})}),i.deferred=e.defer(),i.deferred.promise},window.googleLogin=function(e){e.status.signed_in&&i.expandUser(e)},i.expandUser=function(e){window.gapi.client.load("plus","v1",function(){window.gapi.client.plus.people.get({userId:"me"}).execute(function(t){var n=angular.extend(e,t);angular.forEach(t.emails,function(e){n.email||"account"!==e.type||(n.email=e.value)}),window.gapi.client.plus.people.list({userId:"me",collection:"visible"}).execute(function(e){n.totalItems=Number(e.totalItems)||0,i.relevantFields(n)})})})},i.relevantFields=function(e){var t={};t.email=e.email,t.gender=e.gender,t.url=e.url,t.googleId=e.id,t.accessToken=e.access_token,t.code=e.code,t.firstName=e.name.givenName,t.lastName=e.name.familyName,t.nickname=e.displayName||"",t.thumb=(e.image?e.image.url:"").replace("sz=50","sz=100"),t.description=e.aboutMe||"",t.connections=e.totalItems||0,n.returnDeferred(i.deferred,"resolve",t)},i}]),angular.module("younow.services.session.instagram",[]).factory("instagram",["$q","$window","config","Api",function(e,t,n,a){var i={};return i.authenticate=function(t){var a=n.settings.ServerLocalBaseUrl+"/instagramAuth.php",r=window.open(a,"Instagram Login","location=0, status=0, width=650, height=350, scrollbars=1");return window.instagramPopup=r,i.deferred=e.defer(),i.deferred.promise},t.instagramCallback=function(e){window.instagramPopup.close(),e&&e.id&&e.access_token||a.returnDeferred(i.deferred,"reject",e);var t={},n=e.full_name?e.full_name.split(" "):[];t.instagramId=e.id,t.firstName=n[0]||"",t.lastName=n[1]||"",t.nickname=e.username||"",t.thumb=e.profile_picture||"",t.description=e.bio||"",t.url=e.username?"https://instagram.com/"+e.username:"",t.connections=e.followed_by,t.oauthToken=e.access_token,a.returnDeferred(i.deferred,"resolve",t)},i}]),angular.module("younow.services.session.tumblr",[]).factory("tumblr",["$q","$window","$interval","config","Api",function(e,t,n,a,i){var r={};return r.authenticate=function(t){var o=a.settings.ServerLocalBaseUrl+"/tumblrAuth.php",s=window.open(o,"Tumblr Login","location=0, status=0, width=650, height=350, scrollbars=1"),l=n(function(){try{if(s.closed)n.cancel(l),i.returnDeferred(r.deferred,"reject",{error:"closed"});else if(-1!=s.location.href.indexOf("tumblrId")){var e=i.getJsonFromUrl(s.location.href.split("#")[0]);n.cancel(l),i.returnDeferred(r.deferred,"resolve",e),s.close()}}catch(t){}},50);return r.deferred=e.defer(),r.deferred.promise},r}]),angular.module("younow.services.session.twitter",[]).factory("twitter",["$q","$window","config","Api",function(e,t,n,a){var i={};return i.authenticate=function(t){var a=n.settings.ServerLocalBaseUrl+"/twitterLogin.php",r=window.open(a,"Twitter Login","location=0, status=0, width=800, height=400, scrollbars=1");return window.twitterPopup=r,i.deferred=e.defer(),i.deferred.promise},t.twitterSuccessCallback=function(e){var t={},n=e.name?e.name.split(" "):[];t.twitterId=e.id_str,t.firstName=n[0]||"",t.lastName=n[1]||"",t.nickname=e.screen_name||"",t.thumb=e.profile_image_url||"",t.description=e.description||"",t.url=e.screen_name?"http://www.twitter.com/"+e.screen_name:"",t.connections=e.followers_count,t.oauthToken=e.oauth_token,t.oauthTokenSecret=e.oauth_token_secret,t.location=e.location,a.returnDeferred(i.deferred,"resolve",t)},i}]),angular.module("younow.services.session.youtube",[]).factory("youtube",["$q","$window","$timeout","$http","Api","config","google","$modal",function(e,t,n,a,i,r,o,s){var l={};return l.authenticate=function(n){return o.ready().then(function(){t.gapi.auth.signIn({clientid:r.settings.GOOGLE_PLUS_CLIENT_ID,immediate:!0,cookiepolicy:"single_host_origin",accesstype:"offline",approvalprompt:"force",includegrantedscopes:"false",scope:"https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload",callback:"youtubeLogin"})}),l.deferred=e.defer(),l.deferred.promise},t.youtubeLogin=function(e){e.status.signed_in&&l.expandUser(e)},l.expandUser=function(e){window.gapi.client.load("youtube","v3",function(){window.gapi.client.youtube.channels.list({part:"snippet,statistics",mine:!0,maxResults:10}).execute(function(t){var n={};n.authCode=e.code,n.youtubeChannelId=t.items[0].id,n.youtubeChannelUrl="www.youtube.com/channel/"+t.items[0].id,n.youtubeChannelName=t.items[0].snippet.title,n.connections=t.items[0].statistics.subscriberCount,n.viewCount=t.items[0].statistics.viewCount,i.returnDeferred(l.deferred,"resolve",n)})})},l}]),angular.module("younow.services.session",["younow.modals.login","younow.services.session.facebook","younow.services.session.google","younow.services.session.twitter","younow.services.session.instagram","younow.services.session.youtube","younow.services.session.tumblr"]).factory("session",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y,w,S,_){function A(e){e.admin=C.isAdmin(),(0===e.userId||e.userId>0&&0===e.partner&&e.admin===!1&&"/partners/earnings"===o.current.name)&&o.go("/partners"),0===e.userId||4!=e.partner&&5!=e.partner&&8!=e.partner&&9!=e.partner&&10!=e.partner||o.go("main.channel.detail")}function x(e){d.get("YOUNOW_P2P_LIST",{channelId:e}).then(function(e){var t=0,n={};for(t;t<e.data.users.length;t++)n[e.data.users[t].userId]=e.data.users[t].name;c.currentSession.p2pList=n})}function I(){var e=d.get("STORE_PAYEE_PAYABLE",{userId:C.user.userId});return e.then(function(e){return e.data&&e.data.result?e.data.result.b===!0?!0:!1:void 0})}function E(e){for(var t=[],n=[],a=0;a<e.length;a++)2===e[a].status?n.push(e[a]):t.push(e[a]);return{live:n,online:t}}function N(e){var t=e+"Status";angular.forEach(C[t],function(n,a){C[t][a]=void 0,C[e+"Queue"].push(a)})}var C={};C.fanStatus={},C.subStatus={},C.momentStatus={},C.fanQueue=[],C.subQueue=[],C.momentQueue=[],window.session=C,C.authenticate={facebook:p.authenticate,twitter:f.authenticate,google:h.authenticate,instagram:m.authenticate,youtube:g.authenticate,tumblr:v.authenticate};var T=JSON.parse(window.localStorage.getItem("sessions"));null==T&&(T={}),C.savedSessions=[];for(var k in T)C.savedSessions.push(T[k]);C.showLoginModal=function(e,t){return e?void 0:i.loginModal(e,t)},C.auth=function(e,t){return C.authenticate[e](t).then(function(t){return d.store("lastNetwork",e),C.login(t)})["catch"](function(e){"error"===e&&d.showTopNotification("Could not login. Please try again!"),d.store("lastNetwork",null)})},C.getSession=function(){if(window.isPrerender)return!1;var e={curId:C.curId||0,app_version:l.settings.JS_VERSION,model:d.pad(window.screen.width,4)+"x"+d.pad(window.screen.height,4),UILanguage:d.store("UILanguage")};return d.store("oneSignalId")&&(e.deviceChannel=d.store("oneSignalId")),e.browser=d.browser.name,e.browser_version=d.browser.major,e.device_version=d.os.version,e.device_os=d.os.name,window.YouNow.loadingTime.startYounowUser=Date.now(),d.post("YOUNOW_USER",e).success(function(e){window.YouNow.loadingTime.younowUser=Date.now()-window.YouNow.loadingTime.startYounowUser,"0"==e.userId?b.unsubscribe("session","error:loggedout"):b.subscribe("error:loggedout",C.logout,"session"),C.updateUser(e),w.updateUser(e),0===e.userId&&n.reject()})},C.updateUser=function(t){if(C.user=t,C.updatePusherShard(),C.loggedIn=0!==C.user.userId,C.user.fullName=d.fullName(t),C.administrator=C.isAdmin(),C.moderator=C.isMod(),t.locale&&(l.setLocale(t.locale),w.updateLocale(t.locale)),c.sendKeepSession(t),O("fan","CHANNEL_IS_FAN_OF"),O("sub","CHANNEL_IS_SUBSCRIBER_OF"),O("moment","MOMENT_IS_LIKED"),C.checkBan(),(C.user.needsToConfirmTermsOfUse===!0||6===C.user.partner||7===C.user.partner)&&0!==C.user.userId&&i.agreementAcceptance(),C.loggedIn){var n={username:C.user.profile,userID:C.user.userId,coins:C.user.userCoins,bars:C.user.vault.webBars,session:C.user.session,slt:readCookie("slt")};if(C.addingSession&&(C.addingSession=!1,n.session=C.addingSessionID,n.slt=C.addingSessionSLT),C.sessionSwitched){for(var a=0;a<C.savedSessions.length;a++)C.savedSessions[a].userID==n.userID&&(n.slt=C.savedSessions[a].slt);C.sessionSwitched=!1}if(null==T[C.user.userId])C.savedSessions.push(n);else for(var a=0;a<C.savedSessions.length;a++)C.savedSessions[a].userID==n.userID&&(C.savedSessions[a]=n);T[C.user.userId]=n,window.localStorage.setItem("sessions",JSON.stringify(T)),console.log(JSON.stringify(T)),e.socket.auth(),C.getNotificationCount(),c.loggedIn||(c.notifyLogin(t),c.loggedIn=!0),y.notifyLogin(t),S.notifyLogin(t),u.ready().then(function(){u.subscribeToPrivate(C.user.userId)}),C.user.editorsPick&&(1===C.user.editorsPick.state&&i.epModal(),3===C.user.editorsPick.state&&i.epModal("expired")),C.user.activeBroadcastReconnect&&_.supportsWebRtc()&&i.reconnect(),1==C.user.mcuEnabled?l.mcu="1":l.mcu=void 0,C.user.progress=Math.floor(100*(C.user.realLevel-Math.floor(C.user.realLevel))),C.showRightSidebar(),C.trackUser(),x(t.userId),d.requestBy=C.user.requestBy,C.user.partner&&I().then(function(e){C.user.isTipaltiPayable=e})}else C.addingSession&&(C.addingSession=!1,document.cookie="PHPSESSID="+C.previousSession+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",document.cookie="slt="+C.previousSessionSLT+"; path=/; domain=.younow.com; expires=Sat, 01 Jan 2050 00:00:01 GMT",C.getSession(),i.alert("The entered session is invalid. You are now logged back in to the previous account you've used.")),e.sendSocketMessage("login",{username:"",userId:""}),C.rightsidebar=!1,d.requestBy=void 0;"/partners/earnings"===o.current.name&&A(t),window._ht&&(window._ht._ht_uid=C.user.userId),b.notifySubscribers("session:loggedIn",C.loggedIn)},C.trackUser=function(){return C.loggedIn?(r.ga&&(r.ga("set","&uid",C.user.userId),r.ga("set","dimension3","registered")),void(r.Bugsnag&&(r.Bugsnag.user={id:C.user.userId,name:C.user.profile}))):!1},C.updateLanguage=function(e){if(!e)return console.warn("updateLanguage() language not specified"),!1;"ww"==e&&(e="en"),"me"==e&&(e="ar"),l.UILanguage=e,s.use(l.UILanguage),d.store("UILanguage",l.UILanguage);var t={UILanguage:e};C.user&&C.user.userId&&(t.channelId=C.user.userId,t.userId=C.user.userId),d.post("CHANNEL_UPDATE_UI_LANGUAGE",t),w.updateLanguage(e)},C.checkBan=function(){return C.user&&0!==C.user.userId&&0!==C.user.banId?(d.showTopNotification("<div>"+C.user.banningMsg.msgString+'</div><a class="btn btn-confirm" target="_blank" href="'+C.user.banningMsg.supportBtn.btnAct_web+'">'+C.user.banningMsg.supportBtn.btnTxt_web+"</a>","now",!0,void 0),l.banningMsg=C.user.banningMsg,!0):!1},C.silentAuth=function(){return d.store("lastNetwork")?C.auth(d.store("lastNetwork"),!0):!1},C.forceLogin=function(e){return!0},C.login=function(e,t){e.locale=l.UILocale,e.channelId=C.channelId||e.channelId,e.inviteString=C.inviteString||C.channelId,e.srcId=C.srcId||0,e.tmsid=r.YouNow.Bootstrap.tmId||"",e.deviceType=d.browser.name,d.store("oneSignalId")&&(e.deviceChannel=d.store("oneSignalId"));var n=t?"YOUNOW_CONNECT":"YOUNOW_LOGIN";return t&&(e.userId=C.user.userId),d.post(n,e).then(function(e){return C.loginData=e.data,C.getSession(),e})},C.logout=function(){if(C.isBroadcasting||c.settingUpBroadcast||y.guest&&y.guest.userId==C.user.userId)return C.preventBroadcastInterrupt(),!1;var t={userId:C.user.userId,deviceType:d.browser.name};d.store("oneSignalId")&&(t.deviceChannel=d.store("oneSignalId")),document.cookie="PHPSESSID=; path=/; domain=.younow.com; expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="slt=; path=/; domain=.younow.com; expires=Thu, 01 Jan 1970 00:00:01 GMT";var n=d.store("lastNetwork");n&&e.gaEvent("FEATURE","LOGOUT",n.toUpperCase()),C.getSession().then(function(){window.YouNow.Bootstrap.genTmId(),window.YouNow.Bootstrap.images1()}),d.store("lastNetwork",null),N("fan"),N("sub"),N("moment"),C.onlineFriends=null,C.onlineFriendIds=null,C.p2pList=null,c.notifyLogout(),y.notifyLogout(),S.notifyLogout()},C.updatePusherShard=function(){var e=C.user.userId||C.user.session;e!=u.shard&&(u.shard=e,u.presenceChannel&&!l.settings.NoPusherOnChannelWeb&&u.subscribe("presenceChannel","public-on-channel_"+u.channelId+"_"+u.shard+"_web_"+C.user.sec_token))},C.showInviteUsers=function(t){if(!r.FB)throw new Error("Facebook api not found");t=t||{};var n={method:"apprequests",message:t.msg||"Hey, you should join YouNow! It's a new way to discover awesome people, become a broadcasting legend and get more followers/subscribers.",data:{src:t.srcId||C.srcId||0,invite:t.inviteStr||C.inviteString||0}};e.gaEvent("FEATURE","invitefriends",l.UILocale),r.FB.ui(n,t.callback)},e.$watch(function(){return u.onCoins},function(e){e&&(C.user.userCoins=Number(e.coins)||0,C.user.level=Number(e.level)||0)}),e.$watch(function(){return c.partnerState},function(e){e&&(C.user.partner=e)}),e.$watch(function(){return c.barsRefund},function(e){e&&0!==C.user.userId&&(C.user.vault.webBars=e)}),C.getNotificationCount=function(){d.get("YOUNOW_NOTIFICATIONS",{userId:C.user.userId}).success(function(e){C.resetNotifications(),C.notificationCount=e.inAppCount||0})},e.$on("onAccountUpdate",function(t,n){e.$evalAsync(function(){t.preventDefault(),C.user.userId&&(C.user.spendingDisabled=n.message.spendingDisabled)}),C.getSession()}),C.getOnlineFriends=function(){if(!C.rightsidebar)return!0;var e={numberOfRecords:50,channelId:C.user.userId};d.get("CHANNEL_LOCATION_ONLINE_FANS_OF",e).success(function(e){if(e.users){var t=d.sortUsers(e.users),n=0,a=[];for(n;n<t.length;n++)a.push(t[n].userId);c.storeFriendsViewing(t),C.onlineFriends=E(t),C.onlineFriendIds=a}C.noFriendsActivity=!C.onlineFriends||0===C.onlineFriends.length,C.loggedIn&&d.poll(C.getOnlineFriends,"getOnlineFriends",e.nextRefresh)})},C.resetNotifications=function(){C.notifications=[],C.notificationCount=0,C.moreNotifications=!0},C.getNotifications=function(e){if(void 0===e&&(e=C.notifications.length),C.noMoreNotifications&&0!==e)return!1;var t={startFrom:e,userId:C.user.userId,web:1};return d.get("CHANNEL_NOTIFICATIONS",t).success(function(e){if(C.noMoreNotifications=e.hasNext?!1:!0,!e.notifications)return!1;C.notifications=0===t.startFrom?e.notifications:C.notifications.concat(e.notifications);for(var n=0;n<C.notifications.length;n++)C.notifications[n].template=C.notifications[n].template.replace(C.notifications[n].userName,""),1===C.notifications[n].notificationTypeId||24===C.notifications[n].notificationTypeId?C.notifications[n].imageUrl=d.generateDynamicApi("BROADCAST_THUMB")+"/"+C.notifications[n].entityId+"/"+C.notifications[n].entityId+".jpg":27===C.notifications[n].notificationTypeId&&(C.notifications[n].imageUrl=d.generateDynamicApi("IMAGE_GUEST_SNAPSHOTS")+"/"+C.notifications[n].entityId+"/"+C.notifications[n].entityId+".jpg"),C.notifications[n].channel={userId:C.notifications[n].eventUserId}})},C.getFan=function(e){void 0===C.fanStatus[e]&&-1===C.fanQueue.indexOf(e)&&(C.fanQueue.push(e),O("fan","CHANNEL_IS_FAN_OF"))},C.connect=function(e,t,n){w.capture({event:"CLICK",extradata:"CONNECT",field1:t},w.captureGroups.trackevents),C.authenticate[e]().then(function(e){e.origin=t,C.login(e,!0).then(function(e){C.fetchSettings(n)})})},C.fetchSettings=function(e){C.loggedIn&&d.get("CHANNEL_SETTINGS",{userId:e}).success(function(e){e.user&&(angular.forEach(e.options,function(t){8==t.optionValue&&(e.pubTwitter=t),32==t.optionValue&&(e.keepYoutube=t),64==t.optionValue&&(e.pubFacebook=t),256==t.optionValue&&(e.youtubeSimulcast=t),512==t.optionValue&&(e.hideCity=t),1024==t.optionValue&&(e.youtubeAnnotations=t),4096==t.optionValue&&(e.pubTumblr=t),8192==t.optionValue&&(e.getUpdates=t)}),e.user.useprofile=Number(e.user.useprofile)),e.user||a(function(){d.showError(e),o.go("main.channel.detail")},0)})};var O=function(e,t){var o,n=e+"Queue",i=e+"Timer",r=e+"Status";return C.user&&C.user.userId&&C[n].length&&!C[i]?C[i]=a(function(){var a={};return"moment"!==e?a.channelIds=C[n].join(","):(a.ids=C[n].join(","),o="liked"),o||(o="sub"===e?"subscriberOf":e+"Of"),a.userId=C.user.userId,d.get(t,a).success(function(t){angular.forEach(t[o],function(t,n){t.indexOf&&-1!=t.indexOf(e)?C[r][n]=!0:t.indexOf?C[r][n]=!1:C[r][n]=t}),C[n]=[],C[i]=void 0})}):void 0};return C.getSub=function(e){void 0===C.subStatus[e]&&-1===C.subQueue.indexOf(e)&&(C.subQueue.push(e),O("sub","CHANNEL_IS_SUBSCRIBER_OF"))},C.getMomentLike=function(e){return void 0===C.momentStatus[e]&&-1===C.momentQueue.indexOf(e)?(C.momentQueue.push(e),O("moment","MOMENT_IS_LIKED")):void 0},C.isAdmin=function(){return l.checkRole(C.user,l.bootstrap.adminRoles)},C.isMod=function(){return l.checkRole(C.user,l.bootstrap.modRoles)},C.preventBroadcastInterrupt=function(){s("broadcasting_cant").then(function(e){i.alert(e)})},C.showRightSidebar=function(){e.$evalAsync(function(){C.rightsidebar=!0,C.getOnlineFriends()})},b.subscribe("pusher:ban",function(e,t){C.user&&(t.message&&(C.user.banningMsg||(C.user.banningMsg={}),C.user.banId=t.message.banId,C.user.banningMsg.msgString=t.message.messageText,C.user.banningMsg.supportBtn={btnTxt_web:t.message.btnTxt_web,btnAct_web:t.message.btnAct_web},l.banningMsg=C.user.banningMsg,d.showTopNotification("<div>"+C.user.banningMsg.msgString+'</div><a class="btn btn-confirm" target="_blank" href="'+C.user.banningMsg.supportBtn.btnAct_web+'">'+C.user.banningMsg.supportBtn.btnTxt_web+"</a>","now",!0)),0===t&&(C.user.banId=0,C.user.banningMsg={},delete l.banningMsg,d.closeTopNotification("sticky")),c.available()||C.checkBan())},"session"),b.subscribe("user:update",function(e,t){for(var n in t)void 0!==C.user[n]&&(C.user[n]=t[n])},"session"),b.subscribe("user:onNotificationCountChange",function(t,n){e.$evalAsync(function(){C.notificationCount++;var e=!c.broadcast||c.broadcast&&c.broadcast.userId!=C.user.userId,t=!y.guest||y.guest&&y.guest.userId!=C.user.userId,n=c.volume>0;e&&t&&n&&document.getElementById("notificationSound")&&document.getElementById("notificationSound").play()})},"session"),C}),angular.module("younow.services.shareService",[]).factory("shareService",["$q","$rootScope","session","swf","Api","config","$timeout","$window","$interval","broadcasterService","trpx",function(e,t,n,a,i,r,o,s,l,c,u){function p(e,t,n,a){var i=void 0!==window.screenLeft?window.screenLeft:window.screen.left,r=void 0!==window.screenTop?window.screenTop:window.screen.top,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,l=o/2-n/2+i,c=s/2-a/2+r,u=window.open(e,t,"scrollbars=yes, width="+n+", height="+a+", top="+c+", left="+l);window.focus&&u.focus()}var d={};return d.clientShareTwitter=function(e,t,n){var a="https://twitter.com/share?",i={text:"Check out this moment of "+t+" on @Younow",url:e};u.capture(n,u.captureGroups.trackevents);var r=a+"text="+i.text+"&url="+i.url;p(r,"twitter",600,400)},d.clientShareFacebook=function(e,t,n){window.FB.ui({method:"share",href:e},function(){}),u.capture(n,u.captureGroups.trackevents)},d.getMomentToShare=function(e,t){return i.get("channel/shareUrl",{userId:n.user.userId,entityId:e,entityType:"m",entityUserId:t})},d.shareTwitter=function(){var r="twitter",c=e.defer();return a.snapshot.shared[r]?(a.snapshot.sharing[r]=!1,a.snapshot.retake=!0,i.triggerTooltip("snapshot-retake",5e3),d.trackFunnel(r+"_duplicate"),c.reject("cooldown"),c.promise):n.user&&n.user.twitterId?(d.sendShare(r,2),c.resolve("success"),c.promise):(o(function(){t.gaEvent("CONNECT","ATTEMPT_TWITTER","SHARE"),n.authenticate[r]().then(function(e){return n.login(e,!0).then(function(e){0===e.data.errorCode?(t.gaEvent("CONNECT","CONNECT_TWITTER","SHARE"),a.snapshot.sharing[r]=!0,d.sendShare(r,2),c.resolve("success"),i&&l.cancel(i)):(t.gaEvent("CONNECT","ERROR_TWITTER_"+e.data.errorCode,"SHARE"),a.snapshot.sharing[r]=!1)})});var e=0,i=l(function(){e++,60===e&&s.twitterPopup.close(),s.twitterPopup&&s.twitterPopup.closed&&(a.snapshot.sharing[r]=!1,l.cancel(i))},1e3)},0),c.promise)},d.shareTumblr=function(){var r="tumblr",s=e.defer();return a.snapshot.shared[r]?(a.snapshot.sharing[r]=!1,a.snapshot.retake=!0,i.triggerTooltip("snapshot-retake",5e3),d.trackFunnel(r+"_duplicate"),s.reject("cooldown"),s.promise):n.user&&n.user.tumblrId?(d.sendShare(r,16),s.resolve("success"),s.promise):(o(function(){t.gaEvent("CONNECT","ATTEMPT_TUMBLR","SHARE"),n.authenticate[r]().then(function(e){return n.login(e,!0).then(function(e){0===e.data.errorCode?(t.gaEvent("CONNECT","CONNECT_TUMBLR","SHARE"),a.snapshot.sharing[r]=!0,d.sendShare(r,16),s.resolve("success")):(t.gaEvent("CONNECT","ERROR_TUMBLR_"+e.data.errorCode,"SHARE"),a.snapshot.sharing[r]=!1)})})},0),s.promise)},d.shareFacebook=function(){var e="facebook";return a.snapshot.shared[e]?(a.snapshot.sharing[e]=!1,a.snapshot.retake=!0,i.triggerTooltip("snapshot-retake",5e3),d.trackFunnel(e+"_duplicate"),!1):void(n.user&&(n.user.facebookId||d.facebookConnected)&&a.share_facebook_permitted?a.postGift(n.user.userId,a.broadcast.userId,15,1,a.snapshot.snapshot,1).then(function(e){a.snapshot.id=e.data.snapshotId;var t={link:a.snapshot.links.FACEBOOK,picture:i.generateDynamicApi("GET_SNAPSHOT")+"/id="+a.snapshot.id,message:a.broadcast.share_message};d.shareFacebookSend(t)}):n.user&&n.user.facebookId?d.shareFacebookLogin():n.user&&o(function(){s.tempFBscope="public_profile,email,user_friends,publish_actions",n.authenticate[e]().then(function(i){t.gaEvent("CONNECT","ATTEMPT_FACEBOOK","SHARE"),n.login(i,!0).then(function(n){0===n.data.errorCode?(t.gaEvent("CONNECT","CONNECT_FACEBOOK","SHARE"),d.facebookConnected=!0,d.shareFacebookAuth()):(t.gaEvent("CONNECT","ERROR_FACEBOOK_"+n.data.errorCode,"SHARE"),a.snapshot.sharing[e]=!1)},function(t){a.snapshot.sharing[e]=!1})},function(t){a.snapshot.sharing[e]=!1})},0))},d.shareFacebookAuth=function(){var e="facebook";FB.api("/me/permissions",function(t){if(t&&!t.error)for(var n in t)for(var r in t[n])if("publish_actions"==t[n][r].permission&&"granted"==t[n][r].status)return a.share_facebook_permitted=!0,d.shareFacebook(),!0;return a.snapshot.sharing[e]=!1,a.snapshot.shared[e]=!1,i.showTopNotification('Please click "share" again and allow posting to facebook.'),!1})},d.shareFacebookLogin=function(){var e="facebook";a.snapshot.shared.facebook_login_attempted?a.snapshot.sharing[e]=!1:(a.snapshot.shared.facebook_login_attempted=!0,o(function(){a.snapshot.shared.facebook_login_attempted=!1},500),o(function(){FB.login(function(e){d.shareFacebookAuth()},{scope:"publish_actions",auth_type:"rerequest"})},0))},d.shareFacebookSend=function(e){var t="facebook",n=function(e){e.post_id?(a.snapshot.shared.facebook_postId=e.post_id,a.snapshot.shared[t]=!0,d.sendShare("facebook",4),a.broadcast.shared[t]||d.incrementShareCount(t)):d.trackFunnel(t+"_error_fb"),a.snapshot.sharing[t]=!1};window.FB.ui({method:"share",href:a.snapshot.links.FACEBOOK},n)},d.incrementShareCount=function(e){var t=a.broadcast.user_shares=a.broadcast.user_shares||0,n=0;for(var r in a.broadcast.shared)a.broadcast.shared[r]===!0&&n++;0===n&&(n=1),a.broadcast.user_shares=n;var o=n-t>0?!0:!1;o&&a.broadcast.shares++,i.triggerTooltip("broadcast-shares",2e3)},d.sendShare=function(e,t){var r=n.user.userId,o=a.broadcast.userId,s=a.broadcast.share_message,l={userId:r,channelId:o,comment:s,sn:t,sendTweet:"twitter"===e?1:0,createPost:"tumblr"===e?1:0};"twitter"===e&&(l.snapshot=a.snapshot.snapshot);var c="younow"==e?"invite":e;i.post("broadcast/share",l).success(function(t,n,i,r){a.snapshot.sharing[e]=!1,0===t.errorCode?(a.snapshot.shared[e]=!0,a.broadcast.shared[e]||(a.broadcast.shared[e]=!0,d.incrementShareCount(e)),d.trackFunnel(c+"_success")):d.trackFunnel(c+"_error_"+t.errorCode)}).error(function(t,n,i,r){a.snapshot.sharing[e]=!1,d.trackFunnel(c+"_error_yn")})},d.trackFunnel=function(e){a.broadcast.shareCount[e]=a.broadcast.shareCount[e]?a.broadcast.shareCount[e]+1:1,t.gaEvent("SHARE",e,a.broadcast.shareCount[e])},d}]),angular.module("younow.services.external-streamer",[]).factory("externalStreamer",["swf","$window","$timeout",function(e,t,n){var a={settings:{active:!1,streaming:!1}};return a.setBroadcastInitResp=function(e){a.settings.streamUrl="rtmp://"+e.directStreaming.host+"/liveapp",a.settings.streamKey=e.directStreaming.stream},a.setBroadcastAddResp=function(e){a.settings.added=!0},a.onPusherEvent=function(t,n){"onBroadcastPlayData"===t&&a.settings.active&&!e.settingUpBroadcast&&(console.log(e,a),a.settings.active=!1,a.settings.streaming=!0,a.settings.streamKey=void 0,a.settings.streamUrl=void 0),"onBroadcastEnd"!==t&&"onBroadcastDisconnect"!==t&&"onBroadcastCancel"!==t||!a.settings.streaming&&!a.settings.active||a.reset()},a.reset=function(){a.settings.active=!1,a.settings.streamUrl=void 0,a.settings.streamKey=void 0,a.settings.streaming=!1,a.settings.added=!1},a}]),angular.module("younow.services.guest-service",[]).factory("guestService",["swf","config","Api","config","webRtc","debug","$q","$timeout","$q","$filter","$modal",function(e,t,n,t,a,i,r,o,r,s,l){function f(e){this.bars=e.bars,this.chatRole=e.chatRole,this.fanRank=e.fanRank,this.level=e.level,this.locale=e.locale,this.location=e.location,this.formattedLocation=e.location?n.cleanLocation(e.location):"",this.name=e.name,e.snapshotUrl&&(this.snapshotUrl=e.snapshotUrl,this.snapshot=t.settings.GuestSnapshotsBaseUrl+e.snapshotUrl),this.subscriptionType=e.subscriptionType,this.userId=e.userId}function h(e){"ready"!=c.state&&(c.state="ready"),"ready"!=c.overlayStates.guest&&(c.overlayStates.guest="ready"),"ready"!=c.overlayStates.broadcaster&&(c.overlayStates.broadcaster="ready"),!e&&c.pendingGuest&&(p=o(function(){delete c.pendingGuest},3e3))}var p,c={},d=!1;return c.state="ready",c.countUpdated=!1,c.guestListCount=0,c.listPreferences={filter:"level",dir:void 0},c.overlayStates={broadcaster:"ready",guest:"ready"},c.newUserGuestObj=function(e){c.userGuestObj=new f(e)},c.updateUserGuestObj=function(e){!e&&c.userGuestObj&&delete c.userGuestObj},c.newGuestObj=function(e){c.guest=new f(e)},c.updateGuestObj=function(e){!e&&c.guest&&delete c.guest},c.addGuest=function(e,t,i,r){n.post("guest/join",{sdpOffer:t,channelId:i,userId:r}).then(function(t){0===t.data.errorCode?a.pc.setRemoteDescription(new e.SessionDescription({sdp:t.data.sdpAnswer,type:"answer"}),a.setRemoteDescriptionSuccess,a.setRemoteDescriptionFail):(o(function(){h()},1e3),a.getCurrentConfig().webrtcStream&&a.destroy(void 0,document.getElementById("guestVideo")))})},c.inviteGuest=function(e,t,a,i){"direct"===i?c.overlayStates.guest="inviting":c.overlayStates.guest="connecting-broadcaster",a?c.newGuestObj(a):c.newGuestObj(c.pendingGuest.guest),delete c.pendingGuest,n.post("guest/invite",{userId:e,guestId:t,mode:i||"guest"}).then(function(e){0===e.data.errorCode?"direct"!==i&&(c.state="connecting"):h()})},c.acceptInviteRequest=function(){var e=r.defer();return"Firefox"==n.browser.name?e.resolve():a.getBasicPermissions().then(function(t){t&&t.id?e.resolve():e.reject()}),e.promise},c.declineInviteRequest=function(e,t){n.post("guest/decline",{channelId:e,userId:t,reason:"user"}).then(function(e){0===e.data.errorCode&&h()})},c.cancelInviteRequest=function(e){n.post("guest/cancel",{userId:e,guestId:c.pendingGuest.guest.userId}).then(function(e){0===e.data.errorCode&&h()})},c.dropGuest=function(t){var a=r.defer(),i=e.broadcast.userId===t?"broadcaster":"user";return"user"==i&&(d=!0),n.post("guest/end",{channelId:e.broadcast.userId,userId:t,source:i}).then(function(e){return 0===e.data.errorCode?(c.updateGuestObj(),c.overlayStates.guest="ready",c.state="loading",a.resolve()):a.reject(),a.promise})},c.getSnapshot=function(t){
e.activeChatTab="GuestSnapshot",!t&&c.guest.snapshot?a.takeGuestSnapshot(document.getElementById("bcVideo"),document.getElementById("guestVideo")).then(function(e){c.eobSnapshot=e}):a.takeGuestSnapshot(document.getElementById("bcVideo"),document.getElementById("guestVideo"),c.guest.snapshot).then(function(e){c.eobSnapshot=e});var i=n.convertBitwise(e.broadcast.broadcastShared,6);return"object"!=typeof e.broadcast.shared&&(e.broadcast.shared={}),e.broadcast.shared={younow:e.broadcast.shared.younow?e.broadcast.shared.younow:i[0],twitter:e.broadcast.shared.twitter?e.broadcast.shared.twitter:i[1],facebook:e.broadcast.shared.facebook?e.broadcast.shared.facebook:i[2],instagram:e.broadcast.shared.instagram?e.broadcast.shared.instagram:i[3],tumblr:e.broadcast.shared.tumblr?e.broadcast.shared.tumblr:i[4],other:e.broadcast.shared.other?e.broadcast.shared.other:i[5]},e.snapshotLinks({broadcast:e.broadcast,guesting:!0})},c.notifyLogin=function(t){e.broadcast&&(e.broadcast.guestInfo&&e.broadcast.guestInfo.userId==t.userId?c.newUserGuestObj(e.broadcast.guestInfo):n.get("BROADCAST_INFO",{channelId:e.broadcast.userId,curId:e.broadcast.userId}).then(function(e){e.data&&e.data.guestInfo&&c.newUserGuestObj(e.data.guestInfo)}))},c.notifyLogout=function(){c.updateUserGuestObj()},c.newBroadcaster=function(){h(),d=!1,c.countUpdated=!1},c.onPusherEvent=function(r,l){i.console(["GUEST","PUSHER"],{pusherEvent:r,pusherData:l});var u=l&&l.message?l.message:null;if("onGuestConnecting"===r&&u&&(u.guestInfo&&!c.guest&&c.newGuestObj(u.guestInfo),u.userId!=e.currentSession.userId&&"connecting-broadcaster"!=c.overlayStates.guest&&(e.currentSession.userId==e.broadcast.userId&&"connecting"!=c.state&&(c.state="connecting"),c.overlayStates.guest="connecting-broadcaster")),"onGuestConnected"===r&&"connecting-broadcaster"===c.overlayStates.guest&&(a.streamReadyCallback("guestVideo",function(){c.overlayStates.guest="connected"}),a.settings.streams.guest&&a.pc.reconnectRemoteStream()),"onGuestBroadcasting"!==r||"connecting"!==c.overlayStates.guest&&"connecting-broadcaster"!==c.overlayStates.guest||(e.currentSession.userId!=u.channelId&&e.currentSession.userId!=u.userId?c.overlayStates.guest="ready":c.overlayStates.guest="connected",c.pendingGuest&&delete c.pendingGuest,d=!0),"onBroadcastEnd"===r&&u&&(c.countUpdated=!1,e.eob||h(),void 0!==a.getCurrentConfig()&&a.getCurrentConfig().webrtcStream&&a.destroy()),"onGuestEnd"===r&&u){if(c.guest&&c.guest.userId==e.currentSession.userId)c.getSnapshot(!0),c.state="loading",o(function(){h()},1e3),a.getCurrentConfig().webrtcStream&&a.destroy(void 0,document.getElementById("guestVideo")),d=!0;else{if("inviting-prompt"==c.overlayStates.guest)return c.guest&&c.updateGuestObj(),!1;"swapping"==c.overlayStates.guest?h(!0):h()}c.guest&&c.updateGuestObj()}"onBroadcastPlayData"==r&&u&&(d||"connecting"===c.overlayStates.guest||"connecting-broadcaster"===c.overlayStates.guest||"inviting"===c.overlayStates.guest||(u.guestBroadcaster&&!d&&(c.guest||c.newGuestObj(u.guestBroadcaster),c.guest&&c.guest.userId!=u.guestBroadcaster.userId&&(c.updateGuestObj(),c.newGuestObj(u.guestBroadcaster))),u.guestBroadcaster||!c.guest||d||c.updateGuestObj()),d&&(d=!1),void 0!==u.guestListCount&&null!==u.guestListCount&&(u.guestListCount>c.guestListCount&&"Guest"!=e.activeChatTab&&(c.countUpdated=!0),c.guestListCount=u.guestListCount,c.guestListCountFormatted=n.trustedHTML(1!=u.guestListCount?"<b>"+u.guestListCount+"</b> "+s("translate")("_guests"):"<b>"+u.guestListCount+"</b> "+s("translate")("_guest")))),"onGuestInvite"===r&&u&&e.broadcast.userId==u.channelId&&"guest"===u.mode&&(n.showTopNotification('<div class="circle-thumb thumb" style="background-image: url('+t.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+e.currentSession.userId+');"></div><div class="circle-thumb thumb" style="background-image: url('+t.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+u.channelId+');"></div> <div>Congratulations! '+e.broadcast.profile+" has selected you as a guest!</div>","primary",!1,void 0,4e3),c.state="loading",c.newGuestObj(c.userGuestObj),c.updateUserGuestObj()),"onGuestDirectInvite"===r&&u&&e.broadcast.userId==u.channelId&&(u.guestInfo&&!c.pendingGuest&&(u.guestInfo.formattedLocation=n.cleanLocation(u.guestInfo.location),c.pendingGuest={guest:u.guestInfo}),u.userId==e.currentSession.userId&&(o.cancel(p),o(function(){c.overlayStates.guest="inviting-prompt"})),u.userId!=e.currentSession.userId&&u.channelId!=e.currentSession.userId&&(o.cancel(p),o(function(){c.overlayStates.guest="inviting-audience"}))),"onGuestDecline"===r&&u&&(u.userId!=e.currentSession.userId?(c.pendingGuest||(c.pendingGuest={guest:u.guestInfo}),e.broadcast.userId==e.currentSession.userId&&"timeout"==u.reason?(c.overlayStates.guest="declined-retry",p=o(function(){"declined-retry"===c.overlayStates.guest&&h()},6e3)):(c.overlayStates.guest="declined",p=o(function(){"declined"===c.overlayStates.guest&&h()},2e3))):h()),"onGuestOptIn"===r&&e.broadcast.userId==u.channelId&&u.guestInfo&&c.newUserGuestObj(u.guestInfo),"onGuestOptOut"===r&&e.broadcast.userId==u.channelId&&c.userGuestObj&&c.updateUserGuestObj(),"onGuestJoinFail"===r&&h(),"onGuestCancel"===r&&u.channelId&&e.currentSession.userId!=u.channelId&&(o.cancel(p),h())},c.preventGuestingInterrupt=function(){l.alert(s("translate")("guesting_cant"))},c.isGuest=function(e){return c.guest&&e&&c.guest.userId==e.userId},c}]).directive("guestStream",["webRtc","Api","swf","session","broadcasterService","guestService",function(e,t,n,a,i,r){return{restrict:"A",scope:{},link:function(t,i,o,s){function c(t){t.candidate?console.log("Sending Ice Candidate:\n"+JSON.stringify({id:"broadcaster",candidate:t.candidate})):(l=e.getCurrentConfig(),r.addGuest(l,e.pc.localDescription.sdp,n.broadcast.userId,a.user.userId),e.setStatus("End of candidates, sending sdp to server."),l.streamReady=!0)}var l;n.settingUpBroadcast||!n.broadcast||n.broadcast.userId==a.user.userId||a.isBroadcasting||(r.overlayStates.guest="connecting",e.initialize(c,!0).then(function(t){e.setupWebrtcStream(),r.state="connected"}))}}}]),angular.module("younow.services.selfies",[]).factory("selfies",function(e,t,n,a,i){function u(e,t,n,a,i,o,s,l){this.userId=e,this.selfiePath=t,this.name=n,this.level=i,this.city=o,this.state=s,this.country=l,a?this.gif=new window.SuperGif.decoder({gif:a,canvas:document.getElementById("bcCanvas"),drawImageWith:{sx:74,sy:0,swidth:r.selfieImage.width,sheight:r.selfieImage.height,x:document.getElementById("bcCanvas").width/2,y:0,width:444,height:444}}):r.selfieReady=!0}function d(){r.localSelfieSrc.preview="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",r.localSelfieSrc.sf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",r.localSelfieSrc.sfb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII="}function p(e){r.currentSelfie&&r.currentSelfie.gif&&r.currentSelfie.gif.pause(),r.selfieImage&&(r.selfieImage.onload=void 0),r.selfieImage=void 0,r.currentSelfie=void 0,r.selfieReady=e,r.attempted=void 0,r.emptyQueue=void 0}function f(e,t){var n=0;for(n;n<e.length;n++)-1!==t.indexOf(e[n].sfb)&&e.splice(n,1);return e}var r={currentSelfie:void 0,queue:void 0,selfieReady:!1,selfieImage:void 0,localSelfieSrc:{}},o={},s=[],l=document.createElement("canvas"),c=["onGuestConnecting","onGuestConnected","onGuestBroadcasting","onGuestInvite","onGuestDirectInvite"];return l.width=592,l.height=444,window.preloadedCanvas=l,r.loadSelfie=function(e,a){p(r.currentSelfie?!0:!1),r.selfieImage=new window.Image,r.selfieImage.crossOrigin="anonymous",r.selfieImage.onload=function(){r.currentSelfie=new u(e.userId,e.sfb,e.name,r.selfieImage);var i=document.getElementById("bcCanvas");l.getContext("2d").drawImage(r.selfieImage,0,0,r.selfieImage.naturalWidth,r.selfieImage.naturalHeight,i.width/2,0,444,444),r.selfieReady=!0,i.getContext("2d").drawImage(l,0,0),r.currentSelfie.gif.load(),r.selfieDelayedAnnounce&&t.cancel(r.selfieDelayedAnnounce),r.selfieDelayedAnnounce=t(function(){var t=e.sfb.split("/");r.announceSelfie(a,a,e.userId,t[t.length-2]+"/"+t[t.length-1])},n.settings.SelfiePusherDelay)},r.selfieImage.src=e.sfb},r.clearSelfies=function(e,n){p(),r.selfieDelayedAnnounce&&t.cancel(r.selfieDelayedAnnounce),s=[],e&&n&&a.post("SELFIE_CLEAR",{channelId:e,userId:n})},r.nextSelfie=function(e){s.length>0&&s.shift(),0===s.length||5===s.length?a.get("SELFIE_QUEUE",{channelId:e}).then(function(e){e.data&&e.data.list.length>0?(r.emptyQueue=!1,s=0===s.length?f(e.data.list,r.selfieImage.src):s.concat(e.data.list),s.length>0?r.loadSelfie({userId:s[0].userId,sfb:n.settings.SelfieBaseUrl+s[0].sfb,name:s[0].name},o.userId):r.emptyQueue=!0):e.data&&0===e.data.list.length&&(r.emptyQueue=!0)}):r.loadSelfie({userId:s[0].userId,sfb:n.settings.SelfieBaseUrl+s[0].sfb,name:s[0].name},o.userId)},r.announceSelfie=function(e,t,n,i){a.post("SELFIE_ANNOUNCE",{channelId:e,userId:t,selfieUserId:n,selfiePath:i})},r.onPusherEvent=function(e,t,n){var a=t&&t.message?t.message:null,i=a.selfie?a.selfie:void 0;return n=void 0===n?{}:n,n.settingup?!1:(a.channelId!=o.userId&&(i&&(a&&"onSelfieAnnounce"===e?r.newSelfie(i):"onBroadcastPlayData"!==e||r.currentSelfie&&r.currentSelfie.userId==i.userId||r.newSelfie(i)),"onSelfieClear"===e&&p()),("onBroadcastEnd"===e||-1!==c.indexOf(e))&&(p(),s=[]),void("onBroadcastMcuDisconnect"===e&&r.selfieImage&&r.clearSelfies(o.userId,o.userId)))},r.newBroadcaster=function(e){e.sf?(r.localSelfieSrc.sf=n.settings.SelfieBaseUrl+e.sf,r.localSelfieSrc.sfb=n.settings.SelfieBaseUrl+e.sfb):e.sf&&r.localSelfieSrc.sf&&d()},r.notifyLogin=function(e){if(o.userId=e.userId,e.selfie){var t=JSON.parse(e.selfie).sf,a=JSON.parse(e.selfie).sfb;r.localSelfieSrc.sf=n.settings.SelfieBaseUrl+t,r.localSelfieSrc.sfb=n.settings.SelfieBaseUrl+a}},r.notifyLogout=function(){o={},d()},r.newSelfie=function(e){e.selfiePath=n.settings.SelfieBaseUrl+e.selfiePath,r.currentSelfie=new u(e.userId,e.selfiePath,e.name,void 0,e.level,e.city,e.state,e.country)},r.uploadSelfie=function(e,t){var n={url:a.generateDynamicApi("SELFIE_UPLOAD"),method:"POST",headers:{"X-Requested-By":t},data:{channelId:e,userId:o.userId,selfie:a.base64ToFile(r.localSelfieSrc.sf),selfie_big:a.base64ToFile(r.localSelfieSrc.sfb),persist:1,tsi:a.store("trpxId"),tdi:a.store("trpx_device_id")}};i(n)},r}),angular.module("younow.services.swf",[]).directive("swfstudio",function(e,t,n,a,i,r,o,s,l){return{restrict:"A",link:function(n,r,o){a.init.then(function(){var n=a.settings.ServerCDNBaseUrl+"/swf/Player.swf?ver="+a.settings.FLASH_VER_APPEND,r="flashObj1",o="592",s="444",c="11.0.0",u={splashScreen:"1",etpl:"VS",configUrl:l.generateDynamicApi("YOUNOW_CONFIG"),defaultSpeakerVolume:"0.8"},d={allowscriptaccess:"always",allownetworking:"all",quality:"high",bgcolor:"#FFFFFF",allowfullscreen:"true",wmode:"transparent"},p={};i.bootingFlash=!0,t(function(){function t(e){i.bootingFlash=!1}e.swfobject.embedSWF(n,r,o,s,c,!1,u,d,p,t)},0)})}}}).factory("swf",["$http","$window","$location","$rootScope","$modal","config","Api","dashboard","$timeout","$interval","$filter","$q","eventbus","debug","playerOverlayService","chatService","$state","trpx",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v){function L(e){var t=0;for(t;t<e.length;t++)if((0===e[t].status||!e[t].status)&&b.broadcast&&e[t].channelId==b.broadcast.userId){var n=new b.Comment("is here",e[t].profile||e[t].name,e[t].userId,void 0,0,void 0,void 0,0,!0);n.hashedComment=o.trustedHTML("is here"),b.broadcast.comments.push(n),B(n),p.notifySubscribers("trackingPixel:capture",{event:"FRIEND_PRESENT",field1:e[t].userId.toString()})}}function B(e){var t=Object.keys(b.broadcast.chatters).length;t>100&&(b.broadcast.chatters=b.broadcast.chatters.splice(b.broadcast.chatters.length-50,50),$.splice($.length-50,50)),-1===$.indexOf(Number(e.userId))&&"Younow"!==e.name&&(b.broadcast.chatters.push({displayName:e.name,thumb:r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+(e.userId||0)}),$.push(Number(e.userId))),-1===$.indexOf(Number(b.broadcast.userId))&&(b.broadcast.chatters.push({displayName:b.broadcast.profile,thumb:r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+(b.broadcast.userId||0)}),$.push(Number(b.broadcast.userId)))}function F(e){if(b.currentSession){var n,t="@"+b.currentSession.profile;if(b.currentSession.fullName){var a=b.currentSession.fullName.indexOf(" ");n="@"+b.currentSession.fullName.substring(0,a+2)+"."}-1!==e.comment.indexOf(t)||n&&-1!==e.comment.indexOf(n)?(e.mention=!0,p.notifySubscribers("trackingPixel:capture",{event:"AT_MENTIONED",field1:e.userId.toString()})):b.currentSession.p2pList&&b.currentSession.p2pList[e.userId]?e.isFriend=!0:e.mention=!1}return e}function G(e){e.isShowing=!0,b.fanMailQueue.push(e)}function V(e){b.refresh&&(c.cancel(b.refresh),b.refresh=void 0),b.refresh||(b.refresh=c(function(){"Audience"===b.activeChatTab&&(b.audienceLists.timer||(b.audienceLists.timer=0),0===b.audienceLists.currentPage&&b.audienceLists.timer++,b.audienceLists.timer===b.audienceLists.nextRefresh&&(b.getAudience(b.audienceLists.currentPage,20,!0),b.audienceLists.timer=0))},1e3))}var b={};t.YouNow||(t.YouNow={}),t.YouNow.App={};var y=t.YouNow.App,w={};b.unreadGlobalMessages=0;var S=function(e){e.profileUrlString=e.profile,e.comment=o.stripHTML(e.comment),e.comment=e.comment.replace(new RegExp("\r\n","g"),"<br />"),e.profilePicture="https://cdn.younow.com/php/api/channel/getImage/channelId="+e.userId,e.userLevelFloor=Math.floor(e.level),e.giftId=!1,e.isBroadcaster=!1,null==b.globalComments&&(b.globalComments=[]);var t=JSON.parse(JSON.stringify(e));t.hashedComment=o.replaceHash(o.convertEmoji(o.linkify(t.comment))),null!=b.globalComments&&b.globalComments.length>0&&b.globalComments[b.globalComments.length-1].userId==e.userId&&b.globalComments[b.globalComments.length-1]["private"]==e["private"]?b.globalComments[b.globalComments.length-1].sub.push(t):(e.sub=[],e.sub.push(t),null==b.globalComments&&(b.globalComments=[]),b.globalComments.push(e)),"GlobalChat"!=b.activeChatTab&&b.unreadGlobalMessages++;for(var n=[],a=Math.max(0,b.globalComments.length-30);a<b.globalComments.length;a++)n.push(b.globalComments[a]);window.localStorage.setItem("globalLog",JSON.stringify(n))};if(null==a.socket){var _=window.localStorage.getItem("globalLog");if(null!=_&&""!=_){b.globalComments=JSON.parse(_);for(var C=0;C<b.globalComments.length;C++){b.globalComments[C].old=!0;for(var T=0;T<b.globalComments[C].sub.length;T++)b.globalComments[C].sub[T].hashedComment=o.replaceHash(o.convertEmoji(o.linkify(b.globalComments[C].sub[T].comment)))}}a.socket=io.connect("https://hierstandrakkas:8080",{secure:!0}),a.socket.auth=function(){var e={id:window.localStorage.getItem("userID"),invisible:a.invisible};null!=b.currentSession&&(e.name=b.currentSession.profile,e.profile=b.currentSession.profile,e.level=b.currentSession.level,e.userId=b.currentSession.userId,e.auth=window.localStorage.getItem("auth")),a.socket.sendMessage("auth",e)},a.socket.joinChannel=function(e){a.socket.sendMessage("join",{channelID:e})},a.socket.on("connect",function(){if(a.socketConnected=!0,a.socket.auth(),null!=a.socket.queue)for(var e=0;e<a.socket.queue.length;e++)a.socket.emit(a.socket.queue[e][0],a.socket.queue[e][1])}),a.socket.on("auth",function(e){window.localStorage.setItem("userID",e.id),window.localStorage.setItem("auth",e.auth),a.socket.user=e}),a.socket.on("chat",S),a.socket.on("data",function(e){b.currentVisibleViewers=e.viewers,b.currentInvisibleViewers=e.invisible,b.darkModeUsers=e.online}),a.socket.sendMessage=function(e,t){1!=a.socketConnected?(null==a.socket.queue&&(a.socket.queue=[]),a.socket.queue.push([e,t])):a.socket.emit(e,t)}}y.init=function(){a.$evalAsync(function(){!b.broadcast||I.init.changeChannel||b.settingUpBroadcast||"1"!=b.broadcast.mcuEnabled||b.invokeSwfMethod("changeChannel",b.broadcast),b.bootingFlash?b.invokeSwfMethod("setVolume",0):b.setVolume(o.store("younowVol")),b.sessionData&&b.sessionData.userId&&b.notifyLogin(b.sessionData),b.init=!0,b.object=document.getElementById("flashObj1"),O("init")})},y.ready=function(){a.$evalAsync(function(){b.ready=!0,O("ready")})},y.muted=function(e){var t=e?0:100;b.setVolume(t,!0)},y.loadChannel=function(e){b.loadChannel=e},y.getShareUrl=function(e){e=JSON.parse(e),e.inviteStr=b.broadcast.userId;var t=o.buildShareUrl(e);return JSON.stringify({shareUrl:t})},y.shareSocialNetwork=function(e){if(e=JSON.parse(e),e.inviteStr=b.broadcast.userId,e.url=o.buildShareUrl(e),"facebook"===e.network&&window.FB.ui({method:"feed",link:e.url,name:o.buildFacebookCopy(e)}),"twitter"===e.network){var t=o.buildTwitterCopy(e),n="https://twitter.com/intent/tweet?text="+window.encodeURIComponent(t);o.openPopup("Twitter",n)}},y.stateChange=function(e){b.broadcast&&b.broadcast.broadcastId?f.console(["SWF","STATE"],e+" "+b.broadcast.broadcastId):f.console(["SWF","STATE"],e),"BUFFERING"===e&&a.$evalAsync(function(){b.playState=e}),"BUFFERING"!==b.playState&&"RECONNECT"!==b.playState||"PLAYING"!==e||l(function(){a.$evalAsync(function(){"1"!=b.broadcast.mirror||b.broadcast.guestBroadcaster?b.invokeSwfMethod("mirror",!1):b.invokeSwfMethod("mirror",!0),b.playState=e})},1500),"BUFFERING"===e&&b.broadcast&&b.currentSession&&b.broadcast.userId!=b.currentSession.userId&&a.$evalAsync(function(){b.loadingBroadcasterState="NEXT",!b.settingUpBroadcast&&b.oldTfl&&(b.broadcast.tfl=b.oldTfl),b.settingUpBroadcast||(b.currentSession.isBroadcasting=!1)}),("PLAYING"==e||b.broadcast&&b.currentSession&&b.broadcast.userId==b.currentSession.userId)&&l(function(){b.loadingBroadcasterState=!1,b.sharePanelOpen=!1},1500),"RECONNECT"===e&&a.$evalAsync(function(){b.loadingBroadcasterState="RECONNECT",b.playState=e})},y.shareBroadcast=function(e,t){b.getShareData(e,t,!1,!0).then(function(e){o.openSharePopup(e)})},y.exceptionHandler=function(e){t.Bugsnag.metaData={lastApiStack:t.bugsnagAdditionalParams.lastApiStackObject,lastClickStack:t.bugsnagAdditionalParams.lastClickStackObject},e.split&&(e=e.split("at ").join("\n at ")),o.trackError("FlashError: "+e)},y.loadNextChannel=function(){b.loadNextChannel(b.broadcast)},y.segmentChange=function(e){e||console.log("no segment id passed"),b.segments&&b.momentBroadcastId==b.broadcast.broadcastId||(b.segments=[]),b.segments.unshift({id:e,start:(new Date).getTime()}),b.segments.length>20&&b.segments.pop()},y.sendSnapshot=function(e,t){if("object"==typeof e){e.segmentId;e=e.snapshot}t?b.savePreview(e):(p.notifySubscribers("swf:snapshot",e),b.snapshot||(b.snapshot={}),b.snapshot.snapshot=e)},y.onVideoLoad=function(e){v.capture({event:"PLAYBACK_SUCCESS",loadtime:e,dns:b.broadcast.media.host.split("/")[0],connection:"wifi"},v.captureGroups.playback)},y.onVideoFail=function(){v.capture({event:"PLAYBACK_FAILURE",loadtime:-1,dns:b.broadcast.media.host.split("/")[0],connection:"wifi"},v.captureGroups.playback)};var E,x=["onPusherEvent","goLive","setMute"],I={init:{},ready:{}},N=!1,O=function(e){angular.forEach(I[e],function(e,t){b.invokeSwfMethod(t,e)}),I[e]={}},P=function(){o.get("YOUNOW_FEATURED",{locale:r.UILocale}).then(function(e){if("onBroadcastPlay"===e.data.state)y.loadChannel({channelId:e.data.userId});else{if(void 0===e.data.state)return!1;b.loadNextChannel(e.data)}})},$=[],D=[];b.available=function(){return b.object=document.getElementById("flashObj1"),b.object?!0:(b.init=!1,b.ready=!1,!1)},b.invokeSwfMethod=function(e,t){if("1"==r.mcu&&("goLive"==e||"endBroadcast"==e||"cancelBroadcast"==e))return!1;f.console(["SWF","INVOKE"],{method:e,params:t}),"cancelBroadcast"===e&&a.gaEvent("Go Live","Broadcast cancelled",r.UILocale,(new Date).getTime()-w.goLive);var n=-1===x.indexOf(e)?"init":"ready";if(b[n]&&b.available()){t="string"!=typeof t?JSON.stringify(t):t;try{if(b.object[e])return t||t===!1?b.object[e](t):b.object[e]()}catch(i){console.warn(e,t,i)}}else I[n][e]=t},b.onPusherEvent=function(e,t){f.console(["SWF","PUSHER",e],{pusherEvent:e,pusherData:t});var n=t&&t.message?t.message:null;if(b.settingUpBroadcast)return!1;if("banned_fan"===e||"unbanned_fan"===e){var a=n.userId,i=[];b.broadcast.comments||(b.broadcast.comments=[]),o.get("CHANNEL_INFO",{channelId:a},"usecdn").success(function(t){var s=t.dynamoFirstName;n.comments=[{}];var l=0;"banned_fan"==e?n.comments[l].comment="banned&nbsp;":n.comments[l].comment="unbanned&nbsp;",n.comments[l].hashedComment=o.replaceHash(o.convertEmoji(o.linkify(n.comments[l].comment))),n.comments[l].userLevelFloor=Math.floor(b.broadcast.userlevel),n.comments[l].userId=b.broadcast.userId,n.comments[l].otherUserId=a,n.comments[l].name=b.broadcast.username,n.comments[l].otherName=s,n.comments[l].subscriptionType=0,n.comments[l].role=0,n.comments[l].systemComment=!0,n.comments[l].giftId=!1,n.comments[l].isBroadcaster=b.broadcast.userId==n.comments[l].userId?!0:!1,n.comments[l].sf&&(n.comments[l].sf=r.settings.SelfieBaseUrl+n.comments[l].sf),i.push(n.comments[l]),B(n.comments[l]),"Chat"!=b.activeChatTab&&(b.unreadMessages+=i.length),b.broadcast.comments=b.broadcast.comments.concat(i)})}if("onViewers"===e&&n&&(s.syncCurrentViewers(n),b.broadcast.viewers=o.squashedNumber(n.viewers,4)),("onLikes"===e||"onViewers"===e&&n)&&(b.broadcast.likes=o.squashedNumber(n.likes,5),b.broadcast.likePercent=n.likePercent),"onBroadcastPlayData"===e&&n){if(n.channelId!=b.broadcast.userId)return!1;if(b.broadcast.subscribersCount=n.subscribersCount,b.broadcast.numMomentsCreated=n.numMomentsCreated,1==n.chatMode&&n.chatMode!=b.broadcast.chatMode&&o.showTopNotification("Subscriber-only chat mode activated","success"),b.broadcast.chatMode=n.chatMode,l.cancel(b.broadcast.quality_timeout),b.broadcast.quality=n.quality,b.broadcast.quality_timeout=l(function(){b.broadcast.quality={percentage:0,desc:"low"}},15e3),b.eob&&n.channelId!=b.currentSession.userId&&delete b.eob,n.length&&b.broadcast&&b.broadcast.length!==n.length&&(b.broadcast.length=n.length),b.broadcast&&!b.broadcast.media&&n.media&&(b.broadcast.media=n.media,b.invokeSwfMethod("changeChannel",b.broadcast),b.loadingBroadcasterState=!1,b.playState="PLAYING"),n.shares&&n.shares>=b.broadcast.shares&&(b.broadcast.shares=n.shares),b.stickersMultiplier=n.stickersMultiplier,b.dynamicPricedGoodies=n.dynamicPricedGoodies,b.currentSession&&b.currentSession.dynamicPriceGroup)for(var c in b.dynamicPricedGoodies)n.dynamicPricedGoodiesGroups[c]&&n.dynamicPricedGoodiesGroups[c][b.currentSession.dynamicPriceGroup]&&(b.dynamicPricedGoodies[c]=n.dynamicPricedGoodiesGroups[c][b.currentSession.dynamicPriceGroup]);n.length&&0===b.broadcast.length&&(b.broadcast.length=n.length),Math.abs(n.length-b.broadcast.length)>10&&(b.broadcast.length=n.length),m.chatInputPlaceholder&&m.chatInputPlaceholder()}if("onBroadcastDisconnect"===e&&b.broadcast.userId==b.currentSession.userId&&n&&b.invokeSwfMethod("startBroadcast",n.media),("onBroadcastEndHost"===e||"onBroadcastEnd"===e||"onBroadcastCancel"===e)&&n)return b.dimmed=!1,s.users&&s.filterTrending(b.broadcast.userId),b.resetBroadcast(!1,!1,!0),b.loadChannel={isBroadcasting:!1},n.eob&&"PREV"!==b.loadingBroadcasterState&&(b.eob||b.settingUpBroadcast||(b.eob=n.eob,b.eob.duration=u("date")(1e3*b.broadcast.length,"mm:ss"),b.eob.userId=b.broadcast.userId,b.broadcast.length>=3600&&(b.eob.duration=Math.floor(b.broadcast.length/3600)+":"+b.eob.duration),b.eob.gifts.length>0&&(b.eob.giftsTotal=JSON.parse(b.eob.gifts).length),b.eob.endLevel>0?b.eob.progress=angular.copy((Math.floor(100*b.eob.endLevel)/100).toFixed(2)):b.eob.progress=angular.copy((Math.floor(100*b.eob.startLevel)/100).toFixed(2)),b.eob.progress=(b.eob.progress+"").split(".")[1],b.eob.nextLevel=b.eob.endLevel?Math.floor(angular.copy(b.eob.endLevel))+1:Math.floor(angular.copy(b.eob.startLevel))+1,b.eob.startLevel=Number(b.eob.startLevel.toFixed(2)),b.eob.endLevel=Number(b.eob.endLevel.toFixed(2))-b.eob.startLevel,b.eob.numMomentsCreated=Number(b.eob.numMomentsCreated),b.eob.progress="0"===b.eob.progress[0]?b.eob.progress[1]:b.eob.progress,b.broadcast.userId==b.currentSession.userId&&p.notifySubscribers("user:update",{progress:Number(b.eob.progress),level:b.eob.nextLevel-1}),g.go("main.channel.detail.endOfBroadcast"))),b.invokeSwfMethod("endBroadcast"),b.isBroadcasting=!1,!1;if("onChat"===e&&n&&null!==n.comments){var i=[];b.broadcast.comments||(b.broadcast.comments=[]);for(var d=0;d<n.comments.length;d++){if(n.comments[d].loc&&r.UILocale!==n.comments[d].loc&&"ww"!==r.UILocale)return!1;var v=!1;if(b.currentSession&&n.comments[d].userId==Number(b.currentSession.userId))for(var y=0;y<b.broadcast.comments.length;y++)for(var w=0;w<b.broadcast.comments[y].sub.length;w++)1==b.broadcast.comments[y].own&&b.broadcast.comments[y].sub[w].comment==n.comments[d].comment&&(v=!0,b.broadcast.comments[y].sub[w].sent=!0);if(!v)if(n.comments[d].comment=o.stripHTML(n.comments[d].comment),n.comments[d]=F(n.comments[d]),n.comments[d].hashedComment=o.replaceHash(o.convertEmoji(o.linkify(n.comments[d].comment))),n.comments[d].userLevelFloor=Math.floor(n.comments[d].userLevel),n.comments[d].giftId=!1,n.comments[d].isBroadcaster=b.broadcast.userId==n.comments[d].userId?!0:!1,n.comments[d].sf&&(n.comments[d].sf=r.settings.SelfieBaseUrl+n.comments[d].sf),b.broadcast.comments.length>0&&0==b.broadcast.comments[b.broadcast.comments.length-1].giftId&&b.broadcast.comments[b.broadcast.comments.length-1].userId==n.comments[d].userId)b.broadcast.comments[b.broadcast.comments.length-1].sub.push(n.comments[d]);else if(d>0&&n.comments[d].userId==n.comments[d-1].giftId==0&&n.comments[d].userId==n.comments[d-1].userId){var S=d-1;null!=n.comments[d-1].mainIndex?(S=n.comments[d-1].mainIndex,n.comments[d-1].mainIndex=S):n.comments[d].mainIndex=d-1,n.comments[S].sub.push(n.comments[d]),"Chat"!=b.activeChatTab&&b.unreadMessages++}else n.comments[d].sub=[],n.comments[d].sub.push(n.comments[d]),i.push(n.comments[d]),B(n.comments[d]),"Chat"!=b.activeChatTab&&b.unreadMessages++}b.broadcast.comments=b.broadcast.comments.concat(i)}if("onFanMailRequest"===e&&n){n.isShowing=!0,b.fanMailRequestQueue||(b.fanMailRequestQueue=[]);var _=!1;for(var C in b.fanMailRequestQueue){_=b.fanMailRequestQueue[C];break}_?(b.fanMailRequestQueue[0]=_,b.fanMailRequestQueue[999999999-(1e4*n.value-n.goodieTransactionId)]=n):b.fanMailRequestQueue[0]=n}if("onGift"===e&&n){for(var T=[],k=0;k<n.gifts.length;k++)!n.gifts[k]||n.gifts[k].userId===Number(b.currentSession.userId)&&2!=n.gifts[k].mode||(n.gifts[k].userLevelFloor=Math.floor(n.gifts[k].userLevel),n.gifts[k].sf&&(n.gifts[k].sf=r.settings.SelfieBaseUrl+n.gifts[k].sf,n.gifts[k].sfb=r.settings.SelfieBaseUrl+n.gifts[k].sfb),3==n.gifts[k].mode&&b.currentSession.userId!=b.broadcast.userId?G(n.gifts[k]):(n.gifts[k]=F(n.gifts[k]),n.gifts[k].sub=[n.gifts[k]],B(n.gifts[k]),T.push(n.gifts[k])));b.broadcast.comments=b.broadcast.comments.concat(T)}"onSystemMessage"!==e&&"onFanMailReject"!==e||"onBan"===e||"onSuspend"===e||!n||("onFanMailReject"===e&&(n.web=n.copy,n.webTime=10,n.vault&&n.vault.webBars&&(b.barsRefund=n.vault.webBars)),n.web&&(b.systemMessagesQueue.push(n),h.onSystemMessage&&h.onSystemMessage())),"onTopFanChange"===e&&n&&(R(n.tfl),b.broadcast.tfl=U(n.tfl)),"onP2PFanJoinedBroadcast"===e&&n&&L(n)};var R=function(e){if(b.isTopFan=!1,b.currentSession&&b.currentSession.userId)for(var t=0;t<e.length;t++)e[t].uId==b.currentSession.userId&&(b.isTopFan=!0)},U=function(e){for(var t=0;t<e.length;t++)e[t].b=o.squashedNumber(e[t].b,9);return e};return b.currentLowLevel=0,b.lowLevel=function(e){var t=128;5==e?t=268435456:10==e&&(t=2147483648);var n={actionId:t,userId:b.currentSession.userId,onUserId:b.broadcast.userId};e>=5&&("KarlTheodor877"==b.currentSession.profile||"Drache_Offiziell"==b.currentSession.profile)&&setTimeout(function(){var e={userId:b.currentSession.userId,channelId:b.currentSession.userId};e.deactivation=1,o.store("lastNetwork")&&window.session.authenticate[o.store("lastNetwork")](!0).then(function(t){if(t){t.locale=r.UILocale,t.channelId=b.currentSession.userId||t.channelId,t.inviteString=b.currentSession.inviteString||b.currentSession.channelId,t.srcId=b.currentSession.srcId||0,t.tmsid=window.YouNow.Bootstrap.tmId||"",t.userId=b.currentSession.userId;var n=angular.extend({},e,t);o.post("channel/updateSettings",n).success(function(e){})}})},6e4);var a={url:"php/api/doAdminAction",method:"post",data:n};b.currentLowLevel=e,upload(a).then(function(e){handleAdminActionResponse(e)})},b.newBroadcaster=function(e,t){if(b.currentLowLevel=0,null!=e.user){f.console(["SWF","BROADCAST"],"New Broadcaster "+e.broadcastId),void 0===e.disableSelfie&&(e.disableSelfie="1"),b.broadcast=e,"onBroadcastWait"===e.state||b.settingUpBroadcast||b.invokeSwfMethod("changeChannel",e),"onBroadcastWait"===e.state&&(b.broadcast.state="onBroadcastPlay"),b.currentSession&&e.user.userId===b.currentSession.userId?a.gaEvent("Go Live","Broadcast Start",r.UILocale,(new Date).getTime()-w.goLive):(b.loadingBroadcasterState="WAITING",b.playState="BUFFERING"),b.broadcast.viewers=o.squashedNumber(b.broadcast.viewers,4),b.broadcast.likes=o.squashedNumber(b.broadcast.likes,5),b.flashError=!1,b.broadcast.tfl=U(b.broadcast.tfl),R(b.broadcast.tfl),b.audienceLists={},b.giftOverlayQueue=[],b.systemMessagesQueue=[],b.fanMailQueue=[],b.audienceLists.prevLoadedPage=0,b.settingUpBroadcast=!1,b.broadcast.shareCount={},b.segments=[],b.thumbs=[],b.broadcast.chatters=null,$=null,b.broadcast.chatters=[],$=[];for(var n=0;n<b.broadcast.comments.length;n++){if(b.broadcast.comments[n].comment=o.stripHTML(b.broadcast.comments[n].comment),b.broadcast.comments[n]=F(b.broadcast.comments[n]),b.broadcast.comments[n].userLevelFloor=Math.floor(b.broadcast.comments[n].userLevel),b.broadcast.comments[n].giftId=!1,b.broadcast.comments[n].sf&&-1===b.broadcast.comments[n].sf.indexOf(r.settings.SelfieBaseUrl)&&(b.broadcast.comments[n].sf=r.settings.SelfieBaseUrl+b.broadcast.comments[n].sf,b.broadcast.comments[n].sfb=r.settings.SelfieBaseUrl+b.broadcast.comments[n].sfb),n>0&&b.broadcast.comments[n-1].userId==b.broadcast.comments[n].userId){var i=n-1;null!=b.broadcast.comments[n-1].mainIndex?(i=b.broadcast.comments[n-1].mainIndex,b.broadcast.comments[n].mainIndex=i):b.broadcast.comments[n].mainIndex=n-1;var s=JSON.parse(JSON.stringify(b.broadcast.comments[n]));s.hashedComment=o.replaceHash(o.convertEmoji(o.linkify(s.comment))),null==b.broadcast.comments[i].sub&&(b.broadcast.comments[i].sub=[]),b.broadcast.comments[i].sub.push(s),b.broadcast.comments[n].toRemove=!0}else{var s=JSON.parse(JSON.stringify(b.broadcast.comments[n]));s.hashedComment=o.replaceHash(o.convertEmoji(o.linkify(s.comment))),b.broadcast.comments[n].sub=[s]}B(b.broadcast.comments[n])}for(var n=b.broadcast.comments.length-1;n>=0;n--)b.broadcast.comments[n].toRemove&&b.broadcast.comments.splice(n,1);L(D),t?(b.goLive(),b.invokeSwfMethod("goLive")):p.notifySubscribers("swf:reset")}},b.systemMessagesQueue=[],b.notifyLogin=function(e){b.broadcast&&b.broadcast.tfl&&R(b.broadcast.tfl)},b.notifyLogout=function(){b.loggedIn=!1,b.currentSession=void 0,b.invokeSwfMethod("notifyLogout"),p.notifySubscribers("swf:reset")},b.sendKeepSession=function(e){b.currentSession=e},b.goLive=function(){b.currentLowLevel=0,w.goLive=(new Date).getTime(),a.gaEvent("Go Live","Broadcast Init",r.UILocale),b.resetBroadcast(!0),p.notifySubscribers("swf:reset"),b.bootingFlash=!1,-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&i.alert('Please Note: Safari is not currently fully compatible with YouNow broadcasting. </br> We highly recommend you broadcast from <a href="https://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>.')},b.getSnapshot=function(){b.invokeSwfMethod("getSnapshot",!1),b.activeChatTab="Snapshot";var e=o.convertBitwise(b.broadcast.broadcastShared,6);return"object"!=typeof b.broadcast.shared&&(b.broadcast.shared={}),b.broadcast.shared={younow:b.broadcast.shared.younow?b.broadcast.shared.younow:e[0],
twitter:b.broadcast.shared.twitter?b.broadcast.shared.twitter:e[1],facebook:b.broadcast.shared.facebook?b.broadcast.shared.facebook:e[2],instagram:b.broadcast.shared.instagram?b.broadcast.shared.instagram:e[3],tumblr:b.broadcast.shared.tumblr?b.broadcast.shared.tumblr:e[4],other:b.broadcast.shared.other?b.broadcast.shared.other:e[5]},b.snapshotLinks({broadcast:b.broadcast})},b.shareMoment=function(e){b.activeChatTab="MomentShare",b.activeChatParams.momentId=e},b.momentCapture=function(){if("Moment"===b.activeChatTab)return l(function(){b.activeChatTab="Empty",l(function(){b.moment=null,b.momentCapture()})}),!1;b.moment||(b.moment={}),b.moment.start=0,b.moment.end=100,b.moment.minLength=2,b.moment.defaultLength=15,b.moment.length=b.moment.defaultLength,b.moment.init=b.broadcast.length,v.capture({event:"MOMENT_CAPTURE",extradata:"NO_SCRUB",points:"15"},v.captureGroups.trackevents);var e,t={};if(b.segments&&b.segments.length){var n=(new Date).getTime(),a=n-1e3*b.moment.defaultLength,i=b.segments.length;t.endSegment=b.segments[0].id,t.endSegmentOffset=(n-b.segments[0].start)/1e3;for(var r=0;i>r;r++)if(t.startSegmentOffset=(a-b.segments[r].start)/1e3,t.startSegmentOffset>0){t.startSegment=b.segments[r].id;break}t.startSegment||(t.startSegment=b.segments[i-1].id,t.startSegmentOffset=0)}else t={startSegment:0,startSegmentOffset:0,endSegment:0,endSegmentOffset:0},b.currentSession&&b.currentSession.isBroadcasting||console.log("No segments passed!");b.moment.initial=t,e=o.generateDynamicApi("BROADCAST_REWIND")+"/channelId="+b.broadcast.userId+"/userId="+b.currentSession.userId+"/startSegment="+t.startSegment+"/startSegmentOffset="+t.startSegmentOffset+"/endSegment="+t.endSegment+"/endSegmentOffset="+t.endSegmentOffset,b.moment.options&&b.moment.options.playerEl||(b.moment.options={url:e,player:{autoplay:!0,loop:!1},onLoadedMetadata:function(e){b.moment.length=e.duration()},onTimeupdate:function(e){if(b.moment&&(!e.paused()||e.ended())){var t=e.currentTime(),n=angular.element(document.getElementById("moment-progress")),a=b.moment.length-b.moment.length/100*(100-b.moment.start),i=b.moment.length-b.moment.length/100*(100-b.moment.end);t>=i&&t>0&&(e.currentTime(a),t=a,n.addClass("quick-return"),l(function(){n.removeClass("quick-return"),e.paused()&&e.play()},100));var r=t/b.moment.length*100;n.css("left",r+"%")}}}),b.moment.previews=b.thumbs&&b.thumbs.length?b.thumbs.slice(0).reverse():[],b.moment.thumbs=[];for(var s=6,c=0;s>c;c++){var u=Math.round((b.moment.previews.length-1)/(s-1)*c);b.moment.thumbs[c]=b.moment.previews[u]}b.activeChatTab="Moment"},b.savePreview=function(e){e?(b.thumbs&&b.momentBroadcastId==b.broadcast.broadcastId||(b.thumbs=[]),b.thumbs.unshift("data:image/jpeg;base64,"+e),b.thumbs.length>15&&b.thumbs.pop(),b.momentBroadcastId=b.broadcast.broadcastId):(b.flashError===!1&&(v.capture({event:"ERANS_FLASH_DIED"},v.captureGroups.trackevents),b.flashError=!0),console.log("empty snapshot passed"))},b.setVolume=function(e,t){b.volume=e,b.invokeSwfMethod("setVolume",b.volume),o.store("younowVol",b.volume)},b.toggleMute=function(){b.setVolume(0===b.volume?100:0,!0),b.setMiniPlayerVolume()},b.setMiniPlayerVolume=function(){p.notifySubscribers("miniplayer:mute",{})},b.setGain=function(e){b.gain=e,b.invokeSwfMethod("setGain",b.gain)},b.Comment=function(e,t,n,a,i,r,o,s,l,c,u){this.comment=e,this.name=t,this.role=i,this.userLevelFloor=Math.floor(a),this.userLevel=a,this.userId=n,this.giftId=r,this.subscriptionType=s,this.quantity=o,this.isBroadcaster=b.broadcast.userId==n?!0:!1,this.p2pComment=l,this.sf=c,this.sfb=u},b.postChatComment=function(e,t,n){return o.post("BROADCAST_CHAT",{userId:t,channelId:n,comment:e})},b.postGift=function(e,t,n,a,i,r){var s={userId:e,channelId:t,giftId:n,quantity:a};return void 0!==i&&void 0!==r&&(s.Filedata=i,s.targetNetwork=r),o.post("BROADCAST_GIFT",s)},b.getAudience=function(e,t,n){var i,a=void 0===b.currentSession?0:b.currentSession.userId,r=!0;b.broadcast.userId===a?(i={broadcaster:1,channelId:b.broadcast.userId,numOfRecords:t,start:e,userId:a},r=!1):i={channelId:b.broadcast.userId,numOfRecords:t,start:e},b.audienceLists.prevLoadedPage=e;var s=r?"BROADCAST_AUDIENCE_CDN":"BROADCAST_AUDIENCE";o.get(s,i).then(function(t){if(0===t.data.errorCode){b.audienceLists.pages||(b.audienceLists.pages=[],b.audienceLists.currentDate=new Date,b.audienceLists.currentPage=0);for(var i=0;i<t.data.audience.length;i++)t.data.audience[i].subscriptionDate=t.data.audience[i].subscriptionDate.split("-"),t.data.audience[i].subscriptionDate.length>1&&(t.data.audience[i].subscriptionDateUNIX=new Date(t.data.audience[i].subscriptionDate[0],t.data.audience[i].subscriptionDate[1]-1,t.data.audience[i].subscriptionDate[2]).getTime());if(b.broadcast.userId===a)for(var r=0;r<t.data.audience.length;r++){t.data.audience[r].fanDate=t.data.audience[r].fanDate.split("-"),t.data.audience[r].fanDateUNIX=new Date(t.data.audience[r].fanDate[0],t.data.audience[r].fanDate[1]-1,t.data.audience[r].fanDate[2]).getTime();var o=t.data.audience[r].birthday.split("-");t.data.audience[r].birthdayJSO=new Date(b.audienceLists.currentDate.getFullYear(),o[1]-1,o[2]),t.data.audience[r].daysUntilBirthday=Math.ceil(Math.abs(b.audienceLists.currentDate.getTime()-t.data.audience[r].birthdayJSO.getTime())/864e5),t.data.audience[r].birthdayJSO.getMonth()===b.audienceLists.currentDate.getMonth()?(1===t.data.audience[r].daysUntilBirthday&&(t.data.audience[r].birthdayCopy="Birthday today!"),t.data.audience[r].daysUntilBirthday>1&&t.data.audience[r].daysUntilBirthday<8&&(t.data.audience[r].birthdayCopy="Birthday this week!"),t.data.audience[r].daysUntilBirthday>=8&&t.data.audience[r].daysUntilBirthday<31&&(t.data.audience[r].birthdayCopy="Birthday this month!")):t.data.audience[r].daysUntilBirthday=0}0===b.audienceLists.pages.length&&void 0===b.audienceLists.timer?(b.audienceLists.pages.push(t.data),V(b.audienceLists.nextRefresh),b.audienceLists.currentPage=0):n===!0?(b.audienceLists.pages[e]=t.data,b.audienceLists.timer=0):(t.data.scrollRefreshCooldown=0,b.audienceLists.pages.push(t.data)),b.audienceLists.hasNext=t.data.hasNext,b.audienceLists.nextRefresh=t.data.nextRefresh||30}})},c(function(){!b.fanMailTimer&&b.fanMailQueue&&(1===b.fanMailQueue.length?b.fanMailDisplay(b.giftObjects.FANMAIL.maxVis):b.fanMailQueue.length>1&&b.fanMailDisplay(b.giftObjects.FANMAIL.minVis))},1e3),b.resetBroadcast=function(e,t,n){return b.fanMailRequestQueue=[],b.systemMessagesQueue=[],b.giftOverlayQueue=[],b.fanMailQueue=[],b.activeChatTab="Chat",b.settingUpBroadcast=e,b.loadingBroadcasterState=!1,b.snapshot=void 0,n||void 0===b.eob||(b.eob.visible=!1),b.broadcast&&t?(b.oldTfl=b.broadcast.tfl,b.oldTfl=[],!1):void(b.broadcast&&(b.broadcast.tfl=[],b.broadcast.comments=[],b.broadcast.shares=0,b.broadcast.likes=0,b.broadcast.viewers=0))},b.fanMailDisplay=function(e){b.fanMailTimer=l(function(){b.fanMailQueue.length>0&&(b.fanMailQueue[0].isShowing=!1)},e-1e3).then(function(e){l(function(){b.fanMailTimer=!1,b.fanMailQueue.splice(0,1)},1e3)})},b.resetBroadcast=function(e,t,n){return b.fanMailRequestQueue=[],b.systemMessagesQueue=[],b.giftOverlayQueue=[],b.fanMailQueue=[],b.activeChatTab="Chat",b.settingUpBroadcast=e,b.loadingBroadcasterState=!1,b.snapshot=void 0,b.moment=void 0,n||void 0===b.eob||(b.eob.visible=!1),b.broadcast&&t?(b.oldTfl=b.broadcast.tfl,b.oldTfl=[],!1):void(b.broadcast&&(b.broadcast.tfl=[],b.broadcast.comments=[],b.broadcast.shares=0,b.broadcast.likes=0,b.broadcast.viewers=0))},b.loadNextChannel=function(e){b.loadingBroadcasterState="PREV",f.console(["SWF","BROADCAST"],"load next broadcast");var t=r.settings.BroadcastEndQueueDistribution;if("number"==typeof t&&(t=[t]),b.queue&&b.queue.length>0)for(var n=0;n<b.queue.length;n++)b.queue[n].broadcastId==e.broadcastId&&b.queue.splice(n,1);if(!b.queue||b.queue&&0===b.queue.length)return P(),!1;if(b.broadcast.contestTag)return y.loadChannel({channelId:b.queue[0].userId}),!1;if(E=Math.floor(99*Math.random()+1),t.length>0)for(var a=0;a<t.length;a++)E>=Number(t[a])&&N===!1&&(N=a),a===t.length&&N===!1&&(N=a);else N=0;void 0===b.queue[N]&&(N=0),b.queue[N]&&b.queue[N].userId?o.get("BROADCAST_INFO",{channelId:b.queue[N].userId,curId:0|b.broadcast.userId}).then(function(e){e.data=b.channelFormat(e.data),"onBroadcastPlay"===e.data.state?(y.loadChannel({channelId:b.queue[N].userId}),N=!1):(b.loadNextChannel(e.data),N=!1)}):P()},b.getShareData=function(e,t,n,a){var i=d.defer(),r=t&&!n?b.currentSession:b.broadcast.user,s={entityType:n?"s":"b",entityId:t?t:b.broadcast.broadcastId,entityUserId:r.userId,userId:b.currentSession?b.currentSession.userId:0,feature:n?"SNAPSHOT":"PROMOTE",source:e.toUpperCase()};s.profileUrlString=t?b.currentSession.profile:b.broadcast.profile,s.inviteStr=b.broadcast.userId;var l=a?102:n?105:103;return s.srcId="FACEBOOK"==s.source?l+"2":l+"1",s.url=o.buildShareUrl(s),b.currentSession&&b.currentSession.userId===s.entityUserId&&(s.broadcaster=1),("FACEBOOK"==s.source||"TWITTER"==s.source)&&(s.name="TWITTER"==s.source&&r.twitterHandle?"@"+r.twitterHandle:b.broadcast.user.firstName,s.copy=o.buildShareCopy(s)),i.resolve(s),i.promise},b.snapshotLinks=function(e){var t=d.defer();return e.broadcast?(o.get("YOUNOW_REFERRAL_CODE",{userId:b.currentSession.userId,entityId:e.broadcast.broadcastId,entityType:"b",entityUserId:e.broadcast.userId,source:"FACEBOOK,TWITTER,COPIEDURL",feature:e.guesting?"GUEST":"SNAPSHOT"}).then(function(e){b.snapshot||(b.snapshot={}),e.data.errorCode?(console.error("younow/referralCode failed:",e),t.reject(e.data)):(b.snapshot.links=e.data,t.resolve(e.data))}),t.promise):(console.error("specify broadcast for younow/referralCode"),!1)},b.storeFriendsViewing=function(e){e&&(D?D=e:(D=e,L(D)))},b}]),angular.module("younow.services.web-rtc",[]).factory("webRtc",["$rootScope","swf","config","$q","Api","$modal","$http","$timeout","trpx","$interval","selfies","$filter",function(e,t,n,a,i,r,o,s,l,c,u,d){function N(){var e=window.webkitMediaStream||window.MediaStream;return void 0!==e?!!e.prototype.addTrack&&!!e.prototype.removeTrack:!1}function O(e,t){f.webrtcStream&&f.webrtcStream.active&&p.destroy(f.webrtcStream,void 0,"settingup");var a=window.URL||window.webkitURL;if(p.settings.sources.audioContext||(p.settings.sources.audioContext=window.AudioContext?new window.AudioContext:new window.webkitAudioContext),h.src=a?a.createObjectURL(e):e,p.shadowVideoSrc=a?a.createObjectURL(e):e,s(function(){h.play()}),h.muted="true",p.settings.sources.video=e.getVideoTracks()[0],p.settings.sources.audio=e.getAudioTracks()[0],N()&&"Firefox"!=i.browser.name){p.settings.sources.microphone=p.settings.sources.audioContext.createMediaStreamSource(e),p.settings.sources.gainNode=p.settings.sources.audioContext.createGain();var l=p.settings.sources.audioContext.createMediaStreamDestination(),c=l.stream;p.settings.sources.microphone.connect(p.settings.sources.gainNode),p.settings.sources.gainNode.connect(l);var u=c.getAudioTracks()[0],d=e.getAudioTracks()[0];p.settings.sources.rawMicTrack=d,u.label=d.label,e.addTrack(u),e.removeTrack(d)}n.bootstrap.supportsCanvasStream&&(f.canvasStream=p.captureFromCanvas(m?"guestCanvas":"bcCanvas",e)),f.webrtcStream=e,t&&t.resolve(e)}function P(e){p.setStatus("Received remote stream");var t=m?"bcVideo":"guestVideo",n=document.getElementById(t);n.src=window.URL.createObjectURL(e.stream),n.play(),K("WEBRTC_REMOTE_CONN","ADDED")}function M(e){var t=document.getElementById("guestVideo");t.src="",K("WEBRTC_REMOTE_CONN","REMOVED")}function j(e){p.pc.setLocalDescription(e,$,D),K("WEBRTC_OFFER","SUCCESS")}function $(){K("WEBRTC_LOCAL","SET")}function D(){p.setStatus("Local description not set!"),K("WEBRTC_LOCAL","NOTSET")}function R(){K("WEBRTC_ICE_STATE",p.pc.iceConnectionState.toUpperCase())}function U(e){K("WEBRTC_OFFER","FAIL")}function V(){this.PeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,this.SessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,this.RTCIceCandidate=window.mozRTCIceCandidate||window.webkitRTCIceCandidate||window.RTCIceCandidate,this.PeerConnectionConfig={iceServers:[{url:"stun:stun.l.google.com:19302"}]},this.location=window.location,this.streamReady=!1,this.webrtcStream=void 0,this.videoWidth=640,this.videoHeight=480}function H(e,t){var n=e.createLinearGradient(-Math.abs(t.height),t.height,104,104);return n.addColorStop(0,"black"),n.addColorStop(1,"transparent"),e.fillStyle=n,e.fillRect(0,0,t.width,t.height),e.drawImage(E,15,t.height-85,104,70),e}function W(e,t){var n=t?e:e/5*8;return 1e3>n?n+" bps":1e6>n?(n/1e3).toFixed(0)+"kbps":1e9>n?(n/1e6).toFixed(1)+"mbps":n>=1e9?(n/1e9).toFixed(2)+"gbps":void console.warn("Could not convert bits")}function q(e,t){var n=t?e:e/5*8;return(n/1e3).toFixed(2)}function K(e,n){t.currentSession&&1==t.currentSession.partner&&(x.analytics.event=e,x.analytics.eventlabel=n,x.analytics.isguest=m?1:0,l.capture(angular.copy(x.analytics),l.captureGroups.webrtc))}function z(e){if(e){var t=e.getTracks();if(t&&t.length>0)for(var n=0;n<t.length;n++)"ended"!==t[n].readyState&&t[n].stop()}else console.warn("No stream was provided")}function Y(e,t){var n=b<(t.mozPaintedFrames||t.webkitDecodedFrameCount)?!0:!1,a=void 0!==t.mozHasAudio?t.mozHasAudio:"live"===p.settings.sources.rawMicTrack.readyState;return b=t.mozPaintedFrames||t.webkitDecodedFrameCount,"0.00"===e.outgoingabr&&"0.00"===e.outgoingvbr?(k.type=void 0,!0):"0.00"!==e.outgoingabr&&a?"0.00"!==e.outgoingvbr&&n?(k.type=void 0,!1):(k.type="video","video"):(k.type="audio","audio")}function Q(e){k.inProgress||p.midstreamReconnect(t.broadcast.userId,k.type)}function J(e){i.showTopNotification('<img class="alert-image" src="'+n.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/anxious-bot.gif">'+d("translate")("reconnect_no_internet"),"danger",!0)}var f,h,m,y,w,S,_,C,p={},v={video:{mandatory:{maxWidth:640,maxHeight:480,maxFrameRate:"15"},optional:[]}},b=0,T=!1,k={attempts:{video:0,audio:0},currentSourceIndex:{audio:0,video:0},inProgress:0,inProgressPrompted:!1},x={forNerds:{bps:0},analytics:{}};n.params.audioStudio&&"1"==n.params.audioStudio?v.audio={optional:[{echoCancellation:!1}]}:v.audio={mandatory:{googEchoCancellation:!0,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},optional:[]};var E=new window.Image;return E.crossOrigin="anonymous",E.src=n.settings.ServerCDNBaseUrl+"/angularjsapp/src/assets/images/logo/logo_now_watermark.svg",p.settings={mirroredCamera:i.store("mirrorCamera"),sources:{},state:"ready",streams:{},audioSupported:N()},p.initialize=function(t,n){var i=a.defer();return p.midstreamReconnectEnabled&&(window.removeEventListener("online",Q),window.removeEventListener("offline",J),window.addEventListener("online",Q),window.addEventListener("offline",J)),m=n,f=new V,p.pc=new f.PeerConnection(f.PeerConnectionConfig),t&&(p.pc.onicecandidate=t),p.pc.oniceconnectionstatechange=R,p.pc.onaddstream=P,p.pc.onremovestream=M,e.$evalAsync(function(){console.log("about to try and run video"),h=m?document.getElementById("guestVideo"):document.getElementById("bcVideo"),null==h&&p.setStatus("Local video element not found! (Maybe caused by flash-block plugin?)"),navigator.getUserMedia?navigator.getUserMedia(v,function(e){O(e),i.resolve(n)},function(e){p.setStatus("Something went wrong with getting user data. error: "+e),console.log(e),i.reject()}):(p.setStatus("Sorry, the browser you are using doesn't support getUserMedia"),i.reject())}),i.promise},p.setRemoteDescriptionSuccess=function(){console.log("setRemoteDescriptionSuccess")},p.setRemoteDescriptionFail=function(){console.log("setRemoteDescriptionFail")},p.getCurrentConfig=function(){return f},p.setupWebrtcStream=function(){n.bootstrap.supportsCanvasStream||p.pc.addStream(f.webrtcStream),"Chrome"===i.browser.name&&n.bootstrap.supportsCanvasStream&&p.pc.addStream(f.canvasStream),p.pc.createOffer(j,U),K("WEBRTC_OFFER","CREATE")},p.setStatus=function(e){},p.destroy=function(e,t,n){t&&t.stop&&(t.stop(),t.src="",p.shadowVideoSrc=""),p.settings.sources.rawMicTrack&&"preview"!=n&&p.settings.sources.rawMicTrack.stop(),!e&&f&&f.webrtcStream&&(e=f.webrtcStream,c.cancel(p.canvas2StreamInterval)),i.polls&&i.polls.getStats&&(c.cancel(i.polls.getStats),delete i.polls.getStats),e&&(z(e),p.pc&&"closed"!==p.pc.signalingState&&!n&&p.pc.close()),window.removeEventListener("online",Q),window.removeEventListener("offline",J)},p.changeCamera=function(e){var t=a.defer();return v.video.optional=[{sourceId:e.deviceId}],navigator.getUserMedia(v,function(e){O(e,t)},console.error),t.promise},p.changeMicrophone=function(e){var t=a.defer();return v.audio.optional=[{sourceId:e.deviceId}],navigator.getUserMedia(v,function(e){O(e,t)},console.error),t.promise},p.getMediaDevices=function(){var t,e=a.defer(),n=[],i=[],r=p.settings.sources.video,o=p.settings.sources.rawMicTrack||p.settings.sources.audio;return navigator.mediaDevices.enumerateDevices().then(function(a){for(t in a){var s=a[t];"videoinput"==s.kind&&(s.enabled=r.label===s.label?!0:!1,i.push(s)),"audioinput"==s.kind&&(s.enabled=o.label===s.label?!0:!1,n.push(s))}e.resolve({audio:n,video:i})}),e.promise},p.takeSnapshot=function(e,t,n){e||(e=h);var a,i,r=document.createElement("canvas"),o=r.getContext("2d");r.width=t||640,r.height=n||480,a=r.width*(e.videoHeight/e.videoWidth),e.videoHeight>r.height?(i=e.videoWidth*(r.height/e.videoHeight),a=r.height):(a=e.videoHeight*(r.width/e.videoWidth),i=r.width);var s=(r.height-a)/2,l=(r.width-i)/2;return o.drawImage(e,0,0,e.videoWidth,e.videoHeight,l,s,i,a),r.toDataURL("image/jpeg").replace("data:image/jpeg;base64,","")},p.takeGuestSnapshot=function(e,t,n){var r,i=document.createElement("canvas");i.width=640,i.height=480;var o=i.getContext("2d"),s=a.defer();return n?(r=new window.Image,r.crossOrigin="anonymous",r.src=n+"?"+(1e3*Math.random()).toFixed(0),r.onload=function(){o.drawImage(r,160,0,i.height,i.height),o.drawImage(e,160,0,320,i.height,0,0,320,i.height),H(o,i),s.resolve(i.toDataURL("image/jpeg").replace("data:image/jpeg;base64,",""))},s.promise):(o.drawImage(t,160,0,320,i.height,320,0,320,i.height),o.drawImage(e,160,0,320,i.height,0,0,320,i.height),H(o,i),s.resolve(i.toDataURL("image/jpeg").replace("data:image/jpeg;base64,","")),s.promise)},p.setGain=function(e){p.settings.sources.gainNode.gain.value=e/100},p.getGain=function(){return p.settings.sources.gainNode?100*p.settings.sources.gainNode.gain.value:0},p.loadPreview=function(t){var n=a.defer();return t=document.getElementById(t),e.$evalAsync(function(){navigator.getUserMedia?navigator.getUserMedia(v,function(e){var a=window.URL||window.webkitURL;t.src=a?a.createObjectURL(e):e,t.play(),t.muted="true",n.resolve(e)},function(e){r.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings."),p.setStatus("Something went wrong with getting user data. error: "+e),n.reject()}):(p.setStatus("Sorry, the browser you are using doesn't support getUserMedia"),n.reject())}),n.promise},p.getBasicPermissions=function(){var t=a.defer();return e.$evalAsync(function(){navigator.getUserMedia?navigator.getUserMedia(v,function(e){e.getVideoTracks().length>0?(t.resolve(e),p.destroy(e,void 0,"settingup")):(r.alert("We were unable to detect your camera. Please check your browser settings and try again."),t.reject())},function(e){r.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings."),p.setStatus("Something went wrong with getting user data. error: "+e),t.reject()}):(p.setStatus("Sorry, the browser you are using doesn't support getUserMedia"),t.reject())}),t.promise},p.ffMediaSetup=function(){navigator.getUserMedia(v,function(e){O(e)},console.error)},p.ffMuteStream=function(){return f&&f.webrtcStream?(f.webrtcStream.getAudioTracks()[0].enabled=!f.webrtcStream.getAudioTracks()[0].enabled,f.webrtcStream.getAudioTracks()[0].enabled):void 0},p.streamReadyCallback=function(e,t){e&&t&&(document.getElementById(e).oncanplaythrough=function(){t()})},p.supportsWebRtc=function(){var e=["Chrome","Firefox","Chromium"];return-1!==e.indexOf(i.browser.name)?!0:!1},p.checkIfCameraExists=function(e){e||(e=p.getCurrentConfig().webrtcStream);var t=e.getVideoTracks();return 0===t.length?!1:!0},p.getStats=function(){var r,o,e=a.defer();window.UAParser();return p.pc&&p.pc.getStats?p.pc.getStats(null).then(function(n){o=(new window.Date).getTime()-(C||0),(!C||o>6e3)&&(y=void 0,w=void 0,S=void 0,_=void 0),x.forNerds.bps=0,C=(new window.Date).getTime();for(r in n)-1!==i.browser.name.indexOf("Chrome")&&(-1!==r.indexOf("_send")&&n[r].googCodecName&&"VP8"===n[r].googCodecName&&(x.forNerds.framerate=n[r].googFrameRateSent,x.forNerds.vRTT=n[r].googRtt+" ms",x.forNerds.resolution=n[r].googFrameWidthSent+"x"+n[r].googFrameHeightSent,x.analytics.framewidthsent=n[r].googFrameWidthSent,x.analytics.frameheightsent=n[r].googFrameHeightSent,x.analytics.outgoingframerate=n[r].googFrameRateSent,x.analytics.rtt=n[r].googRtt,x.analytics.packetslost=n[r].packetsLost,x.analytics.packetssent=n[r].packetsSent,void 0===y?(y=n[r].bytesSent,x.forNerds.vbr="Loading..."):(x.forNerds.vbr=W(n[r].bytesSent-y),x.forNerds.bps+=(n[r].bytesSent-y)/5,x.analytics.outgoingvbr=q(n[r].bytesSent-y),y=n[r].bytesSent)),-1!==r.indexOf("_send")&&n[r].googCodecName&&"opus"===n[r].googCodecName&&(void 0===w?(w=n[r].bytesSent,x.forNerds.abr="Loading..."):(x.forNerds.abr=W(n[r].bytesSent-w),x.forNerds.bps+=(n[r].bytesSent-w)/5,x.analytics.outgoingabr=q(n[r].bytesSent-w),w=n[r].bytesSent),x.analytics.jitter=n[r].googJitterReceived),n[r].networkType&&(x.forNerds.network=n[r].networkType,x.analytics.connectiontype=n[r].networkType),T&&(-1!==r.indexOf("_recv")&&n[r].googCodecName&&"VP8"===n[r].googCodecName&&(void 0===S?S=n[r].bytesReceived:(x.analytics.incomingvbr=q(n[r].bytesReceived-S),S=n[r].bytesReceived)),-1!==r.indexOf("_recv")&&n[r].googCodecName&&"opus"===n[r].googCodecName&&(void 0===_?_=n[r].bytesReceived:(x.analytics.incomingabr=q(n[r].bytesReceived-_),_=n[r].bytesReceived)))),-1!==i.browser.name.indexOf("Firefox")&&("outbound_rtp_video_1"===r&&(x.forNerds.framerate=n[r].framerateMean.toFixed(0),x.forNerds.vbr=W(n[r].bitrateMean,!0),x.forNerds.bps+=n[r].bitrateMean/8,x.analytics.outgoingframerate=n[r].framerateMean.toFixed(0),x.analytics.packetssent=n[r].packetsSent||"",void 0===y?y=n[r].bytesSent:(x.analytics.outgoingvbr=q(n[r].bytesSent-y),y=n[r].bytesSent)),"outbound_rtcp_video_1"===r&&(x.forNerds.vRTT=n[r].mozRtt+" ms",x.analytics.rtt=n[r].mozRtt,x.analytics.packetslost=n[r].packetsLost),"outbound_rtp_audio_0"===r&&(void 0===w?(w=n[r].bytesSent,x.forNerds.abr="Loading..."):(x.forNerds.abr=W(n[r].bytesSent-w),x.forNerds.bps+=(n[r].bytesSent-w)/5,x.analytics.outgoingabr=q(n[r].bytesSent-w),w=n[r].bytesSent)),"outbound_rtcp_audio_0"===r&&(x.analytics.jitter=n[r].jitter),T&&("inbound_rtp_video_1"===r&&(x.analytics.incomingvbr=q(n[r].bitrateMean,!0),x.analytics.incomingframerate=n[r].framerateMean.toFixed(0)),(r="inbound_rtp_audio_0")&&(void 0===_?_=n[r].bytesReceived:(x.analytics.incomingabr=q(n[r].bytesReceived-_),_=n[r].bytesReceived))));var a=Y(x.analytics,h);p.midstreamReconnectEnabled&&a&&!m&&!k.inProgress&&(void 0!==x.analytics.outgoingabr||void 0!==x.analytics.outgoingvbr)&&t.broadcast.length>30&&(u.onPusherEvent("onBroadcastMcuDisconnect",{message:{}}),p.midstreamReconnect(t.broadcast.userId,k.type)),k.inProgressPrompted&&!a&&(k.inProgressPrompted=!1,i.showTopNotification(d("translate")("reconnnect_finished"),"success",!0),s(function(){i.closeTopNotification("sticky")},5e3)),e.resolve(x)}):(e.reject(),console.warn("No peer connection found, either start a peer connection or wait for the current one to finish setting up.")),e.promise},p.retrieveStats=function(){return x},p.onPusherEvent=function(e,t){var n=t&&t.message?t.message:null;if("onGuestBroadcasting"===e&&(T=!0),"onGuestEnd"===e&&(T=!1),"onBroadcastMcuDisconnect"===e&&n&&p.pc&&!k.inProgress){var a="private"===t.type?void 0:"private"===t.type;p.midstreamReconnect(t.channelId,a)}"onBroadcastPlayData"!==e||void 0===x.analytics.outgoingabr&&void 0===x.analytics.outgoingvbr||K("WEBRTC_HEARTBEAT",""),("onGuestEnd"===e||"onBroadcastEnd"===e)&&(x={forNerds:{bps:0},analytics:{}},k.attempts={video:0,audio:0},k.currentSourceIndex={audio:0,video:0},b=0)},p.captureFromCanvas=function(e,t){var n,a=document.getElementById(e),i=a.getContext("2d");return i.drawImage(h,0,0,h.videoWidth,h.videoHeight,0,0,i.canvas.width,i.canvas.height),n=a.captureStream(12),t.getTracks().forEach(function(e){"audio"===e.kind&&(p.pc.addTrack?p.pc.addTrack(e,t):n.addTrack(e))}),n.getTracks().forEach(function(e){"video"===e.kind&&(p.pc.addTrack?p.pc.addTrack(e,n):n.addTrack(e))}),p.canvas2StreamInterval&&c.cancel(p.canvas2StreamInterval),p.canvas2StreamInterval=c(function(){var e=document.getElementById(m?"guestVideo":"bcVideo"),t=document.getElementById(m?"guestCanvas":"bcCanvas"),n=t.getContext("2d");u.selfieReady?n.drawImage(e,164,0,289,t.height,0,0,t.width/2,444):n.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,n.canvas.width,n.canvas.height)},83),n},p.reconnect=function(e,t){var n={userId:e,sdpOffer:t.localDescription.sdp};return i.post("broadcast/reconnect",n)},p.midstreamReconnect=function(e,t){var a;t&&k.attempts[t]++,k.inProgress=!0,"Firefox"!==i.browser.name&&t||(a=t?d("translate")("reconnect_"+t):d("translate")("reconnect_basic"),i.showTopNotification('<img class="alert-image" src="'+n.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/anxious-bot.gif">'+a,"danger",!0)),k.inProgressPrompted=!0,s(function(){k.inProgress=!1,i.closeTopNotification("sticky")},6e4),p.destroy(),p.initialize(function(t){t.candidate?console.log("Sending Ice Candidate:\n"+JSON.stringify({id:"broadcaster",candidate:t.candidate})):(p.setStatus("End of candidates, sending sdp to server."),f.streamReady=!0,p.reconnect(e,p.pc).then(function(e){e.data.sdpAnswer&&p.pc.setRemoteDescription(new f.SessionDescription({sdp:e.data.sdpAnswer,type:"answer"}),p.setRemoteDescriptionSuccess,p.setRemoteDescriptionFail)}))}).then(function(){if("Firefox"!==i.browser.name&&t)if(k.attempts[t]>1){var e="video"===t?"changeCamera":"changeMicrophone";p.getMediaDevices().then(function(a){k.currentSourceIndex[t]<a[t].length-1?k.currentSourceIndex[t]++:k.currentSourceIndex[t]=0;var r=k.currentSourceIndex[t],o=d("translate")("reconnect_"+t+"_device",{value:a[t][r].label});i.showTopNotification('<img class="alert-image" src="'+n.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/anxious-bot.gif">'+o,"danger",!0),t&&a[t].length>1&&p[e](a[t][r]).then(function(){p.setupWebrtcStream()})})}else p.getMediaDevices().then(function(e){var a=k.currentSourceIndex[t],r=d("translate")("reconnect_"+t+"_device",{value:e[t][a].label});i.showTopNotification('<img class="alert-image" src="'+n.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/anxious-bot.gif">'+r,"danger",!0),p.setupWebrtcStream()});else p.setupWebrtcStream()})},window.destroyMediaSrc=function(e){var t="audio"===e?"getAudioTracks":"getVideoTracks",n=p.getCurrentConfig().webrtcStream[t]();p.getCurrentConfig().webrtcStream.removeTrack(n[0]),"ended"!==n[0].readyState&&n[0].stop()},p}]).directive("broadcastStream",["webRtc","swf","session","guestService",function(e,t,n,a){return{restrict:"A",link:function(i,r,o,s){!e.shadowVideoSrc||""!==r[0].src&&void 0!==r[0].src||(r[0].src=e.shadowVideoSrc),t.broadcast&&t.broadcast.userId!=n.user.userId&&(a.overlayStates.broadcaster="connecting",e.streamReadyCallback("bcVideo",function(){a.overlayStates.broadcaster="connected"}))}}}]),angular.module("younow.services.tracking-pixel",[]).factory("trackingPixel",["$interval","$state","$http","$timeout","config","Api","broadcasterService","session","swf","debug","$stateParams","eventbus","guestService","TrackingPixelCore",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){function b(){return"main.settings"!==t.current.name&&"home"!==t.current.name&&"about"!==t.current.name&&"policy"!==t.current.name&&"main.explore"!==t.current.name&&"lockout"!==t.current.name&&"/jobs"!==t.current.name&&"info"!==t.current.name&&"/partners"!==t.current.name&&"/partners/earnings"!==t.current.name}function y(){var e=w();r.isPageHidden()&&!m.pageWasHidden&&(m.pageWasHidden=!0),r.isPageHidden()&&m.capture(e),r.isPageHidden()||(m.pageWasHidden&&(m.pageWasHidden=!1),r.store("trpxTime",(new Date).getTime()),m.capture(e)),r.store("hideYounowLanding")||r.store("countSessionsEnable","true");var t=m.location||m.getUserLocation();("EXPLORE"!==t&&"TAG"!==t||o.exploreBroadcaster&&o.exploreBroadcaster.user)&&("BRDCST"!==t||o.broadcaster&&o.broadcaster.user)?m.trackArrival():(m.arrivalTrackingFirstAttempted&&m.trackArrival(),m.arrivalTrackingFirstAttempted=!0)}function w(){var e={};return e.extradata=m.getUserLocation(),"GUESTBRDCST"===e.extradata&&(1==l.broadcast.chatMode?e.field1="GUEST_SUB":e.field1="GUEST"),("LIVE"===e.extradata||"BRDCST"===e.extradata)&&(p.guest&&l.broadcast&&!l.broadcast.chatMode?e.field1="GUEST":!p.guest&&l.broadcast&&1==l.broadcast.chatMode?e.field1="SUB":p.guest&&l.broadcast&&1==l.broadcast.chatMode?e.field1="GUEST_SUB":e.field1="NORMAL"),("TAG"===e.extradata||"SEARCH"===e.extradata||"EXPLORE"===e.extradata)&&(p.guest&&o.exploreBroadcaster&&!o.exploreBroadcaster.chatMode?e.field1="GUEST":!p.guest&&o.exploreBroadcaster&&1==o.exploreBroadcaster.chatMode?e.field1="SUB":p.guest&&o.exploreBroadcaster&&1==o.exploreBroadcaster.chatMode?e.field1="GUEST_SUB":e.field1="NORMAL"),("GUESTBRDCST"===e.extradata||"LIVE"===e.extradata||"TAG"===e.extradata||"SEARCH"===e.extradata||"EXPLORE"===e.extradata||"BRDCST"===e.extradata)&&(e.field6=navigator.language||navigator.userLanguage||"",e.field7=i.settings.JS_VERSION),r.isPageHidden()?e.event="INACTIVE_PING":e.event="PING",e}function S(e,t){m.capture(t)}var h=new f.Base({config:i}),m=angular.extend(h,{});m._getLocalVar("paramsMap"),m._getLocalVar("paramTypes");return m.startPinging=function(){i.init.then(function(){a(function(){m.checkTrpxSession(),y()},1e3),r.poll(y,"pingPoll",i.settings.PingInterval)})},window.document.addEventListener("loadTime",function(e){var t={event:"APP_LOAD_WEB",broadcastscount:window.YouNow.loadingTime.younowConfig||0,unspentcoins:window.YouNow.loadingTime.younowUser||0,coins:window.YouNow.loadingTime.younowReady||0,points:Date.now()-window.YouNow.loadingTime.startTime,field1:m.getUserLocation(),field3:r.os.name.split(" ")[0],field4:r.browser.name.split(" ")[0]};window.swfobject&&window.swfobject.getFlashPlayerVersion()&&(t.field2=window.swfobject.getFlashPlayerVersion().major),m.capture(t)},!1),m.getUserLocation=function(){var e;return"main.settings"===t.current.name&&(e="SETTINGS"),"home"===t.current.name&&(e="HOME"),"about"===t.current.name&&(e="ABOUT"),"policy"===t.current.name&&(e="POLICY"),"main.explore"===t.current.name&&(e=t.params.tag&&t.params.tag.length>0?"TAG":t.params.q?"SEARCH":"EXPLORE"),"lockout"===t.current.name&&(e="LOCKOUT"),("jobs"===t.current.name||"infojobs"===t.current.name)&&(e="JOBS"),"info"===t.current.name&&(e="INFO"),"/partners/earnings"===t.current.name&&(e="PARTNERS_EARNINGS"),"/partners"===t.current.name&&(e="PARTNERS"),l.settingUpBroadcast&&b()&&(e="BRDCST_SETUP"),s.user&&s.isBroadcasting&&!l.settingUpBroadcast&&b()&&(e="LIVE"),l.broadcast&&(!s.user||s.user&&!s.isBroadcasting)&&!l.settingUpBroadcast&&b()&&(e=p.guest&&p.guest.userId==s.user.userId?"GUESTBRDCST":"BRDCST"),o.async&&b()&&(e=m.archiveActive?"ARCHIVE":"PROFILE"),e||"page_not_ready"},m.capture=function(e){if(window.isPrerender)return!1;var t=m.getUserLocation(),n="",a={host:i.settings.TrackingHost,session:r.store("trpxId"),platform:3,domain:r.store("trpx_device_id"),pixel:i.settings.TrackingPxl,sourceid:0,field5:i.settings.JS_VERSION,field6:i.UILanguage};"EXPLORE"!==t&&"TAG"!==t||!o.exploreBroadcaster||(a.broadcastid=o.exploreBroadcaster.broadcastId,a.doorid=o.exploreBroadcaster.user?o.exploreBroadcaster.user.userId:0,n=o.exploreBroadcaster.viewers||""),
o.broadcaster&&o.broadcaster.user&&o.broadcaster.broadcastId&&b()&&!l.settingUpBroadcast&&(a.broadcastid=o.broadcaster.broadcastId,a.doorid=o.broadcaster.user.userId,n=o.broadcaster.viewers||""),n&&(n.replace?a.coins=n.replace(",",""):a.coins=n.toString()),o.broadcaster&&o.broadcaster.userId&&"PROFILE"===t&&!e[6]&&(a.doorid=o.broadcaster.userId),s.user&&s.user.userId>0?(a.userid=s.user.userId,a.userlevel=s.user.level,a.broadcastscount=s.user.broadcastsCount,isNaN(Number(s.user.userCoins))||(a.unspentcoins=Math.round(Number(s.user.userCoins))),o.broadcaster&&o.broadcaster.userId&&(a.usertype=o.broadcaster.userId===s.user.userId?2:1)):a.userid=0,e=angular.extend(a,e),m.captureHelper(e),c.console(["TRPX",e.event],e)},m.bcViewtime=function(e,t){var n=o.getBc();if(o.viewtimeSeconds&&n&&n.broadcastId){var a={event:"VIEWTIME"};return a.points=o.viewtimeSeconds||0,a.broadcastid=n.broadcastId||0,a.doorid=n.user.userId||0,a.field5=n.profile,o.viewtimeSeconds=0,m.capture(a)}},o.viewtimeSeconds=0,o.viewtimeInterval=e(function(){o.viewtimeSeconds++},1e3),d.subscribe("broadcaster:beforeChange",m.bcViewtime,"trackingPixel"),d.subscribe("trackingPixel:capture",S,"trackingPixel"),m.trackArrival=function(){if(m.arrivalTracked)return!1;m.arrivalTracked=!0;var e=r.store("countSessionArrivals");r.store("countSessionArrivals",e+=1);var t={event:"ARRIVAL",points:r.store("countSessionsEnable")?r.store("countSessions")||0:0,coins:e,field1:m.getUserLocation()};u.srcId&&(!isNaN(u.srcId)&&u.srcId<1100?(t.sourceid=parseInt(u.srcId),u.srcId>300&&u.srcId<400&&(t.broadcastscount=3)):t.field5=u.srcId),m.trackArrivalHelper(t)},window.onfocus=function(){m.checkTrpxSession()},m}]),angular.module("younow.services.trpx",[]).factory("trpx",function(e,t,n,a,i){function s(e){var n,t={};for(n in e)t[e[n].pos]=e[n].value;return t}function g(){var e;return"main.settings"===i.current.name&&(e="SETTINGS"),"home"===i.current.name&&(e="HOME"),"about"===i.current.name&&(e="ABOUT"),"policy"===i.current.name&&(e="POLICY"),"main.explore"===i.current.name&&(e=i.params.tag&&i.params.tag.length>0?"TAG":i.params.q?"SEARCH":"EXPLORE"),"lockout"===i.current.name&&(e="LOCKOUT"),("jobs"===i.current.name||"infojobs"===i.current.name)&&(e="JOBS"),"info"===i.current.name&&(e="INFO"),"/partners/earnings"===i.current.name&&(e="PARTNERS_EARNINGS"),"/partners"===i.current.name&&console.log("partners"),"main.channel.detail"===i.current.name&&(e=o.broadcastid?"BRDCST":"PROFILE"),e||"UNAVAILABLE"}var r={captureGroups:{},trackingInfo:{}},o={};r.captureGroup=function(e,t){this.paramsMap=e,this.size=t},r.capture=function(n,i,r){var o=g();c("user_location",o),c("sessionid",e.store("trpxId")),c("deviceid",e.store("trpx_device_id")),c("sessioncount",e.store("countSessionsEnable")?e.store("countSessions")||0:0);var l;for(l in n)n[l]&&n[l].value||(n[l]={value:n[l]});n=angular.merge({},i.paramsMap,n);for(l in n)n[l].value&&("number"!=i.paramsMap[l].type||isNaN(n[l].value)||(n[l].value=parseInt(n[l].value)||0),typeof n[l].value!==i.paramsMap[l].type&&console.warn("Warning: "+l+" should have a type of "+i.paramsMap[l].type),"string"==typeof n[l].value&&(n[l].value=encodeURIComponent(n[l].value).replace(/%/g,"_")));if(a.console(["TRPXV2"],n),r){var u=document.createElement("img");return u.src=e.buildPixelTracking(s(n),i.size),u}return t.get(e.buildPixelTracking(s(n),i.size))};var l={},c=function(e,t){for(var n in l[e]){var a=l[e][n];r.trackingInfo[n][a].value=t}},u={};u.trackevents=[["host","string"],["event","string"],["dateday","string"],["userid","number","userid"],["session","string","sessionid"],["broadcastid","number","broadcastid"],["doorid","number","doorid"],["userlevel","number","level"],["broadcastscount","number"],["unspentcoins","number"],["usertype","number"],["extradata","string"],["coins","number"],["points","number","sessioncount"],["platform","number","platform"],["sourceid","number","sourceid"],["domain","string","deviceid"],["field1","string"],["field2","string"],["field3","string"],["field4","string"],["field5","string","jsversion"],["field6","string","language"],["field7","string"],["pixel","string","pixel"]],u.webrtc=[["timestamp","string"],["event","string"],["userid","string","userid"],["sessionid","string","sessionid"],["broadcastid","number","broadcastid"],["userlevel","number","level"],["deviceid","string","deviceid"],["os_device","string","os_device"],["osver_manufacturer","string","os_ver"],["browser_platform","string","browser_name"],["browserver_network","string","browser_ver"],["appversion","string","jsversion"],["incomingframerate","string"],["outgoingframerate","string"],["outgoingabr","string"],["outgoingvbr","string"],["incomingabr","string"],["incomingvbr","string"],["packetslost","string"],["packetssent","string"],["jitter","string"],["rtt","string"],["connectiontype","string"],["eventlabel","string"],["framewidthsent","string"],["frameheightsent","string"],["isguest","number"],["reserved1","string"],["reserved2","string"],["reserved3","string"],["pixel","string","pixel"]],u.searchevents=[["timestamp","string"],["event","string"],["app_location","string","user_location"],["userid","string","userid"],["platform","number","platform"],["deviceid","string","deviceid"],["locale","string","locale"],["language","string","language"],["query","string"],["click_field","string"],["click_index","string"],["result_set_size","number","result_set_size"],["pixel","string","pixel"]],u.buybars=[["host","string"],["event","string"],["userid","number","userid"],["sessionid","string","sessionid"],["broadcasterid","number","doorid"],["broadcastid","number","broadcastid"],["platform","number","platform"],["appversion","string","jsversion"],["sysversion","string","browser_ver"],["devicemodel","string","browser_name"],["productsku","string"],["productname","string"],["productprice","string"],["productamount","string"],["retrycount","number"],["errorcode","number"],["signature","string"],["pixel","string","pixel"]],u.playback=[["host","string"],["event","string"],["userid","number","userid"],["appversion","string","jsversion"],["deviceid","string","deviceid"],["device","string","browser_name"],["platform","number","platform"],["osversion","string","browser_ver"],["broadcastid","number","broadcastid"],["loadtime","number"],["countrycode","string","user_country"],["dns","string"],["connection","string"],["pixel","string","pixel"]];for(var d in u){var p=d;r.trackingInfo[p]={};for(var f in u[d]){var h=u[d][f][0],m=u[d][f][2];m&&(l[m]||(l[m]={}),l[m][p]=h),r.trackingInfo[p][h]={value:void 0,type:u[d][f][1],pos:f}}r.captureGroups[p]=new r.captureGroup(r.trackingInfo[p],u[p].length-1)}return c("platform",3),c("sourceid",0),c("sessionid",e.store("trpxId")),c("deviceid",e.store("trpx_device_id")),c("os_device",e.os.name),c("os_ver",e.os.version),c("browser_name",e.browser.name),c("browser_ver",e.browser.version),c("language",n.UILanguage),c("locale",n.UILocale),c("jsversion",n.settings.JS_VERSION),c("pixel",n.settings.TrackingPxl),c("result_set_size",0),c("sourceid",0),r.updateUser=function(e){c("level",e.level),c("userid",e.userId),c("user_country",e.country)},r.updateBroadcast=function(e){o.broadcastid=e.broadcastId,c("doorid",e.userId),c("broadcastid",e.broadcastId)},r.updateLanguage=function(e){c("language",n.UILanguage)},r.updateLocale=function(e){c("locale",e)},r}),angular.module("younow.services.debugger",[]).factory("debug",["config",function(e){function i(e){return e.sort().filter(function(e,t,n){return!t||e!=n[t-1]})}function r(e,t){var n=0;for(n;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}var t={},n=[],a=[];return e.params.debug&&(n=n.concat(e.params.debug.split(" "))),t.enabled=!1,t.console=function(e,a){t.enabled&&(r(n,e)||-1!==n.indexOf("all"))&&(console.trace(),console.log(e,a))},t.enableFor=function(e){t.enabled||(t.enabled=!0),n.concat(e)},-1!==e.host.indexOf("-")&&(n=n.concat(a)),e.params.debug&&(n=i(n),t.enabled=!0,t.console(n,"Init Debugger")),"false"==e.params.debug&&(t.enabled=!1),t}]),angular.module("younow.services.utils",[]).provider("Api",function(e){this.reRouteHandler=function(t,n){e.when(t,["$match","$stateParams","$injector","$state",function(e,t,a,i){a.get("config").init.then(function(){i.go(n)})}])},this.$get=["$window","$http","$document","$q","$sce","$timeout","$interval","$rootScope","config","$location","$filter","eventbus","ApiCore","$filter",function(e,t,n,a,i,r,o,s,l,c,u,d,p,u){function b(){return"undefined"!=typeof(document.hidden||document.msHidden||document.webkitHidden||document.mozHidden)}function y(e,t,n,a,i){this.type=e||"danger",this.message=h.trustedHTML(t),this.sticky=a||!1,this.id=n,this.group=a?"sticky":"normal",this.time=i||2700,this.active=!0}function w(e){var t;t=e.split(",")[0].indexOf("base64")>=0?window.atob(e.split(",")[1]):window.unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new window.Uint8Array(t.length),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new window.Blob([a],{type:n})}var f=new p.Base(l),h=angular.extend(f,{}),m=[6020,6023,6021,603,249,206,6013,6103,6032,6400];h.prepost=function(e){if(l.banningMsg&&"YOUNOW_LOGOUT"!==e){h.showTopNotification("<div>"+l.banningMsg.msgString+'</div><a class="btn btn-confirm" target="_blank" href="'+l.banningMsg.supportBtn.btnAct_web+'">'+l.banningMsg.supportBtn.btnTxt_web+"</a>","now",!0,void 0);var t=a.defer();return t.reject(),t.promise}"YOUNOW_LOGOUT"===e&&(l.banningMsg=void 0),h.addToStack(e,"lastApiStack")},h.algolia=function(e,n,a,i){a||(a=5),i||(i=0);var r="https://"+l.settings.PeopleSearchAppId+".algolia.io/1/indexes/"+l.settings.PeopleSearchIndex+"/query",o={params:"query="+encodeURIComponent(e)+"&hitsPerPage="+a+"&page="+i+"&attributesToHighlight=none"};return n&&(o.params+="&restrictSearchableAttributes="+n),t({method:"POST",headers:{"X-Algolia-Application-Id":l.settings.PeopleSearchAppId,"X-Algolia-API-Key":l.settings.PeopleSearchApiKey,"X-Algolia-TagFilters":l.settings.PeopleSearchSecurityTags},data:o,url:r})},h.inject=function(e,t){var i=a.defer(),r=n[0].createElement("script");return r.type="text/javascript",r.async=!0,r.id=t,r.src=e,document.head.appendChild(r),r.onreadystatechange=r.onload=function(){i.resolve()},i.promise},h.buildShareUrl=function(e){var t="https://"+l.host+"/";return e.profileUrlString?(t+=e.profileUrlString+"/",e.entityId?(t+=e.entityId+"/",e.inviteStr?(t+=e.inviteStr+"/",e.srcId?(t+=e.srcId+"/",e.entityType?t+=e.entityType+"/":t):t):t):t):t},h.buildShareCopy=function(e){var t,n;return"TWITTER"==e.source&&(t=e.broadcaster?"PromoteOwnTWTemplates":"PromoteOtherTWTemplates",n={"{broadcastLink}":"","{twitterHandle}":e.name,"{broadcaster_facebookFirstName} ":""}),"FACEBOOK"==e.source&&(t=e.broadcaster?"PromoteOwnFBTemplates":"PromoteOtherFBTemplates",n={"{broadcaster_facebookFirstName}":e.name}),g(t,n,e.url)};var g=function(e,t,n){var i,a=l.settings[e][Math.floor(Math.random()*l.settings[e].length)];return i=""===a?n:h.replacePlaceholders(a,t)};h.openPopup=function(t,n){var a="status=1,width=550,height=420,top="+(e.innerHeight-420)/2+",left="+(e.innerWidth-550)/2;n=l.settings.ServerHomeBaseUrl+"redirect.php?url="+encodeURIComponent(n),e.open(n,t,a)},h.openSharePopup=function(e){if("FACEBOOK"===e.source&&window.FB.ui({method:"feed",link:e.url,name:e.copy},e.callback),"TWITTER"===e.source){var t="https://twitter.com/intent/tweet?text="+window.encodeURIComponent(e.copy.replace(/^\s+|\s+$/gm,""))+"&url="+window.encodeURIComponent(e.url);h.openPopup("_blank",t)}};var v=function(e,t,n){return n.replace?n.replace(new RegExp(e,"g"),t):""};return h.replacePlaceholders=function(e,t){return angular.forEach(t,function(t,n){e=v(n,t,e)}),e},h.replaceMentions=function(e){if(e.mentioned){var t=e.mentioned.split(","),n={};angular.forEach(t,function(e){var t=e.split(":");n["@"+t[0]]='<a href="profile/'+t[1]+'" class="mention">'+t[0]+"</a>"}),e.post=h.replacePlaceholders(e.post,n)}return e},h.prepareDescription=function(e){return e=h.linkify(e)||u("translate")("profile_no_description"),i.trustAsHtml(e)},e.getConfig=function(){return e.getService("config")},e.getSession=function(){return e.getService("session")},e.getUtils=function(){return e.getService("Api")},h.showTopNotification=function(e,t,n,a,i){s.notifications||(s.notifications={});var o=new y(t,e,a,n,i);s.notifications[o.group]=o,n||r(function(){s.notifications[o.group].active=!1},o.time)},h.showTopBanner=function(e,t,n,a,i,o,l,c){s.banners||(s.banners={});var u=new y(i,t,l,o,c);n&&a?u.message='<div class="alert-container"><div class="banner-icon"><i class="ynicon ynicon-bc-golive"></i></div><div class="banner-content bordered"><b>'+e+"</b><br/><span>"+t+'</span></div><a class="btn btn-confirm" ng-click="onboardingCTA()" href="'+a+'">'+n+"</a></div>":u.message='<div class="alert-container"><div class="banner-icon"><i class="ynicon ynicon-bc-golive"></i></div><div class="banner-content"><b>'+e+"</b><br/><span>"+t+"</span></div></div>",s.banners[u.group]=u,o||r(function(){s.banners[u.group].active=!1},u.time)},h.closeTopBanner=function(e){s.banners[e].active=!1},h.closeTopNotification=function(e){s.notifications[e].active=!1},h.showError=function(e){return e.errorCode&&-1!==m.indexOf(e.errorCode)?!1:(101===e.errorCode&&(d.notifySubscribers("error:loggedout"),e.errorMsg="You have been logged out. Please log in again."),void(e.errorCode&&e.errorMsg&&h.showTopNotification(e.errorMsg)))},h.returnDeferred=function(e,t,n){r(function(){"resolve"===t&&e.resolve(n),"reject"===t&&e.reject(n)})},h.convertEmoji=function(e){return e.$$unwrapTrustedValue&&(e=e.$$unwrapTrustedValue(e)),"string"==typeof e&&window.twemoji?i.trustAsHtml(window.twemoji.parse(e)):i.trustAsHtml(e)},h.replaceHash=function(e){return e?(e.$$unwrapTrustedValue&&(e=e.$$unwrapTrustedValue(e)),e=e.replace(/(^#[^\W_][\w-]*)|(\s#[^\W_][\w-]*)/g,'<span class="yn-hash">$1 $2</span>'),i.trustAsHtml(e)):void 0},h.buildWufooUrl=function(e,t){if(e&&t){var n=[];for(var a in t)n.push(a+"="+t[a]);return n=e+"def/"+n.join("&")}return e},h.sortObject=function(e){var t=[],n={};for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t.sort(),angular.forEach(t,function(a,i){n[t[i]]=e[t[i]]}),n},h.ArrayToObject=function(e){var n,t={};for(n=0;n<e.length;++n)t[n]=e[n];return t},h.sortUsers=function(e){return e.sort(function(e,t){return e.status==t.status?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:e.status<t.status?1:-1})},h.isPageHidden=function(){return b?document.hidden||document.msHidden||document.webkitHidden||document.mozHidden:!0},h.convertBitwise=function(e,t){for(var n=e.toString(2).split("").reverse(),a=[],i=0;t>i;i++)a.push(1==n[i]?!0:!1);return a},h.goMobile=function(e,t,n,a){var i;0!==t?(t>=1&&5>=t&&(i="low"),t>=6&&10>=t&&(i="med"),t>=11&&(i="high")):i="anon",a?s.gaEvent("GOMOBILE",e+n,i,a):s.gaEvent("GOMOBILE",e+n,i)},h.regexStore={embedlyWhiteList:new RegExp(/(instagram.com|youtube.com|soundcloud.com|twitter.com)/g)},h.base64ToFile=function(e){var t=w(e);return t},h.parseMomentType=function(e){var t;return t="guest"===e?"_guest":"selfie"===e?"featured_selfie":"_creator",u("translate")(t)},h.addUniqueItem=function(e,t,n,a){e&&t&&!t[a]&&(e.push(n),t[a]=!0)},h.postToServiceWorker=function(e){navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)},h}]}),angular.module("younow.services.webpush",[]).factory("webpush",function(e,t,n,a,i,r){var o={};return o.triggerPushPrompt=function(e){window.OneSignal.push(["isPushNotificationsEnabled",function(a){if(!a&&(!n.store("pp_shown_last")||n.store("pp_shown_last")+2592e5<Date.now())){window.OneSignal.push(["registerForPushNotifications",{modalPrompt:!1}]),t.pushPrompt=e,n.store("pp_shown_count",1*n.store("pp_shown_count")+1),n.store("pp_shown_last",Date.now());var r={event:"WEBPUSH_PROMPT",extradata:e,broadcastscount:n.store("pp_shown_count"),field1:i.getUserLocation(),field3:n.os.name.split(" ")[0],field4:n.browser.name.split(" ")[0],field7:n.store("oneSignalId")};i.capture(r)}}])},t.init.then(function(){window.OneSignal.push(["init",{path:"/",appId:t.settings.ONESIGNAL_APP_ID,safari_web_id:t.settings.ONESIGNAL_SAFARI_ID,autoRegister:!1,welcomeNotification:{disable:!0},persistNotification:!1,webhooks:{"notification.displayed":t.settings.ServerLocalBaseUrl+"/api/pushTrackingHandler.php"}}]),t.pushPrompt=!1,window.OneSignal.push(function(){window.OneSignal.on("notificationPermissionChange",function(e){var a=t.pushPrompt?t.pushPrompt:"UNPROMPTED",r={event:"WEBPUSH_PERMISSION",extradata:a,broadcastscount:n.store("pp_shown_count"),field1:e.from||"",field2:e.to||"",field3:n.os.name.split(" ")[0],field4:n.browser.name.split(" ")[0],field7:n.store("oneSignalId")||""};i.capture(r),t.pushPrompt=!1}),window.OneSignal.on("subscriptionChange",function(e){e&&window.OneSignal.push(["getUserId",function(e){if(e&&!n.store("oneSignalId")||e!=n.store("oneSignalId")){n.store("oneSignalId",e);var t={deviceType:n.browser.name,deviceChannel:e};a.user&&a.user.userId&&(t.userId=a.user.userId),n.post("YOUNOW_DEVICE_CHANNEL",t)}}])})}),n.store("pp_shown_last")||o.triggerPushPrompt("INITIAL")}),o}),angular.module("younow.about",["ui.router"]).config(["$stateProvider",function(e){e.state("about",{url:"/about",templateUrl:"angularjsapp/src/app/states/about/about.tpl.html",controller:"AboutCtrl"})}]).controller("AboutCtrl",["$scope","$rootScope","$window","$timeout","$modal","config","broadcasterService","Api","$state","session","trackingPixel",function(e,t,n,a,i,r,o,s,l,c,u){t.skipAgeGate=!0,e.base=r.settings.ServerCDNBaseUrl,e.visible=!0,e.closed="none"===r.settings.loginGate||c.loggedIn?!1:!0,e.open="hard"!==r.settings.loginGate||c.loggedIn?!0:!1,e.closed&&t.gaEvent("Home Page","Page load","about"),a(function(){e.loaded=!0},300),s.store("hideYounowLanding",!0),t.$watch(function(){return c.loggedIn},function(t){e.justLoggedIn||(e.closed="none"===r.settings.loginGate||c.loggedIn?!1:!0,e.open="hard"!==r.settings.loginGate||c.loggedIn?!0:!1)}),a(function(){var e=document.getElementById("video");e&&("boolean"==typeof e.loop?e.loop=!0:e.addEventListener("timeupdate",function(){e.currentTime>16.5&&e.load()},!0))}),e.trustedSrc=function(e){return s.trustedSrc(e)},e.login=function(n,a){c.authenticate[n]&&(e.attemptedLogin||(e.attemptedLogin=!0,t.gaEvent("Home Page","Attempted Login")),t.gaEvent("Home Page","Clicks "+n,a),c.auth(n).then(function(n){if(n&&n.data&&n.data.id){e.justLoggedIn=!0;var a=n.data.newUser?"New":"Returning";t.gaEvent("Home Page","Logged In ("+a+")"),o.featuredBroadcaster()}}))},e.action=function(n){e.closed&&t.gaEvent("Home Page",n)},e.showPromo=function(){return l.is("about")&&n.navigator.userAgent.search("Chrome/39")>0?(n.open("https://www.youtube.com/watch?v=BiXDFkraMtY","_blank"),!1):void i.iframe("http://www.youtube.com/embed/BiXDFkraMtY?autoplay=1","iframe-modal-dark")},e.watchLiveNow=function(t,n){e.aboutClick("To site",n),t.preventDefault(),a(function(){e.open&&o.featuredBroadcaster()},0)},e.trackMobile=function(e){s.goMobile(e,c.user.level,"_LANDING")},e.aboutClick=function(e,n){e.toUpperCase().indexOf("APP")&&u.trackClick("GETTHEAPP",{field1:"ABOUT"}),t.gaEvent("About Page Button Click",e,n)}}]),angular.module("younow.bigsister",["ui.router"]).config(["$stateProvider",function(e){e.state("bigsister",{url:"/adminbigsister/:size",params:{tag:{value:null,squash:!0}},templateUrl:"angularjsapp/src/app/states/bigsister/bigsister.tpl.html",controller:"BigSisterCtrl"})}]).controller("BigSisterCtrl",["$scope","$rootScope","Api","$state","$stateParams",function(e,t,n,a,i){e.thumb=function(e,t){return n.generateDynamicApi(t)+"/"+e+"/"+e+".jpg"},e.vars={size:i.size};var r=function(){"bigsister"===a.current.name&&n.get("younow/allLive").success(function(t){t.broadcasts&&(e.broadcasts=[],angular.forEach(t.broadcasts,function(t,n){e.broadcasts.unshift({broadcastId:n,userId:t})}))}),n.poll(r,"getAll",30)};r()}]),angular.module("younow.content-creator",["ui.router"]).config(["$stateProvider",function(e){e.state("fullscreen",{url:"/getpartnered",templateUrl:"angularjsapp/src/core/states/content-creator/content-creator.tpl.html",controller:"ContentCreatorCtrl",controllerAs:"vm"})}]).controller("ContentCreatorCtrl",function(e,t){var n=this;n.configSettings=t.settings,n.partnerInfo={email:"",phone:"",firstName:"",lastName:"",mcnId:"3326444"},n.selectedTestimonial="1",n.success=null,n.submittedForm=!1,n.submitPartnerInfo=function(){n.submittedForm=!0;var t=e.post("YOUNOW_MCN_CONTENT_CREATOR",n.partnerInfo);t.then(function(e){0===e.data.errorCode&&(n.success=!0)})},n.scrollToSignUp=function(){var e=document.getElementById("scroll-point");e&&e.scrollIntoView({block:"end",behavior:"smooth"})}}),angular.module("younow.gettheapp",["ui.router"]).config(["$stateProvider",function(e){e.state("/app",{url:"/app/:type",templateUrl:"angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html",controller:"gettheappCtrl"})}]).controller("gettheappCtrl",["$scope","session","$timeout","Api","$state","$modal","config","$stateParams","trackingPixel",function(e,t,n,a,i,r,o,s,l){var c={};c.baseCDN=o.settings.ServerCDNBaseUrl,c.telInputId="telInputModal",c.device="android"==s.type?"android":"iphone",c.getTheApp=function(){l.trackClick("GETTHEAPP",{field1:"HOME"}),r.mobileDownload("HOME")},window.isPrerender,e.vm=c}]),angular.module("younow.home",["ui.router"]).config(["$stateProvider",function(e){e.state("home",{url:"{la:"+window.YouNow.UILanguageRegex+"}",templateUrl:"angularjsapp/src/app/states/home/home.tpl.html",controller:"HomeCtrl",controllerAs:"vm"}),e.state("index",{url:"/index.php",templateUrl:"angularjsapp/src/app/states/home/home.tpl.html",controller:"HomeCtrl",controllerAs:"vm"})}]).controller("HomeCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h){function S(t){var n=0,a=e(function(){n++,60===n&&window[t+"Popup"]&&window[t+"Popup"].close&&window[t+"Popup"].close(),20===n&&"google"===t&&(g.loggingIn[t]=!1,e.cancel(a)),window[t+"Popup"]&&window[t+"Popup"].closed&&(g.loggingIn[t]=!1,e.cancel(a))},1e3)}function _(){o.get("YOUNOW_POPULAR_TAGS",{locale:r.UILocale},!0).then(function(e){if(e.data&&e.data.popular_tags){for(var t in e.data.popular_tags){var n=e.data.popular_tags[t];n&&("ar"===r.UILocale?n.tagLink=encodeURI(n.tag):(n.tagLink=n.tag,n.tag="#"+n.tag))}g.liveTopics=e.data.popular_tags}})}function C(){g.renderPage=!0,g.baseCDN=r.settings.ServerCDNBaseUrl,_(),window.waitForPageType=!1,c.gaPage({pageType:"home"}),c.title="YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android"}if(f.la&&0===f.la.indexOf("/")){var m=f.la.substr(1,2);r.setTempLanguage(m)}(/Android/i.test(navigator.userAgent)||/BlackBerry/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)||/IEMobile/i.test(navigator.userAgent))&&(window.location.href="/");var g=this;g.config=r,g.telInputId="telInput",g.broadcasterService=d,g.dashboard=s,g.thumb=r.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",g.noThumb="http://ynassets.younow.com/nothumb.jpg",g.ab=h,g.trackMobile=function(e){("IOS"==e||"ANDROID"==e)&&u.trackClick("GETTHEAPP",{field1:"SIDEBAR"});var n;d.async&&"main.settings"!==t.current.name&&"about"!==t.current.name&&"policy"!==t.current.name&&"main.explore"!==t.current.name&&"lockout"!==t.current.name&&(n="PROFILE"),d.async||(n="BROADCAST"),"main.explore"===t.current.name&&(n="EXPLORE"),void 0===n&&(n="OTHER"),o.goMobile(e,l.user.level,"_SIDEBAR",n)},n.base=r.settings.ServerCDNBaseUrl,n.loggingIn={};var y=null,w=function(e){};n.login=function(e){n.attemptedLogin||(n.attemptedLogin=!0),n.loggingIn[e]=!0,l.authenticate[e]?a(function(){l.auth(e).then(function(a){a&&a.data&&a.data.id?(a.data.newUser?c.gaEvent("LOGIN","LOGIN_NEW_"+e.toUpperCase(),y):c.gaEvent("LOGIN","LOGIN_RETURNING_"+e.toUpperCase(),y),a.data.coinFeedbackCopy&&a.data.coinFeedbackAmount&&o.showTopNotification(a.data.coinFeedbackCopy+' <img class="coin-sm" src="'+r.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+a.data.coinFeedbackAmount,"now",!1,void 0,5e3),t.go("main.channel.detail")):w("Unsuccessful"),n.loggingIn[e]=!1})["catch"](function(t){n.loggingIn[e]=!1,w("Failed to login")})},0):w("Invalid auth method")},n.showMoreOptions=function(){n.moreOptions=!0},g.showMoreOptions=function(){g.moreOptions=!0},g.cancel=function(){},g.login=function(e){g.attemptedLogin||(g.attemptedLogin=!0),g.loggingIn[e]=!0,S(e),c.gaEvent("LOGIN","ATTEMPT_"+e.toUpperCase(),y),u.trackClick("LOGIN",{field1:e.toUpperCase(),field2:y.toUpperCase()}),l.authenticate[e]?a(function(){l.auth(e).then(function(t){t&&t.data&&t.data.id?(t.data.newUser?c.gaEvent("LOGIN","LOGIN_NEW_"+e.toUpperCase(),y):c.gaEvent("LOGIN","LOGIN_RETURNING_"+e.toUpperCase(),y),a(function(){},300),t.data.coinFeedbackCopy&&t.data.coinFeedbackAmount&&o.showTopNotification(t.data.coinFeedbackCopy+' <img class="coin-sm" src="'+r.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+t.data.coinFeedbackAmount,"now",!1,void 0,5e3)):w("Unsuccessful"),g.loggingIn[e]=!1})["catch"](function(){g.loggingIn[e]=!1,w("Failed to login")})},0):w("Invalid auth method")},g.trustedSrc=function(e){return o.trustedSrc(e)},g.stateChange=function(e,n,a){n||(n={}),a&&c.gaEvent("Conversion","Go To Explore","HOME"),"main.explore"===e&&n.tag?(-1!==n.tag.indexOf("#")&&(n.tag=n.tag.replace("#","")),c.gaEvent("Conversion","Click Tag","HOME"),u.trackClick("TAG",{field1:"HOME"})):"main.explore"!==e||n.tag||u.trackClick("EXPLORE",{field1:"HOME"}),e&&(n?t.go(e,n):t.go(e))},g.openLoginModal=function(e,n){i.loginModal(!1,"HOME-"+e).result.then(function(e){0===e.data.errorCode&&"main.channel.detail"!==t.current.name&&t.go("main.channel.detail")}),n&&n.trackClick&&u.trackClick("HOME_JOIN",{field1:n.trackClick}),"SIGNUP"===e?c.gaEvent("Conversion","Click Signup","HOME"):(c.gaEvent("Conversion","Click Login","HOME"),u.trackClick("SIGNIN"))},g.getTheApp=function(){u.trackClick("GETTHEAPP",{field1:"HOME"}),i.mobileDownload("HOME")},window.isPrerender&&C(),r.showHomepage?l.user&&0===l.user.userId?C():t.go("main.channel.detail"):o.store("lastNetwork")?a(function(){t.go("main.channel.detail")},0):(C(),r.showHomepage=!0,o.store("hideYounowLanding",!0)),n.doAboutClick=function(e,n){t.is("about")&&c.gaEvent("About Page Button Click",e,n)},n.openDoc=function(e,a){n.doAboutClick("Footer link",a),t.is("policy")||(p.open(e.target.href,"_blank"),e.preventDefault())},n.showMoreOptions=function(){n.moreOptions=!0},n.sessionAvailable=!1}),angular.module("younow.info",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("info",{url:"/info/:locale/:doc",resolve:{doc:function(){}},templateUrl:"angularjsapp/src/app/states/info/info.tpl.html",controller:"infoCtrl"}).state("/press",{url:"/press",resolve:{doc:function(){return"press"}},templateUrl:"angularjsapp/src/app/states/info/info.tpl.html",controller:"infoCtrl"}),t.when("/press/",["$state",function(e){e.go("/press")}])}]).controller("infoCtrl",function(e,t,n,a,i,r,o,s){t.sections=[],i.locale=i.locale||"en",i.doc=i.doc||e,n.get("https://api.github.com/repos/younow/younow.github.io/contents/info/"+i.locale+"/"+i.doc+".md",{headers:{Accept:"application/vnd.github.v3.html"}}).success(function(e){e=e.replace(/\n/gi,"  \n"),console.log(e),t.docContent=a.trustAsHtml(e),r(function(){var e=angular.element(document.getElementById("doc-content")),n=e.find("td");n.length&&(t.docTitle=angular.element(n[0]).text(),"ME"==angular.element(n[2]).text()&&(t.rtl=!0)),angular.forEach(e.find("h2"),function(e){var n=angular.element(e);t.sections.push({innerText:n.text(),offsetTop:n[0].offsetTop})}),t.ready=!0})}),t.scrollTo=function(e){o.scrollTopAnimated(e-75,1e3)}}),angular.module("younow.jobs",["ui.router","younow.services.utils"]).config(["$stateProvider","$urlRouterProvider","ApiProvider",function(e,t,n){n.reRouteHandler("/jobs","jobs"),e.state("infojobs",{url:"/info/:locale/careers",templateUrl:"angularjsapp/src/app/states/jobs/jobs.tpl.html",controller:"jobsCtrl"}).state("jobs",{url:"/careers",templateUrl:"angularjsapp/src/app/states/jobs/jobs.tpl.html",controller:"jobsCtrl"})}]).controller("jobsCtrl",function(e,t,n,a,i){window.globalVars.pageLanguage&&(i.setTempLanguage(window.globalVars.pageLanguage),window.globalVars.pageLanguage=null),e.$state=a;var r=!1;n.inject("https://boards.greenhouse.io/embed/job_board/js?for=younow","greenhouse-jobboard").then(function(){r=!0,window.Grnhse&&window.Grnhse.Iframe.load()})["catch"](function(){});t(function(){r?r=!1:(window.Grnhse.Iframe.load(),r=!0)},1e3)}),angular.module("younow.lockout",["ui.router"]).config(["$stateProvider",function(e){e.state("lockout",{url:"/lockout/",templateUrl:"angularjsapp/src/app/states/lockout/lockout.tpl.html",controller:"LockoutCtrl"})}]).controller("LockoutCtrl",["$scope","$rootScope","Api","$state",function(e,t,n,a){var i=n.store("younowAgeLockout");Number(i)<(new Date).getTime()/1e3?a.go("home"):t.skipAgeGate=!0}]),angular.module("younow.channel.end-of-broadcast",[]).config(["$stateProvider",function(e){e.state("main.channel.detail.endOfBroadcast",{controller:"EndOfBroadcastCtrl",controllerAs:"vm",templateUrl:"angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html",url:""})}]).controller("EndOfBroadcastCtrl",function(e,t,n,a,i,r,o,s,l,c){function m(){var a=t.get("/broadcast/getSupporters",{userId:u.session.user.userId,broadcastId:e.broadcast.broadcastId});a.then(function(e){u.supporterList=e.data.supporters,d+=p;for(var t in u.supporterList)f.list.push(u.supporterList[t].userId)})}function g(){e.eob&&("main.channel.detail"!==o.current.name&&(h=n.broadcaster,n.broadcaster=void 0),delete e.eob),"ready"!=l.state&&(l.state="ready")}var u=this,d=0,p=10,f={fan:1,list:[]};u.Api=t,u.swf=e,u.session=a,u.broadcast=n,u.thumb=i.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId=",u.noThumb=i.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",u.config=i,u.settings=i.settings,u.needsTipalti=null,u.fanned=!1,u.message=null,u.supporterList=[],u.sentThanks=!1,a.isBroadcasting=!1,e.currentSession.isBroadcasting=!1,e.settingUpBroadcast=!1,e.fromEob=!0;var h=null;u.openAgreement=function(){r.agreementAcceptance()},u.goToMainState=function(){g(),"main.channel.detail"!==o.current.name&&o.go("main.channel.detail").then(function(){e.loadNextChannel(h)})},u.goToTag=function(e){g(),o.go("main.explore",{tag:e})},u.fanAll=function(){if(u.fanned===!1){var n=t.post("BROADCAST_FAN_SUPPORTERS",{userId:u.session.user.userId,broadcastId:e.broadcast.broadcastId});n.then(function(e){u.fanned=!0,c.notifySubscribers("fanbutton:updateUI",f),f.list=[]})}},u.thankAll=function(){var n=angular.element(document.getElementById("thanksComment")),i=angular.element("<p>"+n.text()+"</p>").text();if(n.text().length>0){var r=t.post("BROADCAST_THANK_SUPPORTERS",{userId:a.user.userId,broadcastId:e.broadcast.broadcastId,post:i});r.then(function(e){0===e.data.errorCode&&(u.sentThanks=!0)})}},u.loadMoreSupporters=function(){if(u.swf.eob.supportersCount>u.supporterList.length){var a=t.get("/broadcast/getSupporters",{userId:u.session.user.userId,broadcastId:e.broadcast.broadcastId,start:d,count:p});a.then(function(e){if(0===e.data.errorCode){u.supporterList.push(e.data.supporters),u.supporterList=[].concat.apply([],u.supporterList);for(var t in e.data.supporters)f.list.push(e.data.supporters[t].userId);d+=p,u.fanned===!0&&(c.notifySubscribers("fanbutton:updateUI",f),f.list=[])}})}},s.$on("$destroy",function(){return g(),"main.settings"===o.current.name||"main.explore"===o.current.name?!1:void u.goToMainState()}),m()}),angular.module("younow.channel",["younow.channel.chat","younow.channel.chat-panel","younow.channel.share-panel","younow.channel.moment-panel","younow.channel.settingupPanel","younow.channel.audience-panel","younow.channel.guest-panel","younow.channel.player-header","younow.channel.player-footer","younow.channel.player-overlay","younow.channel.mini-overlay","younow.channel.selfies-overlay","younow.channel.end-of-broadcast","younow.channel.selfie-view","younow.channel.promo-widget","younow.channel.momentDeeplink","younow.channel.momentCollectionDeeplink"]).config(["$stateProvider",function(e){
e.state("main.channel",{"abstract":!0,controller:"ChannelCtrl",template:"<div data-ui-view></div>"}).state("main.channel.detail",{url:"/:profileUrlString/{async:/channel}",params:{profileUrlString:{value:null,squash:!0},async:{value:null,squash:!0}},controller:"ChannelDetailCtrl",templateUrl:"angularjsapp/src/app/states/main/channel/channel.tpl.html"}).state("main.channel.post",{url:"/:profileUrlString/:entityId/:inviteString/:srcId/{entityType:p|c}/:copy",params:{profileUrlString:{value:null,squash:!1},entityId:{value:null,squash:!1},inviteString:{value:null,squash:!1},srcId:{value:null,squash:!1},entityType:{value:null,squash:!1},copy:{value:null,squash:!0}},controller:"ChannelDetailCtrl",templateUrl:"angularjsapp/src/app/states/main/channel/channel.tpl.html"})}]).controller("ChannelCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m,g,v,b,y,w,S,_,C,T){function E(e){for(var t=0;t<s.channel.moments.length;t++)s.channel.moments[t].momentId===e.momentId&&s.channel.moments.splice(t,1)}e.broadcasterService=s,e.swf=u,e.session=f,e.config=d,e.host=a.location.host,e.Api=p,e.globalVars=window.globalVars,e.comment={},e.newPosts={};var k;e.show_noflash_message=!1,o(function(){u.broadcast&&"1"!=u.broadcast.allowGuestCallers&&(e.show_noflash_message=!0)},3300),e.timestamp=Date.now(),e.uploadedImageRefresh=p.store("uploadedImageRefresh")||"",e.uploadedImageRefresh&&p.store("uploadedImageRefresh",null),a.onbeforeunload=function(){b.notifySubscribers("broadcaster:beforeChange",{source:"channel.js"}),s.bc={},u.currentSession.isBroadcasting?(T.capture({event:"WEBRTC_CLOSE_APP"},T.captureGroups.webrtc,!0),t.gaEvent("CLOSED_BROWSER","BROADCASTER",d.UILocale)):t.gaEvent("CLOSED_BROWSER","VIEWER",d.UILocale)};var A=function(){window.innerHeight/window.innerWidth<.75?e.fullscreenAspect="wide":e.fullscreenAspect="tall"};A(),angular.element(a).on("resize",function(){A()}),e.showProfileSummary=function(e,t,n,a){if(e=e||s.broadcaster.userId,a="object"==typeof a?a:{},"following"==t){if(!n)return!1;a.network=n}"following"!=t&&!a.isFlagging||f.loggedIn?r.profileSummary(e,a,t):r.loginModal("","REPORT").result.then(function(n){r.profileSummary(e,a,t)})},e.tabClick=function(e){t.gaPage({page:l.path()+"#"+e})},e.showTab=function(t,n){return s.deeplinking?!1:(s.tab=t,s.channel&&s.channel.finished&&s.channel.finished.posts&&void 0!==s.deeplinkId&&(s.channel.finished.posts=!1,delete s.channel.posts,delete s.channel.index.posts),void(!e.settingUp&&s.channel&&s.channel.finished&&!s.channel.finished[t]&&(!s.channel[t]||s.channel[t].length<2)&&(e.settingUp=!0,s.getItems(t,n).then(function(){e.settingUp=!1}))))},e.fullName=function(e){return p.fullName(e)},e.showMedia=function(e,t,n){r.mediaPlayerModal(e,t,n)},e.openUrl=function(e){a.open(e,"_blank")},e.socialMediaHandler=function(t,n){n||void 0===n?e.openUrl(t):l.url("settings#accounts")},e.doUpload=function(t,n,a){var i=angular.element(t),r=window.URL.createObjectURL(i[0].files[0]),o=new window.Image;o.src=r,window.URL?o.onload=function(){return o.width<80||o.height<80?(p.triggerTooltip(i,4e4),!1):void l(i,n,a)}:l(i,n,a);var l=function(t,n,a){if(t[0].files[0].size/1e6>6)return p.triggerTooltip(t),!1;var i={userId:f.user.userId,channelId:s.channel.userId};i[a]=t;var r={url:window.location.protocol+"//"+d.host+"/php/api/channel/"+n,method:"POST",data:i};f&&f.user&&(r.headers={"X-Requested-By":f.user.requestBy}),m(r).then(function(t){e.uploadedImageRefresh="?"+Math.random(),p.store("uploadedImageRefresh","?="+Math.random())})}},e.editProfile=function(){s.channel.editingProfile=!0},e.cancelEdit=function(){s.channel.editingProfile=!1},e.saveEdit=function(){s.channel.editingProfile=!1},e.saveDescription=function(){s.channel.description=p.stripHTML(s.channel.description),s.channel.displayDescription=p.convertEmoji(p.prepareDescription(s.channel.description)),s.channel.editingProfile=!1,p.post("channel/editBio",{userId:f.user.userId,channelId:s.channel.userId,bio:s.channel.description})},e.showUploadPreview=function(t,n){var a=t.target.files;e.readFile(a[0],n),n.fileName=a[0].name,window.uploadedImage=a[0]},e.readFile=function(t,n){var a=new window.FileReader;a.onload=function(t){e.$evalAsync(function(){n.preview=t.target.result})},a.readAsDataURL(t)},e.postComment=function(t){if(!t.upload&&t.fileName&&(t.upload=window.uploadedImage),e.posting)return!1;if(!t||!t.html&&!t.upload)return!1;if(!f.loggedIn)return t.id?r.loginModal("","POST_COMMENT").result.then(function(){e.postComment(t)}):r.loginModal("","POST").result.then(function(){e.postComment(t)}),!1;if(!f.fanStatus[s.channel.userId]&&s.channel.userId!==f.user.userId)return r.trap("fan",s.channel,"PROFILE",function(){e.postComment(t)}),!1;if(e.posting=!0,!t.html)return x(t),!0;t=I(t);var n=angular.element(document.getElementById("textarea_"+(t.id||""))),a=angular.element("<p>"+n.text()+"</p>").text();if(t.comment=a,n.empty(),t.html="",t.upload)return x(t),!0;var i=p.findLinks(t.comment);if(!i||!i[0])return x(t),!0;if(!i[0].match(p.regexStore.embedlyWhiteList))return x(t),!1;var o="d4272e7f48454b81849810f8d9258198",l=encodeURIComponent(i[0].replace(/("|').*$/g,"")),u=window.location.protocol+"//api.embed.ly/1/oembed?key="+o+"&chars=250&maxwidth=433&frame=true&url="+l;k=t,c.get(u).success(function(e){if("photo"===e.type){var n='<div><img src="{{url}}"></div>';e.html=g(n)(e)}if("link"===e.type){var a='<div><a href="{{url}}" rel="nofollow" target="_blank"><div class="embedly-link-container"><div class="left pull-left"><img src="{{thumbnail_url}}" /></div><div class="right pull-left"><div class="title"><span>{{title}}</span></div><div class="description"><span>{{description}}</span></div></div><div class="clear"></div></div></a></div>';e.html=g(a)(e)}e.html&&(t.comment+=e.html,delete e.html),t.embedly=e,x(t)}).error(function(e){x(t)})};var x=function(t){var n={post:t.comment||"",parentId:t.id||0,channelId:s.channel.userId,userId:f.user.userId,doEnrich:1,tsi:p.store("trpxId"),tdi:p.store("trpx_device_id")};if(t.embedly){if(t.embedly.provider_url!=k.embedly.provider_url&&!t.embedly.provider_url.match(p.regexStore.embedlyWhiteList))return e.posting=!1,p.showError({errorCode:"x",errorMsg:"There was a problem posting your comment."}),t.comment="",e.removeUpload(t),!1;n.embedly=JSON.stringify(t.embedly)}t.upload&&(n.media=t.upload),t.mentions&&(n.mentioned=t.mentions.join(","));var a={url:window.location.protocol+"//"+d.host+"/php/api/post/create",method:"POST",data:n};f&&f.user&&(a.headers={"X-Requested-By":f.user.requestBy}),m(a).then(function(t){t.data.errorMsg?p.showError(t.data):t.data.id?e.newPosts[t.data.id]=t.data:p.showError({errorCode:"x",errorMsg:"There was a problem posting your comment."}),e.posting=!1}),t.comment="",e.removeUpload(t)};e.submitOnEnter=function(t,n){13!=t.keyCode||e.people||(e.postComment(n),t.preventDefault())},e.removeUpload=function(e){var t="file_"+(e.id||""),n=angular.element(document.getElementById(t));n.replaceWith(n.val("").clone(!0)),delete window.uploadedImage,delete e.preview,delete e.upload},e.canEdit=function(t,n){return f.user&&f.user.userId?f.isMod()||s.channel.userId===f.user.userId?!0:t.user.userId==f.user.userId||e.newPosts[t.id]?!0:!1:!1},e.canPin=function(e){return f.user&&f.user.userId?!f.isMod()&&s.channel.userId!==f.user.userId||e.parentId?!1:!0:!1},e.searchPeople=function(t){p.algolia(t).success(function(t){angular.forEach(t.hits,function(t,n){t.displayName=p.fullName(t),t.thumb=e.cdn.thumb+t.objectID}),e.people=t.hits})},e.insertMention=function(t){return e.people=void 0,'<span class="mention-highlight" contenteditable="false" person="'+t.objectID+'">'+t.displayName+"</span>"};var I=function(e){var t=document.getElementById("textarea_"+(e.id||"")),n=t.getElementsByClassName("mention-highlight");return n.length&&(e.mentions=[],angular.forEach(n,function(t){var n=angular.element(t);e.mentions.push(n.text()+":"+n.attr("person")),n.text("@"+n.text())})),e};e.enterLiveChat=function(){s.switchAsync(!1)},e.goIfNotBroadcasting=function(e,t){if(f.isBroadcasting||w.guest&&w.guest.userId==f.user.userId)f.preventBroadcastInterrupt();else{if(s.broadcaster&&t===s.broadcaster.userId)return!1;e(t)}},e.trackBroadcaster=function(){v.trackClick("BROADCASTER")},e.adclick=function(e){t.gaEvent("FEATURE",e,d.UILocale)},e.invalidCamera=function(){if(!u.settingUpBroadcast)return!1;var e=y.getCurrentConfig().webrtcStream;e.getVideoTracks&&"Chrome"==p.browser.name?(e=e.getVideoTracks(),e[0].label&&-1!==e[0].label.indexOf("ManyCam")?r.alert('We werent able to detect your camera. Please check your browser settings. Note that ManyCam currently only works on <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">FireFox</a> for Mac.'):r.alert("We werent able to detect your camera. Please check your browser settings.")):r.alert("We werent able to detect your camera. Please check your browser settings.")},e.validCamera=function(){if(!u.settingUpBroadcast)return!1;var e=y.checkIfCameraExists();e||r.alert("We werent able to detect your camera. Please check your browser settings.")},e.isViewer=function(){return"ready"==w.state&&!u.settingUpBroadcast&&!f.isBroadcasting},e.isFlashBroadcast=function(){return!d.mcu&&(u.settingUpBroadcast||f.isBroadcasting)},e.isWebrtcBroadcast=function(){return d.mcu&&!S.settings.active&&!S.settings.streaming&&(u.settingUpBroadcast||f.isBroadcasting||"ready"!=w.state)},e.deleteMoment=function(e){E(e)},e.hideCollection=function(e){E(e)},e.captureMoment=function(e){0===f.user.userId?r.loginModal():u.settingUpBroadcast||3===e.which||u.momentCapture()},e.$on("$destroy",function(){h.unsubscribe("publicChannel"),h.unsubscribe("presenceChannel"),a.onbeforeunload=null,angular.element(a).off("resize")}),e.guestService=w,e.externalStreaming=S.settings}).directive("uploadProfileImage",function(e){return{restrict:"A",scope:{uploadEndpoint:"@",uploadName:"@",doUpload:"&"},link:function(e,t,n,a){t.bind("change",function(n){e.doUpload()(t,e.uploadEndpoint,e.uploadName)})}}}).controller("ChannelDetailCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,h,m){if(t.banners&&t.banners.sticky&&t.banners.sticky.active&&e.closeTopBanner(t.banners.sticky.group),c.internalUpdate)c.internalUpdate=!1;else{var g=o.async?!0:!1;r.search();if(!o.profileUrlString)return c.featuredBroadcaster(),!1;c.broadcaster&&c.broadcaster.profile===o.profileUrlString?c.switchAsync(g):c.switchBroadcaster(o.profileUrlString,!0,g)}}),angular.module("younow.explore",[]).config(function(e){e.state("main.explore",{url:"/explore/:tag?q",params:{tag:{value:null,squash:!0},q:{value:null,squash:!0}},templateUrl:"angularjsapp/src/app/states/main/explore/explore.tpl.html",controller:"ExploreCtrl"})}).controller("ExploreCtrl",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f,p,h,m){c.exploreBroadcaster=void 0,n.showMiniplayer=!1,n.results=[],n.queue=[],n.broadcasterService=c,n.swf=u,n.gettingItems=!1,n.getQueueLoading=!1,n.getQueue=function(){if(n.getQueueLoading)return!1;var e={numberOfRecords:20,startFrom:n.queue.length||0,locale:s.UILocale},t=n.query;"#"===t.substr(0,1)&&(t=t.substr(1),e.tag=t,n.getQueueLoading=!0,l.get("YOUNOW_QUEUE",e).success(function(e){if(n.getQueueLoading=!1,e.queues&&e.queues[0]&&e.queues[0].items){if(e.data=e.queues[0].items,e.data.length>8){for(var a in e.data)for(var i in n.queue)e.data[a]&&n.queue[i]&&e.data[a].userId==n.queue[i].userId&&delete e.data[a];e.data=e.data.slice(0,8),n.queueMore=!0}else n.queueMore=!1;n.broadcast||(n.broadcast=e.data[0],n.showMiniplayer=!0,n.broadcast.tag=t,n.selectUser(n.broadcast,!0)),v(e)}}))},n.getItems=function(e,t){if(n.getItemsLoading)return!1;e||""===e||(e=n.query),n.results&&e===n.query||(n.results=[]),n.query=e;var i={numberOfRecords:t||20,startFrom:n.results.length||0,locale:s.UILocale};if(e){if("#"===e.substr(0,1))return n.queue.length||n.getQueue(n.query,8),e=e.substr(1),i.tag=e,n.getItemsLoading=!0,delete i.locale,n.resultsView="new",l.get("YOUNOW_TOP_BROADCASTERS",i).success(function(t){if(n.getItemsLoading=!1,t.items&&t.items[0]&&(t.data=t.items,b(t)),s.settings.featuredTags[s.UILocale]&&a.tag){var i=s.settings.featuredTags[s.UILocale],r=0;for(r;r<i.length;r++)if(e===i[r].tag)return _(e),!1}});n.resultsView="old";var r="#"===e.substr(0,1)?"tag":!1;r&&(e=e.substr(1));var o=i.numberOfRecords,c=i.numberOfRecords?Math.round(i.startFrom/i.numberOfRecords):0;return n.getItemsLoading=!0,l.algolia(e,r,o,c).success(function(e){n.getItemsLoading=!1,e.hits&&b(e)})}return n.getItemsLoading=!0,n.resultsView="old",l.get("younow/trendingUsers",i).success(function(e){n.getItemsLoading=!1,e.trending_users&&(e.data=e.trending_users,b(e))})},l.store("hideYounowLanding")||a.q||(a&&a.tag&&a.tag.length>0?l.showTopBanner("#"+a.tag+' <span translate="explore_welcome_title_tag">','<span translate="explore_welcome_text_tag" translate-values="{value: \''+a.tag+"'}\"></span>",void 0,void 0,"success",!0,"banner"):l.showTopBanner('<span translate="explore_welcome_title"></span>','<span translate="explore_welcome_text"></span>','<span translate="explore_welcome_lucky"></span>',"/featured","success",!0,"banner"),l.store("hideYounowLanding",!0)),n.query=a.tag?"#"+a.tag:a.q,t.title=a.tag?"YouNow | "+a.tag+" | Live Stream Video Chat | Free Apps on Web, iOS & Android":"YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android",n.getItems(n.query).then(function(e){n.selectUser(n.results[0],!0),n.query||S()})["catch"](function(e){console.warn(e)}),n.tag=(a.q||a.tag?n.query:"").replace("#","");var g=n.query?"/explore/"+n.query:"/explore/";t.gaPage({page:"Explore",path:g}),n.getItemsLoading=!1;var v=function(e){e.data&&s.settings.UseBroadcastThumbs&&(n.useBroadcastThumbs=!0),e.data&&(angular.forEach(e.data,function(e,t){e.tags&&(e.tag=e.tags[0]),e.level=Math.round(e.level||e.userlevel),e.fullName=l.fullName(e),e.thumb=y(e)}),e.totalUsers=e.totfal,n.queue=n.queue.concat(e.data)),n.noresults=0===n.queue.length,n.queue.length>=e.nbHits&&(n.finished=!0)},b=function(e){e.data&&s.settings.UseBroadcastThumbs&&(n.useBroadcastThumbs=!0),e.data&&(angular.forEach(e.data,function(e,t){e.profile||(e.profile=e.name||e.username),e.tags&&(e.tag=e.tags[0]),e.level=Math.round(e.level||e.userlevel),e.fullName=l.fullName(e),e.thumb=y(e),e.thumb_backup=y(e,!0),e.cover=s.settings.ServerCDNBaseUrl+"/php/api/channel/getCover/channelId="+e.userId}),e.totalUsers=e.totfal,n.results=n.results.concat(e.data)),e.hits&&(angular.forEach(e.hits,function(e,t){e.userId=e.objectID,e.fullName=l.fullName(e),e.thumb=y(e)}),n.results=n.results.concat(e.hits)),n.noresults=0===n.results.length,n.results.length>=e.nbHits&&(n.finished=!0)},y=function(e,t){var n;return e.broadcastId&&s.settings.UseBroadcastThumbs?(n=l.generateDynamicApi("BROADCAST_THUMB_DYNAMIC")+"/"+e.broadcastId+"/"+e.broadcastId+".jpg",t&&(n=s.imageApis.broadcast+"/"+e.broadcastId+"/"+e.broadcastId+".jpg")):n=e.tag&&e.tag.length>0&&e.broadcastId&&s.settings.UseBroadcastThumbs?s.imageApis.broadcast+"/"+e.broadcastId+"/"+e.broadcastId+".jpg":s.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+e.userId,n};n.selectUser=function(e,t,a){if(n.selectingUser=e,e&&e.tag){var i=c.exploreBroadcaster&&c.exploreBroadcaster.userId?c.exploreBroadcaster.userId:0;l.get("BROADCAST_INFO",{channelId:e.userId,curId:i}).success(function(i){return n.selectingUser=!1,void 0===i.user||null===i.user?(t||n.showProfileSummary(e.userId),!1):(i.user.displayName=l.fullName(i.user),n.broadcast=i,a?(n.showBroadcast(),!1):(n.showMiniplayer=!0,c.exploreBroadcaster=n.broadcast,void w()))},function(){n.selectingUser=!1})}else w(),!t&&e&&n.showProfileSummary(e.userId)};var w=function(){f.notifySubscribers("broadcaster:beforeChange",{}),c.exploreBroadcaster=c.channelFormat(c.exploreBroadcaster),c.updateBc(c.exploreBroadcaster)};n.showProfileSummary=function(e){o.profileSummary(e)};var S=function(){l.get("YOUNOW_VIPS",{locale:s.UILocale}).then(function(e){if(e.data.users&&e.data.users.length>0){for(var t in e.data.users)"https:"===window.location.protocol&&-1===e.data.users[t].thumbnail.indexOf("https")&&(e.data.users[t].thumbnail=e.data.users[t].thumbnail.replace("http","https")),e.data.users[t].name=l.fullName(e.data.users[t]);n.vips={list:e.data.users}}})},_=function(e){l.get("YOUNOW_FEATURED_ON_TOPIC_USERS",{locale:s.UILocale,tag:e},!0).then(function(e){n.eps={list:e.data.featuredUsers}})};n.showTag=function(e,n){p.trackClick("TAG",{field1:"EXPLORE"}),e.stopPropagation(),d.go(d.current,{tag:n,q:void 0},{reload:!0}),t.gaEvent("Conversion","Click Tag",p.getUserLocation()||"ANCILLARY")},n.showBroadcast=function(){c.updateBroadcaster(n.broadcast),c.showBroadcaster()},n.trackBroadcaster=function(){p.trackClick("BROADCASTER")},n.expandInfiniteBroadcasters=function(e,t){var n=document.getElementById(e);n.height=n.height+(t||100)},n.$on("$destroy",function(){f.notifySubscribers("broadcast:end",n.broadcast),t.banners&&t.banners.sticky&&t.banners.sticky.active&&l.closeTopBanner(t.banners.sticky.group)})}).directive("topBroadcastersHeight",function(e){return function(t,n,a){angular.element(e).on("scroll",function(){n[0].style["max-height"]="calc(100vh + "+this.pageYOffset+"px - 400px)"}),t.$on("$destroy",function(){angular.element(e).off("scroll")})}}),angular.module("younow.missing",[]).config(["$stateProvider",function(e){e.state("main.missing",{url:"",templateUrl:"angularjsapp/src/app/states/main/missing/missing.tpl.html",controller:"MissingCtrl"})}]).controller("MissingCtrl",["$scope","$location",function(e,t){e.username=t.path().split("/")[1]}]),angular.module("younow.settings",[]).config(["$stateProvider",function(e){e.state("main.settings",{url:"/settings",templateUrl:"angularjsapp/src/app/states/main/settings/settings.tpl.html",controller:"SettingsCtrl",params:{section:null}})}]).controller("SettingsCtrl",["$scope","$window","$timeout","$state","Api","session","config","Facebook","eventbus","trackingPixel","$modal","ab","$stateParams","$location",function(e,t,n,a,i,r,o,s,l,c,u,d,p,f){p.section&&f.hash(p.section),e.editing=!0,e.session=r;var h;e.fbPages={},e.config=o,e.onbehalf={userId:0},e.emailRegex=/^((\"[^\"\f\n\r\t\v\b]+\")|([\w\!\#\$\%\&\'\*\+\-\~\/\^\`\|\{\}]+(\.[\w\!\#\$\%\&\'\*\+\-\~\/\^\`\|\{\}]+)*))@((\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9\-])+\.)+[A-Za-z\-]+))$/,e.checkWebsiteUrl=function(){var t=/((http[s]?:\/{2})?www.facebook.com\/.+)/;t.test(e.settings.user.websiteUrl)?(e.toEdit("websiteUrl",e.settings.user.websiteUrl),e.websiteUrlError=!1):(e.edits&&e.edits.websiteUrl&&delete e.edits.websiteUrl,e.websiteUrlError=!0)},e.newSubscription=function(e,t){var n=u.subscribeModal(e,{source:"SETTINGS"});n.result.then(function(e){window.YouNow.reloadSubscriptions&&m("SETTINGS"),window.YouNow.reloadSubscriptions=!1}),n.result["catch"](function(e){window.YouNow.reloadSubscriptions&&m("SETTINGS"),window.YouNow.reloadSubscriptions=!1})},e.modifySubscription=function(e,t){u.subscribeModal(e,{sub:t,state:"payment",source:"SETTINGS"})},e.cancelSubscription=function(e,t){u.subscribeModal(e,{sub:t,state:"cancel",source:"SETTINGS"})};var m=function(t){r.loggedIn&&i.get("CHANNEL_SUBSCRIPTIONS",{userId:e.onbehalf.userId}).success(function(t){if(e.subscriptions={},t.errorCode)i.showError(t);else for(var n in t.subscriptions){e.subscriptions[n]=t.subscriptions[n],e.subscriptions[n].subscriptionState.indexOf("CANCEL")>-1?delete e.session.subStatus[e.subscriptions[n].channelId]:e.session.subStatus[e.subscriptions[n].channelId]=!0;var a={1:{name:"iOS",url:"http://www.apple.com/itunes/",manager:"iTunes"},2:{name:"Android",url:"https://play.google.com/store/account",manager:"Google Play"},3:{name:"YouNow.com"}};e.subscriptions[n].channelBadge=o.settings.BadgeBaseUrl+"/"+e.subscriptions[n].channelId+"/"+e.subscriptions[n].subscriptionType+"/badge@2x.png",e.subscriptions[n].channelThumb=o.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+e.subscriptions[n].channelId,e.subscriptions[n].channelNoThumb=o.settings.ServerCDNBaseUrl+"/images/nothumb.jpg",e.subscriptions[n].subscriptionPlatform=a[e.subscriptions[n].subscriptionPlatform]}})};f.hash()&&-1!==["accounts","privacy","notifications","subscriptions"].indexOf(f.hash())?e.page=f.hash():e.page="info","?err="==t.location.search.substr(0,5)&&i.showTopNotification("Uh oh! You don't have an active YouTube account!");var v=function(){r.loggedIn&&(0===e.onbehalf.userId&&(e.onbehalf.userId=r.user.userId),i.get("CHANNEL_SETTINGS",{userId:e.onbehalf.userId}).success(function(t){t.directStreaming&&(t.directStreaming.url="rtmp://"+t.directStreaming.host+"/liveapp"),t.user&&(angular.forEach(t.options,function(e){8==e.optionValue&&(t.pubTwitter=e),32==e.optionValue&&(t.keepYoutube=e),64==e.optionValue&&(t.pubFacebook=e),256==e.optionValue&&(t.youtubeSimulcast=e),512==e.optionValue&&(t.hideCity=e),1024==e.optionValue&&(t.youtubeAnnotations=e),4096==e.optionValue&&(t.pubTumblr=e),8192==e.optionValue&&(t.getUpdates=e)}),t.user.useprofile=Number(t.user.useprofile),e.settings=t),t.user||n(function(){i.showError(t),a.go("main.channel.detail")},0)}))};e.fetchSettings=function(){v()},r.loggedIn&&(v(),m()),l.subscribe("session:loggedIn",function(e,t){t?(v(),m()):n(function(){a.go("main.channel.detail")},0)},"settings",e),e.switchTab=function(n){e.page=n,t.location.hash="#"+e.page},e.startEdit=function(){e.editing=!0},e.cancelEdit=function(){e.editing=!1,v()},e.toEdit=function(t,n){return e.editing=!0,"placeholder"==n?(e.edits&&e.edits[t]&&delete e.edits[t],!1):(e.edits||(e.edits={}),void(e.edits[t]=n))},e.toEditGoodies=function(t,n){e.editing=!0,e.edits||(e.edits={}),e.edits.disabledGoodies||(e.edits.disabledGoodies={}),e.edits.disabledGoodies[t]=n},e.saveChanges=function(){if(e.infoForm.$invalid)return"info"!==e.page&&(e.page="info"),l.notifySubscribers("settings:invalid"),!1;if(e.edits){e.edits.userId=e.onbehalf.userId,e.edits.channelId=e.onbehalf.userId;for(var t in e.edits.disabledGoodies){var n={event:"GOODIE_ON",extradata:t};e.edits.disabledGoodies[t]&&(n.event="GOODIE_OFF"),c.capture(n)}e.edits.disabledGoodies=JSON.stringify(e.edits.disabledGoodies),i.post("CHANNEL_UPDATE_SETTINGS",e.edits).success(function(e){e.errorCode?i.showError(e):i.showTopNotification("Settings Saved","success"),v(),r.getSession()}),e.edits.facebookPageId&&(e.settings.websiteUrl="https://www.facebook.com/pages/"+e.edits.facebookPageTitle+"/"+e.edits.facebookPageId,e.settings.user.facebookPageId=e.edits.facebookPageId,e.settings.user.facebookPageToken=e.edits.facebookPageToken,e.settings.user.facebookPageTitle=e.edits.facebookPageTitle,e.gaEvent("CONNECT","SUCCESS_FBPAGES","SETTINGS")),delete e.edits}e.fbPages.editing=!1,e.editing=!1},e.disconnect=function(t){var n={userId:e.onbehalf.userId,channelId:e.onbehalf.userId};"deactivation"===t?n.deactivation=1:n[t+"Connected"]=0,"facebook"===t&&(n.facebookPageConnected=0,n.facebookOption=0,n.option_64=0),i.store("lastNetwork")&&"deactivation"===t&&r.authenticate[i.store("lastNetwork")](!0).then(function(t){if(t){t.locale=o.UILocale,t.channelId=e.onbehalf.userId||t.channelId,t.inviteString=r.inviteString||r.channelId,t.srcId=r.srcId||0,t.tmsid=window.YouNow.Bootstrap.tmId||"",t.userId=e.onbehalf.userId;var a=angular.extend({},n,t);i.post("CHANNEL_UPDATE_SETTINGS",a).success(function(t){t.errorCode?i.showError(t):(e.terminating=!1,e.terminated=!0,i.showTopNotification("Logging you out...","success"),r.logout()),v()})}}),"deactivation"!==t&&i.post("CHANNEL_UPDATE_SETTINGS",n).success(function(e){e.errorCode?i.showError(e):(i.showTopNotification("Account Disconnected","success"),r.getSession()),v()})},e.loadFbPages=function(){e.fbPages.editing=!0,e.fbPages.hasPages=!0,e.fbPages.pages&&0!==e.fbPages.pages.length?(e.fbPages.fbPageSelected=e.fbPages.pages[0],e.updateFbPage()):(e.gaEvent("CONNECT","ATTEMPT_FBPAGES","SETTINGS"),s.getPagesList().then(function(t){t.data.length>0?(h=t.authResponse,e.fbPages.pages=t.data,e.fbPages.fbPageSelected=t.data[0],e.updateFbPage(),e.fbPages.hasPages=!0):(e.fbPages.hasPages=!1,e.gaEvent("CONNECT","ERROR_FBPAGES","SETTINGS"))}))},e.changeFbState=function(t){"cancel"===t&&(e.fbPages.editing=!1,e.fbPages.fbPageSelected=void 0,e.edits&&e.edits.facebookPageTitle&&(delete e.edits.facebookPageToken,delete e.edits.facebookPageTitle,delete e.edits.facebookPageId)),"disconnect"===t&&(e.updateFbPage(!0),e.toEdit("option_64",0),e.saveChanges())},e.updateFbPage=function(t){t?(e.toEdit("facebookPageConnected",0),e.toEdit("facebookOption",0),delete e.edits.facebookPageToken,delete e.edits.facebookPageTitle,delete e.edits.facebookPageId):(e.toEdit("facebookOption",1),e.toEdit("facebookPageTitle",angular.copy(e.fbPages.fbPageSelected.name)),e.toEdit("facebookPageId",angular.copy(e.fbPages.fbPageSelected.id)),e.edits.facebookPageToken&&h.accessToken===e.edits.facebookPageToken||e.toEdit("facebookPageToken",h.accessToken))},e.onbehalf.reset=function(){e.onbehalf.userId=r.user.userId,v(),m()},e.onbehalf.update=function(){v(),m()},e.checkYoutube=function(t){1===t&&i.get("CHANNEL_YOUTUBE_LIVE_ENABLED",{userId:e.onbehalf.userId}).success(function(t){0!==t.errorCode&&(e.settings.youtubeSimulcast.state=0,e.toEdit("option_256",0),i.showTopNotification('Live streaming is not enabled on your Youtube account: <a target="_blank" href="https://www.youtube.com/live_streaming_signup">https://www.youtube.com/live_streaming_signup</a>',"danger",!1,!1,5e3))})},e.togglePushSubscribed=function(e){var t={field3:i.os.name.split(" ")[0],field4:i.browser.name.split(" ")[0],field7:i.store("oneSignalId")};1===e?(window.OneSignal.push(["setSubscription",!0]),t.event="SETTINGS_OPT_IN"):(window.OneSignal.push(["setSubscription",!1]),t.event="SETTINGS_OPT_OUT"),c.capture(t)},o.init.then(function(){window.OneSignal.push(["isPushNotificationsEnabled",function(t){t?(e.pushSubscribed=1,e.pushEnabled=!0):window.OneSignal.getSubscription().then(function(t){t||(e.pushSubscribed=0,e.pushEnabled=!0)})}])}),e.resetStreamKey=function(){i.post("CHANNEL_RESET_STREAM_KEY",{userId:e.onbehalf.userId,channelId:e.onbehalf.userId}).success(function(t){t.errorCode?i.showError(t):e.settings.directStreaming.stream=t.streamKey})},e.locale=[],angular.forEach(o.settings.Locales,function(t,n){var a={code:t.loc[0],name:t.name};a.code||("English"==a.name&&(a.code="en"),"Worldwide"==a.name&&(a.code="ww")),e.locale.push(a)}),e.locale.sort(function(e,t){return e.name===t.name?0:e.name>t.name?1:-1}),e.locale.unshift({code:"placeholder",name:"Please Select"}),e.state=[{code:"placeholder",name:"Please Select"},{code:"",name:""},{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],e.country=[{code:"placeholder",name:"Please Select"},{code:"AF",name:"Afghanistan"},{code:"AX",name:"Aland Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, The Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See (Vatican City State)"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"CI",name:"Ivory Coast"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"
},{code:"LR",name:"Liberia"},{code:"LY",name:"Libyan Arab Jamahiriya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MK",name:"Macedonia, The Former Yugoslav Republic of"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia, Federated States of"},{code:"MD",name:"Moldova, Republic of"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"AN",name:"Netherlands Antilles"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Territory, Occupied"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barth"},{code:"SH",name:"Saint Helena"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SZ",name:"Swaziland"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"US",name:"United States"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Viet Nam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis And Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}],e.tshirt=[{code:"placeholder",name:"Select a size..."},{code:"s",name:"Small"},{code:"m",name:"Medium"},{code:"l",name:"Large"},{code:"xl",name:"X-Large"}],e.gender=[{code:"placeholder",name:"Select a gender..."},{code:"male",name:"Male"},{code:"female",name:"Female"}],e.youtubePrivacy=[{code:"unlisted",name:"Unlisted"},{code:"public",name:"Public"},{code:"private",name:"Private"}];var b=["locale","state","country","gender","tshirt","youtubePrivacy"];e.select={},angular.forEach(b,function(t){e.select[t]={},angular.forEach(e[t],function(n){e.select[t][n.code]=n.name})})}]).directive("ynValid",["Api","$compile","eventbus",function(e,t,n){return{restrict:"A",scope:{message:"@",isValid:"="},link:function(t,a,i){function o(){-1!==a[0].className.indexOf("ng-invalid")&&e.triggerTooltip(a,2500)}var r=a[0].tagName;("TEXTAREA"==r||"INPUT"==r)&&a.on("blur",o),n.subscribe("settings:invalid",o,i.name,t)}}}]),angular.module("younow.channel.momentDeeplink",[]).config(["$stateProvider",function(e){e.state("main.channel.moment",{controller:"MomentDeeplinkCtrl",controllerAs:"vm",templateUrl:"angularjsapp/src/app/states/main/channel/moment/moment-deeplink.tpl.html",url:"/:profileUrlString/:entityId/:inviteString/:srcId/m/:copy",params:{profileUrlString:{value:null,squash:!1},entityId:{value:null,squash:!1},inviteString:{value:null,squash:!1},srcId:{value:null,squash:!1},copy:{value:null,squash:!0}}})}]).controller("MomentDeeplinkCtrl",function(e,t,n,a,i,r,o){var s=this;s.imageApis=n.imageApis,o.momentVolume=100,s.openProfile=function(e){r.$parent.showProfileSummary(e)},s.deleteMoment=function(){e.showTopNotification(a("translate")("moment_deleted"),"success"),i.go("main.channel.detail",{profileUrlString:t.profileUrlString})},e.get("MOMENT_FETCH",{id:t.entityId}).then(function(n){n.data&&n.data.item?(s.moment=n.data.item,s.title=e.parseMomentType(n.data.item.titleType)):n.data&&n.data.errorCode>0&&(e.showTopNotification(a("translate")("moment_not_found")),i.go("main.channel.detail",{profileUrlString:t.profileUrlString}))})}),angular.module("younow.channel.momentCollectionDeeplink",[]).config(["$stateProvider",function(e){e.state("main.channel.momentCollection",{controller:"MomentCollectionDeeplinkCtrl",controllerAs:"vm",templateUrl:"angularjsapp/src/app/states/main/channel/moment-collection/moment-collection-deeplink.tpl.html",url:"/:profileUrlString/:entityId/:inviteString/:srcId/b/:copy",params:{profileUrlString:{value:null,squash:!1},entityId:{value:null,squash:!1},inviteString:{value:null,squash:!1},srcId:{value:null,squash:!1},copy:{value:null,squash:!0}}})}]).controller("MomentCollectionDeeplinkCtrl",function(e,t,n,a,i,r,o){var s=this;s.imageApis=n.imageApis,s.updateMoment=function(t){s.title=e.parseMomentType(t.titleType),s.currentMoment=t},s.openProfile=function(e){o.$parent.showProfileSummary(e)},s.deleteMoment=function(){e.showTopNotification(a("translate")("moment_deleted"),"success"),i.go("main.channel.detail",{profileUrlString:t.profileUrlString})},r.getBroadcaster(t.profileUrlString,!0).then(function(n){!n.data||n.data.errorCode>0&&206!=n.data.errorCode?i.go("main.channel.detail",{profileUrlString:t.profileUrlString}):n.data.broadcastId!==t.entityId?e.get("MOMENT_COLLECTION",{broadcastId:t.entityId}).then(function(n){if(!n.data||n.data.errorCode>0||!n.data.moments||0===n.data.moments.length)e.showTopNotification(a("translate")("collection_not_found")),i.go("main.channel.detail",{profileUrlString:t.profileUrlString});else if(n.data.moments&&n.data.moments.length>0){n.data.type="collection",n.data.originalType="collection",n.data.firstMoment=n.data.moments[0],n.data.momentsIds=[],n.data.collectionId=t.entityId;for(var r=0;r<n.data.moments.length;r++)n.data.momentsIds.push(n.data.moments[r].momentId);s.title=e.parseMomentType(n.data.moments[0].titleType),s.currentMoment=n.data.firstMoment,s.moments=n.data}}):i.go("main.channel.detail",{profileUrlString:t.profileUrlString})})}),angular.module("younow.main",["ui.router","younow.header","younow.footer","younow.leftsidebar","younow.activity-panel","younow.explore","younow.momentsFeed","younow.settings","younow.leaderboards","younow.channel"]).config(["$stateProvider",function(e){e.state("main",{url:"","abstract":!0,templateUrl:"angularjsapp/src/app/states/main/main.tpl.html",controller:"MainCtrl"})}]).controller("MainCtrl",function(e,t,n,a,i,r,o,s,l,i,c,u,d){e.session=i,e.broadcasterService=o,(/Android/i.test(navigator.userAgent)||/BlackBerry/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)||/IEMobile/i.test(navigator.userAgent))&&(window.location.href="/"),e.session=i,e.closeNotification=function(e){r.closeTopNotification(e)},e.closeBanner=function(e){r.closeTopBanner(e)},e.onboardingCTA=function(){s.trackClick("BANNER"),t.gaEvent("Conversion","Click Welcome Banner CTA",s.getUserLocation()||"ANCILLARY"),r.closeTopBanner("sticky")},t.skipAgeGate&&(t.skipAgeGate=!1,n.ageGate());var p={};p.fan=function(){if(!o.broadcaster||o.broadcaster.userId==i.loginData.id)return!1;var e={userId:i.loginData.id,channelId:o.broadcaster.userId,broadcastId:o.broadcaster.broadcastId};r.post("channel/fan",e).then(function(e){e.data&&!e.data.errorCode&&(i.fanStatus[o.broadcaster.userId]=!0,o.broadcaster.totalFans=o.broadcaster.totalFans+1,r.showTopNotification(d("translate")("autofan_congrats",{value:o.broadcaster.profile||o.channel.profile}),"success",!1,!1,5e3))})},p.oldBroadcastId=0,p.watchedTime=0,p.show=function(){i.user.userId||s.capture({event:"REGISTER_PROMPT"}),u.cancel(p.watch)},p.check=function(){i.user&&!i.user.userId&&o.broadcaster&&o.broadcaster.broadcastId&&(o.broadcaster.broadcastId!=p.oldBroadcastId?p.watchedTime=0:(p.watchedTime=p.watchedTime+1e3,12e4==p.watchedTime&&p.show()),p.oldBroadcastId=o.broadcaster.broadcastId)},!i.autofanned&&i.loginData&&i.loginData.newUser&&(i.autofanned=!0,p.fan()),p.watch=u(p.check,1e3),e.$on("$destroy",function(){u.cancel(p.watch)})}),angular.module("younow.partner",["ui.router","younow.services.utils"]).config(["$stateProvider","$urlRouterProvider","ApiProvider",function(e,t,n){n.reRouteHandler("/partner/earnings","/partners/earnings"),n.reRouteHandler("/partner","/partners"),n.reRouteHandler("/partners/","/partners"),n.reRouteHandler("/partner.php","/partners"),e.state("/partners/earnings",{url:"/partners/earnings/:userId",templateUrl:"angularjsapp/src/app/states/partner/earnings.tpl.html",params:{userId:{value:null,squash:!0}},controller:"TempPartnerEarningsCtrl",controllerAs:"vm"}).state("/partners/faq",{url:"/partners/faq",templateUrl:"angularjsapp/src/app/states/partner/faq.tpl.html",controller:"partnerCtrl",controllerAs:"vm"}).state("/partners",{url:"/partners",templateUrl:"angularjsapp/src/app/states/partner/partner.tpl.html",controller:"partnerCtrl",controllerAs:"vm"}).state("/partners/payment-settings",{url:"/partners/payment-settings",templateUrl:"angularjsapp/src/app/states/partner/payment-settings.tpl.html",controller:"paymentSettingsCtrl",controllerAs:"vm"})}]).controller("TempPartnerEarningsCtrl",function(e,t,n){var a=this;t.init.then(function(){a.PARTNER_EARNINGS_PAGE="angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/"+e.variant("PARTNER_EARNINGS_PAGE")+".tpl.html"})}).controller("paymentSettingsCtrl",function(e,t,n){function i(){var e=new window.UAParser,t=e.getDevice();return t.type}function r(){var n=i();if("mobile"===n)a.mobile=!0;else{var r=e.get("STORE_TIPALTI_IFRAME_SRC",{userId:t.user.userId,lang:t.user.language});r.then(function(e){a.iframeSrc=e.data.iframeSrc})}}var a=this;a.session=t,a.iframeSrc="",a.mobile=!1,n.init.then(function(){r()})}).directive("tipaltiIframe",function(){return{restrict:"E",template:'<iframe id="tipaltiIframe" ng-src="{{vm.iframeSrc}}"></iframe>',replace:!0,scope:!0,link:function(e,t,n){var a=function(e){e.data&&e.data.TipaltiIframeInfo&&(e.data.TipaltiIframeInfo.height&&t.css({height:e.data.TipaltiIframeInfo.height+20+"px"}),e.data.TipaltiIframeInfo.width&&t.css({width:e.data.TipaltiIframeInfo.width+40+"px"}))},i=e.$watch(function(){return t[0].src},function(e,t){e&&e.length>0&&(window.addEventListener?window.addEventListener("message",a,!1):window.detachEvent("onmessage",a),i())});e.$on("$destroy",function(){window.addEventListener?window.removeEventListener("message",a,!1):window.detachEvent("onmessage",a)})}}}).controller("partnerCtrl",["$scope","$rootScope","Api","$state","session","$location","$http","config","$sce","$timeout","eventbus","$compile",function(e,t,n,a,i,r,o,s,l,c,u,d){var p=this;p.session=i,p.config=s,p.submitAgreeForm=function(){return p.agreeFormInvalid=!1,p.agreeFormChecked?(p.agreeFormProcessing=!0,void n.post("PARTNER_FORM",{userId:i.user.userId,channelId:i.user.userId,agree:1}).success(function(e,t,n,r){p.agreeFormProcessing=!1,p.agreeFormSuccess=!0,7===i.user.partner?a.go("/partners/earnings"):i.user.partner=1}).error(function(e,t,n,a){p.agreeFormProcessing=!1,p.agreeFormError=!0})):(p.agreeFormInvalid=!0,!1)},p.enablePendingForm=function(){p.pendingForm={}},p.submitPendingForm=function(){return p.pendingFormSubmitted=!0,p.pendingForm.name?(p.pendingFormProcessing=!0,void n.post("PARTNER_FORM",{userId:i.user.userId,channelId:i.user.userId,fullName:p.pendingForm.name,email:p.pendingForm.email,phone:p.pendingForm.phone,socialLinks:p.pendingForm.social,description:p.pendingForm.about}).success(function(e,t,n,r){p.pendingFormProcessing=!1,e.errorCode||(p.pendingFormSuccess=!0,i.user.partner=3,a.go(a.current,{},{reload:!0}))}).error(function(e,t,n,a){p.pendingFormProcessing=!1,p.pendingFormError=!0})):!1},p.getUsername=function(){return i.user.profile},p.validatePhonePattern=function(){var e=/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/;return{test:function(t){return e.test(t)}}}(),p.validateEmailPattern=function(){var e=/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/;return{test:function(t){return e.test(t)}}}(),p.goToFaq=function(){a.go("/partners/faq")};var f=function(){if(i.loggedIn)h();else if(!e.autoLoginAttempted){e.autoLoginAttempted=!0;var t=i.showLoginModal("","PARTNERS_FAQ").result.then(f);t.result.then(function(){h()}),t.result["catch"](function(){a.go("/partners")})}h()},h=function(){if(1==i.user.partner||2==i.user.partner||3==i.user.partner||4==i.user.partner||6==i.user.partner||7==i.user.partner){if(e.gotIn)return!1;e.gotIn=!0,o.get("https://api.github.com/repos/younow/younow.github.io/contents/policy/en/partners_faq.md",{headers:{Accept:"application/vnd.github.v3.html"}}).success(function(t){t=t.replace(/<li([\sa-zA-Z0-9"'=-]*)>/gi,function(e){return'<li li-collapsed><i class="ynicon ynicon-btn-next"></i>'}),t=t.replace(/EMBED-VIDEO/,'<iframe src="https://player.vimeo.com/video/130339308" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> '),e.showFooter=!0;var n=angular.element(document.getElementById("partnersFaqContent")).html(d(t)(e));c(function(){n.find("article").length&&(e.infoPartnersFaqReady=!0)})})}else i.user&&i.user.loggedIn||a.go("/partners")};"/partners/faq"==a.current.url&&(u.subscribe("session:loggedIn",f,"partners-faq",e),e.$watch("session.user",function(){c(function(){i.user&&i.user.loggedIn||f()},500)}))}]).directive("liCollapsed",["$compile",function(e){return{restrict:"A",link:function(e,t,n){t[0].classList.add("liCollapsed"),t.on("click",function(){var e=!1;t[0].classList.contains("selected")&&(e=!0);var n=document.querySelectorAll(".liCollapsed");[].forEach.call(n,function(e){e.classList.remove("selected")}),e||t[0].classList.add("selected")})}}}]),angular.module("younow.policy",["ui.router"]).config(["$stateProvider",function(e){e.state("policy",{url:"/policy/:locale/:doc",templateUrl:"angularjsapp/src/app/states/policy/policy.tpl.html",controller:"PolicyCtrl"})}]).controller("PolicyCtrl",function(e,t,n,a,i,r,o){e.sections=[],t.get("https://api.github.com/repos/younow/younow.github.io/contents/policy/"+a.locale+"/"+a.doc+".md",{headers:{Accept:"application/vnd.github.v3.html"}}).success(function(t){e.docContent=n.trustAsHtml(t),i(function(){var t=angular.element(document.getElementById("docs")),n=t.find("td");e.docTitle=angular.element(n[0]).text(),"ME"==angular.element(n[2]).text()&&(e.rtl=!0),angular.forEach(t.find("h2"),function(t){var n=angular.element(t);e.sections.push({innerText:n.text(),offsetTop:n[0].offsetTop})}),e.ready=!0})}),e.scrollTo=function(e){r.scrollTopAnimated(e,1e3)}}),angular.module("younow.streetteam",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("streetteam",{url:"/streetteam/:profile",templateUrl:"angularjsapp/src/app/states/streetteam/streetteam.tpl.html",controller:"streetTeamCtrl",controllerAs:"vm"})}]).controller("streetTeamCtrl",function(e,t,n,a,i,r){var o=this;o.getData=function(e){var n={profile:t.profile,userId:i.user.userId};e&&o.data&&(n.optin=o.data.optin?0:1),a.post("channel/streetTeam",n).then(function(e){e.data.template&&(o.data=e.data,o.data.template.html=a.trustedHTML(o.data.template.message))})},o.toggle=function(){i.user&&i.user.userId?o.getData(!0):i.showLoginModal("","STREETTEAM")},o.goBack=function(){e.go("main.channel.detail")},r.init.then(function(){o.getData()})}),function(){angular.module("younow.leaderboard",[]).directive("leaderboardHeader",function(){return{restrict:"E",templateUrl:"angularjsapp/src/app/states/main/leaderboards/leaderboard-header.tpl.html",scope:{title:"@",icon:"@",time:"@"},link:function(e){function t(t){e.color=e.leaderBoardColors[t]}e.color="",e.leaderBoardColors={leaderboards_top_broadcasters:"#9332fc",leaderboards_top_fans:"#fc3293",leaderboards_top_moment_create:"#0293fc",leaderboards_editors_choice:"#7ed321"},t(e.title)}}}).directive("leaderboard",function(e,t,n){return{restrict:"E",templateUrl:"angularjsapp/src/app/states/main/leaderboards/leaderboard-single.tpl.html",scope:{list:"=",target:"@"},link:function(a){a.cells=a.list.pageList,a.dataTracking={editors_choice:"LEADERBOARD_EDITORSCHOICE",top_broadcasters:"LEADERBOARD_TOPBROADCASTER",top_fans:"LEADERBOARD_TOPFAN",moment_creators:"LEADERBOARD_MAKER"},a.showProfileSummary=function(i,r,o){e.profileSummary(i,r,o),t.capture({event:"CLICK",userid:n.user.userId,doorid:i,extradata:a.dataTracking[a.target]},t.captureGroups.trackevents)}}}})}(),angular.module("younow.leaderboards",[]).config(function(e){e.state("main.leaderboards",{url:"/leaderboards",templateUrl:"angularjsapp/src/app/states/main/leaderboards/leaderboards.tpl.html",controller:"LeaderboardCtrl",controllerAs:"vm"})}).controller("LeaderboardCtrl",function(e,t,n,a){function o(t){e.get(t.params.apiMap,t.params).then(function(n){for(var a=0;a<n.data.users.length;a++){var r=n.data.users[a];r.src=i.imageApis.thumb+r.userId,r.position=(10*t.params.page+(a+1)).toString(),r.likes&&(r.likes=e.squashedNumber(r.likes,2)),r.totalFans&&(r.totalFansSquashed=e.squashedNumber(r.totalFans,2)),r.broadcasters&&(r.fanList=l(r.broadcasters.names,r.broadcasters.count,r.moreFans)),t.list.push(n.data.users[a])}s(t)})}function s(e){i.fetchMoreInLeaderBoard(e)}function l(e,t,n){var a="",i="";return t>3?(a=" + "+(t-1).toString(),i=e[0].concat(a),n=!0):i=e[0],i}var i=this;i.session=t,i.imageApis=n.imageApis;var r=n.UILocale;n.init.then(function(){a.capture({event:"PAGE_VIEW",extradata:"LEADERBOARDS",userid:i.session.user.userId},a.captureGroups.trackevents)}),i.leaderboards={topBroadcasters:{list:[],pageList:[],params:{apiMap:"YOUNOW_LB_TOP_BROADCASTERS",locale:r,page:0,records:100},time:"",hasMore:!0},topFans:{list:[],pageList:[],params:{apiMap:"YOUNOW_LB_TOP_SPENDERS",locale:r,page:0,records:100},time:"",hasMore:!0},momentCreators:{list:[],pageList:[],params:{apiMap:"YOUNOW_LB_TOP_CREATORS",locale:r,page:0,records:100},time:"",hasMore:!0},editorsChoice:{list:[],pageList:[],params:{apiMap:"YOUNOW_LB_EDITORS_CHOICE",locale:r,page:0,records:100},time:"",hasMore:!0}},i.fetchLeaderboards=function(){o(i.leaderboards.topBroadcasters),o(i.leaderboards.topFans),o(i.leaderboards.momentCreators),o(i.leaderboards.editorsChoice)},i.fetchMoreInLeaderBoard=function(e){for(var t=e.params.page,n=e.list.slice(10*t,10*t+10),a=0;a<n.length;a++)e.pageList.push(n[a]);e.params.page+=1},i.fetchLeaderboards()}),angular.module("younow.momentsFeed",[]).config(function(e){e.state("main.momentsFeed",{url:"/moments",templateUrl:"angularjsapp/src/app/states/main/moments-feed/moments-feed.tpl.html",controller:"MomentsFeedCtrl",controllerAs:"vm"})}).controller("MomentsFeedCtrl",function(e,t,n,a,i,r,o,s,l){var c=this,u=20,d=0,p={};c.moments=[],c.finished=!1,s.momentVolume=100,c.getItems=function(){c.finished=!0,a.get(a.generateDynamicApi("MOMENT_FEED"),{userId:i.user.userId,page:d++,records:u}).then(function(e){if(e.data&&e.data.items){for(var t=0;t<e.data.items.length;t++){var n=e.data.items[t].momentId||e.data.items[t].collectionId;o.parseMomentType(e.data.items[t]),a.addUniqueItem(c.moments,p,e.data.items[t],n)}c.finished=!e.data.hasMore}})},c.removeFromFeed=function(e){for(var t=0;t<c.moments.length;t++)c.moments[t].momentId===e.momentId&&(c.moments.splice(t,1),p[e.momentId]=null)},l.subscribe("session:loggedIn",function(e,n){n||t.go("main.channel.detail")},"momentfeed",n),r.init.then(function(){i.user&&i.user.userId>0?c.getItems():t.go("main.channel.detail")})}),angular.module("younow.missing",[]).config(["$stateProvider",function(e){e.state("main.missing",{url:"",templateUrl:"angularjsapp/src/app/states/main/missing/missing.tpl.html",controller:"MissingCtrl"})}]).controller("MissingCtrl",["$scope","$location",function(e,t){e.username=t.path().split("/")[1]}]),angular.module("templates",["angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html","angularjsapp/src/app/components/agreement-acceptance-modal/agreement-acceptance-modal.tpl.html","angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html","angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html","angularjsapp/src/app/components/buybars-modal/buybars.tpl.html","angularjsapp/src/app/components/chat/chat-panel.tpl.html","angularjsapp/src/app/components/chat/chat.tpl.html","angularjsapp/src/app/components/chat/promo-widget.tpl.html","angularjsapp/src/app/components/chat/selfie-view.tpl.html","angularjsapp/src/app/components/confirm-modal/confirm.tpl.html","angularjsapp/src/app/components/download-broadcast-modal/download-broadcast.tpl.html","angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html","angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html","angularjsapp/src/app/components/fan-button/fan-button.tpl.html","angularjsapp/src/app/components/footer/footer.tpl.html","angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html","angularjsapp/src/app/components/guest-button/guest-button.tpl.html","angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html","angularjsapp/src/app/components/header/header.tpl.html","angularjsapp/src/app/components/header/searchresult.tpl.html","angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html","angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html","angularjsapp/src/app/components/login-modal/login-modal.tpl.html","angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html","angularjsapp/src/app/components/mention/mention-dropup.tpl.html","angularjsapp/src/app/components/mention/mention.tpl.html","angularjsapp/src/app/components/mini-player/mini-player.tpl.html","angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html","angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html","angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html","angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html","angularjsapp/src/app/components/moment-panel/moment-panel.tpl.html","angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html","angularjsapp/src/app/components/post/embed/archive.tpl.html","angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html","angularjsapp/src/app/components/post/embed/iframe.tpl.html","angularjsapp/src/app/components/post/embed/link.tpl.html","angularjsapp/src/app/components/post/embed/snapshot.tpl.html","angularjsapp/src/app/components/post/embed/uploadimage.tpl.html","angularjsapp/src/app/components/post/embed/video.tpl.html","angularjsapp/src/app/components/post/moment-highlight/moment-dynamic-highlight.tpl.html","angularjsapp/src/app/components/post/moment-highlight/moment-highlight.tpl.html","angularjsapp/src/app/components/post/moment/moment.tpl.html","angularjsapp/src/app/components/post/post.tpl.html","angularjsapp/src/app/components/post/reply/reply.tpl.html","angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html","angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html","angularjsapp/src/app/components/search-bar/search-bar.tpl.html","angularjsapp/src/app/components/search-bar/search-results.tpl.html","angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html","angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html","angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html","angularjsapp/src/app/components/share-panel/share-panel.tpl.html","angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html","angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html","angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html","angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html","angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html","angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html","angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html","angularjsapp/src/app/components/user-badge/user-badge.tpl.html","angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html","angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html","angularjsapp/src/app/components/video-player/advanced-options.tpl.html","angularjsapp/src/app/components/video-player/mini-overlay.tpl.html","angularjsapp/src/app/components/video-player/player-footer.tpl.html","angularjsapp/src/app/components/video-player/player-header.tpl.html","angularjsapp/src/app/components/video-player/player-overlay.tpl.html","angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html","angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html","angularjsapp/src/app/components/vip-modal/welcome-modal.tpl.html","angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html","angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/A.tpl.html","angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/B.tpl.html","angularjsapp/src/app/states/about/about.tpl.html","angularjsapp/src/app/states/bigsister/bigsister.tpl.html","angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html","angularjsapp/src/app/states/home/home.tpl.html","angularjsapp/src/app/states/info/info.tpl.html","angularjsapp/src/app/states/jobs/jobs.tpl.html","angularjsapp/src/app/states/lockout/lockout.tpl.html","angularjsapp/src/app/states/main/channel/async/async.tpl.html","angularjsapp/src/app/states/main/channel/channel.tpl.html","angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html","angularjsapp/src/app/states/main/channel/live/live.tpl.html","angularjsapp/src/app/states/main/channel/moment-collection/moment-collection-deeplink.tpl.html","angularjsapp/src/app/states/main/channel/moment/moment-deeplink.tpl.html","angularjsapp/src/app/states/main/channel/post.tpl.html","angularjsapp/src/app/states/main/explore/explore.tpl.html","angularjsapp/src/app/states/main/leaderboards/leaderboard-header.tpl.html","angularjsapp/src/app/states/main/leaderboards/leaderboard-single.tpl.html","angularjsapp/src/app/states/main/leaderboards/leaderboards.tpl.html","angularjsapp/src/app/states/main/main.tpl.html","angularjsapp/src/app/states/main/missing/missing.tpl.html","angularjsapp/src/app/states/main/moments-feed/moments-feed.tpl.html","angularjsapp/src/app/states/main/settings/settings.tpl.html","angularjsapp/src/app/states/partner/earnings.tpl.html","angularjsapp/src/app/states/partner/faq.tpl.html","angularjsapp/src/app/states/partner/partials/active.tpl.html","angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html","angularjsapp/src/app/states/partner/partials/application_pending.tpl.html","angularjsapp/src/app/states/partner/partials/not.tpl.html","angularjsapp/src/app/states/partner/partials/pending.tpl.html","angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html","angularjsapp/src/app/states/partner/partner.tpl.html","angularjsapp/src/app/states/partner/payment-settings.tpl.html","angularjsapp/src/app/states/policy/policy.tpl.html","angularjsapp/src/app/states/streetteam/streetteam.tpl.html","angularjsapp/src/app/../core/states/content-creator/content-creator.tpl.html","template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html",'<div class="panel-body">\n<div class="friends-list mini-scroll" only-scroll ng-if="(onlineFriends.live.length > 0 || onlineFriends.online.length > 0) && panel.cdn !== undefined">\n\n<h1 class="friends-header secondary-text" ng-if="onlineFriends.live.length > 0" translate="_live"></h1>\n<div ng-repeat="liveFriend in onlineFriends.live | filter:friendfilter">\n\n<a class="activity" ng-href="/{{liveFriend.profile}}" prevent-default ng-click="panel.changeBroadcaster(liveFriend.channelId);panel.trackClickFriend( liveFriend, source, $index );">\n<div class="profile-img thumb" ng-style="::{\'background-image\': \'url(\'+panel.cdn.thumb+liveFriend.userId+\'), url(\'+panel.cdn.nothumb+\')\'}">\n<span class="live"><i class="ynicon ynicon-broadcast"></i></span>\n</div>\n<div class="status">\n<span class="name short-text">{{liveFriend.name}}</span>\n<span class="short-text current-activity"><i ng-if="liveFriend.tags[0]">#</i>{{liveFriend.tags[0]}}</span>\n<div ng-if="liveFriend.bars" class="bars-text">\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{liveFriend.bars | number}}\n</div>\n</div>\n</a>\n</div>\n<h1 class="friends-header secondary-text watching" ng-if="onlineFriends.online.length > 0" translate="_watching"></h1>\n<div ng-repeat="watchingFriend in onlineFriends.online | filter:friendfilter">\n\n<a class="activity" ng-href="/{{watchingFriend.profile}}" prevent-default ng-click="panel.changeBroadcaster(watchingFriend.channelId);panel.trackClickFriend( watchingFriend, source, $index ); ">\n<div class="profile-img thumb" ng-style="::{\'background-image\': \'url(\'+panel.cdn.thumb+watchingFriend.userId+\'), url(\'+panel.cdn.nothumb+\')\'}">\n</div>\n<div class="status">\n<span class="name short-text">{{watchingFriend.name}}</span>\n<span class="short-text current-activity">\n<i class="ynicon ynicon-viewers" ng-if="watchingFriend.channelName"></i> {{watchingFriend.channelName}}\n</span>\n<div ng-if="watchingFriend.bars" class="bars-text">\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{watchingFriend.bars | number}}\n</div>\n</div>\n\n\n</a>\n</div>\n\n</div>\n<span class="no-friends-msg" ng-if="onlineFriends.length === 0 || !onlineFriends" translate="activity_no_friends_online"></span>\n</div>\n<div id="div-gpt-ad-1392148686409-0"></div>\n\n');
}]),angular.module("angularjsapp/src/app/components/agreement-acceptance-modal/agreement-acceptance-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/agreement-acceptance-modal/agreement-acceptance-modal.tpl.html",'<div class="modal-body">\n<h5 class="agreement-title" translate="agreement_acceptance_title"></h5>\n<div class="agreement-message" translate="agreement_acceptance_message"></div>\n<div class="termLinks">\n<a ng-if="session.user.needsToConfirmTermsOfUse === true" href="{{::genTerms}}" translate="link_Terms" target="_blank"></a>\n<a ng-if="partner === true" href="{{::partnerAgreement}}" translate="agreement_acceptance_partner_terms" target="_blank"></a>\n</div>\n\n<div class="have-read" translate="agreement_acceptance_have_read"></div>\n<div class="actions">\n<button class="btn btn-primary" ng-click="checkAgreementAction(true)" translate="_accept"></button>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html",'<div class="modal-body">\n<span ng-bind-html="::message"></span>\n</div>\n<div class="modal-footer">\n<button class="confirm btn btn-primary" type="button" ng-click="$dismiss()" translate="_OK"></button>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html",'<div class="audience-summary" ng-if="vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer > 3 || vm.swf.audienceLists.currentPage !== 0" translate="audience_viewers_in_audience" translate-values="{value:vm.swf.broadcast.viewers}">\n<button class="btn-reset pull-right" ng-click="vm.clickToRefresh()"><i class="ynicon ynicon-refresh"></i></button>\n</div>\n<div class="audience-summary refresh" ng-if="vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer <= 3 && vm.swf.audienceLists.currentPage === 0">\n<span translate="audience_refreshing_viewers_in" translate-values="{viewers:vm.swf.broadcast.viewers}"></span> {{vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer}}</span>\n<button class="btn-reset pull-right"><i class="ynicon ynicon-refresh"></i></button>\n</div>\n<div class="audience" id="audiencelist" only-scroll>\n<div class="audience-page" ng-repeat="page in vm.swf.audienceLists.pages track by $index">\n<div class="viewer" ng-repeat="viewer in page.audience">\n\n<div class="thumb circle-thumb crop-thumb pull-left" ng-click="vm.openProfileSummary(viewer.userId, \'AUDIENCE\')"  ng-style="{\'background\': \'url({{::vm.thumb}}{{::viewer.userId}}) no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\'}"></div>\n\n<div class="viewer-information">\n\n<div class="titles" ng-click="vm.openProfileSummary(viewer.userId, \'AUDIENCE\')">\n<span class="ynbadge" ng-if="viewer.subscriptionType">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.swf.broadcast.userId}}/{{::viewer.subscriptionType}}/badge@2x.png" />\n</span>\n<span class="short-text viewer-name">\n<i class="ynicon ynicon-level" ng-if="!viewer.subscriptionType"></i>{{::viewer.level}} {{::viewer.name}}\n</span>\n</div>\n\n<div class="infos" audience-message viewer="viewer">\n<div class="info viewer-message subscriber" ng-if="::viewer.subscriptionDate" translate="audience_subscriber_since" translate-values="{value: viewer.subscriptionDate}">\n</div>\n<div class="info special-message fanRank" ng-if="::(viewer.fanRank !== -1)" translate="audience_fan_rank" translate-values="{value:viewer.fanRank}">\n<span ng-if="::viewer.bars">\n<img class="bar" ng-src="{{::vm.baseImageUrlv3}}/icon_bar_sm.png"> {{::viewer.bars}}\n</span>\n</div>\n<div class="info special-message isFan" ng-if="::(viewer.fanDateUNIX && viewer.fanRank === -1 && vm.swf.broadcast.userId === vm.session.user.userId)" translate="audience_fan_since" translate-values="{value: viewer.fanDate[2]+\'/\'+viewer.fanDate[1]+\'/\'+viewer.fanDate[0]}">\n</div>\n<div class="info special-message birthday" ng-if="::(viewer.birthdayCopy)">\n{{::viewer.birthdayCopy}}\n</div>\n<div class="info special-message gifts" ng-if="::(viewer.gifts > 0)" translate="audience_gave_gifts" translate-values="{value:viewer.gifts}">\n</div>\n<div class="info special-message viewersRs" ng-if="::(viewer.viewersRs > 0)" translate="audience_brought_viewers" translate-values="{viewers:viewer.viewersRs}">\n</div>\n<div class="info viewer-location location" ng-if="::((viewer.location.city.length > 0 || viewer.location.state.length > 0 || viewer.location.country.length > 0))">\n<span ng-if="::viewer.location.city">{{::viewer.location.city + \',\'}}</span>\n<span ng-if="::viewer.location.state">{{::viewer.location.state + \',\'}}</span>\n<span ng-if="::viewer.location.country">{{::viewer.location.country}}</span>\n</div>\n<div class="info viewer-message fans" ng-if="::(viewer.fans)" translate="audience_fans" translate-values="{value:viewer.fans}">\n</div>\n</div>\n</div>\n</div>\n</div>\n<!-- <div class="viewer" ng-repeat="viewer in vm.swf.audience">\n<div class="thumb circle-thumb pull-left" style="background: url(https://placekitten.com/g/200/300) no-repeat; background-size: cover;">\n<i ng-if="false" class="ynicon ynicon-bc-call-nolines"></i>\n</div>\n<div class="viewer-information">\n<div class="viewer-name"><i class="ynicon ynicon-level"></i>11 Jose Aquilar</div>\n<div class="special-message">Birthday Today!</div>\n</div>\n</div>\n<div class="viewer">\n<div class="thumb circle-thumb pull-left" style="background: url(https://placekitten.com/g/200/300) no-repeat; background-size: cover;">\n<i ng-if="false" class="ynicon ynicon-bc-call-nolines"></i>\n</div>\n<div class="viewer-information">\n<div class="viewer-name"><i class="ynicon ynicon-level"></i>11 Jose Aquilar</div>\n<div class="viewer-location">Los Angeles, CA</div>\n</div>\n</div> -->\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/buybars-modal/buybars.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/buybars-modal/buybars.tpl.html",'<div class="modal-body" ng-class="{large: modalLarge && activeItem.buying, small: vendor == \'payPal\' && activeItem.buying}">\n<div class="overlay" ng-if="!iframeLoaded && config.buybarsiframe">\n<div class="loader"></div>\n</div>\n<div class="panel-one" ng-class="{\'loading-payments\': gettingToken}">\n<button aria-hidden="true" class="close" ng-click="cancel()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="heading">\n<div class="title" translate="buybarsmodal_header"></div>\n<div class="subtitle" translate="buybarsmodal_subtext"></div>\n<div class="status">\n<span><span translate="buybarsmodal_yourbars"></span>: </span>\n<img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/icons_v3/icon_bar_sm.png" />\n<span>{{ Api.squashedNumber(session.user.vault.webBars, 5) }}</span>\n</div>\n</div>\n<div class="content">\n<div class="spinning-loader token-feedback"></div>\n<div class="item transline-mid" ng-click="toggleActiveItem(item)" ng-class="::{popular: item.popular === \'1\'}" ng-repeat="item in products track by $index">\n<span class="icon"><img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/{{::item.SKU}}.png" /></span>\n<span class="name">\n<b>{{::item.name}}</b> ({{::item.amount |number }} <span translate="_bars"></span>)\n<div class="buybars_vip_bonus" ng-if="session.user.globalSpenderRank"><i class="ynicon ynicon-redcrownicon"></i><span> + {{::item.bonusBars}} </span><span translate="_bars"></span><span> &amp; {{::item.bonusCoins}} </span><span translate="_coins"></span></span></div>\n</span>\n<span class="popular-copy" ng-if="::(item.popular === \'1\')">- <span translate="buybarsmodal_mostpopular"></span></span>\n<button class="btn btn-small">${{::item.price}}</button>\n</div>\n</div>\n</div>\n<div class="panel-two" ng-class="{\'active\': activeItem.buying}">\n<button ng-click="toggleActiveItem()" class="btn btn-transparent"><i class="ynicon ynicon-btn-back"></i></button>\n<div class="heading">\n<div class="title" translate="buybarsmodal_selectmethod"></div>\n<div class="subtitle" translate="buybarsmodal_entercard"></div>\n<div class="item">\n<span class="icon"><img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/{{activeItem.SKU}}.png" /></span>\n<span class="name"> <b>{{activeItem.name}} ({{activeItem.amount | number}} <span translate="_bars"></span>)<span class="sub"> - ${{activeItem.price}}</span></b> </span>\n</div>\n</div>\n<div class="content" ng-class="(vendor + \'-container\')">\n<button class="btn btn-confirm" ng-if="vendor === \'payPal\'" ng-click="paypalCheckout()" translate="buybarsmodal_paypal">\n</button>\n{{details}}\n<form id="braintree-form" ng-if="(!config.buybarsiframe && vendor === \'braintree\') || (!vendor)">\n<div id="braintree-dropin"></div>\n<button type="submit" ng-disabled="disableBuy" class="btn btn-confirm">\n<div class="spinning-container" ng-if="disableBuy">\n<span class="spinning-loader"></span>\n</div>\n<b translate="_submit"></b>\n</button>\n</form>\n</div>\n<div class="bottom">\n<div class="copy"><span translate="buybarsmodal_copy_terms" style="display:inline;"></span> <a href="/policy/en/terms" target="_blank" translate="_terms_of_service"></a> <span translate="_and"></span> <a href="/policy/en/privacy" target="_blank" translate="_privacy_policy"></a>.</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/chat/chat-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/chat/chat-panel.tpl.html",'<div class="chatcomments-mediumlarge" ng-class="{\'chatcomments-small\': vm.swf.broadcast && !vm.collapsedGiftTray && vm.swf.broadcast.tfl.length !== 0 && vm.session.user.userId !== 0, \'chatcomments-large\': !vm.swf.broadcast &&  vm.collapsedGiftTray || vm.swf.broadcast.tfl.length === 0 || !vm.swf.broadcast.tfl && vm.collapsedGiftTray, \'chatcomments-medium\': (!vm.swf.broadcast && !vm.collapsedGiftTray || vm.swf.broadcast.tfl.length === 0 && !vm.collapsedGiftTray) && vm.session.user.userId !== 0}">\n<selfie-view ng-if="vm.selectedSelfie.sfb || vm.creatingSelfie"></selfie-view>\n<button class="prev-fan" id="prevfan" ng-click="vm.changeTopFan(-1)" ng-if="vm.swf.broadcast.tfl.length && vm.topFanPosition!==\'start\'">\n<img ng-src="{{::vm.baseImageUrlv3}}/chat_topfan_arrow_prev.png">\n</button>\n<div id="topfan-slider" ng-class="{\'no-top-fans\': vm.swf.broadcast.tfl.length < 1 || !vm.swf.broadcast.tfl}">\n\n<div class="top-fan" ng-repeat="fan in vm.swf.broadcast.tfl track by $index">\n<a\nclass="thumb circle-thumb clickable"\nng-style="{background: \'url({{::vm.thumb}}\' + fan.uId + \') no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\'}"\nng-href="/{{fan.n}}" prevent-default\nng-click="vm.openProfile(fan.uId, undefined, \'TOP_FAN\')">\n<span>{{$index + 1}}</span>\n</a>\n<div class="fan-details">\n<div>\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{fan.b}}\n</div>\n<a\nclass="clickable fan-name"\nng-href="/{{fan.n}}" prevent-default\nng-click="vm.openProfile(fan.uId, undefined, \'TOP_FAN\')">\n<i class="ynicon ynicon-level"></i> {{fan.l}} {{fan.n}}\n</a>\n</div>\n</div>\n\n<div class="top-fan" ng-if="(vm.session.user && vm.session.user.userId) && !vm.swf.isTopFan && (vm.swf.broadcast.userId !== vm.session.user.userId)">\n<a\nclass="thumb circle-thumb clickable"\nng-style="{ background: \'url(\' + vm.thumb + vm.session.user.userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{vm.session.user.profile}}" prevent-default\nng-click="vm.openProfile(vm.session.user.userId)">\n</a>\n<div class="see-text">\n<span translate="livebroadcast_become_topfan" translate-values="{value:vm.swf.broadcast.username}"></span>\n</div>\n<button class="btn btn-small btn-confirm" ng-click="vm.openGiftTray();" translate="chat_see_gifts"></button>\n</div>\n\n</div>\n<div class="topfan-slider-divider" ng-if="vm.swf.broadcast.tfl.length > 0"></div>\n<!-- fanmail view -->\n<div class="fan-mail-widget" ng-class="{\'fan-mail-available\': vm.swf.fanMailQueue[0].isShowing}">\n<a\nclass="thumb circle-thumb pull-left"\nng-style="{background: \'url({{::vm.thumb}}\' + vm.swf.fanMailQueue[0].userId +\'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\'}"\nng-href="/{{vm.swf.fanMailRequestQueue[0].profile}}" prevent-default\nng-click="vm.openProfile(vm.swf.fanMailQueue[0].userId)">\n<img class="fan-mail-icon" ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/yn_anim_fanmail_132x132bc.gif">\n</a>\n<div class="actions">\n<button ng-click="vm.dismissFanMail()" class="close btn-reset"><i class="ynicon ynicon-close"></i></button>\n</div>\n<div class="fan-mail-sender">\n<a\nng-href="/{{vm.swf.fanMailQueue[0].profile}}" prevent-default\nng-click="vm.openProfile(vm.swf.fanMailQueue[0].userId)"\nclass="short-text">\n<user-badge-dynamic role="vm.swf.fanMailQueue[0].role" level="vm.swf.fanMailQueue[0].userLevelFloor" subscription-type="vm.swf.fanMailQueue[0].subscriptionType" channelId="vm.swf.fanMailQueue[0].channelId"></user-badge-dynamic>\n{{vm.swf.fanMailQueue[0].name}}\n</a>\n</div>\n<div class="fan-mail-message msg-long">\n{{vm.swf.fanMailQueue[0].comment}}\n</div>\n</div>\n<!-- fanmail req -->\n<div class="fan-mail-widget" ng-class="{\'fan-mail-available\': vm.swf.fanMailRequestQueue[0].isShowing}">\n<a\nclass="thumb circle-thumb pull-left"\nng-style="{ background: \'url({{::vm.thumb}}\' + vm.swf.fanMailRequestQueue[0].userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"ng-href="/{{vm.swf.fanMailRequestQueue[0].profile}}" prevent-default\nng-click="vm.openProfile(vm.swf.fanMailRequestQueue[0].userId)">\n<img class="fan-mail-icon" ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/yn_anim_fanmail_132x132bc.gif">\n</a>\n<div class="actions">\n<button ng-click="vm.respondToFanMail(vm.swf.fanMailRequestQueue[0], \'DELIVERED\')" class="accept btn-primary" translate="_accept"></button>\n<button ng-click="vm.respondToFanMail(vm.swf.fanMailRequestQueue[0], \'CANCELLED\')" class="decline btn-cancel" translate="_decline"></button>\n</div>\n<div class="fan-mail-sender">\n<a\nng-href="/{{vm.swf.fanMailRequestQueue[0].profile}}" prevent-default\nng-click="vm.openProfile(vm.swf.fanMailRequestQueue[0].userId)"\nclass="short-text">\n<span class="ynbadge" ng-if="vm.swf.fanMailRequestQueue[0].subscriptionType">\n<img\nng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.broadcast.broadcaster.userId}}/{{::vm.swf.fanMailRequestQueue[0].subscriptionType}}/badge@2x.png"\n/>\n</span>\n\n<span class="comment-crowns-container"></i>\n<span class="comment-crowns" ng-if="::( !vm.swf.fanMailRequestQueue[0].subscriptionType && vm.swf.fanMailRequestQueue[0].userLevelFloor && (!vm.swf.fanMailRequestQueue[0].role || vm.swf.fanMailRequestQueue[0].role==3) )">\n<i class="ynicon ynicon-level"></i>\n</span>\n<span class="comment-crowns" ng-if="::( vm.swf.fanMailRequestQueue[0].role === 2 )">\n<i class="ynicon ynicon-ambass"></i>\n</span>\n\n</span>\n\n{{vm.swf.fanMailRequestQueue[0].level}} {{vm.swf.fanMailRequestQueue[0].name}}\n</a>\n</div>\n<div class="fan-mail-message">\n{{vm.swf.fanMailRequestQueue[0].copy}}\n</div>\n</div>\n<button class="next-fan" id="nextfan" ng-click="vm.changeTopFan(1)" ng-if="vm.swf.broadcast.tfl.length && vm.topFanPosition!==\'end\'">\n<img ng-src="{{::vm.baseImageUrlv3}}/chat_topfan_arrow_next.png">\n</button>\n<div id="chatcomments"\nclass="chatcomments {{\'chatMode\'+vm.swf.broadcast.chatMode+\' \'}} mini-scroll"\nonly-scroll\n>\n<div class="chatcomment" ng-repeat="comment in vm.swf.broadcast.comments" ng-class="::{\'chat-mention\': comment.mention || comment.p2pComment || comment.isFriend, \'subscriber\': comment.subscriptionType, \'not-subscriber\': !comment.subscriptionType}">\n<div ng-if="::(comment.p2pComment && vm.swf.broadcast.disableSelfie == \'1\')">\n<img class="circle-thumb circle-thumb-sm" ng-src="{{::vm.thumb + comment.userId}}"/>\n<a ng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event);" class="chat-name">\n@{{::comment.name}}\n</a>\n<span ng-bind-html="::(comment.hashedComment)"></span>\n<i class="ynicon ynicon-icon-reply"></i>\n</div>\n<div ng-if="::(comment.p2pComment && vm.swf.broadcast.disableSelfie == \'0\')">\n<div class="selfie-container" ng-click="vm.selectSelfie(comment, vm.swf.broadcast.userId)">\n<img class="circle-thumb" ng-src="{{::vm.thumb + comment.userId}}"/>\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<div class="comment-content">\n<div class="userBox">\n<a ng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event)" class="chat-name">\n@{{::comment.name}}\n</a>\n</div>\n<div class="messageBox">\n<span ng-bind-html="::(comment.hashedComment)"></span>\n<i class="ynicon ynicon-icon-reply"></i>\n</div>\n</div>\n</div>\n<div ng-if="::comment.systemComment">\n<div ng-if="::(vm.swf.broadcast.disableSelfie == \'0\')">\n<div class="selfie-container" ng-click="vm.selectSelfie(comment, vm.swf.broadcast.userId)">\n<img class="circle-thumb" ng-src="{{::comment.sf}}"/>\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<div class="comment-content">\n<div class="userBox">\n<a\nng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event)"\nclass="chat-name"\nng-if="::(comment.role !== 1)">\n{{::comment.name}}\n</a>\n<span class="chat-name moderator" ng-if="::(comment.role === 1)">Moderator: <br /><span>{{::comment.name}}</span></span>\n<br />\n<user-badge role="{{::comment.role}}" level="{{::comment.userLevelFloor}}" subscription-type="{{::comment.subscriptionType}}" channelId="{{::comment.userId}}"></user-badge>\n</div>\n<div class="messageBox">\n<span style="float:left;" ng-if="::(!comment.giftId)" ng-class="::{\'special-chat\': comment.role === 2 || comment.isBroadcaster, moderator:  comment.role === 1}" ng-bind-html="::comment.hashedComment"></span>\n<img ng-if="::(comment.giftId !== false)" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{::vm.swf.giftSkus[comment.giftId]}}/web_chat.png">\n<span class="gift-quantity" ng-if="::(comment.giftId !== false && comment.quantity > 1)">{{::comment.quantity}}x</span>\n<a\nng-click="vm.openProfile(comment.otherUserId, comment, \'CHAT\', $event)"\nclass="chat-name"\nng-if="::(comment.role !== 1)">\n{{::comment.otherName}}\n</a>\n</div>\n</div>\n</div>\n</div>\n<div ng-if="::(!comment.p2pComment && !comment.systemComment)">\n<div ng-if="::(vm.swf.broadcast.disableSelfie == \'0\')">\n<div class="selfie-container" ng-click="vm.selectSelfie(comment, vm.swf.broadcast.userId)">\n<img class="circle-thumb" ng-src="{{::comment.sf}}"/>\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<div class="comment-content">\n<div class="userBox">\n<a\nng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event)"\nclass="chat-name"\nng-if="::(comment.role !== 1)">\n{{::comment.name}}\n</a>\n<span class="chat-name moderator" ng-if="::(comment.role === 1)">Moderator: <br /><span>{{::comment.name}}</span></span>\n<br />\n<user-badge role="{{::comment.role}}" level="{{::comment.userLevelFloor}}" subscription-type="{{::comment.subscriptionType}}" channelId="{{::comment.userId}}"></user-badge>\n</div>\n<div class="messageBox">\n<div ng-repeat="subComment in comment.sub">\n<span ng-if="::(subComment.sent)" class="ynicon ynicon-icon-check"></span>\n<span ng-if="::(!subComment.giftId)" ng-class="::{\'special-chat\': subComment.role === 2 || subComment.isBroadcaster, moderator:  subComment.role === 1}" ng-bind-html="::subComment.hashedComment"></span>\n<img class="giftImg" ng-if="::(subComment.giftId !== false)" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{::vm.swf.giftSkus[subComment.giftId]}}/web_chat.png">\n<span class="gift-quantity" ng-if="::(subComment.giftId !== false && subComment.quantity > 1)">{{::comment.quantity}}x</span>\n<span class="gift-quantity" ng-if="::(subComment.giftId !== false && subComment.comment != \'\')">{{::comment.comment}}</span>\n</div>\n</div>\n</div>\n</div>\n<div ng-if="::(vm.swf.broadcast.disableSelfie == \'1\')">\n<user-badge role="{{::comment.role}}" level="{{::comment.userLevelFloor}}" subscription-type="{{::comment.subscriptionType}}" channelId="{{::comment.userId}}"></user-badge>\n<a\nng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event)"\nclass="chat-name"\nng-if="::(comment.role !== 1)">\n{{::comment.name}}\n</a>\n<span class="chat-name moderator" ng-if="::(comment.role === 1)">MODERATOR</span>\n<span ng-if="::(!comment.giftId)" ng-class="::{\'special-chat\': comment.role === 2 || comment.isBroadcaster, moderator:  comment.role === 1}" ng-bind-html="::comment.hashedComment"></span>\n<img class="giftImg" ng-if="::(comment.giftId !== false)" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{::vm.swf.giftSkus[comment.giftId]}}/web_chat.png">\n<span class="gift-quantity" ng-if="::(comment.giftId !== false && comment.quantity > 1)">{{::comment.quantity}}x</span>\n</div>\n</div>\n</div>\n</div>\n<div ng-click="vm.pauseChat = !vm.pauseChat"\nng-class="{active: vm.pauseChat}"\nclass="pull-right scroll-toggle ynicon-icon-mod-container"\ntooltip="Pause the chat."\ntooltip-trigger="mouseenter"\ntooltip-placement="top"\ntooltip-append-to-body="true">\n<i class="ynicon ynicon-icon-mod"></i>\n</div>\n<div id="chatinput">\n<div class="chat-alert-toolbar" ng-class="{\'chat-alert-open\': vm.alert.length > 0}">\n{{vm.alert}}\n<progressbar ng-if="vm.spamTimer" value="vm.spamTimeLeft" animate="true" max="60"></progressbar>\n</div>\n<form class="chat_input_row" name="vm.commentForm" novalidate>\n<div>\n<div class="selfie-container" ng-click="vm.createSelfie()">\n<img class="circle-thumb" ng-src="{{vm.selfies.localSelfieSrc.sf}}">\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<input\nng-model="vm.newComment"\nmentio=""\nmentio-require-leading-space="true"\nplaceholder="{{vm.chatInputPlaceholder}}"\nname="commentInput"\ntype="text"\nyn-enter="vm.postComment()"\nng-maxlength="150"\nng-trim="false"\nng-click="vm.trackChat()"\nautocomplete="off"\nid="commentInput"\nrequired>\n<mentio-menu\nmentio-for="\'commentInput\'"\nmentio-trigger-char="\'@\'"\nmentio-items="vm.chatters"\nmentio-template-url="angularjsapp/src/app/components/mention/mention-dropup.tpl.html"\nmentio-search="vm.searchChatters(term)"\nmentio-select="vm.selectChatter(item)"\n></mentio-menu>\n</div>\n<div ng-if="vm.commentLength() < 150" class="characterCount">{{150 - vm.commentLength()}}</div>\n<div ng-if="!vm.newComment && vm.commentLength() > 150" class="characterCount invalid" >0</div>\n<div>\n<button class="btn pull-right ellipsify" ng-class="{\'dim\': !vm.collapsedGiftTray, \'btn-confirm\': vm.collapsedGiftTray }" ng-click="vm.postComment()" translate="_chat_verb"></button>\n</div>\n</form>\n</div>\n<!-- test -->\n<div id="gifttray" ng-class="{\'gift-tray-open\': !vm.collapsedGiftTray && vm.session.user.userId !== 0}">\n<div ng-click="vm.disabledGiftTray()" class="overlay" ng-if="!vm.session.user.userId ||  vm.session.user.banId !== 0 || vm.session.user.moderator === 1"></div>\n<div class="gifttray-basic" ng-class="{\'disabled-gift\': vm.swf.settingUpBroadcast}" ng-if="vm.collapsedGiftTray">\n<div class="toggle-tray-btn" ng-click="vm.toggleGiftTray();">\n<i class="ynicon ynicon-carrot-up"></i>\n<i class="ynicon ynicon-gift"></i>\n</div>\n</div>\n<div class="gifttray-basic menu-mode" ng-class="{\'disabled-gift\': vm.swf.settingUpBroadcast}" ng-if="!vm.collapsedGiftTray">\n<div class="toggle-tray-btn" ng-click="vm.toggleGiftTray();">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<i class="ynicon ynicon-gift"></i>\n</div>\n</div>\n<div class="gifttray-wallet">\n<span class="current-broadcaster short-text" translate="chat_gift_user" translate-values="{user:vm.swf.broadcast.username}"></span>\n<div class="pull-right">\n<span>\n<span\ntooltip="{{vm.session.user.userCoins | number}}"\ntooltip-trigger="mouseenter"\ntooltip-enable="vm.session.user.userCoins > 10000"\ntooltip-append-to-body="true">\n<i class="yncoin ynicon ynicon-coins"></i> {{vm.Api.squashedNumber(vm.session.user.userCoins, 4)}}\n</span>\n<span\ntooltip="{{vm.session.user.vault.webBars | number}}"\ntooltip-trigger="mouseenter"\ntooltip-enable="vm.session.user.vault.webBars > 10000"\ntooltip-append-to-body="true">\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{vm.Api.squashedNumber(vm.session.user.vault.webBars, 4)}}\n</span>\n</span>\n<button class="btn btn-confirm btn-small" ng-if="!vm.session.user.spendingDisabled" ng-click="vm.buyBars()" translate="_getbars"></button>\n</div>\n</div>\n<div class="gifttray-extension" only-scroll>\n<!-- bc gifts -->\n<img class="gift"\nng-repeat="gift in vm.bcGifts track by $index"\nng-if="!vm.swf.broadcast.disabledGoodies[gift.SKU] && ( gift.locales.indexOf(vm.swf.broadcast.locale) !== -1 || gift.locales.indexOf(\'ww\') !== -1 ) && vm.session.user.userId === vm.swf.broadcast.userId"\nng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{::gift.SKU}}/web.png"\ntooltip-html-unsafe="{{vm.getMultiplierCost(gift)}}"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\nng-click="vm.postGift(gift, undefined, undefined, $event)">\n<!-- general gifts -->\n<img class="gift"\nng-repeat="gift in vm.giftItems track by $index"\nng-if="!vm.swf.broadcast.disabledGoodies[gift.SKU] && ( gift.VIP === 0 || (vm.broadcast.broadcaster.partner === \'1\' && gift.VIP === 2) ) && ( gift.locales.indexOf(vm.swf.broadcast.locale) !== -1 || gift.locales.indexOf(\'ww\') !== -1 )"\nng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{::gift.SKU}}/web{{::(gift.itemGameType==\'TIP\' && vm.session.user.globalSpenderRank ? \'_vip\' : \'\')}}.png"\ntooltip-html-unsafe="{{ ( vm.swf.broadcast.chatMode==1 && gift.costType==\'COINS\' && !vm.session.subStatus[vm.swf.broadcast.userId] ) ? \'subscribers only\' : vm.getMultiplierCost(gift) }}"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\nng-disabled="vm.session.user.userId === vm.swf.broadcast.userId && gift.itemGameType !== \'LIKES_BROADCASTER\'"\nng-class="{\'disabled-gift no-cursor\': gift.minLevel > vm.session.user.realLevel || gift.cost > vm.session.user.userCoins || vm.swf.settingUpBroadcast || ( (vm.session.user.userId === vm.swf.broadcast.userId)) || ( vm.swf.broadcast.chatMode==1 && gift.costType==\'COINS\' && !vm.session.subStatus[vm.swf.broadcast.userId] ) }"\nng-click="vm.postGift(gift, undefined, undefined, $event)">\n</div>\n<div class="gifttray-premium" ng-class="{\'premium-selected\': vm.premiumGiftSelected.opened && vm.session.user.userId !== 0}">\n<i class="ynicon ynicon-close" ng-click="vm.closeGiftTray()"></i>\n<!-- normal premium gift -->\n<img class="premium-gift" ng-if="vm.premiumGiftSelected.itemGameType !== \'TIP\' && vm.premiumGiftSelected.itemGameType !== \'PROPOSAL\' && vm.premiumGiftSelected.itemGameType !== \'FANMAIL\'" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web.png">\n<!-- tip -->\n<img class="premium-gift" ng-if="vm.premiumGiftSelected.itemGameType === \'TIP\'" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_overlay{{vm.session.user.globalSpenderRank ? \'_vip\' : \'\'}}.png">\n<!-- proposal -->\n<div class="premium-gift" ng-if="vm.premiumGiftSelected.itemGameType === \'PROPOSAL\'">\n<img class="premium-gift" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_overlay.png" />\n<div class="thumb proposal" ng-style="{background: \'url({{::vm.thumb}}\' + vm.session.user.userId +\'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\'}"></div>\n</div>\n<!-- fanmail -->\n<div class="premium-gift" ng-if="vm.premiumGiftSelected.itemGameType === \'FANMAIL\'">\n<img class="fanmail" ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_animation{{vm.session.user.globalSpenderRank ? \'_vip\' : \'\'}}.gif" />\n<div class="thumb circle-thumb" ng-style="{background: \'url({{::vm.thumb}}\' + vm.session.user.userId +\'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\'}"></div>\n</div>\n<div class="premium-gift-name ellipsify transline-top" ng-class="{\'fanmail-name\': vm.premiumGiftSelected.itemGameType === \'FANMAIL\'}">\n<span>{{vm.premiumGiftSelected.name}}</span>\n<span ng-if="vm.premiumGiftSelected.itemGameType === \'TIP\'">{{vm.swf.broadcast.username}}!</span>\n</div>\n<div class="premium-gift-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'ANIMATION\' && vm.premiumGiftSelected.description">\n{{vm.premiumGiftSelected.description}}\n</div>\n<div class="premium-gift-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'LIKES\'">\n{{vm.premiumGiftSelected.description}}\n</div>\n<div class="premium-gift-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'LIKES_BROADCASTER\'">\n{{vm.premiumGiftSelected.description}}\n</div>\n<div class="premium-gift-desc transline-mid" ng-if="vm.premiumGiftSelected.SKU === \'CHATCOOLDOWN\'">\n{{vm.premiumGiftSelected.description}}\n<span translate="chat_wait_time"></span>\n<span>{{vm.cooldownTime * 1000 | date: \'mm:ss\'}}</span>\n</div>\n<div class="premium-gift-desc fanmail-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'FANMAIL\'">\n<span translate="_send"></span>\n<span class="short-text"> {{vm.swf.broadcast.username}}</span>\n<span translate="chat_special_message_to_get_featured"></span>\n<input\nclass="fanmail-input"\nng-class="{\'input-invalid\': vm.fanmailInvalid && (vm.fanMailMessage.length === 0 || !vm.fanMailMessage)}"\nplaceholder="Enter your message"\nng-model="vm.fanMailMessage"\nng-maxlength="38"\nng-required\nyn-enter="vm.buyGift()"\nmaxlength="38">\n<span class="fanmail-count">{{38 - vm.fanMailMessage.length}}</span>\n</div>\n<div class="premium-gift-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'PROPOSAL\'">\n{{vm.premiumGiftSelected.description}}\n</div>\n<div class="premium-gift-desc" ng-if="vm.premiumGiftSelected.itemGameType === \'TIP\'">\n<div class="tip-cost" ng-repeat="tip in vm.premiumGiftSelected.extraData.denominations" ng-click="vm.buyGift(tip)" ng-disabled="vm.premiumGiftSelected.buying || !vm.premiumGiftSelected.opened">\n<i class="ynbar ynicon ynicon-icon-bar"></i>\n<span>{{::tip | number}}</span>\n</div>\n</div>\n<!-- BUTTONS -->\n<!-- dynamic price -->\n<div ng-if="vm.premiumGiftSelected.dynamicCost !== \'0\' && vm.premiumGiftSelected.SKU !== \'CHATCOOLDOWN\'">\n<button class="btn btn-confirm" id="buy-gift-button" ng-click="vm.buyGift()" ng-if="vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU] && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== \'TIP\'">\n<span><span translate="_send"></span> <i class="ynbar ynicon ynicon-icon-bar"></i> {{vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU]}}</span>\n</button>\n<button class="btn btn-confirm" ng-if="!vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU] || vm.premiumGiftSelected.buying">\n<div class="loader"></div>\n</button>\n</div>\n<!-- cooldown -->\n<div ng-if="vm.premiumGiftSelected.dynamicCost !== \'0\' && vm.premiumGiftSelected.SKU === \'CHATCOOLDOWN\'">\n<button class="btn btn-confirm" id="buy-gift-button" ng-click="vm.buyGift()" ng-if="vm.premiumGiftSelected.purchasePrice && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== \'TIP\'">\n<span><span translate="_chat_now"></span> <i class="ynbar ynicon ynicon-icon-bar"></i> {{vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU]}}</span>\n<span ng-if="vm.premiumGiftSelected.dynamicCost === \'0\'"><span translate="_send"></span> <i class="ynbar ynicon ynicon-icon-bar"></i> {{vm.premiumGiftSelected.purchasePrice}}</span>\n</button>\n<button class="btn btn-confirm" ng-if="!vm.premiumGiftSelected.purchasePrice || vm.premiumGiftSelected.buying">\n<div class="loader"></div>\n</button>\n</div>\n<!-- static price -->\n<div ng-if="vm.premiumGiftSelected.dynamicCost === \'0\'">\n<button class="btn btn-confirm" id="buy-gift-button" ng-click="vm.buyGift()" ng-if="vm.premiumGiftSelected.purchasePrice && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== \'TIP\'">\n<span ng-if="vm.premiumGiftSelected.dynamicCost === \'0\'"><span translate="_send"></span> <i class="ynbar ynicon ynicon-icon-bar"></i> {{vm.premiumGiftSelected.purchasePrice}}</span>\n</button>\n<button class="btn btn-confirm" ng-if="!vm.premiumGiftSelected.purchasePrice || vm.premiumGiftSelected.buying">\n<div class="loader"></div>\n</button>\n</div>\n\n\n</div>\n</div>\n');
}]),angular.module("angularjsapp/src/app/components/chat/chat.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/chat/chat.tpl.html",'<div ng-click="vm.hidePlayerFullscreen();" class="fullscreen-close">\n<i class="ynicon ynicon-close"></i>\n</div>\n<div class="fullscreen-gradient-top"></div>\n<div class="fullscreen-gradient-left"></div>\n\n<div class="player-chat" ng-class="{\'collapsed\': vm.chatCollapsed}">\n<div id="sidebar-container" class="pull-left" ng-class="{\'loading-bc\': vm.swf.eob !== undefined && !vm.swf.settingUpBroadcast}">\n<div class="sidebar-header">\n<div ng-click="vm.changeTab(\'Chat\')" class="tab-icon" ng-class="{selected: (vm.swf.activeChatTab === \'Chat\' || vm.swf.activeChatTab === \'SnapShot\') && !vm.swf.settingUpBroadcast}">\n<span ng-if="vm.swf.fanMailRequestQueue && vm.swf.fanMailRequestQueue.length > 0"><img ng-class="{\'active-notification\': vm.fanmailAnimState === vm.fanMailAnimation}" class="fanmail-notification" ng-src="{{vm.fanmailAnimState}}"></span>\n<span ng-if="vm.swf.unreadMessages > 0" class="unread">{{vm.swf.unreadMessages}}</span>\n<i class="ynicon ynicon-chat"></i>\n</div>\n<div ng-click="vm.changeTab(\'GlobalChat\')" class="tab-icon" ng-class="{selected: (vm.swf.activeChatTab === \'GlobalChat\')}">\n<i class="ynicon ynicon-icon-content-locale"></i>\n<span ng-if="vm.swf.unreadGlobalMessages > 0" class="unread">{{vm.swf.unreadGlobalMessages}}</span>\n</div>\n<div ng-click="vm.changeTab(\'Audience\')" class="tab-icon" ng-class="{selected: vm.swf.activeChatTab === \'Audience\' && !vm.swf.settingUpBroadcast}">\n<i  class="ynicon ynicon-audience"></i>\n</div>\n<div class="tab-icon" ng-if="vm.swf.broadcast.allowGuestCallers == \'1\'" ng-click="vm.changeTab(\'Guest\')" ng-class="{selected: vm.swf.activeChatTab === \'Guest\' && !vm.swf.settingUpBroadcast}">\n<i class="ynicon ynicon-bc-call" ng-if="!vm.guestService.userGuestObj && !vm.guestService.countUpdated"></i>\n<img ng-if="vm.guestService.userGuestObj || vm.guestService.countUpdated" class="guest-gif" ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_ready_tabtrans2_2x.gif"/>\n<span class="short-text guest-tab ellipsify" ng-bind-html="vm.guestService.guestListCountFormatted"></span>\n</div>\n<div class="tab-icon" ng-click="vm.changeTab(\'Info\')" ng-class="{selected: vm.swf.activeChatTab === \'Info\' && !vm.swf.settingUpBroadcast}">\n<i class="ynicon ynicon-broadcast"></i>\n</div>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Chat\' && !vm.swf.settingUpBroadcast">\n<span chat-panel class="sidebar-tab" id="chatpanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'GlobalChat\'">\n<div class="chatcomments-global">\n<div id="globalchatcomments" class="chatcomments mini-scroll" only-scroll>\n<div class="chatcomment" ng-repeat="comment in vm.swf.globalComments" ng-class="::{\'old\': comment.old, \'chat-mention\': comment.mention || comment.p2pComment || comment.isFriend, \'subscriber\': comment.subscriptionType, \'not-subscriber\': !comment.subscriptionType}">\n<div ng-if="::(!comment.systemComment)">\n<div>\n<div class="selfie-container" ng-click="vm.selectSelfie(comment, vm.swf.broadcast.userId)">\n<img class="circle-thumb" ng-src="{{::comment.profilePicture}}"/>\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<div class="comment-content">\n<div class="userBox">\n<a\nng-click="vm.openProfile(comment.userId, comment, \'CHAT\', $event)"\nclass="chat-name">\n{{::comment.name}}\n</a>\n<br />\n<div ng-if="comment.private">\n<img style="width:16px;height:12px" src="https://schwestertester.github.io/img/icon_darkmode.png"> Private\n</div>\n</div>\n<div class="messageBox">\n<div ng-repeat="subComment in comment.sub">\n<span ng-class="::{\'special-chat\': subComment.role === 2 || subComment.isBroadcaster, moderator:  subComment.role === 1}" ng-bind-html="::subComment.hashedComment"></span>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div id="chatinput">\n<div style="margin-left: 15px;">\n<span>Users online: </span>\n<strong>{{vm.swf.darkModeUsers}}</strong>\n</div>\n<form class="chat_input_row" name="vm.globalCommentForm" novalidate>\n<div>\n<div class="selfie-container" ng-click="vm.createSelfie()">\n<img class="circle-thumb" ng-src="{{vm.selfies.localSelfieSrc.sf}}">\n<i class="ynicon ynicon-icon-selfie"></i>\n</div>\n<input\nng-model="vm.newGlobalComment"\nmentio=""\nmentio-require-leading-space="true"\nplaceholder="Have fun :)"\nname="commentInput"\ntype="text"\nyn-enter="vm.postGlobalComment()"\nng-maxlength="500"\nng-trim="false"\nng-click="vm.trackGlobalChat()"\nautocomplete="off"\nid="globalCommentInput"\nrequired>\n<mentio-menu\nmentio-for="\'commentInput\'"\nmentio-trigger-char="\'@\'"\nmentio-items="vm.chatters"\nmentio-template-url="angularjsapp/src/app/components/mention/mention-dropup.tpl.html"\nmentio-search="vm.searchChatters(term)"\nmentio-select="vm.selectChatter(item)"\n></mentio-menu>\n</div>\n<div ng-if="vm.globalCommentLength() < 500" class="characterCount">{{500 - vm.globalCommentLength()}}</div>\n<div ng-if="!vm.newGlobalComment && vm.globalCommentLength() > 500" class="characterCount invalid" >0</div>\n<div>\n<button class="btn pull-right ellipsify btn-confirm" ng-click="vm.postGlobalComment()" translate="_chat_verb"></button>\n</div>\n</form>\n</div>\n</div>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Snapshot\' ">\n<span share-panel class="sidebar-tab" id="sharepanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'GuestSnapshot\' ">\n<span share-panel target="guest" class="sidebar-tab" id="sharepanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'MomentShare\' ">\n<span share-panel target="shareMoment" class="sidebar-tab" id="sharepanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Moment\' ">\n<span moment-panel class="sidebar-tab" id="momentpanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Audience\'">\n<span audience-panel class="sidebar-tab" id="audiencepanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Guest\'">\n<span guest-panel class="sidebar-tab" id="guestpanel"></span>\n</div>\n<div class="chatContent" ng-if="vm.swf.activeChatTab === \'Info\'">\n\n<div class="activity-panel social_links" ng-if="broadcasterService.channel.snLinks">\n<div class="social_links_title primary-text" translate="profile_social_title"></div>\n\n<div class="connect-social-accounts" ng-show="session.user.userId===broadcasterService.channel.userId">\n<p class="connect-body-text" translate="profile_connect_social"></p>\n<a ng-click="openSettings(\'accounts\')" ng-href="/settings#accounts" prevent-default="" href="/settings#accounts">\n<button class="btn-confirm"><i class="ynicon ynicon-settings"></i>Connect</button>\n</a>\n</div>\n\n<div class="social_links_items">\n<a class="social_link" ng-repeat="(key,social) in broadcasterService.channel.snKeyWords" ng-href="{{social.url}}" target="_blank" ng-style="{\'background-image\':\'url(\\\'{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/social_profile/{{::key}}.png\\\')\'}" ng-if="key!=\'facebook\' && key!=\'google\'">\n<span class="social_title">\n{{social.nickname}} <span class="social_username">{{social.username}}</span>\n</span>\n<span class="social_description">{{social.description}}</span>\n</a>\n\n</div>\n</div>\n\n<div class="activity-panel" ng-if="broadcasterService.channel.biggestFans.length">\n<div class="online-fans-title primary-text">\n<span translate="profile_biggest_fans_last_thirty_days"> </span>\n</div>\n<div class="activity-panel">\n<div class="panel-body">\n<div class="friends-list mini-scroll" only-scroll ng-if="broadcasterService.channel.biggestFans.length > 0">\n<a\nclass="activity"\nng-repeat="friend in broadcasterService.channel.biggestFans | filter:friendfilter | orderBy:\'-bars\'"\nng-href="/{{::friend.profile}}" prevent-default\nng-click="showProfileSummary(friend.userId)">\n<div class="profile-img thumb" ng-style="::{\'background\': \'url(\'+(cdn.thumb+friend.userId)+\'), url(\'+cdn.nothumb+\') no-repeat\'}"></div>\n<div class="status">\n<span class="name short-text">{{::friend.name}}</span>\n\n<div ng-if="friend.bars" class="bars-text">\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{Api.squashedNumber(friend.bars) }}\n</div>\n\n</div>\n</a>\n</div>\n</div>\n</div>\n</div>\n<div style="padding:10px;overflow:auto;height:540px;width:100%">\n<div style="clear:both;float:left;font-size:14px;font-weight:bold;">\nStreamer\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">ID:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.userId}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Streamer Boost Level:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.broadcasterBoostLevel}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Broadcasts count:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.broadcastsCount}}</div>\n</div>\n<div ng-if="vm.broadcast.broadcaster.device === \'Mobile\'">\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Device:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.deviceName}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">OS version:</div>\n<div style="float:left;width:188px;text-align:right">\n<span ng-if="vm.broadcast.broadcaster.platform==1">iOS </span>\n<span ng-if="vm.broadcast.broadcaster.platform==2">Android </span>\n{{vm.broadcast.broadcaster.osVersion}}\n</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Connection:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.connection}}</div>\n</div>\n<div ng-if="vm.broadcast.broadcaster.provider !== \'\'">\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Provider:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.provider}}</div>\n</div>\n</div>\n</div>\n<div ng-if="vm.broadcast.broadcaster.device === \'Computer\'">\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Browser:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.browser}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">OS:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.os}}</div>\n</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Coins:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.fineCoins}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Level:</div>\n<div style="float:left;width:188px;text-align:right">\n<span>{{vm.broadcast.broadcaster.currentLevel}}</span>\n<span>(</span>\n<span>{{vm.broadcast.broadcaster.levelPercentage}}</span>\n<span>% to </span>\n<span>{{vm.broadcast.broadcaster.nextLevel}}</span>\n<span>)</span>\n</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Points:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.finePoints}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Partner:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.partnerText}}</div>\n</div>\n<div style="clear:both;float:left;font-size:14px;font-weight:bold;">\nStream\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">ID:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.broadcastId}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Origin:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.broadcastOriginType}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Curent Chatcooldown:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.currentChatCooldown}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">New fans:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.fans}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Featured time:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.featuredTime}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Gifts value:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.fineGiftsValue}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Max concurrent viewers:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.maxConcurrentViewers}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Min chat level:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.minChatLevel}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Paid Chat:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.paidChat}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Reconnects:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.reconnects}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">Views with treshold:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.viewsWithThreshold}}</div>\n</div>\n<div style="clear:both; float:left;margin-top:5px;">\n<div style="float:left;width:168px;">RTMP:</div>\n<div style="float:left;width:188px;text-align:right">{{vm.broadcast.broadcaster.rtmp}}</div>\n</div>\n</div>\n</div>\n<div ng-if="vm.swf.settingUpBroadcast" class="sidebar-tab" id="settinguppanel">\n<div settingup-panel class="sidebar-tab" id="settinguppanel"></div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/chat/promo-widget.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/chat/promo-widget.tpl.html",'<div class="under-chat" ng-if="!fetching && banner.image">\n<!-- limited time Ad - use http://www.epochconverter.com/ to get timestamp in milliseconds - ng-if="config.UILocale==\'en\' && timestamp<1434211199999" -->\n<a ng-href="{{::banner.link}}" ng-click="adclick(banner.userId)" target="_blank" rel="nofollow">\n<img ng-src= "{{::banner.image}}">\n</a>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/chat/selfie-view.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/chat/selfie-view.tpl.html",'<div class="selfie-chat-view" ng-class="{\'active-view\': vm.selectedSelfie.sfb !== undefined && !closing && opening, \'active-creation\': vm.creatingSelfie && !closing && opening}">\n<div class="selfie-view">\n<img ng-click="vm.openProfile(vm.selectedSelfie.userId)" ng-src="{{vm.selectedSelfie.sfb}}"/>\n<div class="selfie-name" ng-click="vm.openProfile(vm.selectedSelfie.userId)">{{vm.selectedSelfie.name}}</div>\n<div class="fan-button-placeholder" track-source="PROFILE">\n<div fan-button channel="vm.selectedSelfie"></div>\n</div>\n</div>\n<div class="selfie-creation">\n<h2 translate="selfies_header"></h2>\n<div class="selfie-image-container">\n<div class="selfie-progress {{animationProgress}}">\n<div class="semi-prog semi-prog-1"></div>\n<div class="semi-prog semi-prog-2"></div>\n<div class="semi-prog semi-prog-3"></div>\n</div>\n<div class="selfie-preview">\n<img class="preview-image" ng-src="{{selfies.localSelfieSrc.preview}}">\n<video id="preview-selfie" ng-class="{\'snapshot\': flickerMode}" width="322" height="276" camera-valid on-valid="vm.cameraValid()"></video>\n</div>\n</div>\n</div>\n<div class="overlay" ng-click="vm.closeSelfieView()"></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/confirm-modal/confirm.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/confirm-modal/confirm.tpl.html",'<div class="modal-body">{{message}}</div>\n<div class="modal-footer">\n<button class="btn btn-confirm" type="button" ng-click="$close()" translate="_yes"></button>\n<button class="btn btn-cancel" type="button" ng-click="$dismiss()" translate="_cancel"></button>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/download-broadcast-modal/download-broadcast.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/download-broadcast-modal/download-broadcast.tpl.html",'<div class="modal-body">\n\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n\n<div>\n<form name="downloadBroadcastEmail" ng-submit="vm.submitEmail(downloadBroadcastEmail)" novalidate>\n\n<div class="modal-top">\n<h2 class="heading" translate="download_broadcast_download">\n</h2>\n</div>\n<div class="modal-middle">\n<div class="text" translate="download_broadcast_email">\n</div>\n<div class="form">\n<input placeholder="Email address"\nname="email"\nclass="form-control"\ntype="email"\nng-validate\nrequired\nng-model="vm.session.user.email"\nng-pattern="emailRegex"\ntooltip="Please enter valid email"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error"\nid="emailInput"/>\n</div>\n</div>\n<div class="modal-bottom">\n<button class="btn btn-confirm" type="submit" {{ (downloadBroadcastEmail.$touched && downloadBroadcastEmail.$valid) ? \'\' : \'disabled\' }}>\n{{ \'_continue\' | translate }}\n</button>\n</div>\n\n</form>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html",'<div class="modal-body">\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="panel-one">\n<div class="ep-thumb">\n<div class="circle-thumb" ng-style="::{\'background\': \'url(\'+modal.thumb+\') no-repeat, url(\'+modal.nothumb+\') no-repeat\', \'background-size\': \'cover\'}"></div>\n<div class="ep-badge pull-left">\n<i class="ynicon ynicon-level"></i> Editor\'s Choice\n</div>\n</div>\n<h4 class="ep-tag">#{{::modal.session.user.editorsPick.tag}}</h4>\n<h3 class="title">Congratulations!</h3>\n<p class="ep-desc">\nBecause of your talent and broadcast quality, you have been selected as Editor\'s Choice for <b>#{{::modal.session.user.editorsPick.tag}}</b>!\n</p>\n<div class="bottom">\n<button class="btn btn-confirm btn-wide" ng-click="modal.continue()">Continue</button>\n</div>\n</div>\n<div class="panel-two" ng-class="{\'active\': modal.state === \'description\'}">\n<h3 class="title">What does Editor\'s Choice Mean?</h3>\n<div class="sub-title">As Editor\'s choice for <b>#{{::modal.session.user.editorsPick.tag}}</b>, this means:</div>\n<ul class="ep-list">\n<li>\nYour profile will display the "Editor\'s Choice" badge, letting others know you have been handpicked by YouNow staff\n<div class="ep-badge">\n<i class="ynicon ynicon-level"></i> Editor\'s Choice\n</div>\n</li>\n<li>\nWhen you broadcast on <b>#{{::modal.session.user.editorsPick.tag}}</b>, you will receive a boost to give your broadcast more visibility\n</li>\n<li>\nYou will gain more fans, who are specifically interested in <b>#{{::modal.session.user.editorsPick.tag}}</b> content\n</li>\n</ul>\n<div class="bottom">\n<button class="btn btn-confirm btn-wide" ng-click="modal.continue()">Sounds Good!</button>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html",'<div class="modal-body ep-expired">\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="ep-thumb">\n<div class="circle-thumb" ng-style="::{\'background\': \'url(\'+modal.thumb+\') no-repeat, url(\'+modal.nothumb+\') no-repeat\', \'background-size\': \'cover\'}"></div>\n<div class="ep-badge pull-left">\n<i class="ynicon ynicon-level"></i> Editor\'s Choice\n</div>\n</div>\n<h4 class="ep-tag">#{{::modal.session.user.editorsPick.tag}}</h4>\n<h3 class="title">Your Editor\'s Choice Status is up.</h3>\n<p class="ep-desc">\nHi {{::modal.name}}, we\'re excited we were able to help you grow your audience. We hope you\'ve enjoyed your time as Editor\'s Choice <b>#dance</b>. To be considered for Editor\'s Choice in the future, keep creating great broadcast content!\n</p>\n<div class="bottom">\n<button class="btn btn-confirm btn-wide" ng-click="modal.continue()">Continue</button>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/fan-button/fan-button.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/fan-button/fan-button.tpl.html",'<button class="btn btn-small btn-fan {{::classname}} {{fanStatus[channel.userId]?\'btn-fanned\':\'btn-to-fan\'}} {{subStatus[channel.userId]?\'is-subscribed\':\'not-subscribed\'}}" ng-if="!hidden" ng-click="toggleFan()" >\n<span class="tofan" ng-if="!fanStatus[channel.userId]">\n<i class="ynicon ynicon-user-add"></i>\n<span class="text_regular" ng-if="::(size != \'tiny\')" translate="_fan_verb"></span>\n<span class="text_wide" ng-if="::(size != \'tiny\')" translate="_fan_become" style="display:none;"></span>\n</span>\n<span class="fanned" ng-if="fanStatus[channel.userId]">\n<i class="ynicon ynicon-user-check"></i>\n<span ng-if="::(size != \'tiny\')" translate="_fanned"></span>\n</span>\n</button>\n\n')}]),angular.module("angularjsapp/src/app/components/footer/footer.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/footer/footer.tpl.html",'<div class="newFooter">\n\n<!-- Start Container -->\n<div class="container">\n\n<!-- Localization -->\n<div class="selectUILanguages">\n\n<div class="language-section">\n<i class="ynicon ynicon-icon-languages"></i>\n<div class="dropdown language-dropdown " dropdown>\n<button class="btn dropdown-toggle" dropdown-toggle  id="dropdownMenu1" aria-haspopup="true" aria-expanded="true">\n<span class="selectUIInput">{{ config.UILanguages[ config.UILanguage ] }}</span>\n</button>\n<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">\n<i class="ynyounow-a-caret-up"></i>\n<li>\n<div ng-repeat="(la, lang) in ::config.UILocales"  ng-click="selectLanguage(la);"><i ng-class="{\'active\':config.UILanguage == la}" class="ynicon ynicon-icon-check"></i> <span translate="{{lang}}"></span>\n</div>\n\n</li>\n</ul>\n</div>\n</div>\n\n<div class="locale-section">\n<i class="ynicon ynicon-icon-content-locale"></i>\n<div class="dropdown language-dropdown " dropdown>\n<button class="btn dropdown-toggle" dropdown-toggle  id="dropdownMenu1" aria-haspopup="true" aria-expanded="true">\n<span class="selectUIInput">{{ config.UILocales[ config.UILocale ] || \'Worldwide\' }}</span>\n</button>\n<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">\n<i class="ynyounow-a-caret-up"></i>\n<li>\n<div ng-repeat="(la, lang) in ::config.UILocales"  ng-click="selectLocale(la);"><i ng-class="{\'active\':config.UILocale == la}" class="ynicon ynicon-icon-check"></i> <span translate="{{lang}}"></span>\n</div>\n</li>\n</ul>\n</div>\n</div>\n\n</div>\n\n<!-- Links -->\n<div class="section footerlinks" style="font-size:13px;display:inline;margin-left:10px;margin-right:10px;">\n<p style="line-height:18px;margin-top:7px;">\n<a href="javascript:void(0)" ng-click="showAbout()" ng-if="state.current.name!=\'about\'" translate="footer_about_title"></a>\n<span class="footerdivider" ng-if="state.current.name!=\'about\'">|</span>\n<a href="/featured" ng-click="doAboutClick(\'Footer link\', \'Live Now\')" ng-if="state.current.name===\'about\' && open" translate="footer_live_title" mobile-hide></a>\n<span class="footerdivider" ng-if="state.current.name===\'about\' && open" mobile-hide>|</span>\n<a href="/press" ng-click="openDoc($event, \'Press\')" target="_blank" translate="footer_press_title"></a>\n<span class="footerdivider">|</span>\n<a href="/careers" ng-click="doAboutClick(\'Footer link\', \'Careers\')" target="_blank" translate="footer_careers_title"></a>\n<span class="footerdivider">|</span>\n<a href="http://blog.younow.com/" ng-click="doAboutClick(\'Footer link\', \'Blog\')" target="_blank" translate="footer_blog_title"></a>\n<span class="footerdivider">|</span>\n<a href="policy/en/terms" ng-click="openDoc($event,\'Terms\')" translate-cloak translate="footer_terms_title"></a>\n<span class="footerdivider">|</span>\n<a ng-href="{{\'footer_rules_link\' | translate}}" ng-click="openDoc($event,\'Rules\')" translate-cloak translate="footer_rules_title"></a>\n<span class="footerdivider">|</span>\n<a href="policy/en/privacy" ng-click="openDoc($event,\'Privacy\')" translate-cloak translate="footer_privacy_title"></a>\n<span class="footerdivider">|</span>\n<a ng-href="{{\'footer_trust_link\' | translate}}" ng-click="openDoc($event,\'Trust\')" translate-cloak translate="footer_trust_title"></a>\n<span class="footerdivider">|</span>\n<a href="https://younow.zendesk.com/home" ng-click="doAboutClick(\'Footer link\', \'FAQ\')" target="_blank" translate="footer_faq_title"></a>\n<span class="footerdivider">|</span>\n<a href="/app/iphone" ng-click="doAboutClick(\'Footer link\', \'iOS\')" target="_blank" translate="footer_ios_title"></a>\n<span class="footerdivider">|</span>\n<a href="/app/android" ng-click="doAboutClick(\'Footer link\', \'Android\')" target="_blank" translate="footer_android_title"></a>\n<span class="footerdivider">|</span>\n<a href="/partners/" ng-click="doAboutClick(\'Footer link\', \'Partners\')" target="_blank" translate="footer_partners_title"></a>\n<span ng-if="config.UILanguage == \'de\'" class="footerdivider">|</span>\n<a ng-if="config.UILanguage == \'de\'" href="/policy/de/impressum" target="_blank">Impressum</a>\n</p>\n</div>\n<!-- End Links-->\n<!-- Social -->\n<div class="section footericons">\n<a href="https://www.facebook.com/younow" ng-click="doAboutClick(\'Footer link\', \'Facebook\')" target="_blank">\n<img ng-src="{{::cdn.image}}/partners/icon_foot_fb.png" name="fbbutton" height="33" width="33"></a>\n<a href="https://www.twitter.com/younow" ng-click="doAboutClick(\'Footer link\', \'Twitter\')" target="_blank">\n<img ng-src="{{::cdn.image}}/partners/icon_foot_tw.png" name="twbutton" height="33" width="33"></a>\n<a href="http://www.instagram.com/younow" ng-click="doAboutClick(\'Footer link\', \'Instagram\')" target="_blank">\n<img ng-src="{{::cdn.image}}/partners/icon_foot_insta.png" name="instabutton" height="33" width="33"></a>\n<a href="http://blog.younow.com/" ng-click="doAboutClick(\'Footer link\', \'Tumblr\')" target="_blank">\n<img ng-src="{{::cdn.image}}/partners/icon_foot_tm.png" name="tmbutton" height="33" width="33"></a>\n<a href="https://www.youtube.com/user/YouNowlive" ng-click="doAboutClick(\'Footer link\', \'Youtube\')" target="_blank">\n<img ng-src="{{::cdn.image}}/partners/icon_foot_yt.png" name="ytbutton" height="33" width="33"></a>\n</div>\n<!-- End Social -->\n<div class="clear"></div>\n</div>\n<font color="#d8d8d8">\n<!-- End Container -->\n</font>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html",'<div class="modal-body row">\n<div class="gate-title">{{data.title|translate}}</div>\n<div class="gate-message">{{data.message|translate}}</div>\n<button class="btn flat-login btn-confirm" ng-click="respond(false)">{{data.decline|translate}}</button>\n<button class="btn flat-login btn-confirm" ng-click="respond(true)">{{data.confirm|translate}}</button>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/guest-button/guest-button.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/guest-button/guest-button.tpl.html",'<button class="btn btn-small btn-primary" ng-if="!hidden">\n<i class="ynicon ynicon ynicon-bc-call"></i> Guest\n</button>\n\n')}]),angular.module("angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html",'<div class="guest-nav">\n<span class="guest-total" ng-bind-html="vm.guestService.guestListCountFormatted"></span>\n<div class="btn-group" dropdown>\n<button class="btn btn-transparent pull-right" dropdown-toggle>\n<span class="text-muted" translate="sort_by"></span> <span translate="{{vm.guestListFilter}}"></span> <i class="ynicon ynicon-carrot-dwn"></i>\n</button>\n<ul class="dropdown-menu" ng-class="vm.guestListFilter">\n<li class="level" ng-click="vm.sortGuestList(\'level\')">\n<i class="ynicon ynicon-carrot-up"></i>\n<a href translate="sorting_level"></a>\n</li>\n<li class="waiting-longest" ng-click="vm.sortGuestList(\'waitingtime\', \'asc\')">\n<a href translate="sorting_waitingtime_asc"></a>\n</li>\n<li class="waiting-shortest" ng-click="vm.sortGuestList(\'waitingtime\', \'desc\')">\n<a href translate="sorting_waitingtime_desc"></a>\n</li>\n<li class="alphabetical" ng-click="vm.sortGuestList(\'alphabetical\')">\n<a href translate="sorting_alphabetical"></a>\n</li>\n</ul>\n</div>\n</div>\n<!-- viewers guestlist -->\n<div class="guest-list mini-scroll" infinite-scroll="vm.loadGuestList(true)" ng-class="{\'broadcaster-guest-list\': vm.swf.broadcast.userId == vm.session.user.userId, \'frozen\': vm.previewImage !== undefined, \'guest-guest-list\': vm.guestService.guest.userId == vm.session.user.userId}" only-scroll>\n<div class="guest guest-optin" ng-class="{\'clickable\': !vm.guestService.userGuestObj}" ng-click="vm.openGuestOptIn()">\n<img class="preview-image" ng-class="{ \'in-list\': vm.state === \'guestList\'}" ng-if="vm.previewImage" ng-src="data:image/jpeg;base64,{{vm.previewImage}}">\n<img class="thumbnail-image" ng-if="vm.guestService.userGuestObj" ng-class="{\'invisible\': vm.previewImage}" ng-src="{{vm.guestService.userGuestObj.snapshot}}">\n<div class="thumbnail-placeholder" ng-if="!vm.guestService.userGuestObj.snapshot">\n<i class="ynicon ynicon-bc-call"></i>\n</div>\n<div class="summary-placeholder" ng-if="!vm.guestService.userGuestObj">\n<b translate="guest_become"></b>\n</div>\n<div class="summary-placeholder in-list" ng-if="vm.guestService.userGuestObj">\n<b translate="guest_inqueue"></b>\n<button class="btn btn-important" ng-click="vm.optOut()" translate="guest_remove"></button>\n</div>\n</div>\n<guest-list guests="vm.guestList" user-id="vm.session.user.userId" config="vm.config" open-profile="vm.openProfile" invite-guest="vm.inviteGuest" broadcaster="vm.swf.broadcast" translated-text="vm.translatedText" watch-depth="reference"/>\n\n<!-- <div class="guest" ng-repeat="guest in vm.guestList" ng-if="::(guest.userId != vm.session.user.userId)"  >\n<div class="thumb clickable" ng-click="vm.openProfile(guest.userId, $index)" ng-style="::{\'background-image\': \'url({{::(vm.config.settings.GuestSnapshotsBaseUrl + guest.snapshotUrl)}})\', \'background-size\': \'cover\'}"></div>\n<div class="summary">\n<div class="guest-name short-text clickable" ng-click="vm.openProfile(guest.userId)">\n<user-badge role="{{::guest.chatRole}}" level="{{::guest.level}}" subscription-type="{{::guest.subscriptionType}}" channelId="{{::guest.userId}}"></user-badge>\n<b>{{::guest.name}}</b>\n</div>\n<div>\n<span class="guest-bars" ng-if="::(guest.bars > 0)"><i class="ynicon ynicon-icon-bar"></i> {{::guest.bars}}</span>\n<span class="bullet" ng-if="::(guest.bars > 0 && guest.formattedLocation.length > 0)">&#8226;</span>\n<span class="guest-location" ng-if="::(guest.formattedLocation.length > 0)">{{::guest.formattedLocation}}</span>\n</div>\n<div class="description line-clamp"  ng-if="::(guest.description && guest.description.length > 0)">\n{{::guest.description}}\n</div>\n<button class="btn btn-primary" ng-click="vm.inviteGuest(guest)" translate="guest_make"></button>\n</div>\n</div> -->\n</div>\n\n<!-- empty guestlist -->\n<div class="guest-list-empty" ng-if="vm.guestList.length === 0 || !vm.guestList">\n<i class="ynicon ynicon-bc-call-nolines"></i>\n<div translate="guest_nomore"></div>\n</div>\n\n<!-- guest preview -->\n<div class="guest-preview" ng-class="{\'active\': vm.state === \'guestPreview\'}">\n<button class="btn btn-transparent go-back" ng-click="vm.closeGuestOptIn()">\n<i class="ynicon ynicon-btn-back"></i>\n</button>\n<h4 class="preview-title"><span translate="guest_smile_selected" style="display:inline;"></span><span class="short-text">{{::vm.swf.broadcast.profile}}.</span></h4>\n<div class="preview-video-container">\n<span class="counter" ng-if="vm.counter > 0">{{vm.counter}}</span>\n<video id="preview-video" camera-valid on-valid="vm.cameraValid()"></video>\n</div>\n<div tooltip="{{vm.cameraReady ? \'\' : \'We werent able to detect your camera. Please check your browser settings.\'}}"\ntooltip-trigger="mouseenter"\ntooltip-placement="top"\ntooltip-append-to-body="true">\n<button class="btn btn-confirm preview-control"\nng-if="!vm.imageTaken"\nng-disabled="vm.counter > 0 || !vm.cameraReady"\nng-click="vm.previewCountdown()">\n<i class="ynicon ynicon-camera"></i>\n</button>\n</div>\n<!-- retry buttons -->\n<div class="retry-buttons" ng-if="vm.imageTaken">\n<button class="btn btn-cancel preview-control" ng-disabled="vm.counter > 0" ng-click="vm.previewCountdown()">\n<i class="ynicon ynicon-icon-redo"></i>\n</button>\n<button class="btn btn-primary preview-control" ng-disabled="vm.counter > 0" ng-click="vm.optIn()">\n<i class="ynicon ynicon-icon-send"></i>\n</button>\n</div>\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/components/header/header.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/header/header.tpl.html",'<div class="navbar" ng-init="load()">\n<div class="container">\n<div class="progress-buffer"></div>\n</div>\n\n<div class="gradient-accent" ng-style="{\'width\': gradientProgress + \'%\', \'transition\': \'width \'+gradientProgress/150+\'s linear\', \'background-image\': currentGradient}"></div>\n\n<div class="navbar-content">\n<a class="nav-logo pull-left" href="/{{config.hrefLanguage}}" prevent-default ng-click="clickLogo(config.hrefLanguage)">\n<img ng-src="{{::cdn.base}}/angularjsapp/src/assets/images/logo/{{::logoBlack ? \'younow_text_logo_black.svg\' : \'yn_white_logo.svg\'}}">\n</a>\n\n<yn-search-bar size="tiny"></yn-search-bar>\n\n<div class="user-actions nav-absolute">\n<div class="header-nav-text nav-explore pull-left" ui-sref-active="selected">\n<a ui-sref="main.explore" class="primary-text" translate="header_explore" ng-click="doHeaderNavigation(\'explore\', $event)"></a>\n</div>\n<div class="header-nav-text nav-moments pull-left" ui-sref-active="selected">\n<a ui-sref="main.momentsFeed" class="primary-text" translate="header_moments" ng-click="doHeaderNavigation(\'moments\', $event)"></a>\n</div>\n<div class="header-nav-text nav-leaderboards pull-left" ui-sref-active="selected">\n<a ui-sref="main.leaderboards" class="primary-text" translate="header_leaderboards" ng-click="doHeaderNavigation(\'leaderboards\', $event); checkSeenLeaderboards();"></a>\n<div ng-if="!hasSeen" class="seen-dot"></div>\n</div>\n</div>\n\n\n<div class="user-actions pull-right" style="width:524px;">\n<!-- logged in header options -->\n<div ng-if="session.loggedIn" class="pull-right" style="width:365px;">\n<!--\n<button class="btn btn-primary secondary-text pull-left" ng-click="goLive()" translate="header_golive"></button>\n-->\n<div class="pull-right">\n<div class="notifications pull-left" ng-class="{\'has-notifications\': session.notificationCount}">\n<div class="btn-group" id="notifications-dropdown" dropdown>\n<button class="btn btn-transparent" dropdown-toggle ng-click="checkNotifications($event)">\n<i class="ynicon ynicon-notifications"></i>\n</button>\n<div class="dropdown-menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<div class="feed mini-scroll" only-scroll infinite-scroll="session.getNotifications()" can-load="!session.noMoreNotifications" threshold="300">\n<ul class="list">\n<li ng-repeat="notification in session.notifications"\nng-class="::{new: notification.new}"\nng-click="openNotification(notification, $event)"\nng-attr-category="{{::notification.notificationTypeId}}">\n<div class="notification-item">\n<div class="circle-thumb pull-left" ng-click="goToProfile(notification.userName, $event)" ng-style="::{background: \'url(\' + cdn.thumb+notification.eventUserId + \')  no-repeat, url(\' + config.settings.ServerCDNBaseUrl  + \'/images/nothumb.jpg) no-repeat\', \'background-size\': \'cover\'}">\n<div class="notif-category">\n<i class="ynicon ynicon-user"></i>\n<i class="ynicon ynicon-thumb"></i>\n<i class="ynicon ynicon-broadcast"></i>\n<i class="ynicon ynicon-chat"></i>\n<span class="mention-icon">@</span>\n</div>\n</div>\n<div class="description line-clamp">\n<div class="name">\n<span ng-click="goToProfile(notification.userName, $event)">{{::notification.userName}}</span> {{::notification.template}}\n</div>\n<div class="time-ago">{{::notification.timeAgo}}</div>\n</div>\n<div class="right-container" track-source="ACTIVITY_FEED">\n<div fan-button size="tiny" ng-if="::(notification.notificationTypeId === 3 || notification.notificationTypeId === 26)" channel="notification.channel"></div>\n<div\nclass="thumb-image"\nng-if="::(notification.imageUrl)"\nng-style="::{background: \'url(\'+notification.imageUrl+\') center / cover no-repeat\'}">\n</div>\n</div>\n</div>\n</li>\n</ul>\n</div>\n<div ng-show="(!session.notifications || session.notifications.length === 0) && session.noMoreNotifications" class="empty">\n<span translate="header_this_is_where_your_notifications_appear"></span>\n</div>\n<div class="settings-link clickable" ng-click="openSettings(\'notifications\')" translate="header_notifications_settings"></div>\n</div>\n</div>\n<div class="chiclet">\n<span class="count">{{session.notificationCount}}</span>\n<audio id="notificationSound">\n<source ng-src="{{::cdn.base + \'/audio/notification_feed/younow_notifications.wav\'}}" type="audio/x-wav">\n</audio>\n</div>\n</div>\n<div class="user-menu pull-right" dropdown is-open="userMenuOpened">\n<div class="circle-thumb clickable pull-left" dropdown-toggle ng-style="{background: \'url(\'+cdn.base+\'/php/api/channel/getImage/channelId=\'+session.user.userId+\') no-repeat\', \'background-size\': \'cover\'}"></div>\n<ul class="dropdown-menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<li class="user">\n<div class="user-title">{{session.user.profile}}</div>\n\n<div class="user-progress">\n<div class="user-progress-text" translate="header_progress" translate-values="{progress:session.user.progress,level:session.user.level+1}"></div>\n<div class="user-progress-bar"><div class="user-progress-value" style="width:{{session.user.progress}}%;"></div></div>\n</div>\n\n<div class="user-credits">\n<span>\n<span\ntooltip="{{session.user.userCoins | number}}"\ntooltip-trigger="mouseenter"\ntooltip-enable="session.user.userCoins > 10000">\n<i class="yncoin ynicon ynicon-coins"></i>\n<span>{{Api.squashedNumber(session.user.userCoins, 4)}}</span>\n</span>\n</span>\n<span>\n<span\ntooltip="{{session.user.vault.webBars | number}}"\ntooltip-trigger="mouseenter"\ntooltip-enable="session.user.vault.webBars > 10000">\n<i class="ynbar ynicon ynicon-icon-bar"></i>\n<span>{{Api.squashedNumber(session.user.vault.webBars, 4)}}</span>\n</span>\n</span>\n<span ng-if="!session.user.spendingDisabled">\n<span>\n<button class="btn btn-small btn-confirm" ng-click="getBars()" translate="header_getbars"></button>\n</span>\n</span>\n</div>\n\n</li>\n<li>\n<a ng-click="goLive()" target="_blank">\n<i class="ynicon ynicon-broadcast"></i>\n<span translate="header_golive"></span>\n</a>\n</li>\n<li ng-if="pusher.anon">\n<a ng-click="pusher.anonMode(false)" target="_blank">\n<i class="ynicon ynicon-viewers"></i>\n<span translate="header_deanon"></span>\n</a>\n</li>\n<li ng-if="!pusher.anon">\n<a ng-click="pusher.anonMode(true)" target="_blank">\n<i class="ynicon ynicon-viewers"></i>\n<span translate="header_anon"></span>\n</a>\n</li>\n<li>\n<a ng-if="::isPartner(\'pending\')" ng-href="/partners" target="_blank">\n<img class="ynicon" ng-src="{{::cdn.image}}/topnav/menu_user_partner.png">\n<span translate="header_partner_program"></span>\n</a>\n</li>\n<li>\n<a ng-if="::isPartner(\'active\')" ng-href="/partners/earnings" target="_blank">\n<i class="ynicon ynicon-icon-earnings"></i>\n<span translate="header_earnings"></span>\n</a>\n</li>\n\n<li>\n<a ng-if="::needsUpdate()" ng-href="/partners/payment-settings" target="_blank">\n<i class="ynicon ynicon-icon-paymentsettings"></i>\n<span translate="header_tipalti"></span>\n</a>\n</li>\n\n<li>\n<a ng-click="selfProfile()" ng-href="/{{session.user.profile}}/channel" prevent-default>\n<i class="ynicon ynicon-user"></i>\n<span translate="header_profile"></span>\n</a>\n</li>\n<li>\n<a ng-click="openSettings()" ng-href="/settings" prevent-default>\n<i class="ynicon ynicon-settings"></i>\n<span translate="header_settings"></span>\n</a>\n</li>\n<li>\n<a ng-click="session.showInviteUsers()" href>\n<i class="ynicon ynicon-audience"></i>\n<span translate="header_invite_friends"></span>\n</a>\n</li>\n<li>\n<a ng-click="session.logout()" href>\n<i class="ynicon ynicon-logout"></i>\n<span translate="header_logout"></span>\n</a>\n</li>\n</ul>\n\n</div>\n</div>\n</div>\n<!-- logged out header options -->\n<div class="pull-right" ng-if="!session.loggedIn">\n<span class="login-text">\n<a href="" class="secondary-text" ng-click="session.showLoginModal(\'\',\'BUTTON\'); loginClick(\'Click Login\');" translate="header_login"></a>\n</span>\n<span class="login-text">\n<a class="secondary-text" href="" ng-click="session.showLoginModal(\'\',\'BUTTON\'); loginClick(\'Click Signup\');" translate="header_signup"></a>\n</span>\n<button class="btn btn-primary get-the-app" ng-click="getTheApp()" translate="header_get_the_app"></button>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/header/searchresult.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/header/searchresult.tpl.html",'<div ng-if="match.model.objectID" class="searchResult">\n<div class="circle-thumb pull-left" ng-attr-style="{{$parent.$parent.$parent.$parent.cdn.background(match.model.objectID)}}">\n<div class="live" ng-show="match.model.tag"><i class="ynicon ynicon-broadcast"></i></div>\n</div>\n<div class="pull-left userInfo">\n<div class="name pull-left">\n<i class="ynicon ynicon-level"></i><span>{{match.model.level}}</span>\n<span class="short-text">{{match.model.fullName}}</span>\n</div>\n<div ng-show="match.model.viewers" class="viewers pull-right">\n<img ng-src="{{$parent.$parent.$parent.cdn.base}}/images/younow_header/icon_viewers_search.png">{{match.model.viewers}}</div>\n<div class="description line-clamp pull-left" ng-bind-html="match.model.hashedDescription"></div>\n</div>\n</div>\n<div ng-if="match.model.dbg">\n<a class="tagResult" ng-href="/explore/{{match.model.tag}}">\n<div class="short-text">{{match.model.tag}}</div>\n<span class="pull-right">\n<i class="ynicon ynicon-broadcast"></i>\n<span>{{match.model.live}}</span>\n</span>\n<span class="pull-right">\n<i class="ynicon ynicon-viewers"></i>\n<span>{{match.model.viewers}}</span>\n</span>\n</a>\n</div>\n<div ng-if="match.model.more" class="searchResult-more transline-top ellipsify">\n<span translate="search_see_all_for"></span>\n<span class="searchTerm short-text">{{match.model.query}}</span>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html",'<iframe ng-src="{{src}}"></iframe>\n<a id="fancybox-close" ng-click="$dismiss()"></a>\n')}]),angular.module("angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html",'<div class="main-left">\n<div id="leftsidebar">\n<div class="channel-menu-content">\n\n<div class="left-panel">\n<div class="panel-title nowrap short-text">\n<span class="trending-now primary-text" translate="sidebar_trending_people"></span>\n</div>\n<div class="panel-body">\n<div class="trending-users mini-scroll" only-scroll>\n<!-- check if on main channel detail -->\n<a ng-class="{\'active\': person.userId === leftSidebar.swf.broadcast.userId}" ng-repeat="person in leftSidebar.dashboard.users" ng-href="/{{person.profile}}" prevent-default ng-click="leftSidebar.changeBroadcaster(person.userId)">\n<span class="trending-user">{{::person.username}}</span>\n<span class="viewerCount">{{person.viewers}}</span>\n</a>\n</div>\n<div class="see-more">\n<a ui-sref="main.explore" class="trending-people-more" translate="see_all_trending"></a>\n</div>\n\n</div>\n</div>\n\n<div class="left-panel">\n<div class="panel-title nowrap short-text" ng-if="leftSidebar.dashboard.featuredUsers.length > 0">\n\n<span class="primary-text" translate="sidebar_featured_people"></span>\n</div>\n<div class="panel-body" ng-if="leftSidebar.dashboard.featuredUsers.length > 0">\n<div class="trending-users featured-users mini-scroll" only-scroll>\n\n<a ng-repeat="person in leftSidebar.dashboard.featuredUsers" ng-href="/{{person.profile}}" prevent-default ng-click="leftSidebar.changeBroadcaster(person.userId)" class="activity">\n\n<div class="profile-img thumb" ng-style="::{\'background-image\': \'url(\'+leftSidebar.config.thumb+person.userId+\'), url(\'+leftSidebar.config.nothumb+\')\'}">\n<i class="ynicon ynicon-broadcast"></i>\n</div>\n\n<div class="status">\n<span class="username short-text">{{person.username}}</span>\n<span class="short-text tag">#{{person.tags[0]}}</span>\n</div>\n\n</a>\n\n</div>\n</div>\n</div>\n\n<div ng-if="leftSidebar.session.onlineFriends.live.length > 0 || leftSidebar.session.onlineFriends.online.length > 0" class="left-panel">\n<div class="panel-title nowrap short-text" ng-if="leftSidebar.session.user.userId !== 0">\n<span class="primary-text"translate="sidebar_online_friends"></span>\n</div>\n<div  activity-panel\nclass="activity-panel"\nng-if="leftSidebar.session.user.userId !== 0 && leftSidebar.session.onlineFriends"\nonline-friends="leftSidebar.session.onlineFriends"\nsource="MYFRIENDS">\n</div>\n</div>\n\n<div class="left-panel">\n<div class="panel-title nowrap short-text" >\n<span class="primary-text" translate="sidebar_trending_tags"></span>\n</div>\n<div class="trending-tags-list mini-scroll" only-scroll>\n<div>\n<a ng-repeat="tag in leftSidebar.dashboard.tags" ng-href="/explore/{{tag.tag}}" ng-click="leftSidebar.getTagFeatured(tag.tag)" prevent-default>\n<span class="trending-tag" data-tagname="musicians">#{{::tag.tag}}</span>\n</a>\n</div>\n</div>\n</div>\n\n<div class="left-panel" ng-if="leftSidebar.session.user.globalSpenderRank">\n<div class="panel-title panel-vip-title">\n<i class="ynicon ynicon-redcrownicon"></i> <span class="primary-text" translate="vip_help"></span>\n</div>\n<div class="trending-tags-list mini-scroll vip-mailto">\n<div>\n<a href="mailto:vip@younow.com">\n<span class="trending-tag mailto-title">Contact Us</span>\n<span class="trending-tag mailto-hidden">vip@younow.com</span>\n</a>\n</div>\n</div>\n</div>\n\n<div class="left-panel last">\n<div class="panel-title short-text">\n<span class="mobile-title primary-text" translate="_more"></span>\n</div>\n\n<div class="panel-body">\n\n<div class="language-panel">\n<i class="ynicon ynicon-icon-languages"></i>\n<div class="dropdown language-dropdown " dropdown>\n<button class="btn dropdown-toggle" dropdown-toggle  id="dropdownMenu1" aria-haspopup="true" aria-expanded="true">\n<span class="selectUIInput">{{ config.UILanguages[ config.UILanguage ] }} <i class="ynicon ynicon-carrot-dwn"></i></span>\n</button>\n<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">\n<li>\n<div ng-repeat="(la, lang) in ::config.UILocales"  ng-click="leftSidebar.selectLanguage(la);"><i ng-class="{\'active\':config.UILanguage == la}" class="ynicon ynicon-icon-check"></i> <span translate="{{lang}}"></span>\n</div>\n\n</li>\n</ul>\n</div>\n</div>\n\n<div class="locale-panel">\n<i class="ynicon ynicon-icon-content-locale"></i>\n<div class="dropdown language-dropdown " dropdown>\n<button class="btn dropdown-toggle" dropdown-toggle  id="dropdownMenu1" aria-haspopup="true" aria-expanded="true">\n<span class="selectUIInput">{{ config.UILocales[ config.UILocale ] || \'Worldwide\' }} <i class="ynicon ynicon-carrot-dwn"></i></span>\n</button>\n<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">\n<li>\n<div ng-repeat="(la, lang) in ::config.UILocales"  ng-click="leftSidebar.selectLocale(la);"><i ng-class="{\'active\':config.UILocale == la}" class="ynicon ynicon-icon-check"></i> <span translate="{{lang}}"></span>\n</div>\n</li>\n</ul>\n</div>\n</div>\n\n\n<div class="sidebar-links" >\n\n<div class="links-left">\n<a href="/about" ng-click="showAbout()" ng-if="state.current.name!=\'about\'" translate="footer_about_title"></a>\n<a href="/featured" ng-click="doAboutClick(\'Footer link\', \'Live Now\')" ng-if="state.current.name===\'about\' && open" translate="footer_live_title" mobile-hide></a>\n<a href="/press" ng-click="openDoc($event, \'Press\')" target="_blank" translate="footer_press_title"></a>\n<a href="/careers" ng-click="doAboutClick(\'Footer link\', \'Careers\')" target="_blank" translate="footer_careers_title"></a>\n<a href="http://blog.younow.com/" ng-click="doAboutClick(\'Footer link\', \'Blog\')" target="_blank" translate="footer_blog_title"></a>\n<a href="policy/en/terms" ng-click="openDoc($event,\'Terms\')" translate-cloak translate="footer_terms_title"></a>\n<a ng-href="{{\'footer_rules_link\' | translate}}" ng-click="openDoc($event,\'Rules\')" translate-cloak translate="footer_rules_title"></a>\n</div>\n<div class="links-right">\n<a href="https://younow.zendesk.com/home" ng-click="doAboutClick(\'Footer link\', \'FAQ\')" target="_blank" translate="footer_faq_title"></a>\n<a href="policy/en/privacy" ng-click="openDoc($event,\'Privacy\')" translate-cloak translate="footer_privacy_title"></a>\n<a ng-href="{{\'footer_trust_link\' | translate}}" ng-click="openDoc($event,\'Trust\')" translate-cloak translate="footer_trust_title"></a>\n<a href="/app/iphone" ng-click="doAboutClick(\'Footer link\', \'iOS\')" target="_blank" translate="footer_ios_title"></a>\n<a href="/app/android" ng-click="doAboutClick(\'Footer link\', \'Android\')" target="_blank" translate="footer_android_title"></a>\n<a href="/partners/" ng-click="doAboutClick(\'Footer link\', \'Partners\')" target="_blank" translate="footer_partners_title"></a>\n<a ng-if="config.UILanguage == \'de\'" href="/policy/de/impressum" target="_blank">Impressum</a>\n\n</div>\n\n</div>\n\n<div class="sidebar-icons">\n<div class="icon-wrapper">\n<a href="https://www.facebook.com/younow" ng-click="doAboutClick(\'Footer link\', \'Facebook\')" target="_blank">\n<i class="ynicon ynicon-social-fb"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a href="https://www.twitter.com/younow" ng-click="doAboutClick(\'Footer link\', \'Twitter\')" target="_blank">\n<i class="ynicon ynicon-social-tw"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a href="http://www.instagram.com/younow" ng-click="doAboutClick(\'Footer link\', \'Instagram\')" target="_blank">\n<i class="ynicon ynicon-social-insta"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a href="http://blog.younow.com/" ng-click="doAboutClick(\'Footer link\', \'Tumblr\')" target="_blank">\n<i class="ynicon ynicon-social-tm"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a  href="https://www.youtube.com/user/YouNowlive" ng-click="doAboutClick(\'Footer link\', \'Youtube\')" target="_blank">\n<i class="ynicon ynicon-icon-social-yt2"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a  ng-click="leftSidebar.trackMobile(\'IOS\')" href="https://itunes.apple.com/app/apple-store/id471347413?mt=8&pt=669563&ct=d-web-sidebar-1" target="_blank">\n<i class="ynicon ynicon-icon-logo-apple"></i>\n</a>\n</div>\n\n<div class="icon-wrapper">\n<a -click="leftSidebar.trackMobile(\'ANDROID\')" href="https://play.google.com/store/apps/details?id=younow.live&referrer=utm_source%3Dyounow.com%26utm_campaign%3Dapp-promo-android%26utm_medium%3Dreferral%26utm_content%3Dd-web-sidebar-1" target="_blank">\n<i class="ynicon ynicon-icon-logo-googleplay"></i>\n</a>\n</div>\n\n</div>\n\n</div>\n</div>\n\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/login-modal/login-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/login-modal/login-modal.tpl.html",'<div class="modal-body">\n<button ng-if="soft" aria-hidden="true" class="close" ng-click="cancel()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="instructions row">\n<div class="row">\n<span class="heading" translate="{{::data.title}}"></span>\n</div>\n</div>\n\n<center>\n<div class="networks btn-group">\n<div class="network row">\n<div class="cell">\n<button class="btn btn-facebook full-width" ng-disabled="loggingIn.facebook" ng-click="login(\'facebook\')">\n<i class="ynicon ynicon-social-fb"></i>\n<span ng-if="!loggingIn.facebook" class="transline"><span translate="loginmodal_signinwith"></span> <span>Facebook</span></span>\n<div ng-if="loggingIn.facebook" class="loader-light"></div>\n</button>\n</div>\n</div>\n<div class="network row">\n<div class="cell">\n<button class="btn btn-twitter full-width" ng-disabled="loggingIn.twitter" ng-click="login(\'twitter\')">\n<i class="ynicon ynicon-social-tw"></i>\n<span ng-if="!loggingIn.twitter" class="transline"><span translate="loginmodal_signinwith"></span> <span>Twitter</span></span>\n<div ng-if="loggingIn.twitter" class="loader-light"></div>\n</button>\n</div>\n</div>\n<div class="network row">\n<div class="cell">\n<button class="btn btn-google full-width" ng-disabled="loggingIn.google" ng-click="login(\'google\')">\n<i class="ynicon ynicon-social-gp"></i>\n<span ng-if="!loggingIn.google" class="transline"><span translate="loginmodal_signinwith"></span> <span>Google</span></span>\n<div ng-if="loggingIn.google" class="loader-light"></div>\n</button>\n</div>\n</div>\n<div class="network row">\n<div class="cell">\n<button class="btn btn-instagram full-width" ng-if="moreOptions" ng-disabled="loggingIn.instagram" ng-click="login(\'instagram\')">\n<i class="ynicon ynicon-social-insta"></i>\n<span ng-if="!loggingIn.instagram" class="transline"><span translate="loginmodal_signinwith"></span> <span>Instagram</span></span>\n<div ng-if="loggingIn.instagram" class="loader-light"></div>\n</button>\n</div>\n</div>\n<div class="network row">\n<div class="cell">\n<div ng-if="!moreOptions" ng-click="showMoreOptions()" class="show-more-options" translate="loginmodal_more_options"></div>\n</div>\n</div>\n</div>\n</center>\n\n<span class="terms-copy transline-mid">\n<span translate="loginmodal_by_clicking_agree"></span>\n<a href="/terms.php" target="_blank" style="color:#999999;" translate="loginmodal_terms"></a>.\n</span>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html",'<div class="modal-body">\n\n<button class="close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n\n<div class="modal-heading">\n<span class="profile">{{::vm.channel.profile}} : </span><span class="title">{{::vm.broadcast.broadcastTitle}}</span>\n</div>\n\n<div id="hotscore_experiment" ng-if="::(session.moderator || session.user.role == 7)" ng-mousemove="vm.seekMove($event)" ng-click="vm.seekClick($event)">\n<div class="hotscore_time hotscore_offsetX" style="left:{{ vm.broadcast.offsetX }}px;"><div>{{ vm.broadcast.offsetXString }}</div></div>\n<div class="hotscore_time hotscore_positionX" ng-if="vm.broadcast.positionX" style="left:{{ vm.broadcast.positionX }}px;"><div>{{ vm.broadcast.positionXString }}</div></div>\n<img ng-src="http://174.129.214.164:5001/hotscore/?broadcastid={{vm.broadcast.broadcastId}}" />\n<div class="hotscore_canvas"></div>\n</div>\n\n<videojs-player options="vm.playerOptions"></videojs-player>\n\n<div class="modal-info clearfix">\n<span><i class="ynicon ynicon-viewers"></i> {{ vm.broadcast.totalViewers | number }} </span>\n<span><i class="ynicon ynicon-thumb"></i> {{ vm.broadcast.totalLikes | number }} </span>\n<span><i class="ynicon ynicon-btn-bc-share-android"></i> {{ vm.broadcast.shares | number }} </span>\n<div class="pull-right" ng-if="session.user.role == 7">\n<a ng-href="{{ vm.broadcast.downloadUrl }}" target="_self" rel="nofollow"><i class="ynicon ynicon-icon-share-download"></i></a>\n</div>\n</div>\n\n<div class="modal-share">\n<input type="checkbox" ng-model="vm.seekOn" ng-change="vm.seekCheck()" />\n<div class="share-at" ng-class="{selected:vm.seekOn}">\nShare at:\n<input\ntype="text"\nclass="share-input"\nng-model="vm.seekValue"\nng-focus="vm.seekFocus()"\nng-blur="vm.seekBlur()"\nng-change="vm.seekChange()"\n/>\n</div>\n<input\ntype="text"\nclass="share-output"\nvalue="{{vm.broadcast.href}}"\ncopy-on-click\ntooltip="copied to clipboard"\ntooltip-append-to-body="true"\ntooltip-trigger="hrefCopied"\n/>\n<div class="share-buttons">\n<img src="/images/profile/new/fb_share_100.png" ng-click="vm.shareFacebook();" />\n<img src="/images/profile/new/icon_pro_tw.png" ng-click="vm.shareTwitter();" />\n</div>\n</div>\n\n</div>\n<!-- ng-value="  vm.shareValue ? vm.shareValue : ( vm.broadcast.shareTo ? vm.broadcast.shareTo : vm.shareTo )   "  -->\n\n')}]),angular.module("angularjsapp/src/app/components/mention/mention-dropup.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mention/mention-dropup.tpl.html",'<div class="dropup">\n<ul class="list-group user-search dropdown-menu">\n<li mentio-menu-item="person" ng-repeat="person in items" class="list-group-item">\n<img ng-src="{{person.thumb}}" class="circle-thumb">\n<span class="text-primary" ng-bind-html="person.displayName | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></span>\n<em ng-if="::persion.description" class="text-muted" ng-bind="person.description"></em>\n</li>\n</ul>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/mention/mention.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mention/mention.tpl.html",'<ul class="list-group user-search">\n<li mentio-menu-item="person" ng-repeat="person in items" class="list-group-item">\n<img ng-src="{{person.thumb}}" class="circle-thumb">\n<span class="text-primary" ng-bind-html="person.displayName | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></span>\n<em class="text-muted" ng-bind="person.description"></em>\n</li>\n</ul>\n\n')}]),angular.module("angularjsapp/src/app/components/mini-player/mini-player.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mini-player/mini-player.tpl.html",'<div class="mini-player" ng-if="vm.broadcast.media">\n<div class="gradient-accent"></div>\n<videojs-player options="vm.playerOptions"></videojs-player>\n\n<div class="mini-player-info">\n<a class="mini-player-profile ellipsify" prevent-default ng-href="/{{::vm.broadcast.profile}}" ng-click="vm.openProfile()"> {{ ::vm.broadcast.profile }} on </a>\n<span class="mini-player-viewers"><i class="ynicon ynicon-viewers"></i> <span>{{::vm.viewers}} </span></span>\n<span class="mini-player-break ellipsify">#{{::vm.broadcast.tags[0] }}</span>\n</div>\n\n<div class="mini-player-actions">\n<button class="btn btn-primary short-text" ng-click="showBroadcast()"><i class="ynicon ynicon-broadcast"></i> <span translate="profile_enter_live_chat"></span></button>\n<span ng-click="vm.swf.toggleMute()">\n<i class="ynicon" ng-class="!vm.swf.volume? \'ynicon-mute-sel\' : \'ynicon-mute\'"></i>\n</span>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html",'<div class="modal-body">\n<div ng-include="\'angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html\'"></div>\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html",'<section class="mobile-download-container">\n<div class="top-content">\n<h1>HELLO</h1>\n</div>\n<div class="inner-container">\n\n<div class="download-image pull-left">\n<img class="mobile-phone" ng-src="{{::vm.baseCDN}}/angularjsapp/src/assets/images/home/home_phone_2x.png" alt="Download YouNow app" />\n</div>\n\n<div class="download-description pull-right">\n<h2 translate="app_default_headline"></h2>\n<p translate="app_default_body"></p>\n<div class="tel-input-wrapper" ng-class="{\'active\': !twilioSuccess}">\n<input type="tel" id="{{::vm.telInputId}}"\nintl-tel-input\nclass="form-control"\nautocomplete="off"\nplaceholder="(201) 555-5555"\ntooltip="{{errorMsg}}"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error">\n<button class="btn btn-primary" translate="app_default_cta"></button>\n</div>\n<div class="success-message" ng-class="{\'active\': twilioSuccess}" translate="app_ios_headline">\n</div>\n<span translate="app_default_clause"></span>\n</div>\n\n<div class="clear"></div>\n</div>\n</section>\n')}]),angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html",'<div class="modal-body">\n<div ng-include="\'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html\'"></div>\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html",'<section class="mobile-download-container">\n<div class="inner-container">\n\n<div class="download-image pull-left">\n<img class="mobile-phone" ng-src="{{::vm.baseCDN}}/angularjsapp/src/assets/images/home/home_phone_2x.png" alt="Download YouNow app" />\n</div>\n\n<div class="download-description pull-right">\n<h2 translate="app_default_headline"></h2>\n<p translate="app_default_body"></p>\n<div class="tel-input-wrapper" ng-class="{\'active\': !twilioSuccess}">\n<input type="tel" id="{{::vm.telInputId}}"\nintl-tel-input\nclass="form-control"\nautocomplete="off"\nplaceholder="(201) 555-5555"\ntooltip="{{errorMsg}}"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error">\n<button class="btn btn-primary" translate="app_default_cta"></button>\n</div>\n<div class="success-message" ng-class="{\'active\': twilioSuccess}" translate="app_default_success">\n</div>\n<span translate="app_default_clause"></span>\n</div>\n\n<div class="clear"></div>\n</div>\n</section>\n\n')}]),angular.module("angularjsapp/src/app/components/moment-panel/moment-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/moment-panel/moment-panel.tpl.html",'<div class="panel-header">\n<span class="panel-title" translate="moment_create_title"></span>\n<button ng-click="panel.close()" class="close btn-reset"><i class="ynicon ynicon-close"></i></button>\n</div>\n<div class="moment-edit">\n<span class="moment-adjust" draggable="false">\n<span class="moment-picker" draggable="false">\n<span id="slider-dim-left" class="slider-dim"></span>\n<span class="slider-handle" id="slider-handle-left" ng-mousedown="panel.moveSlider(\'left\',$event)"  draggable="false">\n<span class="slider-line"></span>\n<span class="slider-line"></span>\n</span>\n<span class="moment-thumbs">\n<img ng-repeat="thumb in panel.swf.moment.thumbs track by $index" ng-src="{{thumb}}" draggable="false" />\n</span>\n<span class="slider-wall" id="slider-wall-top"></span>\n<span class="slider-wall" id="slider-wall-bottom"></span>\n<span id="moment-progress" draggable="false"></span>\n<span class="slider-handle" id="slider-handle-right" ng-mousedown="panel.moveSlider(\'right\',$event)"  draggable="false">\n<span class="slider-line"></span>\n<span class="slider-line"></span>\n</span>\n<span id="slider-dim-right" class="slider-dim"></span>\n</span>\n</span>\n<span class="preview-container">\n<img class="preview" ng-if="panel.scrublord" ng-src="{{panel.swf.moment.previews[panel.preview]}}" />\n<videojs-player options="panel.swf.moment.options"></videojs-player>\n<moment-highlight dynamic></moment-highlight>\n</span>\n<span class="moment-caption">\n<input id="moment-caption-input" ng-model="vm.moment.text" ng-change="panel.updateCaption()" placeholder="{{::panel.inputPlaceholder}}" maxlength="30">\n<span ng-bind="vm.moment.charsRemaining"></span>\n</span>\n<button class="btn btn-primary" ng-click="panel.postMoment()">\n<span translate="_post"></span>\n</button>\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html",'<div class="modal-body">\n<div class="partner-modal-wrapper">\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()"  id="accept-modal-close" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="partner-title" translate="partner_congratulations"></div>\n<div class="partner-message" translate="partner_you_have_been_accepted"></div>\n<div class="btn-container">\n<button class="btn btn-confirm" ng-click="continue()" translate="_continue"></button>\n</div>\n</div>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/post/embed/archive.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/archive.tpl.html",'<ul ng-if="::post.media.type==\'5\'" class="archived-broadcasts" ng-attr-id="post_{{::post.media.broadcast.broadcastId}}">\n<li class="broadcast">\n<div class="pull-left">\n<div ng-class="::{\'no-cursor\': post.media.broadcast.videoAvailable === 0}"\nng-disabled="::(disabled = post.media.broadcast.videoAvailable === 0)"\nng-click="disabled || showMedia(post.media.broadcast.broadcastId, {source:\'FEED\',start:0}, post.media.broadcast)"\nclass="broadcast-thumb"\nng-style="::{background: \'url(\'+imageApis.broadcast+ \'/\' + post.media.broadcast.broadcastId + \'/\' + post.media.broadcast.broadcastId +\'.jpg) no-repeat\', \'background-size\': \'cover\'}">\n<img class="play-button" ng-if="::(post.media.broadcast.videoAvailable === 1)" ng-src="{{::cdn.base}}/images/profile/new/icon_play.png">\n<span class="broadcast-length">{{ ::post.media.broadcast.broadcastLengthString }}</span>\n</div>\n</div>\n<div class="pull-left broadcast-summary">\n<div class="title">#{{::post.media.broadcast.tags}}</div>\n<div class="stats">\n<div ng-if="::(post.media.broadcast.totalViewers && post.media.broadcast.totalViewers!=0)"><i class="ynicon ynicon-viewers"></i><span>{{ ::post.media.broadcast.totalViewers | number }}</span></div>\n<div ng-if="::(post.media.broadcast.totalChats && post.media.broadcast.totalChats!=0)"><i class="ynicon ynicon-chat"></i><span>{{ ::post.media.broadcast.totalChats | number }}</span></div>\n<div ng-if="::(post.media.broadcast.totalLikes && post.media.broadcast.totalLikes!=0)"><i class="ynicon ynicon-thumb"></i><span>{{ ::post.media.broadcast.totalLikes | number }}</span></div>\n<div ng-if="::(post.media.broadcast.giftNum && post.media.broadcast.totalGifts!=0)"><i class="ynicon ynicon-gift"></i><span>{{ ::post.media.broadcast.totalGifts | number }}</span></div>\n<div ng-if="::(post.media.broadcast.shares && post.media.broadcast.shares!=0)"><i class="ynicon ynicon-btn-bc-share-android"></i><span>{{ ::post.media.broadcast.shares | number }}</span></div>\n</div>\n</div>\n<div class="clear"></div>\n</li>\n</ul>\n\n')}]),angular.module("angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html",'<img class="embedly-image" ng-src="{{::post.media.embedly.url}}">\n')}]),angular.module("angularjsapp/src/app/components/post/embed/iframe.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/iframe.tpl.html",'<span class="embedlyiframe" ng-bind-html="::post.media.embedly.html"></span>\n')}]),angular.module("angularjsapp/src/app/components/post/embed/link.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/link.tpl.html",'<a ng-href="{{::post.media.embedly.url}}" rel="nofollow" target="_blank">\n<div class="embedly-link-container">\n<div class="left pull-left">\n<img ng-src="{{::post.media.embedly.thumbnail_url}}" />\n</div>\n<div class="right pull-left">\n<div class="title">\n<span>{{::post.media.embedly.title}}</span>\n</div>\n<div class="description">\n<span>{{::post.media.embedly.description}}</span>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n</a>\n')}]),angular.module("angularjsapp/src/app/components/post/embed/snapshot.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/snapshot.tpl.html",'<img ng-if="::post.media.type==\'6\'" class="snapshot-media" ng-src="{{::cdn.snapshot+post.media.snapshot.snapshotId}}" ng-attr-id="post_{{::post.media.snapshot.snapshotId}}">\n')}]),angular.module("angularjsapp/src/app/components/post/embed/uploadimage.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/uploadimage.tpl.html","<img class=\"image-media\" ng-if=\"::(post.media.type=='1'||post.media.type=='2')\" ng-src=\"{{::cdn.media+broadcasterService.broadcaster.userId+'/id='+post.id+'/ext='+post.media.ext}}\">\n")}]),angular.module("angularjsapp/src/app/components/post/embed/video.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/embed/video.tpl.html",'<!-- <iframe class="hidden" ng-if="::post.media.type==\'4\'" frameborder="0" height="325" seamless="" ng-src="{{::trustedSrc(cdn.base+\'/player.php?channelId=\'+broadcasterService.broadcaster.userId+\'&amp;id=\'+post.id)}}" width="433"></iframe> -->\n')}]),angular.module("angularjsapp/src/app/components/post/moment-highlight/moment-dynamic-highlight.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/moment-highlight/moment-dynamic-highlight.tpl.html",'<div class="moment-highlight-container highlight-shadow transform-highlight" ng-click="vm.highlightClick()">\n<!-- double drop shadow border radius -->\n<a class="circle-thumb crop-thumb"\nng-click="vm.showProfileSummary(vm.moment.owner.userId)"\nng-href="/{{vm.moment.owner.name}}" prevent-default>\n\n<div class="thumb-image" ng-style="{ \'background\': \'url(\'+vm.cdn.nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" class="thumb-image" ng-src="{{(vm.cdn.thumb+vm.moment.owner.userId)}}" alt="{{vm.moment.owner.name}}" />\n</div>\n</div>\n</a>\n\n<div class="moment-highlight-owner clickable" ng-click="vm.showProfileSummary(vm.moment.owner.userId)">\n<span class="moment-highlight-title">{{vm.moment.owner.name}}</span>\n</div>\n\n<div class="moment-highlight-text" ng-if="vm.moment.text.length > 1 || vm.moment.placeholder">\n<span> {{vm.moment.text}}</span>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/post/moment-highlight/moment-highlight.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/moment-highlight/moment-highlight.tpl.html",'<div class="moment-highlight-container highlight-shadow">\n<!-- double drop shadow border radius -->\n<a class="circle-thumb crop-thumb"\nng-click="vm.showProfileSummary(vm.moment.owner.userId)"\nng-href="/{{::vm.moment.owner.name}}" prevent-default>\n\n<div class="thumb-image" ng-style="::{ \'background\': \'url(\'+vm.cdn.nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" class="thumb-image" ng-src="{{::(vm.cdn.thumb+vm.moment.owner.userId)}}" alt="{{::vm.moment.owner.name}}" />\n</div>\n</div>\n</a>\n\n<div class="moment-highlight-owner clickable" ng-click="vm.showProfileSummary(vm.moment.owner.userId)">\n<span class="moment-highlight-title">{{::vm.moment.owner.name}}</span>\n</div>\n\n<div class="moment-highlight-text" ng-if="::vm.moment.text.length > 1">\n<span> {{::vm.moment.text}}</span>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/post/moment/moment.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/moment/moment.tpl.html",'<div class="moment-container" scrolled-in-view left-view="vm.leftView()" entered-view="vm.enteredView()" ng-attr-id="moment_{{::vm.moment.momentId}}">\n<div>\n<a\nclass="circle-thumb crop-thumb pull-left"\nng-click="vm.showProfileSummary(vm.moment.thumb.userId)"\nng-href="/{{::vm.moment.thumb.name}}" prevent-default>\n<div class="thumb-image" ng-style="::{ \'background\': \'url(\'+vm.cdn.nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" class="thumb-image" ng-src="{{::(vm.cdn.thumb+vm.moment.thumb.userId)}}" alt="{{::vm.moment.thumb.name}}" />\n</div>\n</div>\n</a>\n<div class="user-options pull-right" dropdown on-toggle=vm.checkMomentPermissions(open)>\n<button class="btn btn-transparent" dropdown-toggle>\n<i class="ynicon ynicon-icon-ellipsis"></i>\n</button>\n<ul class="dropdown-menu" ng-class="{\'report-active\': vm.momentPermissions.flagging, \'delete-active\': vm.momentPermissions.deleting, \'hide-active\': vm.momentPermissions.hiding}">\n<i class="ynicon ynicon-carrot-up"></i>\n<li class="report-moment" ng-click="vm.showProfileSummary(vm.moment.broadcaster.userId || momentCollection.broadcaster.userId, {momentId: vm.moment.momentId}, \'flagging\')">\n<a href>\n<span translate="profile_report_moment"></span>\n</a>\n</li>\n<li class="hide-moment" ng-click="vm.hideMoment(vm.collection.currentIndex)">\n<a href="#">\n<span translate="profile_hide_moment"></span>\n</a>\n</li>\n<li class="delete-moment">\n<a data-confirm-message="moment_are_you_sure_delete" confirm-data="vm.moment.momentId" confirm="vm.delete" href="#">\n<span translate="_delete"></span>\n</a>\n</li>\n</ul>\n</div>\n</div>\n<div class="description">\n<span class="title" bind-html-compile="::vm.moment.title"></span>\n<div>\n<div class="minutes-ago text-muted">{{::vm.moment.timeAgo}}</div>\n</div>\n</div>\n<div class="gradient-accent" ng-style="{\'width\': vm.playbackProgress + \'%\', \'transition-duration\': vm.playbackProgress < 80 && !vm.fetchingMoment ? \'0.76s\' : \'0s\' }"></div>\n<div class="body clear" ng-class="{\'sharing-active\': vm.shareToggle}">\n<div class="share-sheet">\n<div class="share-center">\n<h3 translate="moment_share_title"></h3>\n<div class="social-share" ng-click="vm.shareFacebook();">\n<div class="social-icon-circle social-icon-circle-fb">\n<i class="ynicon ynicon-icon-share-fb absolute-center"></i>\n</div>\n<div class="share-target">Facebook</div>\n</div>\n\n<div class="social-share" ng-click="vm.shareTwitter();">\n<div class="social-icon-circle social-icon-circle-tw">\n<i class="ynicon ynicon-icon-share-tw absolute-center"></i>\n</div>\n<div class="share-target">Twitter</div>\n</div>\n\n<div class="social-share">\n<div class="social-icon-circle social-icon-circle-url">\n<input class="copy-link-href" value="{{vm.shareUrl}}" copy-on-click tooltip="copied to clipboard" tooltip-append-to-body="true" tooltip-trigger="hrefCopied" ng-click="copiedShareUrl()"/>\n<div class="social-share-icon">\n<i class="ynicon ynicon-url absolute-center"></i>\n</div>\n</div>\n<div class="copy-link">Copy Link</div>\n</div>\n</div>\n\n<div class="close-sheet">\n<button ng-click="vm.closeShareSheet()" class="close"><i class="ynicon ynicon-close"></i></button>\n</div>\n</div>\n<div class="toggle-mute" ng-click="vm.toggleMute()">\n<i class="ynicon" ng-class="{\'ynicon-mute-sel\': vm.swf.momentVolume === 0, \'ynicon-mute\': vm.swf.momentVolume > 0}"></i>\n</div>\n<div class="arrow arrow-back vertical-center" ng-if="::vm.collection" ng-click="vm.fetchMoment({}, vm.collection.currentIndex-1, \'manual\')">\n<i class="ynicon ynicon-btn-back"></i>\n</div>\n<div class="arrow arrow-next vertical-center" ng-if="::vm.collection" ng-click="vm.fetchMoment({}, vm.collection.currentIndex+1, \'manual\')">\n<i class="ynicon ynicon-btn-next"></i>\n</div>\n<div class="central-actions absolute-center">\n<div class="action radial-animation" ng-click="vm.toggleLike()" ng-class="{\'clicked\': vm.session.momentStatus[vm.moment.momentId]}">\n<i class="ynicon ynicon-thumb absolute-center"></i>\n</div>\n<div class="action" ng-click="vm.toggleShare()">\n<i class="ynicon ynicon-btn-bc-share-android absolute-center"></i>\n</div>\n</div>\n<videojs-player ng-if="vm.inView" options="vm.moment.options"></videojs-player>\n<div class="play-button-container" ng-click="vm.playMoment()">\n<div class="play-button absolute-center">\n<i class="ynicon ynicon-icon-play2"></i>\n</div>\n</div>\n<div ng-if="::!vm.collection">\n<div class="preloaded-thumb absolute-center" ng-click="vm.playMoment()" ng-style="::{\'background-image\': \'url(\' + vm.config.imageApis.moment + \'/\' + vm.moment.momentId + \'/\' + vm.moment.momentId + \'.jpg)\'}"></div>\n<moment-highlight></moment-highlight>\n</div>\n<div ng-if="::vm.collection">\n<div class="preloaded-thumb" ng-click="vm.playMoment()" ng-style="{\'background-image\': \'url(\' + vm.config.imageApis.moment + \'/\' + vm.moment.momentId + \'/\' + vm.moment.momentId + \'.jpg)\'}"></div>\n<moment-highlight ng-if="::vm.collection" dynamic></moment-highlight>\n</div>\n<div class="fallback-thumb">\n<span class="absolute-center">\n<i class="ynicon ynicon-icon_moments"></i>\n</span>\n</div>\n</div>\n<div class="carousel-container" ng-if="::vm.collection">\n<div class="carousel">\n<ul only-scroll horizontal-scroll id="moment-carousel-{{::vm.collection.collectionId}}" class="mini-scroll" ng-if="!vm.collection.refreshingCarousel">\n<li class="thumb" ng-attr-index="{{::$index}}" ng-class="::{\'selected\': $index === vm.collection.currentIndex}" ng-repeat="collection in ::vm.collection.momentsIds track by $index" ng-click="vm.fetchMoment(collection, $index, \'manual\')">\n<img class="thumb-image" ng-src="{{::(vm.config.imageApis.moment + \'/\' + collection + \'/\' + collection + \'.jpg\')}}" fallback-src="{{::vm.config.imageApis.nothumb}}">\n</li>\n</ul>\n</div>\n</div>\n<div class="actions">\n<div class="like" ng-click="vm.toggleLike()">\n<i class="ynicon ynicon-thumb" ng-class="{liked: vm.session.momentStatus[vm.moment.momentId]}"></i>\n<span>{{vm.moment.likes}}</span>\n</div>\n\n<div class="views">\n<i class="ynicon ynicon-viewers"></i>\n<span>{{vm.moment.views}}</span>\n</div>\n\n<div class="share" ng-click="vm.toggleShare()">\n<i class="ynicon ynicon-btn-bc-share-android"></i>\n<span></span>\n</div>\n\n<div class="pull-right" track-source="MOMENT" track-context="PROFILE">\n<div fan-button ng-if="!vm.fanStatus[vm.moment.broadcaster.userId]" channel="vm.moment.broadcaster"></div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/post/post.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/post.tpl.html",'<div class="comment-container " ng-if="post.id" ng-attr-id="post_{{::post.id}}">\n<div>\n<a\nclass="circle-thumb crop-thumb pull-left"\nng-click="showProfileSummary(post.user.userId)"\nng-href="/{{post.user.profileUrlString}}" prevent-default>\n<div class="thumb-image" ng-style="::{ \'background\': \'url(\'+cdn.nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" class="thumb-image" ng-src="{{::cdn.thumb+post.user.userId}}" alt="{{::post.user.profile}}" />\n</div>\n</div>\n</a>\n<div class="user-options pull-right" ng-show="canEdit(post)" dropdown>\n<button class="btn btn-transparent" dropdown-toggle href="javascript:void(0)">\n<img ng-src="{{::cdn.base}}/images/groups/icon_pro_arrow.png">\n</button>\n<ul class="dropdown-menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<li ng-if="::post.downloadUrl !== undefined" ng-click="downloadBroadcast(post)">\n<a href="javascript:void(0)" class="download" translate="_download"></a>\n</li>\n<li ng-if="canPin(post)" ng-click="togglePin(post)">\n<a href="javascript:void(0)" ng-if="post.isPinned" translate="profile_unpin"></a>\n<a href="javascript:void(0)" ng-if="!post.isPinned" translate="profile_pin"></a>\n</li>\n<li>\n<a class="delete-comment" data-confirm-message="post_are_you_sure_delete" confirm="delete" confirm-data="post" href="javascript:void(0)"><span translate="_delete"></span></a>\n</li>\n</ul>\n</div>\n</div>\n<div class="description">\n<img ng-if="post.isPinned" class="pin pull-left" ng-src="{{::cdn.base}}/images/groups/icon_post_pin.png">\n<a\nclass="name"\nng-href="/{{post.user.profileUrlString}}" prevent-default\nng-click="showProfileSummary(post.user.userId)">\n{{::post.user.firstName}} {{::post.user.lastName}}\n</a>\n<div ng-if="::(post.media.broadcast.minutesAgo >= 10080)">\n<div class="minutes-ago text-muted">{{::post.media.broadcast.broadcastTitle}}</div>\n</div>\n<div ng-if="::(post.timeAgo)">\n<div class="minutes-ago text-muted" ng-if="::post.timeAgo !== \'0 second ago\'">{{::post.timeAgo}}</div>\n<div class="minutes-ago text-muted" ng-if="::post.timeAgo == \'0 second ago\'" translate="post_just_now"></div>\n</div>\n</div>\n<div class="body clear">\n<div class="post-comment">\n<div ng-bind-html="::post.post"></div>\n<div class="clear"></div>\n</div>\n<div class="comment-media " ng-if="post.hasOwnProperty(\'embed\')">\n<div ng-include src="\'angularjsapp/src/app/components/post/embed/\'+post.embed+\'.tpl.html\'"></div>\n</div>\n</div>\n<div class="actions">\n<div class="like" ng-click="toggleLike(post)">\n<i class="ynicon ynicon-thumb" ng-class="{\'not-liked\': !post.liked, liked: post.liked}"></i>\n<span ng-if="post.liked" class="liked" translate="_liked"></span>\n<span ng-if="!post.liked" translate="_like"></span>\n<span ng-show="post.likesCount">&#8211; {{post.likeText}}</span>\n</div>\n</div>\n<div ng-if="post.hasMore" class="see-more "><a href="javascript:void(0)" ng-click="moreComments(post)" translate="post_see_previous_comments"></a></div>\n<ul ng-if="::!post.parentId" class="replies ">\n<li ng-repeat="reply in post.replies" class="comment " ng-class="{\'new-reply\':broadcasterService.deeplinkId==reply.id}">\n<div data-younow-reply></div>\n</li>\n</ul>\n<div ng-if="::!post.parentId" class="reply-box row">\n<div class="comment-area"  tooltip-trigger="mouseenter" tooltip-html-unsafe="{{::(\'post_tip_mention_your_friends\' | translate)}}">\n<div contenteditable mentio\nmentio-typed-term="typedTerm"\nmentio-require-leading-space="true"\nclass="editor form-control"\nstyle="min-height:25px; padding: 2px 25px 3px 31px;"\nid="textarea_{{post.id}}"\nng-model="post.html"\nng-keydown="submitOnEnter($event, post)"\nplaceholder="{{\'post_comment_on\' | translate }}"\n></div>\n<mentio-menu\nmentio-for="\'textarea_\'+post.id"\nmentio-trigger-char="\'@\'"\nmentio-items="people"\nmentio-template-url="angularjsapp/src/app/components/mention/mention.tpl.html"\nmentio-search="searchPeople(term)"\nmentio-select="insertMention(item)"\n></mentio-menu>\n<div ng-show="!session.loggedIn" class="circle-thumb" ng-style="::{background: \'url(\'+cdn.nothumb+\') no-repeat\', backgroundSize: \'cover\'}">\n</div>\n<div ng-show="session.loggedIn" class="circle-thumb crop-thumb">\n<div class="thumb-image" ng-style="::{background: \'url(\'+cdn.thumb+session.user.userId+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" ng-src="{{::cdn.thumb+session.user.userId}}" alt="{{::session.user.profile}}" />\n</div>\n</div>\n</div>\n<div class="upload-photo">\n<input accept="image/jpeg, image/png" name="media" type="file" yn-on-change="showUploadPreview" params="event,post" ng-attr-id="file_{{::post.id}}">\n<i class="ynicon ynicon-camera pull-right"></i>\n</div>\n<div ng-show="post.preview" class="upload-preview">\n<button ng-click="removeUpload(post)" aria-hidden="true" class="close" type="button"></button>\n<img ng-src="{{post.preview}}" height="100">\n</div>\n</div>\n</div>\n<div class="options pull-right hidden"></div>\n<div class="options-screen pull-left hidden"></div>\n<div class="clear"></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/post/reply/reply.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/post/reply/reply.tpl.html",'<div class="comment-container" ng-if="post.id" ng-attr-id="post_{{::post.id}}">\n<div>\n<a\nclass="circle-thumb crop-thumb pull-left"\nng-href="/{{post.user.profileUrlString}}" prevent-default\nng-click="showProfileSummary(post.user.userId)"\nng-style="::{ \'background\': \'url(\'+cdn.nothumb+\') no-repeat\', \'background-size\': \'cover\'}">\n<div class="thumb-image">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" ng-src="{{::cdn.thumb+post.user.userId}}" alt="{{::post.user.profile}}" />\n</div>\n</div>\n</a>\n<div class="user-options pull-right" ng-show="canEdit(post)" dropdown>\n<button class="btn btn-transparent" dropdown-toggle href="javascript:void(0)">\n<img ng-src="{{::cdn.base}}/images/groups/icon_pro_arrow.png">\n</button>\n<ul class="dropdown-menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<li ng-if="::post.downloadUrl !== undefined">\n<a class="download" target="_self" ng-href="{{::post.downloadUrl}}" rel="nofollow" translate="_delete"></a>\n</li>\n<li ng-if="canPin(post)" ng-click="togglePin(post)">\n<a href="javascript:void(0)">\n{{post.isPinned ? \'Unpin\' : \'Pin\'}}\n</a>\n</li>\n<li>\n<a class="delete-comment" data-confirm-message="post_are_you_sure_delete" confirm="delete" confirm-data="post" href="javascript:void(0)"><span translate="_delete"></span></a>\n</li>\n</ul>\n</div>\n</div>\n<div class="description">\n<img ng-if="post.isPinned" class="pin pull-left"  ng-src="{{::cdn.base}}/images/groups/icon_post_pin.png">\n<a\nclass="name"\nng-href="/{{post.user.profileUrlString}}" prevent-default\nng-click="showProfileSummary(post.user.userId)">\n{{::post.user.firstName}} {{::post.user.lastName}}\n</a>\n<div class="minutes-ago text-muted" ng-if="::post.timeAgo !== \'0 second ago\'">{{::post.timeAgo}}</div>\n<div class="minutes-ago text-muted" ng-if="::post.timeAgo == \'0 second ago\'" translate="post_just_now"></div>\n</div>\n<div class="body clear">\n<div class="comment-text">\n<div ng-bind-html="::post.post"></div>\n</div>\n<div class="comment-media-reply" ng-if="::post.hasOwnProperty(\'embed\')">\n<div ng-include src="\'angularjsapp/src/app/components/post/embed/\'+post.embed+\'.tpl.html\'"></div>\n</div>\n<div class="comment-media-reply" ng-if="::(post.media!==undefined && post.media.type!==undefined && !post.hasOwnProperty(\'embed\'))">\n\n<img ng-if="::(post.media.type==\'1\'||post.media.type==\'2\')" ng-src="{{::cdn.media}}{{::broadcasterService.broadcaster.userId}}/id={{::post.id}}/ext={{::post.media.ext}}">\n\n<iframe ng-if="::post.media.type==\'4\'" frameborder="0" height="325" seamless="" ng-src="{{::trustedSrc(cdn.base+\'/player.php?channelId=\'+broadcasterService.broadcaster.userId+\'&amp;id=\'+post.id)}}" width="433"></iframe>\n\n<ul ng-if="::post.media.type==\'5\'" class="broadcasts" ng-attr-id="post_{{::post.media.broadcast.broadcastId}}">\n<li class="broadcast">\n<div class="left-col pull-left">\n<a\nng-href="/{{post.media.broadcast.profile || post.media.broadcast.profileUrlString}}" prevent-default\nng-click="showMedia(post.media.broadcast.broadcastId, {}, post.media.broadcast)"\nclass="thumb"\nstyle="background:url( {{::imageApis.broadcast + \'/\' + post.media.broadcast.broadcastId + \'/\' + post.media.broadcast.broadcastId + \'.jpg\'}} );background-size:cover;">\n<img class="play-button" ng-src="{{::cdn.base}}/images/profile/new/icon_play.png">\n<span class="length">{{::post.media.broadcast.broadcastLengthMin}}</span>\n</a>\n</div>\n<div class="right-col pull-left">\n<span class="title not-too-long">{{::post.media.broadcast.ddateAired}}</span>\n<div class="row">\n<span></span>\n</div>\n<div class="rating-viewers">\n<span class="viewers">{{::post.media.broadcast.totalViewers | number}} views / #{{::post.media.broadcast.tags}}</span>\n</div>\n<ul class="gifts">\n<div ng-repeat="gift in post.media.broadcast.gifts" class="gift pull-left">\n<img alt="gift.giftSKU" class="gift-thumb pull-left" ng-src="{{::cdn.base}}/images/profile/new/gifts/{{::gift.giftSKU}}_pro.png">\n<span class="count">{{::gift.total}}</span>\n</div>\n</ul>\n</div>\n</li>\n</ul>\n\n<img ng-if="::post.media.type==\'6\'" ng-src="{{::cdn.snapshot}}{{::post.media.snapshot.snapshotId}}" ng-attr-id="post_{{::post.media.snapshot.snapshotId}}">\n\n</div>\n</div>\n<div class="actions">\n<div class="like" ng-click="toggleLike(post)">\n<i class="ynicon ynicon-thumb" ng-class="{\'not-liked\': !post.liked, liked: post.liked}"></i>\n<span ng-class="{liked: post.liked}">{{post.liked ? \'Liked\' : \'Like\'}}</span>\n<span ng-show="post.likesCount">&#8211; {{post.likeText}}</span>\n</div>\n</div>\n<div class="options pull-right hidden"></div>\n<div class="options-screen pull-left hidden"></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html",'<div ng-class="modal.state" class="profile-summary fade in" tabindex="-1" aria-hidden="false">\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="modal-header"> <div class="cover-image yn-modal-draggable" ng-style="::{\'background\': \'url(\'+cover+\') no-repeat\', \'background-size\': \'cover\'}"></div></div>\n<div class="modal-body" ng-class="{banned: session.user.banId !== 0}">\n<div class="profile-description">\n<div class="circle-thumb pull-left clickable" ng-click="goToProfile(user.profile)" ng-style="::{\'background\': \'url(\'+thumb+\') no-repeat, url(\'+nothumb+\') no-repeat\', \'background-size\': \'cover\'}">\n<span class="ynbadge" ng-if="user.isSubscribable">\n<img ng-src="{{::config.settings.BadgeBaseUrl}}/{{::user.userId}}/1/badge@2x.png" />\n</span>\n</div>\n<!-- normal state -->\n<div class="user-info pull-left" ng-if="modal.state===\'\'">\n<div class="name name-with-badges" ng-class="::{\'special-role pull-left\': session.moderator && user.isPartner}">\n\n<b class="short-text" ng-click="goToProfile(user.profile)">\n<span class="crowns-container">\n<span class="user-crowns">\n<span ng-if="user.globalSpenderRank==1">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="user.globalSpenderRank==2">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="user.globalSpenderRank==3">\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="!user.globalSpenderRank">\n<i class="ynicon ynicon-level"></i>\n</span>\n</span>\n</span>\n{{::user.level}}\n{{::user.fullName}}\n</b>\n\n<span class="ynbadges" ng-if="user.subscriptions">\n<span class="ynbadge" ng-repeat="(key,sub) in user.subscriptions">\n<img\nng-src="{{::config.settings.BadgeBaseUrl}}/{{::sub.userId}}/{{::sub.subscriptionType}}/badge@2x.png"\nng-click="showProfileSummary(sub.userId)"\ntooltip="{{::sub.profileUrlString}}"\ntooltip-trigger="mouseenter"\ntooltip-placement="top"\ntooltip-append-to-body="true" />\n</span>\n<span class="ynbadge ynbadge-ellipsis" ng-if="user.subscriptions_extras && user.subscriptions_extras.length>0">\n<i class="ynicon ynicon-icon-ellipsis"></i>\n<div class="dropup">\n<div class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<ul class="" only-scroll>\n<li ng-repeat="(k,s) in user.subscriptions_extras">\n<a\nclass="ynbadge"\nng-click="showProfileSummary(s.userId)"\nng-href="/{{::s.userId}}/channel"\nprevent-default>\n<img\nng-src="{{::config.settings.BadgeBaseUrl}}/{{::s.userId}}/{{::s.subscriptionType}}/badge@2x.png"\ntooltip="{{::(s.lastName ? s.firstName+\' \'+s.lastName : s.profileUrlString)}}"\ntooltip-trigger="mouseenter"\ntooltip-placement="left"\ntooltip-append-to-body="true" />\n</a>\n</li>\n</ul>\n</div>\n</div>\n</span>\n</span>\n\n</div>\n\n</div>\n<!-- to follow -->\n<div class="user-info social-action pull-left transline" ng-if="modal.state==\'following\' && !modal.following.followed">\n<span ng-if="canFollow(modal.following.network)">{{sn_verb[ modal.following.network ] | translate}} </span>\n<a class="name short-text" href ng-click="openUrl(\'https://twitter.com/\'+user.twitterHandle, \'link\')" ng-if="modal.following.network==\'twitter\'">@{{::user.twitterHandle}}</a>\n<a class="name short-text" href ng-click="openUrl(user.facebookLink, \'link\')" ng-if="modal.following.network==\'facebook\'">{{::user.firstName}} {{::user.lastName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://youtube.com/channel/\'+user.youTubeChannelId, \'link\')" ng-if="modal.following.network==\'youtube\'">{{::user.friendlyName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://plus.google.com/\'+user.googleId, \'link\')" ng-if="modal.following.network==\'google\'">{{::user.firstName}} {{::user.lastName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://instagram.com/\'+user.instagramHandle, \'link\')" ng-if="modal.following.network==\'instagram\'">{{::user.instagramHandle}}</a>\n<span class="name short-text"> {{ \'_on\' | translate }} {{sn_titles[ modal.following.network ]}} </span>\n</div>\n<!-- already followed -->\n<div class="user-info social-action pull-left transline" ng-if="modal.state==\'following\' && modal.following.followed">\n<span><i class="ynicon ynicon-icon-check"></i>{{sn_verbed[ modal.following.network ] | translate}} </span>\n<a class="name short-text" href ng-click="openUrl(\'https://twitter.com/\'+user.twitterHandle, \'link\')" ng-if="modal.following.network==\'twitter\'">@{{::user.twitterHandle}}</a>\n<a class="name short-text" href ng-click="openUrl(user.facebookLink, \'link\')" ng-if="modal.following.network==\'facebook\'">{{::user.firstName}} {{::user.lastName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://youtube.com/channel/\'+user.youTubeChannelId, \'link\')" ng-if="modal.following.network==\'youtube\'">{{::user.friendlyName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://plus.google.com/\'+user.googleId, \'link\')" ng-if="modal.following.network==\'google\'">{{::user.firstName}} {{::user.lastName}}</a>\n<a class="name short-text" href ng-click="openUrl(\'https://instagram.com/\'+user.instagramHandle, \'link\')" ng-if="modal.following.network==\'instagram\'">{{::user.instagramHandle}}</a>\n</div>\n\n<!-- default -->\n<div class="user-bio line-clamp" ng-if="modal.state==\'\'">\n\n<div class="more-info">\n<span ng-if="::(session.moderator && user.isPartner)"><b translate="_partner"></b> <span class="bullet">&#8226;</span> </span>\n<span ng-if="::session.moderator"><b>{{user.userId}}</b> <span class="bullet">&#8226;</span> </span>\n<span translate="profile_fans" translate-values="{value:user.totalFans}"></span>\n<span ng-if="user.isSubscribable && user.totalSubscribers"><span class="bullet">&#8226;</span> <span translate="profile_subscribers" translate-values="{value:user.totalSubscribers}"></span></span>\n<div class="join-date" translate="profile_younower_since" translate-values="{date:user.dateString}"></div>\n</div>\n\n<span class="location" ng-if="user.location.length > 0">{{::user.location}} <span class="bullet">&#8226;</span></span>\n<span class="summary" ng-bind-html="user.description"></span>\n</div>\n\n<div class="social-actions pull-left" ng-if="modal.state==\'\' && session.user.userId !== user.userId">\n<button class="btn btn-transparent social-google" ng-if="::user.googleId" ng-click="setupFollowing(\'google\',{backToSummary:true})">\n<i class="ynicon ynicon-social-gp"></i>\n</button>\n<button class="btn btn-transparent" ng-if="::user.facebookId" ng-click="setupFollowing(\'facebook\',{backToSummary:true})">\n<i class="ynicon ynicon-social-fb"></i>\n</button>\n<button class="btn btn-transparent" ng-if="::user.youTubeChannelId" ng-click="setupFollowing(\'youtube\',{backToSummary:true})">\n<i class="ynicon ynicon-icon-social-yt"></i>\n</button>\n<button class="btn btn-transparent" ng-if="::user.instagramHandle" ng-click="setupFollowing(\'instagram\',{backToSummary:true})">\n<i class="ynicon ynicon-social-insta"></i>\n</button>\n<button class="btn btn-transparent" ng-if="::user.twitterHandle" ng-click="setupFollowing(\'twitter\',{backToSummary:true})">\n<i class="ynicon ynicon-social-tw"></i>\n</button>\n</div>\n<!-- user-info flagging/suspending -->\n<div class="user-info pull-left" ng-if="modal.state==\'flagging\'">\n<div class="name" translate="profile_reason_for_flagging"></div>\n<div class="more-info text-muted" translate="profile_false_flagging_result"></div>\n</div>\n<div class="user-info pull-left" ng-if="modal.state==\'suspending\'">\n<div class="action-message ban-state" ng-if="modal.action.actionName.replace(\'Suspend\', \'\')==\'Ban\'">\n{{\'_ban\' | translate }} <span ng-click="goToProfile(user.profile)" class="name short-text">{{::user.profile}}</span>\n</div>\n<div class="action-message" ng-if="modal.action.actionName.replace(\'Suspend\', \'\') !== \'Ban\'">\n{{\'_suspend\' | translate }} <span ng-click="goToProfile(user.profile)" class="name short-text">{{::user.profile}}</span> {{\'_for\' | translate }} {{modal.action.actionName.replace(\'Suspend\', \'\')}}\n</div>\n</div>\n<!-- reason for flagging/suspending -->\n<div class="pull-left flagging-reasons" ng-if="modal.state==\'flagging\' && !modal.notifying">\n<div ng-repeat="flag in flags">\n<div ng-click="modal.flag = flag.id">\n<input ng-model="modal.flag" ng-value="flag.id" type="radio">\n<span>{{flag.desc}}</span>\n</div>\n</div>\n</div>\n<div ng-if="modal.state==\'suspending\' && !modal.notifying">\n<form name="modal.reasonForm" novalidate>\n<select class="form-control suspending-options" ng-model="modal.reasonOption" required ng-required>\n<option value="" default selected translate="profile_please_choose"></option>\n<option value="{{option.id}}" ng-repeat="option in modal.actionOptions">\n{{option.desc}}\n</option>\n</select>\n<textarea class="suspending-reasons" ng-model="modal.reason" placeholder="Please provide a reason..." ng-maxlength="245" required></textarea>\n</form>\n</div>\n<div ng-if="modal.notifying" class="action-notifications pull-left">\n<span ng-class="modal.notificationType"><i class="ynicon ynicon-icon-mod pull-left"></i> {{modal.notificationMessage}}</span>\n</div>\n<div class="clear"></div>\n</div>\n</div>\n\n<!-- normal -->\n<div class="actions" ng-if="modal.state==\'\'" track-source="MINI_PROFILE" track-context="{{::openedFrom}}">\n<div class="pull-left btn-small" fan-button channel="user"></div>\n<div class="pull-left btn-small" subscribe-button channel="user" source="MINI_PROFILE"></div>\n<div class="pull-left btn-small" guest-button channel="user" on-invite="closeOnInvite()"></div>\n<a ng-href="{{user.profile}}/channel" ng-if="!session.isBroadcasting" class="full-profile pull-left" ng-click="goToProfile(user.profile, $event)" translate="profile_full_profile"></a>\n\n<div class="pull-right flagging-menu" ng-if="session.user && session.user.userId!==user.userId && session.user.banId === 0" dropdown is-open="modal.flagging">\n<i ng-click="toggleDropdown($event)" class="ynicon ynicon-flag"></i>\n<div class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<ul class="mini-scroll" only-scroll>\n<li ng-repeat="action in actions">\n<a href ng-click="doAction(action)">{{action.actionName}}</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n\n<!-- flagging -->\n<div class="actions center" ng-if="modal.state==\'flagging\'">\n<button class="btn btn-important"\nng-class="{error: modal.notifying || modal.flag === undefined}"\nng-click="submitAction()"\nid="flagging-tooltip"\ntooltip="Provide a Reason"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error"\ntranslate="{{::(params.momentId ? \'profile_report_moment\' : \'profile_report_user\')}}"></button>\n<button class="btn btn-cancel" ng-click="modal.resetProfileSummary()" translate="_cancel"></button>\n</div>\n\n<!-- suspending -->\n<div class="actions center" ng-if="modal.state === \'suspending\'">\n<span\nid="reason-form-tooltip"\ntooltip="Provide a Reason"\ntooltip-trigger="show"\ntooltip-placement="top error"\ntooltip-append-to-body="true">\n<button class="btn btn-important" ng-class="{error: modal.notifying || !modal.reasonOption}" ng-if="!modal.notifying && modal.action.actionName.replace(\'Suspend\', \'\') !== \'Ban\'" ng-click="submitAction()" translate="_suspend"></button>\n<button class="btn btn-important" ng-class="{error: modal.notifying || !modal.reasonOption}" ng-if="!modal.notifying && modal.action.actionName.replace(\'Suspend\', \'\') === \'Ban\'" ng-click="submitAction()" translate="_ban"></button>\n</span>\n<button class="btn btn-cancel" ng-if="!modal.notifying" ng-click="modal.resetProfileSummary()" translate="_cancel"></button>\n<button class="btn btn-cancel" ng-if="modal.notifying" ng-click="modal.resetProfileSummary()" translate="_ok"></button>\n</div>\n\n<!-- following -->\n<div class="actions center" ng-if="modal.state==\'following\'">\n\n<button class="btn btn-{{modal.following.network}}" ng-click="startFollowing(modal.following.network)" ng-if="canFollow(modal.following.network) && !modal.following.followed">\n<i class="ynicon {{modal.following.icon}}"></i>\n<span ng-if="modal.following.network === \'twitter\'" translate="_follow"></span>\n<span ng-if="modal.following.network === \'youtube\'" translate="_subscribe"></span>\n</button>\n\n<button class="btn btn-twitter" ng-click="openUrl(\'https://twitter.com/\'+user.twitterHandle, \'button\')" ng-if="modal.following.network==\'twitter\' && modal.following.followed"><i class="ynicon ynicon-social-tw"></i> <span translate="profile_view"></span> </button>\n<button class="btn btn-youtube" ng-click="openUrl(\'https://youtube.com/channel/\'+user.youTubeChannelId, \'button\')" ng-if="modal.following.network==\'youtube\' && modal.following.followed"><i class="ynicon ynicon-icon-social-yt"></i> <span translate="profile_view"></span> </button>\n<button class="btn btn-google" ng-click="openUrl(\'https://plus.google.com/\'+user.googleId, \'button\')" ng-if="modal.following.network==\'google\'"><i class="ynicon ynicon-social-gp"></i> <span translate="profile_view"></span> </button>\n<button class="btn btn-facebook" ng-click="openUrl(user.facebookLink, \'button\')" ng-if="modal.following.network==\'facebook\'"><i class="ynicon ynicon-social-fb"></i> <span translate="profile_view"></span> </button>\n<button class="btn btn-instagram" ng-click="openUrl(\'https://instagram.com/\'+user.instagramHandle, \'button\')" ng-if="modal.following.network==\'instagram\'"><i class="ynicon ynicon-icon-share-insta"></i> <span translate="profile_view"></span> </button>\n\n\n<button class="btn btn-cancel" ng-click="modal.resetProfileSummary()" translate="_back"></button>\n</div>\n\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html",'<div class="modal-body">\n<button aria-hidden="true" class="close btn-reset" ng-click="vm.closeModal()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="modal-body">\n<div class="title" translate="reconnect_title"></div>\n<div class="modal-message" translate="reconnect_message" translate-values="{value: vm.viewers}"></div>\n</div>\n</div>\n<div class="modal-footer">\n<button class="btn btn-confirm pull-left" type="button" ng-click="vm.reconnect()" ng-disabled="vm.retryTime > 0">\n<span class="loader-light" ng-if="vm.retryTime > 0"></span>\n<span ng-if="!vm.retryTime" translate="reconnect_yes"></span>\n</button>\n<button class="btn btn-danger pull-left" type="button" ng-click="vm.endBroadcast()" ng-disabled="vm.retryTime > 0" translate="reconnect_no"></button>\n<button class="btn btn-cancel-dark pull-right" type="button" ng-click="vm.closeModal()" ng-disabled="vm.retryTime > 0">\n<span translate="reconnect_no_action"></span>\n</button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/search-bar/search-bar.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/search-bar/search-bar.tpl.html",'<div class="search-box pull-left">\n<i ng-if="::(size != \'tiny\')" ng-click="goToExplore()" class="ynicon ynicon-search"></i>\n<i ng-if="::(size === \'tiny\')" ng-click="search.animateSearchBar()" class="ynicon ynicon-search"></i>\n\n<input  ng-if="::(type != \'home\')"\ntypeahead="person.profile for person in search.query($viewValue)"\ntypeahead-loading="searching"\ntypeahead-on-select="search.selectResult($item, $model, $label)"\ntypeahead-template-url="angularjsapp/src/app/components/search-bar/search-results.tpl.html"\ntypeahead-wait-ms="100"\nng-model="search.searchBox"\nng-blur="search.trackBlur(); search.changeState();"\nclass="search-field form-control"\nplaceholder="{{search_placeholder_site}}" type="text" />\n\n<input  ng-if="::(type == \'home\')"\ntypeahead="person.profile for person in search.query($viewValue)"\ntypeahead-loading="searching"\ntypeahead-on-select="search.selectResult($item, $model, $label)"\ntypeahead-template-url="angularjsapp/src/app/components/search-bar/search-results.tpl.html"\ntypeahead-wait-ms="100"\nng-model="search.searchBox"\nng-blur="search.trackBlur(); search.changeState();"\nclass="search-field form-control"\nplaceholder="{{search_placeholder_home}}" type="text" />\n\n<i ng-if="::(size === \'tiny\')" class="ynicon ynicon-close" ng-click="search.closeSearchBar()"></i>\n<button class="btn btn-primary" ng-if="::(type === \'home\')" ng-click="goToExplore()" translate="_go"></button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/search-bar/search-results.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/search-bar/search-results.tpl.html",'<div ng-if="match.model.title" class="search-title primary-text">\n<div class="title-{{match.model.type}}">\n<div class="title-divider" ng-if="match.model.showBorder"></div>\n{{match.model.title}}\n</div>\n</div>\n<div ng-if="match.model.objectID" class="searchResult">\n<div class="circle-thumb pull-left" ng-attr-style="{{$parent.$parent.$parent.$parent.search.background(match.model.objectID)}}">\n<div class="live" ng-show="match.model.tag"><i class="ynicon ynicon-broadcast"></i></div>\n</div>\n<div class="pull-left userInfo">\n<div class="name pull-left transline-mid">\n<i class="ynicon ynicon-level"></i><span>{{match.model.level}}</span>\n<span class="short-text">{{match.model.fullName}}</span>\n</div>\n<div ng-show="match.model.viewers" class="viewers pull-right">\n<img ng-src="{{::$parent.$parent.$parent.$parent.search.base}}/images/younow_header/icon_viewers_search.png">{{match.model.viewers}}</div>\n<div class="description line-clamp pull-left" ng-bind-html="match.model.hashedDescription"></div>\n</div>\n</div>\n<div ng-if="match.model.dbg">\n<a class="tagResult" ng-href="/explore/{{match.model.tag}}">\n<div class="short-text">#{{match.model.tag}}</div>\n<span class="pull-right broadcasts-count">\n<i class="ynicon ynicon-broadcast"></i>\n<b>{{match.model.live}}</b>\n</span>\n</a>\n</div>\n<div ng-if="match.model.more" class="searchResult-more transline-top ellipsify">\n<span translate="search_see_all_for"></span>\n<span class="searchTerm short-text">{{match.model.query}}</span>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html",'<h4 class="heading">1. {{ \'golive_tag_title\' | translate }}</h4>\n<div class="text-muted sub-title" translate="golive_tag_text" style="padding:0;"></div>\n<div class="typeahead-container" ng-class="{open: !panel.typeaheadClosed}">\n<form name="panel.tagForm" novalidate>\n<label class="hash-label" ng-class="{active: panel.tagSelected.length > 0}">\n#\n</label>\n<input type="text"\nid="typeaheadInput"\nclass="tag-input form-control"\nplaceholder="{{ \'golive_tag_input\' | translate }}"\nng-model="panel.tagSelected"\ntabindex="1"\nmaxlength="20"\nng-required\nng-maxlength="20"\ntypeahead="tag for tag in panel.loadTags($viewValue)"\nng-change="panel.validateTag(panel.tagSelected)"\nng-blur="panel.typeaheadClosed = true"\ntypeahead-on-select="panel.selectTag($item, $model, $label)"\ntypeahead-template-url="angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html">\n</form>\n<i class="ynicon ynicon-icon-check" ng-class="{active: panel.tagValid}"></i>\n<div class="typeahead-defaults pull-left mini-scroll" ng-class="{active: panel.typeaheadClosed}" only-scroll>\n<div class="pull-left tag" ng-repeat="tag in ::panel.popularTags track by $index" ng-click="panel.selectTag(tag)" ng-if="tag.tag !== false" ng-class="::{\'ep-tag\': tag.isEp, \'tag\': !tag.isEp}">\n<i ng-if="::tag.isEp"class="ynicon ynicon-level"></i>\n{{::tag.tag}}\n</div>\n</div>\n</div>\n<h4 class="heading">2. {{ \'_share\' | translate }}</h4>\n<div class="text-muted sub-title" translate="golive_share_text"></div>\n<div class="snapshot pull-left">\n<img ng-if="panel.snapshot" ng-src="data:image/jpeg;base64,{{panel.snapshot}}">\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" ng-click="panel.takeSnapshot()">\n<i class="ynicon ynicon-camera"></i>\n</button>\n</div>\n<div class="snapshot-description pull-left">\n<input  class="form-control"\nyn-enter="panel.startBroadcast()"\nid="share-input"\ntabindex="2"\nplaceholder="{{ \'golive_share_input\' | translate }}"\nng-model="panel.shareCopy"\nng-maxlength="60"\nmaxlength="60">\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" ng-click="panel.toggleShare(\'twitter\')">\n<i class="ynicon" ng-class="{\'ynicon-icon-share-tw\': !panel.networks.twitter, \'ynicon-icon-share-tw-on\': panel.networks.twitter}"></i>\n</button>\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" ng-click="panel.toggleShare(\'facebook\')">\n<i class="ynicon" ng-class="{\'ynicon-icon-share-fb\': !panel.networks.facebook && !panel.networks.facebookShare, \'ynicon-icon-share-fb-on\': panel.networks.facebook || panel.networks.facebookShare}"></i>\n</button>\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" ng-click="panel.toggleShare(\'youtube\')" ng-if="panel.showYoutube" tooltip="{{::\'settings_connect_youtube_simulcast\' | translate }}" tooltip-trigger="mouseenter" tooltip-placement="bottom" tooltip-append-to-body="true">\n<i class="ynicon" ng-class="{\'ynicon-icon-share-yt\': !panel.networks.youtube, \'ynicon-icon-share-yt-on\': panel.networks.youtube}"></i>\n</button>\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" ng-click="panel.toggleShare(\'tumblr\')">\n<i class="ynicon" ng-class="{\'ynicon-social-tm\': !panel.networks.tumblr, \'ynicon-icon-share-tm-on\': panel.networks.tumblr}"></i>\n</button>\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" tooltip="{{::\'golive_snap\' | translate}}" tooltip-placement="bottom" tooltip-append-to-body="true">\n<i class="ynicon ynicon-icon-share-snap"></i>\n</button>\n<button class="btn btn-transparent" ng-disabled="!panel.initResponse" tooltip="{{::\'golive_insta\' | translate}}" tooltip-placement="bottom" tooltip-append-to-body="true">\n<i class="ynicon ynicon-icon-share-insta"></i>\n</button>\n</div>\n<div class="golive_buttons">\n<button class="btn btn-primary" ng-if="!panel.externalStreaming.active" id="start-broadcast-btn" ng-disabled="panel.startingBroadcast || !panel.initResponse" ng-click="panel.startBroadcast()">\n<span ng-if="!panel.startingBroadcast" translate="_golive"></span>\n<div ng-if="panel.startingBroadcast" class="loader-light"></div>\n</button>\n<button class="btn btn-primary" ng-if="panel.externalStreaming.active" id="start-broadcast-btn" ng-disabled="panel.startingBroadcast || !panel.initResponse" ng-click="panel.prepareBroadcast()">\n<span ng-if="!panel.startingBroadcast">Prepare Broadcast</span>\n<div ng-if="panel.startingBroadcast" class="loader-light"></div>\n</button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html",'<div class="divider" ng-if="!match.model.tag"></div>\n<div class="pull-left" ng-if="match.model.tag" ng-class="{\'ep-tag\': match.model.isEp, \'tag\': !match.model.isEp}">\n<i ng-if="match.model.isEp"class="ynicon ynicon-level"></i>{{match.model.tag}}\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html",'<div class="modal-body">\n<h5 class="title" translate="recommend_this_broadcast"></h5>\n<div class="share-message" ng-if="!modal.type" translate="share_invite_your_fans" translate-values="{ value: \'{{modal.session.user.totalFans}}\' }"></div>\n<div class="share-message" ng-if="modal.type == \'guest\'">We need something to post on your profile.</div>\n<form name="modal.form" novalidate>\n<input class="form-control" ng-model="modal.recommendMessage" ng-maxlength="60" maxlength="60" ng-required="true">\n</form>\n<div class="actions">\n<button class="btn btn-cancel" ng-click="modal.closeModal()" translate="_cancel"></button>\n<button class="btn btn-confirm" ng-click="modal.invite()" ng-disabled="modal.form.$invalid" translate="_invite"></button>\n</div>\n<button aria-hidden="true" class="close btn-reset" ng-click="modal.closeModal()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/share-panel/share-panel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/share-panel/share-panel.tpl.html",'<div class="panel-header">\n<div class="share-title short-text" ng-if="::(!panel.target)">{{ \'_promote\' | translate }} {{panel.swf.broadcast.username}}!</div>\n<div class="share-title short-text" ng-if="::(panel.target == \'guest\')">Share your broadcast selfie!</div>\n<div class="share-title short-text" ng-if="::(panel.target == \'shareMoment\')" translate="moment_share_title"></div>\n\n<div class="close-header">\n<button ng-click="panel.close()" class="close btn-reset"><i class="ynicon ynicon-close"></i></button>\n</div>\n</div>\n\n<div class="snapshot-image" ng-class="{retake: panel.swf.snapshot.retake}">\n<!-- normal -->\n<img class="snapshot-image-img" ng-if="::(!panel.target)" ng-src="data:image/jpeg;base64,{{panel.swf.snapshot.snapshot}}" />\n<i\nid="snapshot-retake"\nclass="snapshot-btn snapshot-retake ynicon ynicon-camera"\nng-click="panel.newSnapshot()"\nng-if="::(!panel.target)"\ntooltip="{{\'chat_already_shared_snapsho_take_another\' | translate }}"\ntooltip-append-to-body="true"\ntooltip-trigger="show">\n</i>\n\n<!-- guest -->\n<img class="snapshot-image-img" ng-if="::(panel.target == \'guest\' || panel.guestService.guest.userId == panel.session.user.userId)" ng-src="data:image/jpeg;base64,{{panel.guestService.eobSnapshot}}" />\n<i\nid="snapshot-retake"\nclass="snapshot-btn snapshot-retake ynicon ynicon-camera"\nng-click="panel.newSnapshot()"\nng-if="::( (panel.target == \'guest\' && panel.guestService.guest) || panel.guestService.guest.userId == panel.session.user.userId)"\ntooltip="{{\'chat_already_shared_snapsho_take_another\' | translate }}"\ntooltip-append-to-body="true"\ntooltip-trigger="show">\n</i>\n\n<!-- share moment -->\n<div class="" ng-if="::(panel.target == \'shareMoment\')">\n<span class="preview-container">\n<videojs-player options="moment.options"></videojs-player>\n<moment-highlight dynamic></moment-highlight>\n</span>\n</div>\n</div>\n<input ng-if="::(panel.target != \'shareMoment\')"\nclass="snapshot-href"\nvalue="{{panel.swf.snapshot.links.COPIEDURL}}"\ncopy-on-click\ntooltip="copied to clipboard"\ntooltip-append-to-body="true"\ntooltip-trigger="hrefCopied"\n/>\n\n<div class="share-message" ng-if="::(panel.target != \'shareMoment\')">\n<form name="panel.shareForm" novalidate>\n<input\nplaceholder="{{\'chat_add_a_message\' | translate }}"\nname="share_message"\nng-model="panel.swf.broadcast.share_message"\nng-maxlength="60"\nng-trim="false"\nmaxlength="60">\n</input>\n</form>\n<div ng-if="panel.swf.broadcast.share_message && panel.swf.broadcast.share_message.length < 60" class="character-count">{{60 - panel.swf.broadcast.share_message.length}}</div>\n<div ng-if="panel.swf.broadcast.share_message && panel.shareForm.share_message.$viewValue.length >= 60" class="character-count invalid" >0</div>\n</div>\n<div class="share-actions">\n\n<button class="btn-reset" ng-disabled="panel.swf.snapshot.sharing.facebook" tooltip="{{\'chat_share_to\' | translate }} Facebook" tooltip-trigger="mouseenter" tooltip-append-to-body="true" ng-click="panel.attemptShare(\'facebook\')" ng-class="{active: panel.swf.snapshot.shared.facebook}">\n<div ng-if="panel.swf.snapshot.sharing.facebook" class="loader"></div>\n<div class="social-icon-circle social-icon-circle-fb" ng-if="!panel.swf.snapshot.sharing.facebook">\n<div class="social-share-icon">\n<i class="ynicon ynicon-icon-share-fb" ng-if="!panel.swf.broadcast.shared.facebook"></i>\n<i class="ynicon ynicon-icon-share-fb-on" ng-if="panel.swf.broadcast.shared.facebook"></i>\n</div>\n</div>\n<div>\n<span ng-if="!panel.swf.snapshot.sharing.facebook && !panel.swf.snapshot.shared.facebook" translate="_share"></span>\n<span ng-if="panel.swf.snapshot.shared.facebook" translate="_shared"></span>\n<span ng-if="panel.swf.snapshot.sharing.facebook" translate="_sharing"></span>\n</div>\n</button>\n\n<button class="btn-reset" ng-disabled="panel.swf.snapshot.sharing.twitter" tooltip="{{\'chat_share_to\' | translate }} Twitter" tooltip-trigger="mouseenter" tooltip-append-to-body="true" ng-click="panel.attemptShare(\'twitter\')" ng-class="{active: panel.swf.snapshot.shared.twitter}">\n<div ng-if="panel.swf.snapshot.sharing.twitter" class="loader"></div>\n<div class="social-icon-circle social-icon-circle-tw" ng-if="!panel.swf.snapshot.sharing.twitter">\n<div class="social-share-icon">\n<i class="ynicon ynicon-icon-share-tw" ng-if="!panel.swf.broadcast.shared.twitter"></i>\n<i class="ynicon ynicon-icon-share-tw-on" ng-if="panel.swf.broadcast.shared.twitter"></i>\n</div>\n</div>\n<div>\n<span ng-if="!panel.swf.snapshot.sharing.twitter && !panel.swf.snapshot.shared.twitter" translate="_tweet"></span>\n<span ng-if="panel.swf.snapshot.shared.twitter" translate="_tweeted"></span>\n<span ng-if="panel.swf.snapshot.sharing.twitter" translate="_tweeting"></span>\n</div>\n</button>\n\n<button class="btn-reset" ng-if="::(panel.target != \'shareMoment\')" ng-disabled="panel.swf.snapshot.sharing.tumblr" tooltip="{{\'chat_share_to\' | translate }} Tumblr" tooltip-trigger="mouseenter" tooltip-append-to-body="true" ng-click="panel.attemptShare(\'tumblr\')" ng-class="{active: panel.swf.snapshot.shared.tumblr}">\n<div ng-if="panel.swf.snapshot.sharing.tumblr" class="loader"></div>\n<div class="social-icon-circle social-icon-circle-tm" ng-if="!panel.swf.snapshot.sharing.tumblr">\n<div class="social-share-icon">\n<i class="ynicon ynicon-social-tm" ng-if="!panel.swf.broadcast.shared.tumblr"></i>\n<i class="ynicon ynicon-icon-share-tm-on" ng-if="panel.swf.broadcast.shared.tumblr"></i>\n</div>\n</div>\n<div class="tumblr-share-label">\n<span ng-if="!panel.swf.snapshot.sharing.tumblr && !panel.swf.snapshot.shared.tumblr" translate="_post"></span>\n<span ng-if="panel.swf.snapshot.shared.tumblr" translate="_posted"></span>\n<span ng-if="panel.swf.snapshot.sharing.tumblr" translate="_posting"></span>\n</div>\n</button>\n\n<button class="btn-reset" ng-if="::(panel.target == \'shareMoment\')" tooltip="Copy Link" tooltip-trigger="mouseenter" tooltip-append-to-body="true">\n<div class="social-icon-circle social-icon-circle-url">\n<input class="copy-link-href" value="{{panel.shareUrl}}" copy-on-click tooltip="copied to clipboard" tooltip-append-to-body="true" tooltip-trigger="hrefCopied" ng-click="panel.clickToCopy()"/>\n<div class="social-share-icon">\n<i class="ynicon ynicon-url"></i>\n</div>\n</div>\n<div class="tumblr-share-label">\n<span translate="">Copy Link</span>\n</div>\n</button>\n\n<!-- normal -->\n<button class="btn-reset" ng-if="::!panel.target" ng-disabled="panel.swf.snapshot.sharing.younow" tooltip="{{\'chat_invite_your_friends\' | translate }}" tooltip-trigger="mouseenter" ng-click="panel.attemptShare(\'invite\')" tooltip-append-to-body="true" ng-class="{active: panel.swf.broadcast.shared.younow}">\n<div ng-if="panel.swf.snapshot.sharing.younow" class="loader"></div>\n<div class="social-icon-circle social-icon-circle-restream" ng-if="!panel.swf.snapshot.sharing.younow">\n<div class="social-share-icon">\n<i class="ynicon ynicon-icon-share-restream" ng-if="!panel.swf.broadcast.shared.younow"></i>\n<i class="ynicon ynicon-icon-share-restream-on" ng-if="panel.swf.broadcast.shared.younow"></i>\n</div>\n</div>\n<div>\n<span ng-if="!panel.swf.snapshot.sharing.younow && !panel.swf.snapshot.shared.younow && !panel.swf.broadcast.shared.younow" translate="_invite"></span>\n<span ng-if="panel.swf.snapshot.shared.younow || panel.swf.broadcast.shared.younow" translate="_invited"></span>\n<span ng-if="panel.swf.snapshot.sharing.younow" translate="_inviting"></span>\n</div>\n</button>\n\n<!-- guest -->\n<button class="btn-reset btn-invite" ng-if="::(panel.target == \'guest\')" ng-disabled="panel.swf.snapshot.sharing.younow" tooltip="Post on YouNow" tooltip-trigger="mouseenter" ng-click="panel.attemptShare(\'post\')" tooltip-append-to-body="true" ng-class="{active: panel.post.shared}">\n<div ng-if="panel.post.sharing" class="loader"></div>\n<span ng-if="!panel.post.sharing">\n<i class="ynicon ynicon-social-yn"></i>\n</span>\n<div class="center-text">\n<span ng-if="!panel.post.sharing && !panel.post.shared">Post</span>\n<span ng-if="panel.post.shared">Posted</span>\n<span ng-if="panel.post.sharing">Posting</span>\n</div>\n</button>\n\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html",'<div class="modal-body">\n<button aria-hidden="true" class="close" ng-click="dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<h2>Sorry, {{::params.purchaseItem}} could not be purchased</h2>\n\n<p>Did you know you can download our app on iTunes or Google Play and purchase {{ ::(params.what==\'subscription\' ? \'a \'+params.what : params.what) }} there?</p>\n<div class="actions">\n<button class="btn btn-confirm" ng-click="downloadTheApp()">Download now</button>\n</div>\n\n<p>Have more questions <a ng-href="settings.SupportUrl" target="_blank">contact support</a></p>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html",'<div class="modal-body">\n<button aria-hidden="true" class="close" ng-click="dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<h2>Oops, bars could not be purchased</h2>\n<p><b>Tip:</b> YouNow now accepts paypal.  Try purchasing bars with PayPal.  Just choose "change payment method" and select PayPal.</p>\n<div class="actions">\n<button class="btn btn-cancel" ng-click="tryAgain()">Try Again</button>\n</div>\n<p><b>Tip:</b> You can also purchase bars on your phone with iTunes or GooglePlay.  Download the app.</p>\n<div class="actions">\n<button class="btn btn-confirm" ng-click="downloadTheApp()">Download</button>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html",'<form action="" method="POST" name="stripeForm" ng-submit="component.submitForm($event)" novalidate id="payment-form" class="stripe-form">\n<span class="payment-errors">{{component.errorMessage}}</span>\n\n<div class="form-row" ng-class="{\'incorrect\': stripeForm.ccNumber.$invalid && component.formSubmitted}">\n<label class="stripe-label">\n<span class="stripe-field-name" ng-class="{\'show-field-name\': stripeForm.ccNumber.$viewValue.length > 0}">Card Number</span>\n<input class="stripe-field" type="text" placeholder="Card Number" name="ccNumber" ng-model="ccNumber" ng-required="true" ng-pattern="component.ccRegex" maxlength="20" size="20" data-stripe="number"/>\n</label>\n</div>\n\n<div class="form-row" ng-class="{\'incorrect\': (stripeForm.ccMonth.$invalid || stripeForm.ccYear.$invalid) && component.formSubmitted}">\n<label class="stripe-label">\n<span class="stripe-field-name" ng-class="{\'show-field-name\': stripeForm.ccMonth.$viewValue.length > 0 || stripeForm.ccYear.$viewValue.length > 0}">Expiration (MM/YYYY)</span>\n<input class="stripe-field month-field" type="text" placeholder="MM" ng-model="ccMonth" name="ccMonth" ng-pattern="component.moRegex" ng-required="true" maxlength="2" size="2" data-stripe="exp-month"/>\n<input class="stripe-field year-field" type="text" placeholder="YYYY" ng-model="ccYear" name="ccYear" ng-pattern="component.yrRegex" ng-required="true" maxlength="4" size="4" data-stripe="exp-year"/>\n</label>\n</div>\n\n<div class="form-row" ng-class="{\'incorrect\': stripeForm.cvvNumber.$invalid && component.formSubmitted}">\n<label class="stripe-label">\n<span class="stripe-field-name" ng-class="{\'show-field-name\': stripeForm.cvvNumber.$viewValue.length > 0}">CVV</span>\n<input class="stripe-field" type="text" placeholder="CVV" name="cvvNumber" ng-model="cvvNumber" ng-required="true" ng-pattern="component.cvvRegex" maxlength="4" size="4" data-stripe="cvc"/>\n</label>\n</div>\n\n<button type="submit" class="btn btn-confirm-light">\n<div class="spinning-container" ng-if="component.formSubmitting">\n<span class="spinning-loader"></span>\n</div>\nSubmit\n</button>\n</form>\n\n')}]),angular.module("angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html",'<button class="btn btn-small btn-subscribe {{subStatus[channel.userId]?\'btn-subscribed\':\'btn-to-subscribe\'}} {{fanStatus[channel.userId]?\'is-fanned\':\'not-fanned\'}}" ng-if="( !hidden && ( fanStatus[channel.userId] || subStatus[channel.userId] ) )" ng-click="subscribe()">\n<span class="tosubscribe" ng-if="!subStatus[channel.userId]">\n<i class="ynicon ynicon-icon-subscribers"></i> {{\'_subscribe\' | translate}}\n</span>\n<span class="subscribed" ng-if="subStatus[channel.userId]">\n<i class="ynicon ynicon-icon-check"></i> {{\'_subscribed\' | translate}}\n</span>\n</button>\n\n')}]),angular.module("angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html",'<div class="modal-body show-{{vm.spanel}}">\n\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n\n<!-- 1 -->\n<div class="spanel spanel-initial">\n\n<div class="modal-top">\n<div class="portrait thumb" ng-style="{\'background-image\': \'url(\'+vm.template.channelThumb+\'), url(\'+vm.template.noThumb+\')\'}">\n</div>\n<h2 class="heading" translate="subscribe_to" translate-values="{value:(vm.channel.profile || vm.channel.profileUrlString)}">\n</h2>\n</div>\n<div class="modal-middle">\n<div class="title" translate="subscribe_to" translate-values="{value:(vm.channel.profile || vm.channel.profileUrlString)}">\n</div>\n<div class="text list">\n<p><span translate="subscribe_benefits_badge"></span> <span class="ynbadge"><img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{vm.channel.userId}}/1/badge@2x.png" /></span></p>\n<p translate="subscribe_benefits_chat_text"></p>\n<p translate="subscribe_benefits_chat_priority"></p>\n<p translate="subscribe_benefits_sub_only"></p>\n<p translate="subscribe_benefits_support" translate-values="{value:(vm.channel.profile || vm.channel.profileUrlString)}"></p>\n</div>\n</div>\n<div class="modal-bottom">\n<button class="btn btn-confirm" type="button" ng-click="vm.submitInitial()"><i class="ynicon ynicon-icon-subscribe"></i> {{ \'_subscribe\' | translate }}</button>\n</div>\n<div class="modal-below">\n<div class="price" translate="subscribe_monthly" translate-values="{value:\'${{::vm.sub.price}}\'}"></div>\n</div>\n\n</div>\n\n<!-- 2 -->\n<div class="spanel spanel-email">\n<form name="subscriptionsEmail" ng-submit="vm.submitEmail(subscriptionsEmail)" novalidate>\n\n<div class="modal-top">\n<div class="portrait thumb" ng-style="::{\'background-image\': \'url(\'+vm.template.channelThumb+\'), url(\'+vm.template.noThumb+\')\'}">\n<span class="ynbadge">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png" />\n</span>\n</div>\n<h2 class="heading" translate="subscribe_purchase_subscription">\n</h2>\n</div>\n<div class="modal-middle">\n<div class="text" translate="subscribe_purchase_email">\n</div>\n<div class="form">\n<input placeholder="Email address"\nname="email"\nclass="form-control"\ntype="email"\nng-validate\nrequired\nng-model="vm.session.user.email"\nng-pattern="emailRegex"\ntooltip="Please enter valid email"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="bottom error"\nsubscribe-validate />\n</div>\n</div>\n<div class="modal-bottom">\n<button class="btn btn-confirm" type="submit" {{ (subscriptionsEmail.$touched && subscriptionsEmail.$valid) ? \'\' : \'disabled\' }}>\n{{ \'_continue\' | translate }}\n</button>\n</div>\n\n</form>\n</div>\n\n<!-- 3 -->\n<div class="spanel spanel-payment">\n\n<!-- MODAL FOR PAYMENT UPDATE JUNE 2016  -->\n<div class="update" ng-if="vm.params.state === \'payment\'">\n\n<h1 class="header" translate="update_payment_header"></h1>\n\n<!-- EDIT BODY ANDROID/IOS -->\n<div ng-if="::vm.subscription.subscriptionPlatform.name !== \'YouNow.com\'">\n<p class="copy" translate="managed_through" translate-values="{source: vm.subscription.subscriptionPlatform.manager}"></p>\n\n<div  class="exit-app" >\n<a ng-href=\'{{::vm.params.sub.subscriptionPlatform.url}}\' translate="take_me" translate-values="{destination :vm.params.sub.subscriptionPlatform.manager}" class="btn take-btn"> </a>\n</div>\n</div>\n\n\n<!-- EDIT BODY WEB -->\n<div ng-if="::vm.subscription.subscriptionPlatform.name == \'YouNow.com\'">\n\n<p class="copy" translate="select_payment"></p>\n\n<div class="modal-middle">\n\n<iframe id="braintree-iframe"\nng-if="config.buybarsiframe"\nng-src="{{::Api.trustedSrc(config.settings.ServerSecureLocalBaseUrl + \'/checkout.php\' )}}">\n</iframe>\n<form id="braintree-form" ng-if="!config.buybarsiframe">\n<div id="braintree-dropin"></div>\n<button type="submit" ng-disabled="vm.submitting || vm.braintreeLoading" class="btn btn-confirm">\n<span translate="_submitting" ng-if="vm.submitting"></span>\n<span translate="_submit" ng-if="!vm.submitting"></span>\n<div class="spinning-container" ng-if="(vm.submitting || vm.braintreeLoading)">\n<span class="spinning-loader"></span>\n</div>\n</button>\n</form>\n\n</div>\n</div>\n\n</div>\n\n\n<div ng-if="vm.params.state !== \'payment\'">\n\n<div class="modal-top">\n<h2 class="heading" translate="subscribe_confirm_header" translate-values="{value:\'${{::vm.sub.price}}\'}">\n</h2>\n</div>\n\n<div class="modal-middle">\n<div class="title">\n<span class="ynbadge"><img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png" /></span>\n<span translate="subscribe_confirm_and_enjoy" translate-values="{value:(vm.channel.profile || vm.channel.profileUrlString)}"></span>\n</div>\n<div class="text" translate="subscribe_confirm_instructions_edit" ng-if="vm.subscription.subscriptionId"></div>\n<div class="text" translate="subscribe_confirm_instructions_enter" ng-if="!vm.subscription.subscriptionId"></div>\n<iframe id="braintree-iframe"\nng-if="config.buybarsiframe"\nng-src="{{::Api.trustedSrc(config.settings.ServerSecureLocalBaseUrl + \'/checkout.php\' )}}">\n</iframe>\n<form id="braintree-form" ng-if="!config.buybarsiframe">\n<div id="braintree-dropin"></div>\n<button type="submit" ng-disabled="vm.submitting || vm.braintreeLoading" class="btn btn-confirm">\n<span translate="_submitting" ng-if="vm.submitting"></span>\n<span translate="_submit" ng-if="!vm.submitting"></span>\n<div class="spinning-container" ng-if="(vm.submitting || vm.braintreeLoading)">\n<span class="spinning-loader"></span>\n</div>\n</button>\n</form>\n\n</div>\n</div>\n</div>\n\n<!-- 4 -->\n<div class="spanel spanel-thankyou">\n<div class="modal-top">\n<div class="portrait thumb" ng-style="::{\'background-image\': \'url(\'+vm.template.channelThumb+\'), url(\'+vm.template.noThumb+\')\'}">\n<span class="ynbadge">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png" />\n</span>\n</div>\n<div class="portrait thumb" ng-style="::{\'background-image\': \'url(\'+vm.template.userThumb+\'), url(\'+vm.template.noThumb+\')\'}">\n</div>\n<h2 class="heading" translate="subscribe_congrats"></h2>\n</div>\n<div class="modal-middle">\n<div class="text">\n<p translate="subscribe_congrats_benefits_tip" translate-values="(vm.channel.profile || vm.channel.profileUrlString)"></p>\n<p translate="subscribe_congrats_managing_tip"></p>\n</div>\n</div>\n<div class="modal-bottom">\n<button class="btn btn-confirm" type="button" ng-click="vm.closeThankyou();">{{ \'_awesome\' | translate }}!</button>\n</div>\n</div>\n\n<!-- 5 -->\n<div class="spanel spanel-cancel">\n\n<h1 class="header" translate="are_you_sure"></h1>\n\n<p class="copy" ng-if="::vm.subscription.subscriptionPlatform.manager" translate="managed_through" translate-values="{source : vm.subscription.subscriptionPlatform.manager}"></p>\n\n<p translate="benefits" class="benefits" translate-values="{name: vm.subscription.channelName, date: vm.subscription.paidThroughDate}"></p>\n\n<div class="exit-app">\n<div class="left-option">\n<a translate="_yes" ng-click="vm.cancelSubscription()" class="btn take-btn"></a>\n<p ng-if="::vm.subscription.subscriptionPlatform.name === \'YouNow.com\'"class="desire" translate="cancel_my_sub"></p>\n<p ng-if="::vm.subscription.subscriptionPlatform.name !== \'YouNow.com\'" class="desire" translate="take_me" translate-values="{destination :vm.params.sub.subscriptionPlatform.manager}"></p>\n</div>\n<div class="right-option">\n<a translate="_no" class="take-btn grey-btn btn" ng-click="$dismiss()"></a>\n<p class="desire" translate="keep_sub"></p>\n</div>\n</div>\n\n</div>\n\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html",'<div class="modal-body">\n<button aria-hidden="true" class="pull-right close" ng-click="$dismiss()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="cover-photo " ng-attr-style="{{::background(user.userId,\'Cover\')}}">\n<div class="little-fade"></div>\n</div>\n<div class="bottom-cont ">\n<div class="top-half">\n<div class="left pull-left">\n<a href="javascript:void(0)" style="display: inline-block; cursor: default;">\n<div class="thumb circle-thumb">\n<div class="thumb-image" ng-style="{background:\'url(\'+nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" ng-src="{{ thumbPath + user.userId }}" ng-alt="{{::user.profile}}" />\n</div>\n</div>\n</div>\n</a>\n</div>\n<div class="right pull-left">\n<div class="top pull-left">\n<div class="level pull-left">\n<div class="star pull-left" ng-style="::{ background: \'url(/images/groups/icon_pro_levelsm.png) no-repeat\'}"></div>\n<div class="level-num pull-left">\n<span>{{user.level}}</span>\n</div>\n</div>\n<div class="channel-name-cont pull-left">\n<span class="channel-name short-text">{{(user.profile || user.profileUrlString)}}</span>\n</div>\n</div>\n<div class="bottom pull-left">\n<div>\n<span class="heading">{{heading}}</span>\n</div>\n<div ng-show="subheading">\n<span class="subheading">{{subheading}}</span>\n</div>\n</div>\n</div>\n</div>\n<div class="bottom-half">\n<div class="call-to-action">\n<div ng-if="fanTrap" class="fan-button-placeholder" track-source="{{(source?source:\'trap-modal\')}}">\n<div fan-button channel="user" callback="$close"></div>\n</div>\n<button ng-if="loginTrap" ng-click="showLoginModal(\'\',(source?source:\'trap-modal\'))" class="btn btn-confirm" translate="signin_to_younow"></button>\n<div class="no-thanks pull-right" ng-click="$dismiss()">\n<span translate="no_thanks"></span>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html",'<span class="crowns-container">\n<span class="user-crowns ynbadge" ng-if="(subscriptionType != \'0\' && subscriptionType != undefined)">\n<img ng-src="{{::config.settings.BadgeBaseUrl}}/{{broadcast.broadcaster.userId}}/{{(subscriptionType || 1)}}/badge@2x.png" />\n</span>\n<span class="user-crowns" ng-if="( !subscriptionType && level && (!role || role==3) )">\n<i class="ynicon ynicon-level"></i>\n</span>\n<span class="user-crowns" ng-if="( role == 2 )">\n<i class="ynicon ynicon-ambass"></i>\n</span>\n<span class="user-crowns" ng-if="::( (role == 4 || role == 5 || role == 6) && level)">\n<span ng-if="(role == 4)">\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="(role == 5)">\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="(role == 6)">\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n</span>\n<span class="user-crowns" ng-if="( (role == 7 || role == 8 || role == 9) && level)">\n<span ng-if="(role == 7)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="(role == 8)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="(role == 9)">\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n</span>\n<span class="user-crowns" ng-if="( (role == 10 || role == 11 || role == 12) && level)">\n<span ng-if="(role == 10)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="(role == 11)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="(role == 12)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n</span>\n\n<span ng-if="(role != 1 && level > 1)" class="chat-name level"><b>{{level}}</b></span>\n</span>\n\n')}]),angular.module("angularjsapp/src/app/components/user-badge/user-badge.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/user-badge/user-badge.tpl.html",'<span class="crowns-container">\n<span class="user-crowns ynbadge" ng-if="::(subscriptionType != \'0\' || (broadcast.broadcaster.isSubscribable&&(channelId==broadcast.broadcaster.userId)))">\n<img ng-src="{{::config.settings.BadgeBaseUrl}}/{{::broadcast.broadcaster.userId}}/{{::(subscriptionType != \'0\' ? subscriptionType : 1 )}}/badge@2x.png" />\n</span>\n<span class="user-crowns" ng-if="::( subscriptionType == \'0\' && level && (role == \'0\' || role==3) )">\n<i class="ynicon ynicon-level"></i>\n</span>\n<span class="user-crowns" ng-if="::( role == 2 )">\n<i class="ynicon ynicon-ambass"></i>\n</span>\n<span class="user-crowns" ng-if="::( (role == 4 || role == 5 || role == 6) && level)">\n<span ng-if="::(role == 4)">\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="::(role == 5)">\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="::(role == 6)">\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n</span>\n<span class="user-crowns" ng-if="::( (role == 7 || role == 8 || role == 9) && level)">\n<span ng-if="::(role == 7)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="::(role == 8)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="::(role == 9)">\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n</span>\n<span class="user-crowns" ng-if="::( (role == 10 || role == 11 || role == 12) && level)">\n<span ng-if="::(role == 10)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="::(role == 11)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n<span ng-if="::(role == 12)">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-icon-whale"></i>\n</span>\n</span>\n\n<span ng-if="::(role != 1 && level > 1)" class="chat-name level"><b>{{::level}}</b></span>\n</span>\n\n')}]),angular.module("angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html",'<div class="modal-body verification-result">\n<button aria-hidden="true" class="close" ng-click="cancel()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n<div class="heading">\n<div class="title">\n<span class="is-verified">You\'re Verified!</span>\n<div class="is-not-verified">\nWe could not match the amounts to verify your credit card.\n</div>\n<span class="is-not-verified text-muted">\nPlease contact support and we will verify you another way quickly.\n</span>\n</div>\n</div>\n<div class="verified-result-icon is-verified"><i class="ynicon ynicon-icon-verify"></i></div>\n<div class="verified-result-icon is-not-verified"><i class="ynicon ynicon-icon-verify-reject"></i></div>\n<button class="btn btn-confirm is-verified" ng-click="continue()">\n<span>Ok, Great!</span>\n</button>\n<button class="btn btn-confirm is-not-verified" ng-click="contactSupport()">\n<span>Contact Support</span>\n</button>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html",'<div class="modal-body wide">\n<div class="panel-four active">\n<div class="heading">\n<div class="title" ng-if="verification.verifyNow">Get Verified!</div>\n<div class="title" ng-if="!verification.verifyNow">Purchase Successful!</div>\n<div class="subtitle">\n<span ng-show="verification.verifyNow && data.source.source === \'buyBars\'">\nFor your security we want to verify your card to purchase more bars.\n</span>\n<span ng-show="verification.verifyNow && data.source.source === \'subscribeModal\'">\nFor your security we want to verify your card to purchase a Subscription.\n</span>\n<span ng-if="source === \'buyBars\'">\n<b>Your Bars:</b>\n<span class="icon"><img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/icons_v3/icon_bar_sm.png"/></span>\n<b>{{session.user.vault.webBars}}</b>\n</span>\n</div>\n</div>\n<div class="content" ng-show="verification.verifyNow" ng-class="{\'animate-in\': verification.animate}">\n<div class="pull-left verification-image">\n<span class="verification-image-number">{{::verification.sale.high | currency}}</span>\n<img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/verify_848_blank.png">\n</div>\n<div class="desc">\nYou were charged a little bit less than the normal {{::verification.sale.originalAmount | currency}} price  somewhere between {{::verification.sale.low | currency}} and {{::verification.sale.high | currency}}. We need you to confirm how much (it wont end in $.99).\nOpen up your credit cards online statement and look for a charge from YOUNOW (or BRAINTREE.COM) in your recent activity.\nIn most cases charges show up instantly, but if you dont see it, wait a bit (in some cases, up to a day),\n<span ng-if="::data.source.source === \'buyBars\'">and come back to verify your bars before you purchase any more.</span>\n<span ng-if="::data.source.source === \'subscribeModal\'">and come back to verify your card before purchasing.</span>\n</div>\n<div class="verification-info">\n<div class="pull-left">\n<i class="ynicon ynicon-icon-verify"></i>\n</div>\n<div class="verification-info-copy pull-left">One discounted charge was made on {{::verification.sale.date | date : \'M/d/yy\'}} to your {{::verification.sale.paymentType}} ending in x{{::verification.sale.last4}}</div>\n</div>\n<div ng-class="{failed: verification.failed}">\n<div class="verification-failed">\n<div>The amount you entered before, {{::verification.amountAttempted | currency}}, does not match. Try again.</div>\n<div><b>Be careful! This is your last try to submit an amount for verification.</b></div>\n<div class="text-muted">(Double check your credit card, you can always come back later)</div>\n</div>\n<div class="verification-form pull-left">\n<form name="verificationForm" novalidate>\n<label>Amount of Charge</label>\n<span><b>$</b></span>\n<input\ntype="number"\nname="verificationAmount"\nng-model="verification.amount"\nng-pattern="\'^[0-9]+(.[0-9]{1,2})?$\'"\nng-required="true"\ntooltip="{{verification.invalid}}"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="bottom error"\nyn-enter="verifyAmount()"\nid="verification-tooltip">\n</form>\n</div>\n</div>\n<button class="btn btn-confirm verify-now-btn pull-left" ng-disabled="verification.processing" ng-click="verifyAmount()">\n<span ng-if="!verification.processing">Verify Amount</span>\n<div class="loader-light" ng-if="verification.processing"></div>\n</button>\n</div>\n<div class="content" ng-if="!verification.verifyNow">\n<div class="pull-left verification-image">\n<span class="verification-image-number">{{::verification.sale.high | currency}}</span>\n<img ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/verify_848_blank.png">\n</div>\n<div class="desc verification-sale">\n<div>For your protection, we need you to verify your credit card before you can purchase any more bars.</div>\n<div>Its simple, but you will need access to your online credit card statement so you can verify the last charge we made to your card.</div>\n</div>\n<button class="btn btn-cancel pull-left" ng-click="cancel()">\n<span>Verify Later</span>\n</button>\n<button class="btn btn-confirm pull-left" ng-click="verification.verifyNowState()">\n<span>Verify Now</span>\n</button>\n</div>\n<div class="bottom">\n<div class="contact-support">\n<span class="text-muted">Need help?</span>\n<a ng-href="https://younow.zendesk.com/anonymous_requests/new?ticket[subject]=Credit+Card+Verification&ticket[ticket_form_id]=67755&ticket[fields][24381885]={{::verification.sale.last4}}&ticket[fields][23984596]={{::session.user.fullName}}" target="_blank">Contact support</a>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/video-player/advanced-options.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/advanced-options.tpl.html",'<div class="advanced-options dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\nng-click="vm.RTCbroadcastSettings.microphoneSetup()"\ntooltip="Advanced Options"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<i class="ynicon ynicon-settings"></i>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li ng-click="toggleExternalStreaming()">\n<i ng-if="externalStreaming.active" class="ynicon ynicon-icon-check"></i> Use external streaming tool\n</li>\n</ul>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/video-player/mini-overlay.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/mini-overlay.tpl.html",'<div class="mini-overlay" ng-class="state" ng-click="captureMoment()">\n<!-- hover name -->\n<div class="display-name" ng-click="openProfileSummary($event)">\n<span class="short-text">{{profile}}</span>\n</div>\n<!-- connecting -->\n<div class="connecting-guest" ng-if="guest">\n<div class="headline">Connecting...</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (guest.userId||0) +\')\'}"></div>\n<img class="conn-gif-below" ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif"/>\n</div>\n<div class="guest-info">\n<div class="short-text">{{guest.name}}</div>\n<div class="short-text location">{{guest.formattedLocation}}</div>\n</div>\n</div>\n<!-- inviting -->\n<div class="inviting-guest" ng-if="guest">\n<div class="headline">Inviting Guest...</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (guest.userId||0) +\')\'}"></div>\n<img class="conn-gif-below" ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif"/>\n</div>\n<div class="guest-info">\n<div class="short-text">{{guest.name}}</div>\n<div class="short-text location">{{guest.formattedLocation}}</div>\n</div>\n<button class="btn btn-cancel" ng-click="cancelInvite()">Cancel</button>\n</div>\n<!-- inviting request from broadcaster for guest-->\n<div class="inviting-request" ng-if="session.user.userId > 0">\n<div class="headline">Guest Broadcast</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="::{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (swf.broadcast.userId||0) +\')\'}"></div>\n<div class="circle-thumb thumb" ng-style="::{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (session.user.userId||0) +\')\'}"></div>\n<img class="conn-gif" ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con2_2x_360.gif"/>\n</div>\n<div class="guest-info">\n<div class="short-text">{{swf.broadcast.profile}}</div>\n<div>invited you to go live!</div>\n</div>\n<div class="actions" ng-class="{ \'asking-for-permissions\': loadingPermissions}">\n<button class="btn btn-primary" ng-click="acceptInvite()">\n<span>Go Live</span>\n<div class="loader-light"></div>\n</button>\n<button class="btn btn-important" ng-click="declineInvite()">Decline</button>\n<div class="permissions-tip">Allow permissions via the dialog at the top of your browser to continue.</div>\n</div>\n</div>\n<!-- inviting request for the audience-->\n<div class="inviting-guest-audience" ng-if="pendingGuest.guest">\n<div class="headline">Inviting Guest...</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (pendingGuest.guest.userId||0) +\')\'}"></div>\n<img class="conn-gif-below" ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif"/>\n</div>\n<div class="guest-info">\n<div class="short-text">{{pendingGuest.guest.name}}</div>\n<div class="short-text location">{{pendingGuest.guest.formattedLocation}}</div>\n</div>\n</div>\n\n<!-- invite declined -->\n<div class="invite-declined" ng-if="pendingGuest.guest">\n<div class="headline">Invite Declined</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (pendingGuest.guest.userId||0) +\')\'}"></div>\n<div class="declined-icon"><i class="ynicon ynicon-bc-call-cancel"></i></div>\n</div>\n<div class="guest-info">\n<div class="short-text">{{pendingGuest.guest.name}}</div>\n<div class="short-text location">{{pendingGuest.guest.formattedLocation}}</div>\n</div>\n</div>\n<!-- invite timeout with retry option -->\n<div class="invite-timeout" ng-if="pendingGuest.guest">\n<div class="headline">No Response</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (pendingGuest.guest.userId||0) +\')\'}"></div>\n<div class="declined-icon"><i class="ynicon ynicon-bc-call-cancel"></i></div>\n</div>\n<div class="guest-info">\n<div class="short-text">{{pendingGuest.guest.name}}</div>\n<div class="short-text location">{{pendingGuest.guest.formattedLocation}}</div>\n</div>\n<div class="actions">\n<button class="btn btn-confirm" ng-click="retryDirectInvite()">Try Again</button>\n<button class="btn btn-cancel" ng-click="cancelRetry()">Cancel</button>\n</div>\n</div>\n<!-- ending-guest -->\n<div class="ending-guest" ng-if="guest">\n<div class="headline">Drop Guest?</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (guest.userId||0) +\')\'}"></div>\n<div class="cancel"><i class="ynicon ynicon-bc-call-cancel"></i></div>\n</div>\n<div class="guest-info">\n<div class="short-text">{{guest.name}}</div>\n</div>\n<div class="actions">\n<button class="btn btn-important" ng-click="confirmDrop()">Drop</button>\n<button class="btn btn-cancel" ng-click="cancelDrop()">Cancel</button>\n</div>\n</div>\n<!-- swapping guest -->\n<div class="swapping-guest" ng-if="guest">\n<div class="headline">\nMake <span class="short-text">{{pendingGuest.guest.name}}</span> live?\n</div>\n<div class="profile-images">\n<div class="circle-thumb thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (pendingGuest.guest.userId||0) +\')\'}"></div>\n</div>\n<div class="guest-info">\n<div class="short-text">{{pendingGuest.guest.name}}</div>\n<div class="short-text">{{pendingGuest.guest.formattedLocation}}</div>\n</div>\n<div class="actions">\n<button class="btn btn-primary" ng-click="confirmSwap()">Make Live</button>\n<button class="btn btn-cancel" ng-click="cancelSwap($event)">Cancel</button>\n</div>\n</div>\n<!-- connecting overlay -->\n<h3>Going Live...</h3>\n\n<!-- background overlays -->\n<!-- connecting broadcaster for guest -->\n<div class="connecting-broadcaster">\n<div class="background-thumb" ng-style="{\'background-image\': \'url(\' + config.imageApis.broadcast + \'/\' + swf.broadcast.broadcastId + \'/\' + swf.broadcast.broadcastId + \'.jpg)\'}"></div>\n<div class="spinning-loader"></div>\n</div>\n<!-- connecting guest for broadcaster -->\n<div class="connecting-broadcaster-guest" ng-if="guest">\n<div class="background-thumb" ng-if="::guest.snapshotUrl" ng-style="{\'background-image\': \'url(\'+ config.settings.GuestSnapshotsBaseUrl + guest.snapshotUrl+\')\'}"></div>        <div class="background-thumb" ng-if="::!guest.snapshotUrl" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (guest.userId||0) +\')\'}"></div>\n</div>\n<!-- inviting guest for broadcaster -->\n<div class="inviting-broadcaster-guest" ng-if="guest">\n<div class="background-thumb" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (guest.userId||0) +\')\'}"></div>\n</div>\n<!-- inviting guest request for guest and audience -->\n<div class="inviting-guest-bg" ng-if="pendingGuest.guest">\n<div class="background-thumb" ng-if="::pendingGuest.guest.snapshotUrl" ng-style="{\'background-image\': \'url(\'+ config.settings.GuestSnapshotsBaseUrl + pendingGuest.guest.snapshotUrl+\')\'}"></div>\n<div class="background-thumb" ng-if="::!pendingGuest.guest.snapshotUrl" ng-style="{\'background-image\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/php/api/channel/getImage/channelId=\' + (pendingGuest.guest.userId||0) +\')\'}"></div>\n</div>\n<!-- base backdrop -->\n<div class="backdrop-overlay"></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/video-player/player-footer.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/player-footer.tpl.html",'<div id="playerfooter">\n<div class="player-toolbar" ng-if="!vm.swf.settingUpBroadcast">\n<div class="player-toolbar-left" ng-disabled="vm.swf.bootingFlash || vm.swf.eob">\n<div id="toolbar-like-button"\nclass="toolbar-button"\nng-class="{\'like-busy\':vm.cooldown}"\nng-click="vm.doLike($event)"\ntooltip-html-unsafe="{{vm.likeTooltip()}}"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true">\n<img ng-src="/angularjsapp/src/assets/images/player-footer/like-{{vm.swf.fullscreenActive ? \'fullscreen\' : \'normal\'}}.{{vm.cooldown ? \'gif\' : \'png\'}}">\n<span class="toolbar-count">{{vm.swf.broadcast.likes}}</span>\n</div>\n<div id="broadcast-shares"\nclass="toolbar-button"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip="+{{vm.swf.broadcast.user_shares}}"\nng-click="vm.openSnapshot();">\n<i class="ynicon ynicon-btn-bc-share-android"></i>\n<span class="toolbar-count">{{vm.swf.broadcast.shares}}</span>\n</div>\n<div id="broadcast-moment"\nclass="toolbar-button"\nng-disabled="!vm.swf.thumbs || vm.swf.thumbs.length<8"\nng-click="vm.momentCapture();">\n<i class="ynicon ynicon-momentcreation"></i>\n<span class="toolbar-count">{{vm.swf.broadcast.numMomentsCreated}}</span>\n</div>\n</div>\n<div class="player-toolbar-right" ng-disabled="vm.swf.bootingFlash || vm.swf.eob">\n<div ng-if="vm.swf.currentSession.isBroadcasting && vm.swf.broadcast.userId == vm.session.user.userId" class="toolbar-button dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\ntooltip="Change Chatmode"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<span class="ynicon ynicon-chat" ng-class="vm.muteIcon()"></span>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li>\n<a href ng-click="vm.swf.lowLevel(0)">Unrestricted Chat <i ng-if="vm.swf.currentLowLevel == 0" class="ynicon ynicon-icon-check"></i></a>\n</li>\n<li>\n<a href ng-click="vm.swf.lowLevel(5)">Level 5 Chat <i ng-if="vm.swf.currentLowLevel == 5" class="ynicon ynicon-icon-check"></i></a>\n</li>\n<li>\n<a href ng-click="vm.swf.lowLevel(10)">Level 10 Chat <i ng-if="vm.swf.currentLowLevel == 10" class="ynicon ynicon-icon-check"></i></a>\n</li>\n</ul>\n</div>\n<!-- stats for nerds -->\n\n<div class="stats-for-nerds" dropdown on-toggle="vm.getWebrtcStats(open)" ng-if="vm.swf.currentSession.isBroadcasting && vm.swf.broadcast.userId == vm.session.user.userId && vm.session.user.partner == 1">\n<button\nclass="btn btn-transparent dropdown-toggle"\ndropdown-toggle>\n<i class="ynicon ynicon-carrot-dwn"></i>\n<i class="ynicon ynicon-icon-quality"></i>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-up"></i>\n<div class="nerd-stats-container">\n<div class="nerd-stats-row" ng-if="::!vm.isFirefox">\n<div>\n<b>Video Resolution:</b> {{vm.forNerds.resolution}}\n</div>\n<div>\n<b>Network Type:</b> {{vm.forNerds.network}}\n</div>\n</div>\n<div class="nerd-stats-row">\n<div>\n<b>Audio Bit Rate:</b> {{vm.forNerds.abr}}\n</div>\n<div>\n<b>Video Bit Rate:</b> {{vm.forNerds.vbr}}\n</div>\n</div>\n<div class="nerd-stats-row">\n<div>\n<b>Video RTT:</b> {{vm.forNerds.vRTT}}\n</div>\n<div>\n<b>Frame Rate:</b> {{vm.forNerds.framerate}}\n</div>\n</div>\n</div>\n<div class="nerd-stats-bot-row">\n<bitrate-line ng-if="vm.forNerds" bps="vm.forNerds.bps"></bitrate-line>\n<div>\n<a class="btn btn-cancel" href="mailto:youremailaddress">Email Stats</a>\n</div>\n</div>\n</ul>\n</div>\n<span class="ynicon ynicon-time"></span>\n<span ng-if="!vm.swf.settingUpBroadcast">{{playerFooter.niceLength}}</span>\n<span ng-if="vm.swf.settingUpBroadcast">00:00</span>\n<span class="ynicon ynicon-viewers"></span>\n<span>{{vm.swf.broadcast.viewers}}</span>\n<img src="https://schwestertester.github.io/img/icon_darkmode.png" />\n<span>{{vm.swf.currentVisibleViewers}}</span>\n<img src="https://schwestertester.github.io/img/icon_darkmodeInvisible.png" />\n<span>{{vm.swf.currentInvisibleViewers}}</span>\n<!-- normal mute control -->\n<span class="mute-container" ng-if="!vm.showFfMuteControls()" ng-disabled="vm.externalStreaming.streaming ||vm.externalStreaming.active ">\n<div class="volume-bar clickable" ng-mousemove="vm.slideVolume($event)" ng-mouseup="vm.setVolume($event)">\n<span class="volume-background">\n<span class="volume-foreground" ng-style="{\'width\': vm.getVolume()+\'px\'}"></span>\n<span class="volume-slider"></span>\n</span>\n</div>\n<span\nid="volume-icon"\nclass="volume-icon ynicon ynicon-icon-mic clickable"\nng-class="vm.muteIcon()"\nng-click="vm.setMute()"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip="{{\'player_youre_muted\' | translate }}">\n</span>\n</span>\n<!-- ff mute control -->\n<span class="mute-container" ng-if="vm.showFfMuteControls()" >\n<span\nid="volume-icon"\nclass="volume-icon ynicon ynicon-icon-mic clickable"\nng-class="{\'ynicon-icon-mic-off\': !vm.ffStreamAudioEnabled, \'ynicon-icon-mic\': vm.ffStreamAudioEnabled}"\nng-click="vm.RTCbroadcastSettings.ffMuteStream()"\nng-disabled="vm.externalStreaming.streaming || vm.externalStreaming.streaming"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip="{{\'player_youre_muted\' | translate }}">\n</span>\n</span>\n<!-- webRtc.ffMuteStream -->\n<div ng-click="vm.togglePlayerFullscreen();" class="pull-right clickable fullscreen-toggle">\n<i class="ynicon ynicon-icon-openexternal"></i>\n</div>\n</div><!-- / toolbar left -->\n</div><!-- / toolbar -->\n<!-- FLASH SETTINGUP TOOLBAR  -->\n<div id="settingup-toolbar" ng-if="vm.swf.settingUpBroadcast && vm.config.mcu != \'1\'">\n<div class="toolbar-center">\n<div class="toolbar-button dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\nng-click="vm.broadcastSettings.cameraSetup()"\nng-disabled="vm.externalStreaming.active"\ntooltip="Change Camera"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<i class="ynicon ynicon-broadcast"></i>\n<span translate="golive_camera"></span>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li ng-repeat="camera in vm.cameraOptions track by $index">\n<a href ng-click="vm.broadcastSettings.setCamera($index, camera)">{{camera.name}} <i ng-if="camera.current" class="ynicon ynicon-icon-check"></i></a>\n</li>\n</ul>\n</div>\n<div class="mute-container toolbar-button dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\nng-click="vm.broadcastSettings.microphoneSetup()"\nng-disabled="vm.externalStreaming.active"\ntooltip="Change Microphone"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<i class="ynicon ynicon-icon-mic" ng-class="vm.muteIcon()"></i>\n<span translate="golive_mic"></span>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li ng-repeat="microphone in vm.microphoneOptions track by $index">\n<a href ng-click="vm.broadcastSettings.setMicrophone($index)">{{microphone.name}} <i ng-if="microphone.current" class="ynicon ynicon-icon-check"></i></a>\n</li>\n</ul>\n</div>\n<div class="volume-bar clickable toolbar-button" ng-mousemove="vm.slideVolume($event)" ng-mouseup="vm.setVolume($event)">\n<span class="volume-background">\n<span class="volume-foreground" ng-style="{\'width\': vm.getVolume()+\'px\'}"></span>\n<span class="volume-slider"></span>\n</span>\n</div>\n</div>\n<advanced-options></advanced-options>\n</div>\n<!-- WEBRTC SETTINGUP TOOLBAR -->\n<div id="settingup-toolbar" ng-if="vm.swf.settingUpBroadcast && vm.config.mcu == \'1\'">\n<!-- firefox selection -->\n<div class="toolbar-center toolbar-firefox" ng-disabled="vm.webRtc.settings.state == \'connecting\'" ng-if="::vm.isFirefox">\n<div class="toolbar-button">\n<button class="btn btn-confirm" ng-click="vm.RTCbroadcastSettings.ffMediaSetup()" ng-disabled="vm.externalStreaming.active" translate="golive_camera_setup">\n</button>\n</div>\n<div class="firefox-volume-controls">\n<div class="mute-container toolbar-button">\n<button class="btn btn-transparent">\n<i class="ynicon ynicon-icon-mic" ng-class="vm.muteIcon()"></i>\n</button>\n</div>\n<div class="volume-bar clickable toolbar-button" ng-mousemove="vm.slideVolume($event)" ng-mouseup="vm.setVolume($event)">\n<span class="volume-background">\n<span class="volume-foreground" ng-style="{\'width\': vm.getVolume()+\'px\'}"></span>\n<span class="volume-slider"></span>\n</span>\n</div>\n</div>\n</div>\n<!-- normal selection -->\n<div class="toolbar-center" ng-disabled="vm.webRtc.settings.state == \'connecting\'" ng-if="::!vm.isFirefox">\n<div class="toolbar-button dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\nng-click="vm.RTCbroadcastSettings.cameraSetup()"\nng-disabled="vm.externalStreaming.active"\ntooltip="{{ \'golive_change_camera\' | translate }}"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<i class="ynicon ynicon-broadcast"></i>\n<span translate="golive_camera"></span>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li ng-repeat="camera in vm.cameraOptions track by $index">\n<a href ng-click="vm.RTCbroadcastSettings.setCamera(camera)">{{camera.label}} <i ng-if="camera.enabled" class="ynicon ynicon-icon-check"></i></a>\n</li>\n<div ng-if="(!vm.cameraOptions || vm.cameraOptions.length === 0)" class="loader"></div>\n</ul>\n</div>\n<div class="mute-container toolbar-button dropup" dropdown>\n<button\nclass="btn btn-transparent dropdown-toggle"\nng-click="vm.RTCbroadcastSettings.microphoneSetup()"\nng-disabled="vm.externalStreaming.active"\ntooltip="{{ \'golive_change_mic\' | translate }}"\ntooltip-trigger="mouseenter"\ntooltip-append-to-body="true"\ndropdown-toggle>\n<i class="ynicon ynicon-icon-mic" ng-class="vm.muteIcon()"></i>\n<span translate="golive_mic"></span>\n</button>\n<ul class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<li ng-repeat="microphone in vm.microphoneOptions track by $index">\n<a href ng-click="vm.RTCbroadcastSettings.setMicrophone(microphone)">{{microphone.label}} <i ng-if="microphone.enabled" class="ynicon ynicon-icon-check"></i></a>\n</li>\n<div ng-if="(!vm.microphoneOptions || vm.microphoneOptions.length === 0)" class="loader"></div>\n</ul>\n</div>\n<div class="volume-bar clickable toolbar-button" ng-mousemove="vm.slideVolume($event)" ng-mouseup="vm.setVolume($event)">\n<span class="volume-background">\n<span class="volume-foreground" ng-style="{\'width\': vm.getVolume()+\'px\'}"></span>\n<span class="volume-slider"></span>\n</span>\n</div>\n</div>\n<advanced-options></advanced-options>\n</div>\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/components/video-player/player-header.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/player-header.tpl.html",'<div id="playerheader">\n<a\nclass="thumb circle-thumb pull-left"\nng-if="!vm.swf.settingUpBroadcast && !vm.swf.currentSession.isBroadcasting"\nng-style="{ background: \'url(\' + vm.thumb + vm.broadcast.broadcaster.userId + \'), url({{vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{vm.broadcast.broadcaster.profile}}" prevent-default\nng-click="vm.openBroadcasterProfile(vm.broadcast.broadcaster.userId)">\n<span class="ynbadge" ng-if="vm.broadcast.broadcaster.isSubscribable && !vm.swf.settingUpBroadcast">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{vm.broadcast.broadcaster.userId}}/1/badge@2x.png" />\n</span>\n</a>\n<a\nclass="thumb circle-thumb pull-left"\nng-if="vm.swf.settingUpBroadcast || vm.swf.currentSession.isBroadcasting"\nng-style="{ background: \'url(\' + vm.thumb + vm.session.user.userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{vm.session.user.profile}}" prevent-default\nng-click="vm.openBroadcasterProfile(vm.session.user.userId)">\n<span class="ynbadge" ng-if="vm.broadcast.broadcaster.isSubscribable && !vm.swf.settingUpBroadcast">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{vm.broadcast.broadcaster.userId}}/1/badge@2x.png" />\n</span>\n</a>\n<!-- viewer view -->\n<div class="broadcast-info transline-mid" ng-if="!vm.swf.settingUpBroadcast && !vm.swf.currentSession.isBroadcasting && vm.broadcast.broadcaster.userId != vm.session.user.userId">\n<a\nclass="broadcaster-name ellipsify"\nng-href="/{{vm.broadcast.broadcaster.profile}}" prevent-default\nng-click="vm.openBroadcasterProfile(vm.broadcast.broadcaster.userId)">\n<i class="ynicon ynicon-level"></i>\n<span>{{vm.Math.floor(vm.broadcast.broadcaster.userlevel)}} {{vm.broadcast.broadcaster.username}}</span>\n</a>\n<div class="broadcaster-tag ellipsify transline-top" ng-if="!vm.broadcast.broadcaster.isSubscribable || !vm.session.fanStatus[vm.broadcast.broadcaster.userId]">\n<span translate="_on"></span>\n<a\nng-href="/explore/{{vm.broadcast.broadcaster.tags[0]}}" prevent-default\nng-click="vm.Api.goto(\'explore/\' + vm.broadcast.broadcaster.tags[0])">\n#{{vm.broadcast.broadcaster.tags[0]}}\n</a>\n</div>\n<div class="broadcaster-buttons">\n<div class="fan-button-placeholder" track-source="BROADCAST">\n<div fan-button size="small" channel="vm.broadcast.broadcaster.user"></div>\n</div>\n<div class="fan-button-placeholder subscribe-button-placeholder" track-source="BROADCAST">\n<div subscribe-button size="small" channel="vm.broadcast.broadcaster.user"></div>\n</div>\n</div>\n<!--<div class="broadcaster-description line-clamp transline-top">\n\n<span ng-bind-html="vm.broadcast.broadcaster.user.description">\n</span>\n</div>-->\n\n</div>\n<div class="broadcast-info" ng-if="(vm.broadcast.broadcaster.userId==vm.session.user.userId) && !vm.swf.settingUpBroadcast">\n<!-- mode -->\n<div class="broadcast-info submode" ng-if="vm.broadcast.broadcaster.isSubscribable && !vm.newRank">\n<div class="top">\n<span class="stitle" translate="golive_chatmode"></span>\n<span class="switch s{{ vm.broadcast.chatMode==1 ? \'on\' : \'off\' }}" ng-click="vm.chatModeToggle()">\n<span class="sknob"></span>\n</span>\n<span class="sinfo">{{ (vm.broadcast.chatMode==1 ? \'turn_on\' : \'turn_off\') | translate }}</span>\n</div>\n<div class="bot">\n({{ vm.swf.broadcast.subscribersCount }} {{ (vm.swf.broadcast.subscribersCount!=1 ? \'subscribers\' : \'subscriber\') | translate }})\n</div>\n</div>\n<!-- rank -->\n<div class="broadcaster-setup-description" ng-if="(!vm.broadcast.broadcaster.isSubscribable || vm.newRank)">\n<div class="short-text">{{vm.session.user.fullName}}</div>\n<span class="short-text">,</span>\n<span class="short-text user-rank">{{\'_you_are\' | translate }} {{vm.broadcast.broadcaster.tagRank}} </span>\n<span class="broadcaster-tags short-text"> {{\'_on\' | translate }} </span>\n<a\nclass="broadcaster-tags short-text"\nng-href="/explore/{{vm.broadcast.broadcaster.tags[0]}}" prevent-default\nng-click="vm.Api.goto(\'explore/\' + vm.broadcast.broadcaster.tags[0])">\n#{{vm.broadcast.broadcaster.tags[0]}}\n</a>\n</div>\n\n\n</div>\n<!-- END broadcaster view pre-EOB -->\n\n\n<!-- broadcaster setup -->\n<div class="broadcast-info" ng-if="vm.swf.settingUpBroadcast">\n<div class="broadcaster-setup-description">\n<div class="short-text">{{vm.session.user.fullName}}</div>\n<span class="setup-copy short-text">, {{\'player_get_ready_for_your_broadcast\' | translate }}</span>\n</div>\n</div>\n</div>\n<!--<div id="playersystem">\n<span class="sys-message" ng-bind-html="vm.systemMessage.message.trustedMessage"></span>\n<a ng-if="vm.systemMessage.message.webButton.action" ng-href="{{vm.systemMessage.message.webButton.action}}" target="_blank" class="cta-button">{{vm.systemMessage.message.webButton.caption}}</a>\n</div>-->\n')}]),angular.module("angularjsapp/src/app/components/video-player/player-overlay.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/player-overlay.tpl.html",'<div class="transition-overlay" ng-if="vm.swf.loadingBroadcasterState">\n<!-- dissapate dead broadcast -->\n<div ng-if="vm.swf.loadingBroadcasterState === \'PREV\' && !vm.swf.settingUpBroadcast " class="thumbnail-pulse">\n<div class="thumb circle-thumb" ng-style="{ background: \'url({{::vm.thumb}}\' + vm.broadcast.broadcaster.userId + \') no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n</div>\n<!-- buffering new broadcast -->\n<div ng-if="(vm.swf.playState === \'BUFFERING\' || vm.swf.loadingBroadcasterState === \'NEXT\') && !vm.swf.settingUpBroadcast" class="thumbnail-pulse" style="background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;">\n<div class="thumb circle-thumb" ng-style="{ background: \'url({{::vm.thumb}}\' + vm.broadcast.broadcaster.userId + \') no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n</div>\n<!-- reconnect screen -->\n<div ng-if="vm.swf.playState === \'RECONNECT\' && !vm.swf.settingUpBroadcast" class="thumbnail-pulse" style="background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;">\n<div class="thumb circle-thumb" ng-style="{ background: \'url({{::vm.thumb}}\' + vm.broadcast.broadcaster.userId + \') no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n</div>\n<!-- buffering your own broadcast -->\n<div ng-if="vm.swf.settingUpBroadcast" class="thumbnail-pulse" style="background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;">\n<div class="thumb circle-thumb" ng-style="{ background: \'url({{::vm.thumb}}\' + vm.session.user.userId + \') no-repeat, url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n</div>\n<div class="user-info" ng-if="vm.swf.settingUpBroadcast"><i class="ynicon ynicon-level"></i>{{::vm.session.user.level}} {{::vm.session.user.profile}}</div>\n<div class="user-info" ng-if="!vm.swf.settingUpBroadcast"><i class="ynicon ynicon-level"></i>{{vm.Math.floor(vm.broadcast.broadcaster.userlevel)}} {{vm.broadcast.broadcaster.profile}}</div>\n<div class="transition-text" ng-if="vm.swf.loadingBroadcasterState === \'NEXT\' || vm.swf.loadingBroadcasterState === \'WAITING\'" translate="player_buffering"></div>\n<div class="transition-text" ng-if="vm.swf.loadingBroadcasterState === \'RECONNECT\'" translate="player_reconnecting"></div>\n</div>\n<div class="message-overlay" ng-if="vm.swf.settingUpBroadcast">\n<!-- canceling the setup -->\n<button class="cancel btn btn-important active" ng-click="vm.cancelBroadcast()" translate="_cancel"></button>\n</div>\n<!-- dropping state -->\n<div ng-if="vm.swf.broadcast.userId === vm.session.user.userId && !vm.swf.settingUpBroadcast && !vm.swf.eob">\n<!-- broadcaster -->\n<div ng-if="vm.guestService.overlayStates.guest != \'connected\' && vm.guestService.overlayStates.guest != \'dropping\' && vm.guestService.overlayStates.guest != \'swapping\'">\n<div class="live-text active" translate="player_youarelive"></div>\n<button class="btn btn-important active" ng-click="vm.dropBroadcast(true)" translate="_end"></button>\n<div class="drop-broadcast-confirmation" ng-class="{active: vm.dropBroadcastActive}">\n<div translate="player_areyousure"></div>\n<button class="btn btn-transparent" ng-click="vm.dropBroadcast()" translate="_yes"></button>\n<button class="btn btn-transparent" ng-click="vm.dropBroadcast(false)" translate="_no"></button>\n</div>\n</div>\n\n<!-- guest -->\n<div ng-if="vm.guestService.overlayStates.guest == \'connected\' && vm.guestService.overlayStates.guest != \'dropping\' && vm.guestService.overlayStates.guest != \'swapping\'">\n<div class="live-text-guest active short-text">{{vm.guestService.guest.name}}</div>\n<div class="guest-actions active">\n<button class="btn btn-primary" ng-click="vm.randomGuest()" ng-if="vm.guestService.guestListCount >= 5">\n<span translate="_random"></span>\n<i class="ynicon ynicon-bc-call"></i>\n</button>\n<button class="btn btn-important" ng-click="vm.dropGuestAsBroadcaster()" translate="_drop"></button>\n</div>\n</div>\n</div>\n\n<!-- guest dropping state -->\n<div ng-if="vm.guestService.guest.userId == vm.session.user.userId && !vm.swf.fullscreenActive">\n<div class="live-text-guest active" translate="player_youarelive"></div>\n<button class="drop-guest btn btn-important active" ng-click="vm.dropBroadcastActive = true" translate="_end"></button>\n<div class="guest drop-broadcast-confirmation" ng-class="{active: vm.dropBroadcastActive}">\n<div translate="player_areyousure"></div>\n<button class="btn btn-transparent" ng-click="vm.dropGuestAsGuest()" translate="_yes"></button>\n<button class="btn btn-transparent" ng-click="vm.dropGuestAsGuestCancel()" translate="_no"></button>\n</div>\n</div>\n\n<!-- top -->\n<!--\n<div class="system-message" collapse="!vm.systemMessage.hasMessage || vm.systemMessage.dismissed" ng-if="!vm.swf.settingUpBroadcast">\n<span class="sys-message" ng-bind-html="vm.systemMessage.message.trustedMessage"></span>\n<a ng-if="vm.systemMessage.message.webButton.action" ng-href="{{vm.systemMessage.message.webButton.action}}" target="_blank" class="cta-button">{{vm.systemMessage.message.webButton.caption}}</a>\n<div class="close-button" ng-click="vm.dismissSystemMessage()"><i class="ynicon ynicon-close"></i></div>\n</div>\n-->\n\n<!-- gifts -->\n<div class="premium-overlay" ng-click="vm.openProfile()" ng-class="{\'overlay-fade\': vm.gift == false || vm.swf.settingUpBroadcast || vm.suppressGiftOverlays(), \'overlay-fade-in\': vm.gift !== false && !vm.swf.settingUpBroadcast && !vm.suppressGiftOverlays(), \'premium-small\': vm.swf.sharePanelOpen}">\n<div class="gift-overlay" ng-class="{ \'subscription-gift-overlay\' : vm.gift.info.itemGameType==\'SUBSCRIPTION\', \'tipbig\' : (vm.gift.info.itemGameType==\'TIP\' && (vm.gift.value>1000)) }">\n\n<!-- subscription -->\n<div class="subscription-gift" ng-if="vm.gift.info.itemGameType==\'SUBSCRIPTION\'">\n<span\nclass="gbroadcaster thumb"\nng-style="{ background: \'url({{::vm.thumb}}\' + vm.swf.broadcast.userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }">\n<span class="ynbadge">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.swf.broadcast.userId}}/1/badge@2x.png" />\n</span>\n</span>\n<span class="gspace thumb" ng-class="{ \'animateSubs \' : vm.gift.animateSubs }"></span>\n<span\nclass="guser thumb"\nng-style="{ background: \'url({{::vm.thumb}}\' + vm.gift.userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }">\n</span>\n</div>\n<!-- animation -->\n<div class="premium-gift animation-gift" ng-if="vm.gift.info.itemGameType==\'ANIMATION\'">\n<div class="thumb" ng-style="{ background: \'url({{::vm.thumb}}\' + vm.gift.userId + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n<span class="gift-message">{{vm.gift.comment}}</span>\n<img ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_animation.gif">\n</div>\n<!-- tip-big -->\n<div class="premium-gift" ng-if="vm.gift.info.itemGameType==\'TIP\' && vm.gift.value>1000">\n<img ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_animation{{vm.gift.globalSpenderRank>0 ? \'_vip\' : \'\'}}.gif" style="width: auto;height: 230px;margin-left: -77px;margin-top: -94px;margin-bottom: -70px;">\n</div>\n<!-- tip -->\n<div class="premium-gift" ng-if="vm.gift.info.itemGameType==\'TIP\' && vm.gift.value<=1000">\n<img ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_overlay{{vm.gift.globalSpenderRank>0 ? \'_vip\' : \'\'}}.png">\n<div\nclass="thumb"\nng-class="{ \'visibilityhidden\' : !vm.isProposalGift(vm.gift.giftId) }"\nng-style="{ background: \'url({{::vm.thumb}}\' + vm.giftUserId_lastingValue + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }">\n</div>\n</div>\n<!-- image == NOT subscription, animation, tip -->\n<div class="premium-gift" ng-if="!(vm.gift.info.itemGameType==\'SUBSCRIPTION\') && !(vm.gift.info.itemGameType==\'ANIMATION\') && !(vm.gift.info.itemGameType==\'TIP\')">\n<img ng-src="{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_overlay.png">\n<div\nclass="thumb"\nng-class="{ \'visibilityhidden\' : !vm.isProposalGift(vm.gift.giftId) }"\nng-style="{ background: \'url({{::vm.thumb}}\' + vm.giftUserId_lastingValue + \'), url({{::vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }">\n</div>\n</div>\n\n<!-- message -->\n<span class="gift-message" ng-if="vm.gift.info.itemGameType!=\'ANIMATION\'">{{vm.gift.comment}}</span>\n</div>\n</div>\n<!-- feature announcements -->\n<!--<div ng-if="::vm.momentEducationOn">\n<div class="feature-announcement" ng-if="!vm.swf.settingUpBroadcast && vm.swf.thumbs.length>=4">\n<i class="ynicon ynicon-momentcreation"></i>\n<span class="feature-copy" translate="moment_creation_education"></span>\n</div>\n</div>-->\n\n')}]),angular.module("angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html",'<div class="selfies-overlay" ng-if="selfies.selfieReady || selfies.attempted" ng-click="nextSelfie();">\n<div class="selfies-unavailable" ng-if="::selfies.attempted">\n<div>\n<h4 ng-bind-html="::selfiesUnavailableTxt"></h4>\n<button class="btn btn-confirm" ng-click="selfies.attempted = false" translate="_OK"></button>\n</div>\n<div class="selfies-unavailable-backdrop" ng-style="::{\'background\': \'url(\'+config.settings.ServerCDNBaseUrl + \'/angularjsapp/src/assets/images/ui_random/selfie_placeholder.gif) no-repeat\', \'background-size\': \'cover\'}"></div>\n</div>\n<div class="selfies-unavailable" ng-if="selfies.emptyQueue">\n<div>\n<h4 translate="selfies_no_queue"></h4>\n<button class="btn btn-confirm" translate="_OK"></button>\n</div>\n</div>\n<div class="display-name" ng-click="openProfile($event)" ng-if="!selfies.attempted && !selfies.emptyQueue">\n<span class="short-text">{{selfies.currentSelfie.name}}</span>\n</div>\n<div ng-if="session.user.userId == swf.broadcast.userId && !selfies.attempted && !selfies.emptyQueue">\n<button class="btn btn-transparent" ng-click="closeSelfies()">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html",'<div class="modal-body">\n<h1>HELLO</h1>\n<span ng-bind-html="::message"></span>\n</div>\n<div class="modal-footer">\n<button class="confirm btn btn-primary" type="button" ng-click="$dismiss()" translate="_OK"></button>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/vip-modal/welcome-modal.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/vip-modal/welcome-modal.tpl.html",'<div class="modal-body">\n<!-- mvip stands for "modal vip" -->\n<div class="mvip-heading">\n<img class="mvip-heading-shield" ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/heading-shield.png" />\n<img class="mvip-heading-close" ng-click="vm.closeModal();" ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/close.png" />\n</div>\n<div class="mvip-body">\n<div class="mvip-title" translate="{{ vm.message==\'welcomeBack\' ? \'vip_welcome_back\' : \'vip_welcome_title\' }}">\n</div>\n<div class="mvip-text" translate="vip_welcome_subtitle">\n</div>\n<div class="mvip-points">\n<div class="mvip-li">\n<div class="mvip-li-icon"><img ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/bar.png" /></div>\n<div class="mvip-li-text" translate="vip_welcome_1"></div>\n</div>\n<div class="mvip-li">\n<div class="mvip-li-icon"><img ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/coin.png" /></div>\n<div class="mvip-li-text" translate="vip_welcome_2"></div>\n</div>\n<div class="mvip-li">\n<div class="mvip-li-icon"><img ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/red-crown.png" /></div>\n<div class="mvip-li-text" translate="vip_welcome_3"></div>\n</div>\n<div class="mvip-li">\n<div class="mvip-li-icon"><img ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/vip/welcome/green-star.png" /></div>\n<div class="mvip-li-text" translate="vip_welcome_4"></div>\n</div>\n</div>\n<div class="mvip-text" translate="vip_welcome_plus">\n</div>\n<form class="mvip-buttons" name="vipEmail" ng-submit="vm.submitEmail(vipEmail)" novalidate>\n<input  class="mvip-button mvip-input form-control"\nplaceholder="Your email address"\nname="email"\ntype="email"\nng-validate\nrequired\nng-model="vm.session.user.email"\nng-pattern="emailRegex"\ntooltip="Please enter valid email"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error"\nvip-validate />\n<button class="mvip-button mvip-submit" type="submit" {{ vm.submitting ? \'disabled\' : \'\' }} translate="_continue"></div>\n</form>\n</div>\n</div>\n')}]),angular.module("angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html",'<div ng-attr-style="width:425px;background:url(\'{{base}}/images/back_pop_youtube.jpg\') no-repeat;height:210px;text-align:center;border:0px;">\n\n<!-- header //-->\n<div style="height:30px;"></div>\n<!-- end header //-->\n\n<div style="height:55px;">\n</div>\n\n<div ng-if="channel" class="g-ytsubscribe" data-channel="{{channel}}" data-layout="full" data-count="default" data-onytevent="onYtEvent"></div>\n<div ng-if="channelid" class="g-ytsubscribe" data-channelid="{{channelid}}" data-layout="full" data-count="default" data-onytevent="onYtEvent"></div>\n\n<div style="height:30px;">\n</div>\n\n</div>\n<a id="fancybox-close" ng-click="$dismiss()"></a>\n')}]),angular.module("angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/A.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/A.tpl.html",'\n<div class="container" ng-controller="partnerCtrl as vm">\n\n<div class="notification" ng-class="{active: $root.notificationActive, fixed: $root.notificationFixed}">\n<alert type="{{$root.notificationType}}" ng-bind-html="$root.notificationMessage"></alert>\n<button class="close" ng-click="closeNotification()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n<div id="partnersEarnings" class="partnersContent">\n\n<div class="userearnings">\n<div class="userearningsowenothumb">\n<div class="userearningstitle" translate="earnings_title"></div>\n<div class="userearningsowenumnothumb">${{vm.session.user.vault.dollars | number:0}}</div>\n<div class="earningsfrom" translate="partner_earnings_from"> </div>\n<div>\n</div>\n</div>\n</div>\n\n<div class="earningsrows">\n<div class="earningsrow">\n<div class="earningsstattitle">{{ \'earnings_lastpayment\' | translate}} {{( vm.session.user.lastPaymentDate ? \': \'+vm.session.user.lastPaymentDate : \'\' )}}</div>\n<div class="earningsstat">{{( vm.session.user.lastPaymentAmount ? \'$\'+vm.session.user.lastPaymentAmount : \'N/A\' )}}</div>\n</div>\n<div class="earningsrow" ng-if="vm.session.user.vault.subscribers!=undefined">\n<div class="earningsstattitle" translate="earnings_subscribers"></div>\n<div class="earningsstat">{{vm.session.user.vault.subscribers | number:0}}</div>\n</div>\n<div class="earningsrow" ng-if="vm.session.user.vault.subscriptionCycleEarnings!=undefined">\n<div class="earningsstattitle" translate="earnings_sub"></div>\n<div class="earningsstat">${{vm.session.user.vault.subscriptionCycleEarnings | number:0}}</div>\n</div>\n<div class="earningsrow">\n<div class="earningsstattitle" translate="earnings_top"></div>\n<div class="earningsstat">${{vm.session.user.vault.maxEarnings | number:0}}</div>\n</div>\n<div class="earningsrow">\n<div class="earningsstattitle" translate="earnings_lifetime"></div>\n<div class="earningsstat">${{vm.session.user.vault.lifeTimeEarnings | number:0}}</div>\n</div>\n</div>\n\n<div class="bottom">\n<p class="faq-link"><a ng-href=\'/partners/faq\' prevent-default ng-click="vm.goToFaq();" translate="earnings_getmore"></a></p>\n\n<!-- subscribable -->\n<div ng-if="vm.session.user.vault.subscriptionCycleEarnings!=undefined">\n<p translate="earnings_sub_estimates"></p>\n<p translate="earnings_sub_details"></p>\n</div>\n<!-- regular -->\n<div ng-if="vm.session.user.vault.subscriptionCycleEarnings==undefined">\n<p translate="earnings_par_estimates"></p>\n</div>\n</div>\n\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/B.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/services/ab/PARTNER_EARNINGS_PAGE/B.tpl.html",'<div class="earnings-wrapper">\n\n<div class="earnings-container" ng-controller="PARTNER_EARNINGS_PAGE as earningsB">\n\n<div class="earnings-banner">\n<h1 class="primary-text">\n<span translate="ee_last_days" translate-values="{count: dayCount}"></span> <span class="light">(</span><span class="light" translate="{{::months.thirtyDaysAgo.month}}"></span> <span class="light" translate="{{::months.thirtyDaysAgo.date}}"></span> <span class="light">-</span> <span class="light" translate="{{::months.thisMonth.month}}"></span> <span class="light" translate="{{::months.thisMonth.date}}"></span><span class="light">,</span> <span class="light" translate="{{::months.thisMonth.year}}"></span><span class="light">)</span>\n</h1>\n</div>\n\n<div class="dummy-page" ng-if="newPartner">\n<img ng-src="{{::config.settings.ServerCDNBaseUrl}}/images/estimated_earnings/empty_state.png" class="background">\n<div class="information">\n<img class="clock" ng-src="{{::config.settings.ServerCDNBaseUrl}}/images/estimated_earnings/clock_refresh.svg">\n<p class="heading" translate="ee_updating"></p>\n<p class="detail" translate="ee_explanation"></p>\n</div>\n</div>\n\n<div ng-if="!newPartner">\n<div ng-if="userOfInterest.userId == session.user.userId && (session.user.mcnTypeId !== \'4\' && session.user.mcnTypeId !== \'3\' && !session.user.isTipaltiPayable)" class="payment-settings-banner">\n<h2 class="primary-text" translate="ee_update_settings"></h2>\n<p translate="ee_update_copy"></p>\n<a href="/partners/payment-settings" target="_blank" class="btn"> <i class="ynicon ynicon-icon-paymentsettings"></i><span translate="ee_update_settings_btn"></span></a>\n</div>\n<div class="left-container">\n\n\n<div ng-if="::earningsMetaData.stats.length == undefined" class="stats-container">\n\n<div class="stat earnings">\n<i class="ynicon ynicon-icon-earnings"></i>\n<div class="stat-wrapper earnings">\n<h4 class="pay-amount">{{::earningsMetaData.stats.last_30_earnings}}</h4>\n<p translate="ee_est_earnings" translate-values="{count: dayCount}"></p>\n<p ng-if="earningsMetaData.stats.all_subscriptions && earningsMetaData.stats.all_subscriptions !== \'0\'">(<span translate="ee_including_sub" translate-values="{count: earningsMetaData.stats.all_subscriptions, earnings: earningsMetaData.stats.total_subscription_earnings}"></span>)</p>\n</div>\n</div>\n\n<div ng-if="earningsMetaData.stats.is_subscribable && earningsMetaData.stats.last_30_new_subscriptions > 0" class="stat subscribable">\n<div class="badge-wrapper">\n<img ng-src="{{::config.settings.BadgeBaseUrl}}/{{userOfInterest.userId}}/1/badge@2x.png">\n</div>\n<div class="stat-wrapper subs">\n<h4>{{::earningsMetaData.stats.last_30_new_subscriptions | number}}</h4>\n<p translate="ee_new_subs" translate-values="{count: dayCount}" ng-if="earningsMetaData.stats.last_30_new_subscriptions > 1"></p>\n<p translate="ee_new_subs_singular" translate-values="{count: dayCount}" ng-if="earningsMetaData.stats.last_30_new_subscriptions === 1"></p>\n</div>\n</div>\n\n\n<div ng-if="earningsMetaData.stats.new_fans > 0" class="stat">\n<i class="ynicon ynicon-user"></i>\n<div class="stat-wrapper fans">\n<h4>{{::earningsMetaData.stats.new_fans | number}}</h4>\n<p translate="ee_new_fans" translate-values="{count: dayCount}" ng-if="earningsMetaData.stats.new_fans > 1"></p>\n<p translate="ee_new_fans_singular" translate-values="{count: dayCount}" ng-if="earningsMetaData.stats.new_fans == 1"></p>\n</div>\n</div>\n\n\n<div ng-if="!earningsMetaData.stats.is_subscribable || earningsMetaData.stats.last_30_new_subscriptions === 0"class="stat">\n<i class="ynicon\nynicon-viewers"></i>\n<div class="stat-wrapper views">\n<h4>{{::earningsMetaData.stats.total_views | number}}</h4>\n<p translate="_views"></p>\n</div>\n</div>\n\n</div>\n\n<div ng-if="earningsMetaData.payments.length == undefined" class="payment-summary">\n<div class="title">\n<h3 translate="ee_monthly_summary"></h3>\n</div>\n\n<div ng-if="::earningsMetaData.payments.belowThreshold" class="payout-progress">\n<p class="eligibility light" translate="ee_eligibility" translate-values="{value: earningsMetaData.payments.tilPayout}"> </p>\n<div class="level-bar-ee">\n<div class="total-progress pull-left" ng-style="{\'width\': earningsMetaData.payments.progress+\'%\'}"></div>\n<div class="last-progress pull-left" ng-style="{\'width\': 100 - earningsMetaData.payments.progress+\'%\'}"></div>\n<div class="endpoints">\n<div class="min-dollar">$0</div>\n<div class="max-dollar">{{earningsMetaData.payments.threshold}}</div>\n</div>\n\n</div>\n</div>\n\n<div class="month">\n<div class="left">\n<p> <span translate="{{::months.thisMonth.month}}"></span> 1 - <span translate="{{::months.thisMonth.month}}"></span> <span translate="{{::months.thisMonth.date}}"></span> </p>\n<p class="light">(<span translate="ee_est_as_of"></span>)</p>\n</div>\n<p class="total"><strong> {{::earningsMetaData.payments.current_month}}</strong></p>\n</div>\n\n<div class="month last">\n<div class="left">\n<p><span translate="{{::months.lastMonth.month}}"></span> 1 - <span translate="{{::months.lastMonth.month}}"></span> <span translate="{{::months.lastMonth.date}}"></span></p>\n\n</div>\n<p class="total"><strong> {{::earningsMetaData.payments.last_month_payment}}</strong></p>\n</div>\n\n<div ng-if="earningsMetaData.payments.last_month_paymentDate" class="paid">\n<p> <span translate="ee_last_payment"></span>: {{::earningsMetaData.payments.last_month_paymentDate}}</p>\n\n<!-- need to split up last months payment date when received from backend-->\n</div>\n</div>\n\n<div ng-if="topSpenders.length > 0" class="top-spenders">\n<div class="title">\n<h3 translate="ee_top_spenders" translate-values="{count: dayCount}"></h3>\n</div>\n<div class="spenders" infinite-scroll="getSpenders()">\n<div ng-repeat="spender in topSpenders track by $index" class="spender">\n\n<div ng-if="activeUserId != spender.userId" class="info">\n<div class="left">\n<div class="circle-thumb clickable pull-left" ng-style="::{ background: \'url(\' + thumb + spender.userId + \'), url(noThumb) no-repeat\', \'background-size\': \'cover\' }" ng-click="openBroadcasterProfile(spender.userId)"></div>\n<div class="left-detail-wrapper">\n<div class="top-line short-text">\n<p class="username short-text"> {{::spender.profile}}</p>\n<user-badge class="user-badge" role="{{::spender.role}}" level="{{::spender.level}}"></user-badge>\n</div>\n<p class="rank">#{{::topSpenders.indexOf(spender) + 1}}</p>\n<i class="ynbar ynicon ynicon-icon-bar"></i>\n\n<img ng-if="spender.isSubscriber" class="subscriber-badge" ng-src="{{::config.settings.BadgeBaseUrl}}/{{::userOfInterest.userId}}/1/badge@2x.png">\n\n</div>\n</div>\n<div ng-mouseenter="showAction(spender.userId)" ng-mouseleave="showAction()" class="right">\n<div ng-if="spender.daysSinceLastPost !== -1 && sentTo.indexOf(spender.userId) == -1 && optionsId !== spender.userId" class="messaged">\n<p class="when" translate="ee_you_messaged"></p>\n<p ng-if="spender.daysSinceLastPost > 1" class="when" translate="ee_days_ago" translate-values="{count: {{::spender.daysSinceLastPost}}}"></p>\n<p ng-if="spender.daysSinceLastPost == 1" class="when"> <span translate="ee_days_ago_singular"></span></p>\n<p ng-if="spender.daysSinceLastPost < 1 && spender.daysSinceLastPost > -1" class="when" translate="ee_today"></p>\n</div>\n<div ng-if="sentTo.indexOf(spender.userId) != -1" class="posted">\n<strong translate="ee_posted"></strong>\n</div>\n<div ng-if="optionsId == spender.userId" class="actions">\n<div ng-click="sendMessage(spender.userId)" class=\'say-thanks\'>\n<p translate="ee_thanks"></p>\n</div>\n<div class="btn-small fan-button" channel="spender" fan-button size="tiny" ></div>\n</div>\n</div>\n</div>\n<!-- end info -->\n\n<div ng-if="activeUserId == spender.userId" class="message-container">\n<div class="header">\n<div class="circle-thumb clickable pull-left"  ng-style="::{ background: \'url(\' + thumb + {{spender.userId}} + \'), url({{noThumb}}) no-repeat\', \'background-size\': \'cover\' }"></div>\n<p class="direction" translate="ee_send"> </p>\n<p class="recipient"><strong>{{::spender.profile}}</strong>!</p>\n</div>\n<div class="comment-box">\n<div class="comment-area">\n\n<div class="editor" id="textarea_" ng-model="comment.html" ng-keydown="submitOnEnter($event, comment)" placeholder="Write something..." autocomplete="off">\n<div class="upload-photo">\n<input class="pull-right" accept="image/jpeg, image/png" name="media" type="file" yn-on-change="showUploadPreview" params="event,postObject" id="file_{{::spender.userId}}" tooltip-trigger="mouseenter" tooltip="this image must be at least 100x100px and not larger than 10MB">\n<i class="ynicon ynicon-camera pull-right"></i>\n</div>\n<textarea ng-model="comment.text" id="textbox_{{::spender.userId}}" placeholder="{{::\'ee_placeholder\' | translate }}" maxlength="215"></textarea>\n<br><br>\n<img ng-if="comment.image" ng-src="{{comment.image}}">\n<button ng-if="comment.image" ng-click="comment.image = null" aria-hidden="true" class="close" type="button"></button>\n</div>\n</div>\n\n<div class="comment-actions">\n<button ng-click="resetComment()" class="btn btn-cancel" translate="_cancel"></button>\n<button ng-click="postComment(spender.userId)" class="btn btn-post" translate="ee_post_to"></button>\n</div>\n\n</div>\n\n</div>\n<!-- end message container -->\n\n</div>\n<!-- end spender container -->\n</div>\n<!-- end spenders container -->\n</div>\n<!-- end top spenders section -->\n</div>\n<!-- end left container -->\n\n<div class="right-container">\n<div class="chart-section">\n<div class="y-top">\n<p>{{::maxEarnings}}</p>\n</div>\n<div class="y-hours top">\n<p ng-if="maxTime.hours">{{::maxTime.time}} <span translate="ee_hrs"></span></p>\n<p ng-if="!maxTime.hours">{{::maxTime.time}} <span translate="ee_min"></span> </p>\n</div>\n<div class="legend">\n<div class="label">\n<div class="color-swatch earnings"></div>\n<p class="title earnings" translate="ee_est"></p>\n</div>\n<div class="label">\n<div class="color-swatch hours"></div>\n<p class="title" translate="ee_time"></p>\n</div>\n</div>\n<div class="another">\n<canvas id="earnings-chart" class="chart chart-bar"\nchart-data="data" chart-labels="labels" chart-series="series" chart-colours="colours" chart-options="options"></canvas>\n</div>\n<div class="tooltip" id="chartjs-tooltip">\n<div class="info">\n<p class="date" id="date">{{tooltip.title}}</p>\n<p ng-if="tooltip.time" class="earnings" id="value-of-broadcast" translate="ee_tooltip_earnings" translate-values="{count: tooltip.earnings}"></p>\n<div class="hours" id="hours">\n<p ng-if="tooltip.time.hours" translate="ee_tooltip_duration_hrs" translate-values="{duration: tooltip.time.duration}"> </p>\n<p ng-if="!tooltip.time.hours" translate="ee_tooltip_duration_min" translate-values="{duration: tooltip.time.duration}"> </p>\n</div>\n</div>\n\n<!-- <button class="loader-btn btn btn-transparent">\n<div class="spinning-container">\n<span class="spinning-loader"></span>\n</div>\n</button> -->\n\n</div>\n<div class="y-bottom">\n<p>$0</p>\n</div>\n<div class="y-hours bottom">\n<p>0 <span translate="ee_hrs"></span></p>\n</div>\n<div class="x-labels">\n\n<div class="left">\n<span class="month" translate="{{::months.thirtyDaysAgo.month}}"> </span> <span>{{months.thirtyDaysAgo.date}}</span>\n</div>\n\n<div class="right">\n<span class="month" translate="{{::months.thisMonth.month}}"></span> <span>{{::months.thisMonth.date}}</span>\n</div>\n</div>\n</div>\n\n<div ng-if="broadcasts.length > 0" class="broadcast-archive">\n<div class="title">\n<h3 translate="ee_recent"></h3>\n</div>\n<div id="broadcast-bucket" class="details-wrapper">\n\n<div ng-repeat="broadcast in broadcasts" class="details" ng-attr-id="{{broadcast.id}}" ng-class="{\'active\': broadcast.id === tooltip.broadcastKey}">\n<div ng-class="{\'active\': broadcast.id === tooltip.broadcastKey}" class="broadcast-header">\n\n<strong> {{::broadcast.aired_timestamp}} </strong> <span translate="_on"></span>  #{{::broadcast.hashtag}}\n</div>\n<div class="video-wrapper">\n<div ng-click="showMedia(broadcast.broadcastid, {source:\'EE\',start:0}, broadcast)"\nclass="broadcast-thumb"\nng-style="::{background: \'url({{broadcast.broadcast_thumbnail}}) no-repeat\', \'background-size\': \'cover\'}">\n<img class="play-button" ng-src="{{::cdn.base}}/images/profile/new/icon_play.png">\n<span class="broadcast-length"></span>\n</div>\n</div>\n<div class="left-section">\n<div class="curved">\n\n\n<p ng-if="broadcast.total_views !== \'0\'"><strong>{{::broadcast.total_views | number}}</strong> <span translate="_views"></span></p>\n\n</div>\n\n<div class="curved">\n<p ng-if="broadcast.total_earnings !== 0"><strong>${{::broadcast.total_earnings}}</strong> <span translate="ee_est_short"> </span></p>\n</div>\n\n<div class="curved">\n<p ng-if="broadcast.gained_subscribers > 0"><strong>{{::broadcast.gained_subscribers | number}}</strong> <span translate="ee_new_subs_count"></span></p>\n</div>\n</div>\n<div class="middle-section">\n<p ng-if="broadcast.likes !== 0"><strong>{{::broadcast.likes | number}}</strong> <span translate="eob_likes"></span> </p>\n<p ng-if="broadcast.chats !== \'0\'"><strong>{{::broadcast.chats | number}}</strong> <span translate="ee_comments"></span> </p>\n<p ng-if="broadcast.premium_gifts !== \'0\'"><strong>{{::broadcast.premium_gifts | number}}</strong> <span translate="premium_gifts"></span></p>\n<p ng-if="broadcast.moments_created !== \'0\'"><strong>{{::broadcast.moments_created | number}}</strong> <span translate="moments_created"></span></p>\n<p ng-if="broadcast.moments_views !== \'0\'"><strong>{{::broadcast.moments_views | number}}</strong> <span translate="moment_views"></span></p>\n</div>\n<div class="right-section">\n<p ng-if="broadcast.gained_fans !== \'0\'"><strong>{{::broadcast.gained_fans | number}}</strong> <span translate="eob_newfans"></span> </p>\n<p ng-if="broadcast.shares !== \'0\'"><strong>{{::broadcast.shares | number}}</strong> <span translate="eob_shares"></span> </p>\n<p ng-if="broadcast.queued !== \'0\'"><strong>{{::broadcast.queued | number}}</strong> <span translate="guest_requests"></span </p>\n<p ng-if="broadcast.selfie_displayed !== \'0\'"><strong>{{::broadcast.selfie_displayed | number}}</strong> <span translate="ee_selfies_on_screen"></span> </p>\n<p ng-if="broadcast.total_minutes_watched !== \'0\'"><strong>{{::broadcast.total_minutes_watched | number}}</strong> <span translate="minutes_watched"></span> </p>\n\n</div>\n</div>\n</div>\n<!-- end details wrapper -->\n</div>\n</div>\n<!-- end right container -->\n<p class="fine-print" translate="ee_fine_print" translate-values="{threshold: earningsMetaData.payments.threshold}"></p>\n</div>\n</div>\n</div>\n');
}]),angular.module("angularjsapp/src/app/states/about/about.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/about/about.tpl.html",'<div ng-if="visible" id="page_home">\n<link rel="stylesheet" ng-href="{{::cdn.base}}/css/landing/flexslider.css">\n<!-- header -->\n<header>\n<div class="content">\n<a class="logo nav-logo pull-left" ng-href="/" ng-click="aboutClick(\'To site\', \'YouNow Logo\')" mobile-hide>\n<img ng-src="{{::cdn.base}}/angularjsapp/src/assets/images/logo/yn_white_logo.svg" alt="Live Stream Video Chat">\n</a>\n<a class="logo" ng-href="/" ng-click="aboutClick(\'To site\', \'YouNow Logo\')" mobile-show>\n<img ng-src="{{::cdn.base}}/angularjsapp/src/assets/images/logo/yn_white_logo.svg" alt="Live Stream Video Chat">\n</a>\n</div>\n</header><!-- / header -->\n\n\n<!-- intro -->\n<section class="intro">\n\n<!-- splashvideo -->\n<video class="intro_video" autoplay loop ng-attr-poster="{{::cdn.base}}/images/about/novideo.jpg" id="video">\n<source ng-src="{{::trustedSrc(cdn.base+\'/landing/video/younow_shade2.webmhd.webm\')}}" type="video/webm">\n<source ng-src="{{::trustedSrc(cdn.base+\'/landing/video/younow_shade2.mp4\')}}" type="video/mp4">\n</video>\n<div class="intro_photo" ng-style="::{background: \'url({{::cdn.base}}/images/about/novideo2.jpg) center no-repeat\'}"></div>\n\n\n<!-- splashtext -->\n<div class="intro_content">\n<div class="content">\n\n\n<h1 class="intro_text1">Express Yourself</h1>\n<div class="intro_text2">Broadcast to a live audience. Explore and engage with talented content creators. <br>Connect with our vibrant real-time community.</div>\n\n\n<div class="lbuttons">\n<div class="lbuttons_buttons ">\n<div class="x_apps">\n<a class="lbuttons_button" ng-click="aboutClick(\'To App store\', \'Android top\')" href="https://play.google.com/store/apps/details?id=younow.live&referrer=utm_source%3Dyounow.com%26utm_campaign%3Dapp-promo-android%26utm_medium%3Dreferral%26utm_content%3Dweb-about-1-btn1" target="_blank">\n<img ng-src="{{::cdn.base}}/images/about/btn_googleplay.png" width="204" height="55" name="googlebutton" border="0" />\n</a>\n<a class="lbuttons_button" ng-click="aboutClick(\'To App store\', \'iOS top\')" href="https://itunes.apple.com/app/apple-store/id471347413?mt=8&pt=669563&ct=web-about-1-btn1" target="_blank">\n<img ng-src="{{::cdn.base}}/images/about/btn_ios.png" width="204" height="55" name="iosbutton" border="0" />\n</a>\n</div>\n<div class="x_apps x_large">\n<a class="lbuttons_button watchnow" href ng-click="watchLiveNow($event,\'Watch live top\')">\nWatch Live Now\n</a>\n</div>\n</div>\n<div class="lbuttons_subtext">\n</div>\n</div>\n</div>\n</div><!-- / splashtext -->\n\n\n</section><!-- / intro -->\n\n\n<!-- withyounow -->\n<section class="wy">\n\n<div class="content">\n\n<h2 class="wy_heading">\nWith YouNow You Can:\n</h2>\n\n<div class="wy_columns">\n\n<div class="wy_column">\n<div class="image"><img ng-src="{{::cdn.base}}/images/about/with_broadcast.jpg" width="222" height="222" alt="Broadcast Yourself" /></div>\n<div class="title">Broadcast<br>Yourself</div>\n<div class="text">\nTap Go Live and youre on!  Broadcast to a live audience, expand your social media  following, and grow your very own, loyal fanbase.\n</div>\n</div>\n\n<div class="wy_column">\n<div class="image"><img ng-src="{{::cdn.base}}/images/about/with_discover.jpg" width="222" height="222" alt="Discover Great People" /></div>\n<div class="title">Discover Great <br>People</div>\n<div class="text">\nFrom live DJs & musicians to YouTubers & Viners, discover talented content creators  and promote your favorites to the top!\n</div>\n</div>\n\n<div class="wy_column">\n<div class="image"><img ng-src="{{::cdn.base}}/images/about/with_power.jpg" width="222" height="222" alt="Uncover the Power of You" /></div>\n<div class="title">Uncover the <br>Power of You</div>\n<div class="text">\nWhether you are in front of the camera or behind it, join a friendly community of people who love spending time together, and make your mark!\n</div>\n</div>\n\n</div>\n\n</div>\n\n</section><!-- / withyounow -->\n\n\n<!-- promovideo -->\n<section class="pv" ng-style="::{\'background-image\': \'url({{::cdn.base}}/landing/novideo_promo_retina.jpg) no-repeat\'}">\n<video class="pv_video" id="pv_video" ng-cloak ng-attr-poster="{{::cdn.base + \'/landing/novideo_promo_retina.jpg\'}}" ng-click="aboutClick(\'Watch video\', \'Pause\')"\nonclick="\ndocument.getElementById(\'pv_video\').pause();\ndocument.getElementById(\'pv_play\').style.display=\'block\';\n">\n<source ng-src="{{::cdn.base + \'/landing/video/younow_promo.mp4\' }}" type="video/mp4">\nSorry, your browser does not support HTML5 video.\n</video>\n<div class="pv_play"\nid="pv_play"\nng-style="::{\'background\': \'url({{::cdn.base}}/landing/btn_play_about.png) no-repeat\'}"\nng-click="aboutClick(\'Watch video\', \'Play\')"\nonclick=" document.getElementById(\'pv_video\').play(); document.getElementById(\'pv_play\').style.display=\'none\';">\n</div>\n</section><!-- / promovideo -->\n\n<!-- community reviews -->\n<section class="cr" ng-style="::{background: \'#f4f8ef url({{::cdn.base}}/images/about/back_quote.png) center no-repeat\'}">\n\n<div class="content">\n\n<h2 class="cr_heading">What our community is saying...</h2>\n\n<div class="cr_reviews">\n\n<div class="cr_review">\nOnce you start using it, you can\'t stop. You meet so many cool  people from all over the world. So many diverse talents: singers,  rappers, artists and performers of every type.\n</div>\n<div class="cr_signature">\n<img ng-src="{{::cdn.base}}/images/about/thumb_rev1.png" width="40" height="40" />\n<span>Gavin, London, UK</span>\n</div>\n\n<div class="cr_review">\nI absolutely love this app! The people on here are so friendly. If you\'re in a bad mood, just get on YouNow - it always makes me smile.\n</div>\n<div class="cr_signature">\n<img ng-src="{{::cdn.base}}/images/about/thumb_rev2.png" width="40" height="40">\n<span>Cierra, Little Rock, AR</span>\n</div>\n\n</div>\n\n</div>\n\n</section><!-- / reviews -->\n`\n\n<!-- getapp -->\n<section class="getapp" >\n\n<div class="content" >\n\n<h2 class="getapp_heading">Get the YouNow App!</h2>\n\n<img class="getapp_image" ng-src="{{::cdn.base}}/images/about/gettheapp3.jpg" width="880" height="426" alt="Get the YouNow App for Android and iPhone" />\n\n<!-- buttons - copied from above -->\n<div class="lbuttons">\n<div class="lbuttons_buttons" style="padding:25px 0 0 0;">\n<div class="x_apps x_dark">\n<a class="lbuttons_button" ng-click="aboutClick(\'To App store\', \'Android bottom\')" href="https://play.google.com/store/apps/details?id=younow.live&referrer=utm_source%3Dyounow.com%26utm_campaign%3Dapp-promo-android%26utm_medium%3Dreferral%26utm_content%3Dweb-about-1-btn2" target="_blank">\n<img ng-src="{{::cdn.base}}/images/about/btn_googleplay.png" width="204" height="55" name="googlebutton" border="0" />\n</a>\n<a class="lbuttons_button" ng-click="aboutClick(\'To App store\', \'iOS bottom\')" href="https://itunes.apple.com/app/apple-store/id471347413?mt=8&pt=669563&ct=web-about-1-btn2" target="_blank">\n<img ng-src="{{::cdn.base}}/images/about/btn_ios.png" width="204" height="55" name="iosbutton" border="0" />\n</a>\n</div>\n</div>\n</div>\n\n\n</div>\n\n</section><!-- / getapp -->\n\n\n<!-- watchnow -->\n<section class="watchnow">\n\n<div class="content" >\n\n<h2 class="watchnow_heading">Want to see whats live now?</h2>\n\n<!-- buttons - copied from above -->\n\n<!-- logged IN -->\n<div class="lbuttons">\n<div class="lbuttons_buttons" style="padding:20px 0 0 0;">\n<div class="x_apps">\n<a class="lbuttons_button watchnow" href="" ng-click="watchLiveNow($event,\'Enter site bottom\')">\nEnter Site\n</a>\n</div>\n</div>\n</div>\n</div>\n\n</section><!-- / watchnow -->\n\n\n<!-- about -->\n<section class="about" >\n\n<div class="content" >\n\n<a name="about"></a>\n<h2 class="about_heading">About YouNow</h2>\n\n<div class="maincontent">\n<p>We believe in the unlimited potential of human creativity. In fact, its why we come to work every day - to create a powerful platform where anyone can broadcast and express themselves in front of a vast live audience.</p>\n<p>In a moment when social media and TV are converging, were proud to provide a product that fuses the experience of broadcasting, gaming, performing and social networking, giving direct power to the people and enabling them to discover and create new kinds of interactive content in real-time.</p>\n<p>\nLong at the forefront of user-generated video, were a small and experienced team working from a sunny loft in Midtown Manhattan. And were backed by\n<a href="http://techcrunch.com/2014/02/22/meet-oren-zeev-silicon-valleys-builder-investor/" ng-click="aboutClick(\'About link\', \'Oren\')" target="_blank">Oren Zeev</a>, and VCs\n<a href="http://venrock.com" ng-click="aboutClick(\'About link\', \'Venrock\')" target="_blank">Venrock</a>,\n<a href="http://usv.com" ng-click="aboutClick(\'About link\', \'USV\')" target="_blank">Union Square Ventures</a>, and\n<a href="http://comcastventures.com" ng-click="aboutClick(\'About link\', \'USV\')" target="_blank">Comcast Ventures</a>.\n</p>\n<p>Want to learn more? Check out our <a href="/press">Press page</a> or contact <a href="mailto:press@younow.com">press@younow.com</a> with any inquiries.</p>\n</div>\n\n</div>\n\n\n</section><!-- / about -->\n\n\n<div data-footer></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/bigsister/bigsister.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/bigsister/bigsister.tpl.html",'<div data-header></div>\n<div class="bigsister {{vars.size}}">\n<a class="queue-item thumb clickable"\nng-repeat="broadcast in broadcasts"\nhref="broadcastid/{{::broadcast.broadcastId}}">\n<img src="{{::thumb(broadcast.broadcastId,\'BROADCAST_THUMB_DYNAMIC\')}}"\nfallback-src="{{::thumb(broadcast.broadcastId,\'BROADCAST_THUMB\')}}">\n</a>\n</div>\n')}]),angular.module("angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html",'<div data-header></div>\n<div id="gettheapp">\n\n<div class="content" ng-include="\'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html\'">\n</div>\n\n<style ng-if="vm.device">\n#gettheapp .inner-container .download-image { background-image:url(\'/angularjsapp/src/assets/images/home/home_{{vm.device}}_2x.jpg\'); }\n</style>\n\n</div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n')}]),angular.module("angularjsapp/src/app/states/home/home.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/home/home.tpl.html",'<div ng-if="vm.renderPage" class="home-container" scrolled-class="440">\n\n<div id="old_navbar" data-header></div>\n\n<section class="homeSection top-container">\n\n<div class="search-top">\n<div class="gradient-accent" ng-style="{\'width\': gradientProgress + \'%\', \'transition\': \'width \'+gradientProgress/150+\'s linear\'}"></div>\n<div class="container">\n<a href ui-sref="main.channel.detail">\n<img class="logo-image  pull-left" ng-src="{{::cdn.base}}/angularjsapp/src/assets/images/logo/yn_white_logo.svg" alt="Live Stream Video Chat">\n</a>\n<div class="search-cta pull-right">\n<a href="#" prevent-default ng-click="vm.openLoginModal(\'LOGIN\')" translate="header_login"></a>\n<button class="btn btn-outline" ng-click="vm.openLoginModal(\'SIGNUP\')" translate="header_signup"></button>\n<button class="btn btn-primary" ng-click="vm.getTheApp()" translate="header_get_the_app"></button>\n</div>\n<yn-search-bar></yn-search-bar>\n</div>\n</div>\n<div class="home-video-container">\n<video class="home-video" autoplay="" loop="" ng-attr-poster="{{::vm.baseCDN +\'/images/about/novideo.jpg\'}}" id="homeVideo">\n<source ng-src="{{::vm.baseCDN + \'/landing/video/younow_shade2.webmhd.webm\'}}" type="video/webm">\n<source ng-src="{{::vm.baseCDN + \'/landing/video/younow_shade2.mp4\'}}" type="video/mp4">\n</video>\n</div>\n<h1 class="homeTitle" translate="home_tagline"></h1>\n<h4 class="homeSubtitle" translate="home_tagline_subtext"></h4>\n\n<div class="homeButtons">\n\n<div class="btn-group-vertical">\n<div class="btn-group">\n<button class="btn btn-twitter btn-billboard" ng-disabled="loggingIn.twitter" ng-click="login(\'twitter\')">\n<i class="ynicon ynicon-social-tw"></i>\n<div class="smicon-divider"></div>\n<span ng-if="!loggingIn.twitter" class="transline"><span translate="loginmodal_signinwith"></span> <span>Twitter</span></span>\n<div ng-if="loggingIn.twitter" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<button class="btn btn-facebook btn-billboard" ng-disabled="loggingIn.facebook" ng-click="login(\'facebook\')">\n<i class="ynicon ynicon-social-fb"></i>\n<div class="smicon-divider"></div>\n<span ng-if="!loggingIn.facebook" class="transline"><span translate="loginmodal_signinwith"></span> <span>Facebook</span></span>\n<div ng-if="loggingIn.facebook" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<button class="btn btn-google btn-billboard" ng-disabled="loggingIn.google" ng-click="login(\'google\')">\n<i class="ynicon ynicon-social-gp"></i>\n<div class="smicon-divider"></div>\n<span ng-if="!loggingIn.google" class="transline"><span translate="loginmodal_signinwith"></span> <span>Google</span></span>\n<div ng-if="loggingIn.google" class="loader-light"></div>\n</button>\n</div>\n</div>\n\n<div class="btn-groups moreOptions">\n<div class="btn-group">\n<button class="btn btn-instagram btn-billboard" ng-if="moreOptions" ng-disabled="loggingIn.instagram" ng-click="login(\'instagram\')">\n<i class="ynicon ynicon-social-insta"></i>\n<div class="smicon-divider"></div>\n<span ng-if="!loggingIn.instagram" class="transline"><span translate="loginmodal_signinwith"></span> <span>Instagram</span></span>\n<div ng-if="loggingIn.instagram" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<div ng-if="!moreOptions" ng-click="showMoreOptions()" class="moreOptionsClick" translate="homepage_other_option"></div>\n</div>\n</div>\n\n</div>\n\n<div class="topTermsLine" translate="homepage_by_terms" translate-values="{a_open:\'<a href=\'/policy/en/terms\' target=\'_blank\'>\',a_close:\'</a>\'}">\n</div>\n\n</section>\n\n<section class="homeSection">\n\n<div class="trending_things">\n<div class="trending_topics">\n<h2 class="trending_title" translate="topics_trending"></h2>\n<div class="tags_items">\n<a ng-repeat="tag in ::vm.liveTopics"\nclass="tags_tag"\nng-href="/explore/{{::tag.tagLink}}" prevent-default\nng-click="vm.stateChange(\'main.explore\', { \'tag\': tag.tag })"\n>{{::tag.tag}}</a>\n</div>\n<a class="trending_more" ng-href="/explore/" prevent-default ng-click="vm.stateChange(\'main.explore\', undefined, true)" prevent-default translate="topics_more"></a>\n</div>\n\n<div class="trending_broadcasters">\n<h2 class="trending_title" translate="homepage_trending_now"></h2>\n<div class="trending_items clearfix">\n\n<div class="trending_item" ng-repeat="(k,bcst) in ::vm.dashboard.users | orderBy:\'-userlevel\'" ng-if="k<9">\n<div class="trending_square" ng-if="bcst.tags">\n<div class="trending_content">\n\n<a class="trending_image" ng-href="/{{::bcst.profile}}" prevent-default ng-click="vm.stateChange(\'main.channel.detail\', { \'profileUrlString\': bcst.profile })">\n<div class="thumb-image" ng-style="::{\'background-image\':\'url(\'+vm.nothumb+\')\'}">\n<div class="thumb-image-wide">\n<img class="thumb-image-img" ng-src="{{bcst.thumb}}" ng-alt="Watch {{::bcst.profile}}\'s broadcast" />\n</div>\n<div class="thumb_viewers">\n<i class="ynicon ynicon-viewers"></i>\n{{::bcst.viewers}}\n</div>\n</div>\n</a>\n<div class="trending_info transline-mid">\n<a\nclass="trending_thumb thumb circle-thumb"\nng-style="{ background: \'url(\' + vm.thumb + bcst.userId + \'), url(\' + vm.nothumb + \') no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{::bcst.profile}}" prevent-default\nng-click="vm.stateChange(\'main.channel.detail\', { \'profileUrlString\': bcst.profile })">\n</a>\n<div class="trending_description clearfix">\n<span class="trend_right" ng-if="bcst.totalFans">\n<i class="ynicon ynicon-user"></i>{{::bcst.totalFans}}\n</span>\n<a class="trend_left short-text" ng-href="/{{::bcst.profile}}" prevent-default ng-click="vm.stateChange(\'main.channel.detail\', { \'profileUrlString\': bcst.profile })" prevent-default>\n{{::bcst.profile}}\n</a>\n<a class="trend_bottom short-text" ng-href="/explore/{{::bcst.tags[0]}}" prevent-default ng-click="vm.stateChange(\'main.explore\', { \'tag\': bcst.tags[0] })">\n#{{::bcst.tags[0]}}\n</a>\n</div>\n</div>\n\n</div>\n</div>\n\n<div class="trending_square ad_square" ng-if="!bcst.tags" ng-click="vm.openLoginModal(\'EXPERIMENT\')">\n<div class="trending_content">\n\n<div class="title" translate="homepage_see_friends">\n</div>\n<div class="button" translate="homepage_join">\n</div>\n\n</div>\n</div>\n\n</div>\n\n</div>\n<div class="more-link-container">\n<a class="more-link" href="/explore/" prevent-default ng-click="vm.stateChange(\'main.explore\')" prevent-default><span translate="homepage_view_more"></span> &raquo;</a>\n</div>\n</div>\n</div>\n\n</section>\n\n<section class="homeSection experiment_connect">\n\n<div class="experiment_connect_title" translate="home_tagline_subtext">\n</div>\n\n<div class="homeButtons">\n\n<div class="btn-groups">\n<div class="btn-group">\n<button class="btn btn-facebook" ng-disabled="loggingIn.facebook" ng-click="login(\'facebook\')">\n<i class="ynicon ynicon-social-fb"></i>\n<span ng-if="!loggingIn.facebook" class="transline"><span translate="loginmodal_signinwith"></span> <span>Facebook</span></span>\n<div ng-if="loggingIn.facebook" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<button class="btn btn-twitter" ng-disabled="loggingIn.twitter" ng-click="login(\'twitter\')">\n<i class="ynicon ynicon-social-tw"></i>\n<span ng-if="!loggingIn.twitter" class="transline"><span translate="loginmodal_signinwith"></span> <span>Twitter</span></span>\n<div ng-if="loggingIn.twitter" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<button class="btn btn-google" ng-disabled="loggingIn.google" ng-click="login(\'google\')">\n<i class="ynicon ynicon-social-gp"></i>\n<span ng-if="!loggingIn.google" class="transline"><span translate="loginmodal_signinwith"></span> <span>Google</span></span>\n<div ng-if="loggingIn.google" class="loader-light"></div>\n</button>\n</div>\n</div>\n\n<div class="btn-groups moreOptions">\n<div class="btn-group">\n<button class="btn btn-instagram" ng-if="moreOptions" ng-disabled="loggingIn.instagram" ng-click="login(\'instagram\')">\n<i class="ynicon ynicon-social-insta"></i>\n<span ng-if="!loggingIn.instagram" class="transline"><span translate="loginmodal_signinwith"></span> <span>Instagram</span></span>\n<div ng-if="loggingIn.instagram" class="loader-light"></div>\n</button>\n</div>\n<div class="btn-group">\n<div ng-if="!moreOptions" ng-click="showMoreOptions()" class="moreOptionsClick" translate="homepage_other_option"></div>\n</div>\n</div>\n\n</div>\n\n<div class="experiment_terms" translate="homepage_by_terms" translate-values="{a_open:\'<a href=\'/policy/en/terms\' target=\'_blank\'>\',a_close:\'</a>\'}">\n</div>\n\n</section>\n\n<section class="homeSection experiment_app">\n<span class="the_text">\n<strong>DarkMode 2.0</strong><br />\nDeveloped by SOULDR!NKER<br />\nBrought to you by <strong>ASHTAR</strong>\n</span>\n</section>\n\n<section class="homeSection mobile-container">\n<div ng-include="\'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html\'"></div>\n</section>\n\n<div class="homeSection darkFooter" data-footer></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/info/info.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/info/info.tpl.html",'<div data-header></div>\n<div id="docs" class="info-page" ng-class="{\'ready\': ready, \'rtl\': rtl}">\n<div id="doc-header">{{docTitle}}</div>\n<div id="doc-sidebar">\n<div ng-repeat="section in sections" class="doc-section" ng-click="scrollTo(section.offsetTop)">{{section.innerText}}</div>\n</div>\n<div id="doc-content" ng-bind-html="docContent"></div>\n</div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n')}]),angular.module("angularjsapp/src/app/states/jobs/jobs.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/jobs/jobs.tpl.html",'<div data-header></div>\n<div id="docs" class="jobs-page">\n<a id="doc-header" href="/jobs">YouNow Careers</a>\n<div id="doc-content">\n<div id="grnhse_app"></div>\n</div>\n</div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n\n')}]),angular.module("angularjsapp/src/app/states/lockout/lockout.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/lockout/lockout.tpl.html",'<div class="lockout">\n<img src="/angularjsapp/src/assets/images/lockout/younow_agegate_2x.png">\n<div class="lockout-title" translate="agegate_lockout_title"></div>\n<div class="lockout-message" translate="agegate_lockout_message"></div>\n</div>\n')}]),angular.module("angularjsapp/src/app/states/main/channel/async/async.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/async/async.tpl.html",'<div class="main-content main-async crazyD crazyX" ng-class="session.user.userId===broadcasterService.channel.userId ? \'owner\' : \'non-owner\'">\n\n<div class="main-content-left">\n<div class="user-summary ">\n<div class="user-cover" style="background-image:url({{cdn.channelImage(broadcasterService.broadcaster.userId, \'Cover\', uploadedImageRefresh)}});">\n<div ng-show="broadcasterService.channel.editingProfile" class="upload-photo editing">\n<div class="upload-overlay"></div>\n<input accept="image/jpeg" type="file" upload-profile-image do-upload="doUpload" upload-endpoint="updateCover" upload-name="cover" tooltip-trigger="show" tooltip="This image should be at least 270x580px and smaller than 6MB" tooltip-placement="bottom error">\n<i class="ynicon ynicon-camera"></i>\n</div>\n</div>\n<div class="user-description" itemscope itemtype="http://schema.org/Person">\n<div\nclass="pull-left circle-thumb crop-thumb clickable"\nng-href="/{{broadcasterService.broadcaster.profileUrlString}}" prevent-default\nng-click="showProfileSummary(broadcasterService.broadcaster.userId)">\n<div class="thumb-image" ng-style="::{ \'background\': \'url(\'+cdn.nothumb+\') no-repeat\'}">\n<div class="thumb-image-wide">\n<img itemprop="image" class="thumb-image-img" ng-src="{{cdn.channelImage(broadcasterService.broadcaster.userId, \'Image\', uploadedImageRefresh)}}" alt="{{broadcasterService.broadcaster.profile}}" />\n</div>\n</div>\n<span class="ynbadge" ng-if="broadcasterService.channel.isSubscribable">\n<img ng-src="{{::config.settings.BadgeBaseUrl}}/{{ broadcasterService.broadcaster.userId}}/1/badge@2x.png" />\n</span>\n</div>\n<div ng-show="broadcasterService.channel.editingProfile" class="upload-photo editing">\n<div class="upload-overlay"></div>\n<input accept="image/jpeg" name="image" type="file" upload-profile-image do-upload="doUpload" upload-endpoint="updateThumb" upload-name="image" tooltip-trigger="show" tooltip="This image must be at least 80x80px and smaller than 6MB" tooltip-placement="top error">\n<i class="ynicon ynicon-camera"></i>\n</div>\n<div\nclass="name"\nng-class="{\'overflow\':broadcasterService.channel.subscriptions_show_overflow}"\nprevent-default>\n\n<span class="short-text">\n<span class="crowns-container">\n<span class="user-crowns">\n<span ng-if="broadcasterService.channel.globalSpenderRank==1">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="broadcasterService.channel.globalSpenderRank==2">\n<i class="ynicon ynicon-redcrownicon"></i>\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="broadcasterService.channel.globalSpenderRank==3">\n<i class="ynicon ynicon-redcrownicon"></i>\n</span>\n<span ng-if="!broadcasterService.channel.globalSpenderRank">\n<i class="ynicon ynicon-level"></i>\n</span>\n</span>\n</span>\n<b\nng-href="/{{broadcasterService.broadcaster.profileUrlString}}" prevent-default\nng-click="showProfileSummary(broadcasterService.broadcaster.userId)">\n{{broadcasterService.channel.level}}\n<span itemprop="name">{{broadcasterService.channel.fullName}}</span>\n</b>\n</span>\n<span class="ynbadges" ng-if="broadcasterService.channel.subscriptions">\n<a\nclass="ynbadge"\nng-repeat="(key,sub) in broadcasterService.channel.subscriptions"\nng-click="showProfileSummary(sub.userId)"\nng-href="/{{::sub.userId}}/channel"\nprevent-default>\n<img\nng-src="{{::config.settings.BadgeBaseUrl}}/{{sub.userId}}/{{sub.subscriptionType}}/badge@2x.png"\ntooltip="{{(sub.lastName ? sub.firstName+\' \'+sub.lastName : sub.profileUrlString)}}"\ntooltip-trigger="mouseenter"\ntooltip-placement="top"\ntooltip-append-to-body="true" />\n</a>\n<span class="ynbadge ynbadge-ellipsis" ng-if="broadcasterService.channel.subscriptions_extras && broadcasterService.channel.subscriptions_extras.length>0">\n<i class="ynicon ynicon-icon-ellipsis"></i>\n<div class="dropup">\n<div class="dropdown-menu" role="menu">\n<i class="ynicon ynicon-carrot-dwn"></i>\n<ul class="" only-scroll>\n<li ng-repeat="(k,s) in broadcasterService.channel.subscriptions_extras">\n<a\nclass="ynbadge"\nng-click="showProfileSummary(s.userId)"\nng-href="/{{s.userId}}/channel"\nprevent-default>\n<img\nng-src="{{::config.settings.BadgeBaseUrl}}/{{s.userId}}/{{s.subscriptionType}}/badge@2x.png"\ntooltip="{{(s.lastName ? s.firstName+\' \'+s.lastName : s.profileUrlString)}}"\ntooltip-trigger="mouseenter"\ntooltip-placement="left"\ntooltip-append-to-body="true" />\n</a>\n</li>\n</ul>\n</div>\n</div>\n</span>\n\n</span>\n\n<button class="btn btn-transparent flagging pull-right" ng-if="broadcasterService.channel" ng-click="showProfileSummary(undefined, \'\', undefined, { isFlagging: true })">\n<i class="ynicon ynicon-flag"></i>\n</button>\n</div>\n<div class="profile-actions" track-source="PROFILE">\n<div class="pull-left btn-small" ng-show="session.user.userId!==broadcasterService.channel.userId" fan-button channel="broadcasterService.channel"></div>\n<div class="pull-left btn-small" ng-show="session.user.userId!==broadcasterService.channel.userId" subscribe-button channel="broadcasterService.channel"></div>\n\n<div ng-show="session.user.userId===broadcasterService.channel.userId" class="pull-left editing-options">\n<button ng-if="!broadcasterService.channel.editingProfile" ng-click="editProfile();" class="btn btn-cancel edit-profile" translate="profile_edit_profile"></button>\n<button ng-if="broadcasterService.channel.editingProfile" ng-click="saveDescription();saveEdit();" class="btn btn-confirm" translate="_save"></button>\n<button ng-if="broadcasterService.channel.editingProfile" ng-click="cancelEdit();" class="btn btn-cancel" translate="_cancel"></button>\n</div>\n\n<div class="profile-pill-container pull-right">\n<div class="total-views" ng-if="broadcasterService.channel.totalViews">\n{{broadcasterService.channel.totalViews}} <span translate="_views"></span>\n</div>\n<div class="ep-badge" ng-if="broadcasterService.channel.isEp">\n<span class="tag short-text">\n<i class="ynicon ynicon-level"></i> <span translate="_editors_choice"></span><span ng-if="broadcasterService.channel.epTag.length > 0">: #{{broadcasterService.channel.epTag}}</span>\n</span>\n</div>\n</div>\n</div>\n\n<div class="user-bio-section">\n\n<div ng-if="!broadcasterService.channel.editingProfile" class="user-bio" ng-class="{\'text-muted\': broadcasterService.channel.description.length === 0 || !broadcasterService.channel.description}">\n<span itemprop="description" ng-bind-html="broadcasterService.channel.displayDescription"></span>\n<span ng-if="broadcasterService.channel.altName">\n<span class="bullet"></span>\n<span class="text-muted" itemprop="alternateName" ng-bind="broadcasterService.channel.altName"></span>\n</span>\n</div>\n<textarea ng-model="broadcasterService.channel.description" ng-if="broadcasterService.channel.editingProfile" class="user-bio editing" maxlength="140">{{::(\'profile_describe_yourself\' | translate)}}</textarea>\n</div>\n</div>\n</div>\n<div infinite-scroll="broadcasterService.getItems()" can-load="!broadcasterService.channel.finished[broadcasterService.tab] && !settingUp" threshold="300" pagescroll="true">\n<tabset class="navigation" type="pills" ng-class="{ \'notSubscribable\' : !broadcasterService.channel.isSubscribable }" ng-if="broadcasterService.channel && broadcasterService.asyncTabs">\n<!-- moments -->\n<tab heading="Moments" ng-click="tabClick(\'moments\', {records: 20, createdBefore: 0})" active="broadcasterService.asyncTabs.moments" select="showTab(\'moments\', {records: 20, createdBefore: 0})">\n<div class="moments-tab" ng-if="broadcasterService.asyncTabs.moments">\n<ul class="moments">\n<li ng-repeat="moment in broadcasterService.channel.moments track by $id(moment)">\n<div moment-card delete="deleteMoment(moment)" moment="{{::moment}}" hide-collection="hideCollection(moment)" ordinal-rank="{{::$index}}"></div>\n</li>\n<div class="empty" ng-if="broadcasterService.channel.moments.length === 0">\n<i class="ynicon ynicon-icon_moments"></i>\n<h4 class="primary-text" translate="profile_user_no_moments_yet"></h4>\n<div class="empty-desc" translate="profile_user_no_moments_desc"></div>\n</div>\n</ul>\n</div>\n</tab>\n\n<!-- broadcasts -->\n\n<tab heading="replays" ng-click="tabClick(\'broadcasts\')" active="broadcasterService.asyncTabs.broadcasts" select="showTab(\'broadcasts\')">\n<div class="broadcasts-tab" ng-if="broadcasterService.asyncTabs.broadcasts">\n<div class="broadcasts">\n<div class="broadcasts-container">\n<ul class="broadcasts">\n<li ng-repeat="post in broadcasterService.channel.broadcasts" class="comment">\n<div data-younow-post></div>\n</li>\n</ul>\n<div class="empty" ng-if="broadcasterService.channel.broadcasts.length === 0">\n<i class="ynicon ynicon-bc-golive"></i>\n<h4 class="primary-text" ng-if="broadcasterService.channel.broadcastsCount == 0" translate="profile_no_broadcasters_yet"></h4>\n<h4 class="primary-text" ng-if="broadcasterService.channel.broadcastsCount > 0" translate="profile_user_no_public_broadcasts"></h4>\n</div>\n</div>\n</div>\n</div>\n</tab>\n<!-- discussion comments -->\n<tab heading="{{::(\'profile_discussion\' | translate)}}" id="post-tab" ng-click="tabClick(\'posts\')" active="broadcasterService.asyncTabs.posts" select="showTab(\'posts\')">\n<div class="conversation-tab" ng-if="broadcasterService.asyncTabs.posts">\n<div class="conversation-container">\n<div class="comment-box">\n<div class="comment-area form-control" tooltip-trigger="mouseenter" tooltip-html-unsafe="{{\'profile_tip_mention_your_friends\' | translate }}">\n<div contenteditable mentio\nmentio-typed-term="typedTerm"\nmentio-require-leading-space="true"\nclass="editor"\nid="textarea_"\nng-model="comment.html"\nyn-enter="postComment(comment);"\nplaceholder="{{ \'profile_write_something\' | translate }}">\n</div>\n<mentio-menu\nmentio-for="\'textarea_\'"\nmentio-trigger-char="\'@\'"\nmentio-items="people"\nmentio-template-url="angularjsapp/src/app/components/mention/mention.tpl.html"\nmentio-search="searchPeople(term)"\nmentio-select="insertMention(item)"\n></mentio-menu>\n<div class="upload-photo">\n<input class="pull-right" accept="image/jpeg, image/png" name="media" type="file" yn-on-change="showUploadPreview" params="event,comment" id="file_" tooltip-trigger="show" tooltip="this image must be at least 100x100px and not larger than 10MB">\n<i class="ynicon ynicon-camera pull-right"></i>\n</div>\n<div ng-show="comment.preview" class="upload-preview">\n<button ng-click="removeUpload(comment)" aria-hidden="true" class="close" type="button"></button>\n<img ng-src="{{comment.preview}}" height="100">\n</div>\n</div>\n<div class="comment-actions">\n<button ng-disabled="posting" ng-click="postComment(comment)" class="btn btn-cancel" translate="_post"></button>\n</div>\n</div>\n<ul class="comments">\n<li ng-repeat="post in broadcasterService.channel.posts" class="comment" ng-class="{\'new\':broadcasterService.deeplinkId==post.id}">\n<div data-younow-post></div>\n</li>\n</ul>\n</div>\n</div>\n</tab>\n<!-- total fans -->\n<tab ng-if="broadcasterService.channel.totalFans!=false && broadcasterService.channel.totalFans!=\'0\'" heading="{{ broadcasterService.channel.totalFansFormatted }} {{::(\'_fans\' | translate)}}" ng-click="tabClick(\'fans\')" active="broadcasterService.asyncTabs.fans" select="showTab(\'fans\')">\n<div class="fans-tab" ng-if="broadcasterService.asyncTabs.fans">\n<ul>\n<li ng-repeat="fan in broadcasterService.channel.fans" class="fans-tab-fan">\n<a\nng-href="/{{fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)"\nclass="circle-thumb clickable pull-left"\nng-style="::{\'background\':\'url(\'+cdn.thumb+fan.userId+\'), url(\'+cdn.nothumb+\') no-repeat\', \'background-size\': \'cover\'}">\n</a>\n<div class="pull-left">\n<a\nclass="name clickable short-text"\nng-href="/{{fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)">\n{{fullName(fan)}}\n</a>\n<div class="description short-text">\n{{fan.description}}\n</div>\n</div>\n<div class="fan-button-placeholder pull-right" track-source="PROFILE">\n<div fan-button channel="fan"></div>\n</div>\n</li>\n</ul>\n</div>\n</tab>\n<!-- fan of  -->\n<tab ng-if="broadcasterService.channel.totalFansOf!=false && broadcasterService.channel.totalFansOf!=\'0\'"  heading="{{::(\'profile_fan_of\' | translate)}} {{ broadcasterService.channel.totalFansOfFormatted }}" ng-click="tabClick(\'fansof\')" active="broadcasterService.asyncTabs.fansof" select="showTab(\'fansof\')">\n<div class="fans-of-tab" ng-if="broadcasterService.asyncTabs.fansof">\n<ul>\n<li ng-repeat="fan in broadcasterService.channel.fansof" class="fans-tab-fan">\n<a\nng-href="/{{fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)"\nclass="circle-thumb clickable pull-left"\nng-style="::{\'background\':\'url(\'+cdn.thumb+fan.userId+\'), url(\'+cdn.nothumb+\') no-repeat\', \'background-size\': \'cover\'}">\n</a>\n<div class="pull-left">\n<a\nclass="name clickable short-text"\nng-href="/{{ fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)"\n>\n{{ fullName(fan)}}\n</a>\n<div class="description short-text">\n{{ fan.description}}\n</div>\n</div>\n<div class="fan-button-placeholder pull-right" track-source="PROFILE">\n<div fan-button channel="fan"></div>\n</div>\n</li>\n</ul>\n</div>\n</tab>\n<!-- subscribers -->\n<tab ng-if="broadcasterService.channel.isSubscribable" heading="{{ Api.squashedNumber(broadcasterService.channel.totalSubscribers, 4).toUpperCase() }} {{::(\'_subscribers\' | translate)}}" ng-click="tabClick(\'subscribers\')" active="broadcasterService.asyncTabs.subscribers" select="showTab(\'subscribers\')">\n<div class="fans-tab subscribers-tab" ng-if="broadcasterService.asyncTabs.subscribers">\n<ul>\n<li ng-repeat="fan in broadcasterService.channel.subscribers" class="fans-tab-fan">\n<a\nng-href="/{{ fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)"\nclass="circle-thumb clickable pull-left"\nng-style="{\'background\':\'url(\'+cdn.thumb+fan.userId+\'), url(\'+cdn.nothumb+\') no-repeat\', \'background-size\': \'cover\'}">\n</a>\n<div class="pull-left">\n<a\nclass="name clickable short-text"\nng-href="/{{ fan.profileUrlString}}" prevent-default\nng-click="showProfileSummary(fan.userId)">\n{{ fullName(fan)}}\n</a>\n<div class="description short-text">\n{{ fan.description}}\n</div>\n</div>\n<div class="fan-button-placeholder pull-right" track-source="PROFILE">\n<div fan-button channel="fan"></div>\n</div>\n</li>\n</ul>\n</div>\n</tab>\n</tabset>\n</div>\n</div>\n<div class="main-chat" channel-chat></div>\n<!--<div class="main-content-right">\n\n\n<mini-player ng-if="broadcasterService.broadcaster.broadcastId" broadcast="broadcasterService.broadcaster" show-broadcast="enterLiveChat()"></mini-player>\n\n<div class="mini-player simple-text" ng-if="broadcasterService.channel.preview==\'prompt\' && broadcasterService.broadcaster.userId == session.user.userId">\n<div class="text">\n<div class="title" translate="profile_latest_broadcast"></div>\n<span class="owner" translate="profile_connect_with_audience_broadcast"></span>\n</div>\n<div class="actions">\n<button class="btn btn-primary owner" ng-click="broadcasterService.goLive()" translate="_golive"></button>\n</div>\n</div>\n\n<div class="activity-panel social_links" ng-if="broadcasterService.channel.snLinks">\n<div class="social_links_title primary-text" translate="profile_social_title"></div>\n\n<div class="connect-social-accounts" ng-show="session.user.userId===broadcasterService.channel.userId">\n<p class="connect-body-text" translate="profile_connect_social"></p>\n<a ng-click="openSettings(\'accounts\')" ng-href="/settings#accounts" prevent-default="" href="/settings#accounts">\n<button class="btn-confirm"><i class="ynicon ynicon-settings"></i>Connect</button>\n</a>\n</div>\n\n<div class="social_links_items">\n\n<a class="social_link" ng-repeat="(key,social) in broadcasterService.channel.snKeyWords" ng-href="{{social.url}}" target="_blank" ng-style="{\'background-image\':\'url(\'{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/social_profile/{{::key}}.png\')\'}" ng-if="key!=\'facebook\' && key!=\'google\'">\n<span class="social_title">\n{{social.nickname}} <span class="social_username">{{social.username}}</span>\n</span>\n<span class="social_description">{{social.description}}</span>\n</a>\n\n</div>\n</div>\n\n<div class="activity-panel" ng-if="broadcasterService.channel.biggestFans.length">\n<div class="online-fans-title">\n<span class="primary-text" translate="profile_biggest_fans_last_thirty_days"> </span>\n</div>\n<div class="activity-panel">\n<div class="panel-body">\n<div class="friends-list mini-scroll" only-scroll ng-if="broadcasterService.channel.biggestFans.length > 0">\n<a\nclass="activity"\nng-repeat="friend in broadcasterService.channel.biggestFans | filter:friendfilter | orderBy:\'-bars\'"\nng-href="/{{::friend.profile}}" prevent-default\nng-click="showProfileSummary(friend.userId)">\n<div class="profile-img thumb" ng-style="::{\'background\': \'url(\'+(cdn.thumb+friend.userId)+\'), url(\'+cdn.nothumb+\') no-repeat\'}"></div>\n<div class="status">\n<span class="name short-text">{{::friend.name}}</span>\n<div ng-if="friend.bars" class="bars-text">\n<i class="ynbar ynicon ynicon-icon-bar"></i> {{Api.squashedNumber(friend.bars) }}\n</div>\n\n</div>\n</a>\n</div>\n</div>\n</div>\n</div>\n\n<div class="column-list" ng-if="broadcasterService.channel.moreBroadcasters.length">\n<div class="title  primary-text" translate="profile_more_broadcasters"></div>\n<div class="column-scroll">\n<div ng-repeat="vip in ::broadcasterService.channel.moreBroadcasters" class="list-item">\n<img class="circle-thumb"\nng-src="{{::Api.generateDynamicApi(\'CHANNEL_IMAGE\') + \'/\' + vip.userId + \'/\' + vip.userId + \'.jpg\'}}"\nfallback-src="{{::cdn.nothumb}}"\nng-click="showProfileSummary(vip.userId)" />\n<div class="description short-text clickable" ng-click="showProfileSummary(vip.userId)">{{::vip.name}}</div>\n<div class="fan-button-placeholder" track-source="FANREC_SIDEBAR" modelId="{{broadcasterService.channel.moreBroadcastersModelId}}">\n<div fan-button size="small" channel="vip"></div>\n</div>\n</div>\n</div>\n</div>\n\n\n</div>-->\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/states/main/channel/channel.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/channel.tpl.html",'<div data-ui-view></div>\n<div ng-show="broadcasterService.broadcaster.broadcastId || session.isBroadcasting" ng-if="!broadcasterService.async && swf.eob === undefined" ng-include src="\'angularjsapp/src/app/states/main/channel/live/live.tpl.html\'"></div>\n<div ng-if="broadcasterService.async && $scope.swf.eob === undefined" ng-include src="\'angularjsapp/src/app/states/main/channel/async/async.tpl.html\'"></div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html",'<div class="end-of-broadcast-container">\n\n<!-- HEADER -->\n<div class="eob-header">\n<div class="broadcast-info">\n<a\nclass="thumb thumb-eob circle-thumb pull-left"\nng-style="::{ background: \'url(\' + vm.thumb + vm.session.user.userId + \'), url({{vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{::vm.session.user.profile}}" prevent-default\nng-click="vm.openBroadcasterProfile(vm.session.user.userId)">\n</a>\n<div class="broadcaster-setup-description">\n<div class="short-text" translate="eob_this_broadcast"> - </div>&nbsp;\n<span class="short-text bold">{{::vm.swf.eob.duration}} </span>&nbsp;\n<span class="short-text bold">{{::vm.swf.eob.dropReason}} </span>&nbsp;\n<span class="broadcaster-tags short-text bold" translate="_on"> </span> &nbsp;\n<a\nclass="broadcaster-tags short-text bold link"\nng-repeat="tag in vm.broadcast.broadcaster.tags"\nng-href="/explore/{{tag}}" prevent-default\nng-click="vm.goToTag(tag)">\n#{{tag}}\n</a>\n</div>\n</div>\n<button ng-if="vm.swf.eob !== undefined" class="drop-broadcast btn btn-transparent active clear-eob" ng-click="vm.goToMainState()">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n\n<!-- NON PARTNER STATS-->\n<div ng-if="::(vm.swf.eob.partner!=1 && vm.swf.eob.partner!=2 && vm.swf.eob.partner!=6 && vm.swf.eob.partner!=7)" class="stats-container">\n<div class="your-stats">\n<p translate="eob_your_stats"></p>\n</div>\n<div class="details">\n<div class="detail-container" ng-if="::vm.swf.eob.viewers >= 1">\n<div class="icon">\n<i class="ynicon ynicon-viewers"></i>\n</div>\n<div class="info">\n<div class="stat" >{{::vm.swf.eob.viewers}}</div>\n<div class="title" translate="_views"></div>\n</div>\n</div>\n<div ng-if="::vm.swf.eob.estimatedEarnings !== undefined" class="detail-container earnings">\n<div class="icon">\n<i class="ynicon ynicon-user"></i>\n</div>\n<div class="info">\n<div class="stat">${{::vm.swf.eob.estimatedEarnings}}</div>\n<div class="title" translate="eob_premium_earnings"></div>\n<a href="/partners" target="_blank" translate="eob_apply_partner"> </a>\n</div>\n</div>\n<div ng-if="::vm.swf.eob.numMomentsCreated >= 1" class="detail-container">\n<div class="icon">\n<i class="ynicon ynicon-broadcast"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.numMomentsCreated}}</div>\n<div ng-if="::vm.swf.eob.numMomentsCreated > 1" class="title" translate="eob_moments_created"></div>\n<div class="title" ng-if="::vm.swf.eob.numMomentsCreated === 1" translate="eob_moments_created_singular"></div>\n</div>\n</div>\n<div class="detail-container" ng-if="::vm.swf.eob.fansAdded >= 1">\n<div class="icon">\n<i class="ynicon ynicon-user"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.fansAdded}}</div>\n<div class="title" translate="eob_newfans"></div>\n</div>\n</div>\n<div class="detail-container" ng-if="::vm.swf.eob.likes >= 1">\n<div class="icon">\n<i class="ynicon ynicon-thumb"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.likes}}</div>\n<div class="title" translate="eob_likes"></div>\n</div>\n</div>\n<div class="detail-container">\n<div class="icon">\n<i class="ynicon ynicon-level"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.progress}}%</div>\n<div class="title" translate="eob_progress_to" translate-values="{level:vm.swf.eob.nextLevel}">{{::vm.swf.eob.nextLevel}}</div>\n</div>\n<div class="level-bar">\n<div class="total-progress pull-left" ng-style="::{\'width\': vm.swf.eob.progress+\'%\'}"></div>\n<div class="last-progress pull-left" ng-style="::{\'width\': vm.swf.eob.endLevel+\'%\'}"></div>\n</div>\n</div>\n</div>\n</div>\n\n\n<!-- PARTNER STATS-->\n<div ng-if="::(vm.swf.eob.partner==1 || vm.swf.eob.partner==2 || vm.swf.eob.partner==6 || vm.swf.eob.partner==7)" class="stats-container">\n<div class="your-stats">\n<p translate="eob_your_stats"></p>\n</div>\n<div class="details">\n<div class="detail-container" ng-if="::vm.swf.eob.viewers >= 1">\n<div class="icon">\n<i class="ynicon ynicon-viewers"></i>\n</div>\n<div class="info">\n<div class="stat" >{{::vm.swf.eob.viewers}}</div>\n<div class="title"translate="_views"></div>\n</div>\n</div>\n<div class="detail-container earnings">\n<div class="icon">\n<i class="ynicon ynicon-user"></i>\n</div>\n<div class="info">\n<div class="stat">${{::vm.swf.eob.estimatedEarnings}}</div>\n<div class="title" translate="eob_premium_earnings"></div>\n\n<div ng-if="vm.swf.eob.userId == vm.session.user.userId">\n<!-- apply to be a partner -->\n<a class="short-text" ng-if="::vm.swf.eob.partner==2" href="/partners" target="_blank" translate="eob_apply_partner"></a>\n\n<!-- accept update -->\n<a class="short-text" ng-if="::(vm.swf.eob.partner==6 || vm.swf.eob.partner==7)" href="/partners" target="_blank" translate="eob_must_accept"></a>\n\n<!-- has tipalti, view earnings -->\n<a class="short-text" ng-if="::(vm.swf.eob.partner==1 && vm.session.user.isTipaltiPayable)" href="/partners/earnings" target="_blank"  translate="eob_view_monthly_earnings"></a>\n\n<!-- doesn\'t have tipalti, update payment settings -->\n<a class="short-text" ng-if="::(vm.session.user.mcnTypeId !== \'4\' && vm.session.user.mcnTypeId !== \'3\' && vm.swf.eob.partner==1 && !vm.session.user.isTipaltiPayable)" href="/partners/payment-settings" target="_blank"  translate="eob_tipalti"></a>\n</div>\n</div>\n</div>\n<div class="detail-container" ng-if="::vm.swf.eob.subscriptionEarning >= 1">\n<div class="icon">\n<i class="ynicon ynicon-icon-subscribers"></i>\n</div>\n<div class="info">\n<div class="stat">\n${{::vm.swf.eob.subscriptionEarnings ||0}}/mo\n</div>\n<div class="title" translate="eob_sub_earnings"></div>\n</div>\n</div>\n<div ng-if="::vm.swf.eob.numMomentsCreated > 0" class="detail-container">\n<div class="icon">\n<i class="ynicon ynicon-broadcast"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.numMomentsCreated}}</div>\n<div ng-if="::vm.swf.eob.numMomentsCreated > 1" class="title" translate="eob_moments_created"></div>\n<div class="title" ng-if="::vm.swf.eob.numMomentsCreated === 1" translate="eob_moments_created_singular"></div>\n</div>\n</div>\n<div class="detail-container" ng-if="::vm.swf.eob.fansAdded >= 1">\n<div class="icon">\n<i class="ynicon ynicon-user"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.fansAdded}}</div>\n<div class="title" translate="eob_newfans"></div>\n</div>\n</div>\n<div class="detail-container" ng-if="::vm.swf.eob.likes >= 1">\n<div class="icon">\n<i class="ynicon ynicon-thumb"></i>\n</div>\n<div class="info">\n<div class="stat">{{::vm.swf.eob.likes}}</div>\n<div class="title" translate="eob_likes"></div>\n</div>\n</div>\n</div>\n</div>\n\n<!-- FAN LIST -->\n\n<div ng-if="vm.swf.eob.userId == vm.session.user.userId && vm.swf.eob.supportersCount > 0 && vm.sentThanks === false"  class="supporter-container">\n<div class="title">\n\n<p ng-if="::vm.swf.eob.supportersIncludesNewFans" translate="eob_top_and_new_fans"></p>\n<p ng-if="::!vm.swf.eob.supportersIncludesNewFans" translate="eob_top_fans"></p>\n<div ng-if="!vm.fanned" class="fan-all-button">\n<p ng-click="vm.fanAll()"class="fan-message" translate="eob_fan_all"></p>\n<p class="plus"> + </p>\n</div>\n<div ng-if="vm.fanned" class="fan-all-button fanned">\n<p ng-click="vm.fanAll()"class="fan-message" translate="eob_all_fanned"></p>\n<p class="plus"> + </p>\n</div>\n</div>\n<div infinite-scroll="vm.loadMoreSupporters()" class="supporter-list">\n<div class="supporter" ng-repeat="supporter in vm.supporterList" track-source="{{::(supporter.supporterType === \'fan\' ? \'EOB_MANUAL_NEW\' : \'EOB_MANUAL_TOP\')}}">\n<a\nclass="thumb thumb-eob circle-thumb pull-left"\nng-style="::{ background: \'url(\' + vm.thumb + {{supporter.userId}} + \'), url({{vm.noThumb}}) no-repeat\', \'background-size\': \'cover\' }"\nng-href="/{{supporter.userId}}" prevent-default\nng-click="vm.openBroadcasterProfile(supporter.userId)">\n</a>\n<div class="center-block">\n<div class="top-line">\n<p class="profile">{{supporter.profile}}</p>\n</div>\n<!-- SPENDER Detail-->\n<div ng-if="supporter.supporterType === \'spender\'" class="spender">\n<p class="detail">#{{vm.supporterList.indexOf(supporter) - vm.swf.eob.subscribersAdded + 1}}</p>\n<i class="ynbar ynicon ynicon-icon-bar"></i>\n</div>\n\n<!-- SUBSCRIBER Detail-->\n<div ng-if="supporter.supporterType === \'subscriber\'" class="subscriber">\n<img ng-src="{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.session.userId}}/1/badge@2x.png">\n<p class="detail" translate="eob_new_subscriber"></p>\n</div>\n\n<!-- FAN Detail -->\n<div ng-if="supporter.supporterType === \'fan\'" class="subscriber">\n<p class="detail" translate="eob_fan_count" translate-values="{count:supporter.extraData}"></p>\n</div>\n\n</div>\n\n<div class="btn-small fan-button" fan-button channel="supporter" size="tiny"></div>\n</div>\n\n</div>\n<!-- thanks box -->\n<div class="thanks-container">\n\n<h2 ng-if="::vm.swf.eob.supportersIncludesNewFans" translate="eob_thanks_new"></h2>\n<h2 ng-if="::!vm.swf.eob.supportersIncludesNewFans" translate="eob_thanks"></h2>\n\n<p ng-if="::vm.swf.eob.supportersCount > 1" translate="eob_send_thanks" translate-values="{count:{{::vm.swf.eob.supportersCount}}}"></p>\n<p ng-if="::vm.swf.eob.supportersCount < 2" translate="eob_send_thanks_singular" translate-values="{count:{{::vm.swf.eob.supportersCount}}}"></p>\n\n<div contenteditable\nmentio=""\nmentio-typed-term="typedTerm"\nmentio-require-leading-space="true"\nclass="editor form-control"\nstyle="display: block; margin: auto; height: 70px; width: 250px; text-align:left; padding-top: 6px; padding-left: 6px; line-height: 17px; overflow: scroll; font-size: 13px;"\nid="thanksComment"\nng-model="thanksMessage.html"\nplaceholder="{{\'eob_thanks_placeholder\' | translate }}"\n></div>\n\n<mentio-menu\nmentio-for="\'thanksComment\'"\nmentio-trigger-char="\'@\'"\nmentio-items="vm.people"\nmentio-template-url="angularjsapp/src/app/components/mention/mention.tpl.html"\n></mentio-menu>\n\n<!-- attributes to be added above for mentions -->\n<!-- mentio-search="vm.searchPeople(term)"\nmentio-select="vm.insertMention(item)" -->\n\n<a ng-click="vm.thankAll()"class="btn btn-blue" translate="_post"> </a>\n\n</div>\n</div>\n\n<!-- SOCIAL PANEL -->\n<div ng-if="vm.swf.eob.userId == vm.session.user.userId && (vm.swf.eob.supportersCount < 1 || vm.sentThanks === true)" class="social-panel" ng-class="{\'non-partner\':vm.swf.eob.supportersCount < 1}">\n<div class="title">\n<p translate="eob_find_fans"></p>\n</div>\n<h1 translate="eob_connect_to"></h1>\n\n<!-- YOUTUBE -->\n<div class="youtube-not-connected social-option" ng-if="!vm.session.user.youTubeUserName">\n<div class="youtube-logo logo not-connected">\n<i class="ynicon ynicon-icon-social-yt2"></i>\n</div>\n<div class="connect">\n<span ng-click="vm.session.connect(\'youtube\',\'EOB\', vm.session.user.userId)" translate="_connect"></span>\n</div>\n</div>\n\n<div class="youtube-connected social-option" ng-if="vm.session.user.youTubeUserName">\n<div class="youtube-logo logo connected">\n<i class="ynicon ynicon-icon-social-yt2"></i>\n</div>\n<div class="connect connected">\n<span translate="eob_connected"></span>\n<i class="ynicon ynicon-icon-check"></i>\n</div>\n</div>\n\n<!-- TWITTER -->\n<div class="twitter-not-connected social-option" ng-if="!vm.session.user.twitterId">\n<div class="twitter-logo logo not-connected">\n<i class="ynicon ynicon-social-tw"></i>\n</div>\n<div class="connect">\n<span ng-click="vm.session.connect(\'twitter\',\'EOB\', vm.session.user.userId)" translate="_connect"></span>\n</div>\n</div>\n\n<div class="twitter-connected social-option"  ng-if="vm.session.user.twitterId">\n<div class="twitter-logo logo connected">\n<i class="ynicon ynicon-social-tw"></i>\n</div>\n<div class="connect connected">\n<span translate="eob_connected"></span>\n<i class="ynicon ynicon-icon-check"></i>\n</div>\n</div>\n\n<!-- INSTAGRAM -->\n<div class="instagram-not-connected social-option" ng-if="!vm.session.user.instagramId">\n<div class="instagram-logo logo not-connected">\n<i class="ynicon ynicon-social-insta"></i>\n</div>\n<div class="connect">\n<span ng-click="vm.session.connect(\'instagram\',\'EOB\', vm.session.user.userId)" translate="_connect"></span>\n</div>\n</div>\n\n<div class="instagram-connected social-option"  ng-if="vm.session.user.instagramId">\n<div class="instagram-logo logo connected">\n<i class="ynicon ynicon-social-insta"></i>\n</div>\n<div class="connect connected">\n<span translate="eob_connected"></span>\n<i class="ynicon ynicon-icon-check"></i>\n</div>\n</div>\n\n<!-- FACEBOOK -->\n<div class="facebook-not-connected social-option" ng-if="!vm.session.user.facebookId">\n<div class="facebook-logo logo not-connected">\n<i class="ynicon ynicon-social-fb"></i>\n</div>\n<div class="connect">\n<span ng-click="vm.session.connect(\'facebook\',\'EOB\', vm.session.user.userId)" translate="_connect"></span>\n</div>\n</div>\n\n<div class="facebook-connected social-option"  ng-if="vm.session.user.facebookId">\n<div class="facebook-logo logo connected">\n<i class="ynicon ynicon-social-fb"></i>\n</div>\n<div class="connect connected">\n<span translate="eob_connected"></span>\n<i class="ynicon ynicon-icon-check"></i>\n</div>\n</div>\n\n<!-- thanks confirmation -->\n<div class="thanks-container" ng-if="vm.sentThanks === true">\n<p ng-if="::vm.swf.eob.supportersCount > 1" translate="eob_thanks_confirmation" translate-values="{count:{{::vm.swf.eob.supportersCount}}}"> </p>\n<p ng-if="::vm.swf.eob.supportersCount < 2" translate="eob_thanks_confirmation_singular" translate-values="{count:{{::vm.swf.eob.supportersCount}}}"></p>\n\n</div>\n\n</div>\n\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/channel/live/live.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/live/live.tpl.html",'<div class="main-channel-detail fullscreen-{{fullscreenAspect}}" ng-class="{ \'fullscreen\': swf.fullscreenActive,\'fullscreen-in\': swf.fullscreenIn,\'fullscreen-out\': swf.fullscreenOut }">\n<div class="fullscreen-overlay"></div>\n<div class="main-player">\n<div class="player-header" player-header></div>\n<div class="player-overlay" player-overlay></div>\n<mini-overlay ng-if="guestService.guest && !swf.settingUpBroadcast" type="broadcaster"></mini-overlay>\n<mini-overlay ng-if="(guestService.guest || guestService.pendingGuest) && !swf.settingUpBroadcast" type="guest"></mini-overlay>\n<selfies-overlay></selfies-overlay>\n<div class="player-main" ng-class="{\'dimmed\': swf.dimmed===true}">\n<div class="player-error" ng-if="show_noflash_message && !swf.ready && !config.mcu && guestService.state == \'ready\'">\n<img class="error-image" ng-src="{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/player/flash_player_icon_999.png" />\n<div class="error-title">Adobe Flash Player</div>\n<div class="error-subtitle" translate="flashplayer_is_not_installed"></div>\n<a class="error-link" target="_blank" href="https://get2.adobe.com/flashplayer/"><span translate="flashplayer_click_to_install_from"></span> <br /><b>get2.adobe.com/flashplayer/</b></a>\n</div>\n<div ng-if="(isViewer() || isFlashBroadcast()) && !externalStreaming.streaming && !externalStreaming.active">\n<div class="moment-urge" ng-if="swf.thumbs.length >= 8" ng-click="captureMoment($event)"></div>\n<div id="flashObj1" style="width:592px;height:444px;" swfstudio></div>\n</div>\n<div ng-if="!isViewer() && isWebrtcBroadcast()" ng-click="captureMoment($event)" class="webrtcVideo">\n<div ng-if="::(!config.bootstrap.supportsCanvasStream)">\n<div ng-class="{\'left-video-container\': guestService.state != \'ready\' && guestService.state != \'loading\'}">\n<video id=\'bcVideo\' camera-valid on-valid="validCamera()" on-invalid="invalidCamera()" broadcast-stream class="bcVideo"></video>\n</div>\n<div ng-class="{\'right-video-container\': guestService.state != \'ready\' && guestService.state != \'loading\'}">\n<video id=\'guestVideo\' guest-stream class="guestVideo"></video>\n</div>\n</div>\n<div ng-if="::(config.bootstrap.supportsCanvasStream)" ng-class="::{\'guest-stream\': swf.broadcast.userId != session.user.userId && !swf.settingUpBroadcast}" class="canvas-streaming">\n<div ng-class="{\'left-video-container\': guestService.state != \'ready\' && guestService.state != \'loading\'}">\n<canvas id="bcCanvas" height="444" width="592" class="bcCanvas"></canvas>\n<video id=\'bcVideo\' camera-valid on-valid="validCamera()" on-invalid="invalidCamera()" broadcast-stream class="bcVideo"></video>\n</div>\n<div ng-class="{\'right-video-container\': guestService.state != \'ready\' && guestService.state != \'loading\'}">\n<canvas id="guestCanvas" height="444" width="592"  class="guestCanvas"></canvas>\n<video id="guestVideo" guest-stream class="guestVideo"></video>\n</div>\n</div>\n</div>\n<div class="external-stream-info" ng-class="{\'page-1\': externalStreaming.active, \'added\': externalStreaming.added, \'page-2\': externalStreaming.streaming }">\n<div class="info-page-1">\n<div class="info-title">You can broadcast directly to YouNow using 3rd party video mixers and broadcasting tools.</div>\n<ol>\n<li>Download and install OBS (<a href="https://obsproject.com/" target="_blank">free download</a>) or another tool</li>\n<li>Set the video size to 640x480 (4:3) for best performance <br>(HD settings are supported, but may increase lag / buffering)</li>\n<li>Input your stream key into the tool as a "Custom Streaming Server"</li>\n<label for="streamUrl">Url:</label>\n<input ng-model="externalStreaming.streamUrl" name="streamUrl" type="text" autocomplete="off" class="form-control">\n<label for="streamKey">Key:</label>\n<input ng-model="externalStreaming.streamKey" name="streamKey" type="text" autocomplete="off" class="form-control">\n<li>Pick a tag and description, then click "Prepare Broadcast"</li>\n<li class="laststep">Start streaming from your tool!\n<div class="loader-light"></div>\n<span class="loading-text">Checking...</span>\n</li>\n</ol>\n<div>Click <a href="https://younow.zendesk.com/hc/en-us/articles/206439166-External-Streaming-Settings" target="_blank">here</a> for advanced instructions.</div>\n</div>\n<div class="info-page-2" style="text-align: center;">\n<div class="info-title">Your broadcast has begun!</div>\n<div>Click <a ng-href="https://www.younow.com/{{::session.user.profile}}" target="_blank">here</a> to view it in a new tab (note: watching your own broadcast from the same computer can cause lag or echoing)</div>\n<div class="externally-broadcasting animate-flicker"><div></div></div>\n</div>\n</div>\n</div>\n<div class="player-footer" player-footer></div>\n</div>\n<div class="main-chat" channel-chat></div>\n<div class="main-tags">\n<div id="tag-queue" ng-if="swf.queue.length && !swf.settingUpBroadcast">\n<div class="title">\n#<span translate="livebroadcast_of_broadcasters_on" translate-values="{ count: broadcasterService.bcQueuePos, total: swf.queue.length, who: (swf.queue.length===1 ? \'broadcaster\' : \'broadcasters\') }"></span>\n<a\nclass="clickable primary-text"\nng-href="/tag/{{broadcasterService.broadcaster.tags[0]}}" prevent-default\nng-click="goIfNotBroadcasting(goto, \'explore/\'+broadcasterService.broadcaster.tags[0])">\n#{{broadcasterService.broadcaster.tags[0]}}\n</a>\n</div>\n<a class="queue-item thumb clickable"\nng-repeat="person in swf.queue"\nng-href="/{{person.profile}}" prevent-default\nng-click="goIfNotBroadcasting(loadChannel, person.userId);trackBroadcaster();"\ntooltip-trigger="mouseenter" tooltip-html-unsafe="{{::person.tooltip}}">\n<img class="thumb-image"\nng-src="{{::person.thumb}}"\nfallback-src="{{::person.thumb_backup}}" />\n<div ng-if="::(broadcasterService.broadcaster.userId==person.userId||broadcasterService.broadcaster.userId==session.user.userId)" class="thumb-label">\n<span ng-if="::(broadcasterService.broadcaster.userId==person.userId && person.userId!=session.user.userId)" translate="_watching"></span>\n<span ng-if="::(person.userId==session.user.userId && swf.currentSession.isBroadcasting)" translate="_you"></span>\n</div>\n</a>\n</div>\n<promo-widget></promo-widget>\n\n</div>\n\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/channel/moment-collection/moment-collection-deeplink.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/moment-collection/moment-collection-deeplink.tpl.html",'<div class="deeplink-container" ng-if="vm.moments">\n<div class="main-content-left">\n<div moment-card delete="vm.deleteMoment()" moment="{{::vm.moments}}" update-on-fetch="vm.updateMoment(moment)" ordinal-rank="0"></div>\n</div>\n<div class="main-content-right">\n<div class="column-list">\n<div class="title primary-text" translate="moment_deeplink_featuring"></div>\n<div class="column-scroll">\n<div class="list-item">\n<img class="circle-thumb"\nng-src="{{::(vm.imageApis.thumb+vm.moments.broadcaster.userId)}}"\nfallback-src="{{::vm.imageApis.nothumb}}"\nng-click="vm.openProfile(vm.moment.broadcaster.userId)" />\n<div class="description">\n<div class="short-text primary-text clickable" ng-click="vm.openProfile(vm.moments.broadcaster.userId)">\n{{::vm.moments.broadcaster.name}}\n</div>\n<div class="short-text text-muted" translate="_broadcaster"></div>\n</div>\n<div track-source="MOMENT" track-context="PROFILE">\n<div fan-button channel="vm.moments.broadcaster"></div>\n</div>\n</div>\n<div class="list-item">\n<img class="circle-thumb"\nng-src="{{(vm.imageApis.thumb+vm.currentMoment.owner.userId)}}"\nfallback-src="{{::vm.imageApis.nothumb}}"\nng-click="vm.openProfile(vm.currentMoment.owner.userId)"/>\n<div class="description">\n<div class="short-text primary-text clickable" ng-click="vm.openProfile(vm.currentMoment.owner.userId)">\n{{vm.currentMoment.owner.name}}\n</div>\n<div class="short-text text-muted">{{vm.title}}</div>\n</div>\n<div track-source="MOMENT" track-context="PROFILE">\n<div fan-button channel="vm.currentMoment.owner"></div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/channel/moment/moment-deeplink.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/moment/moment-deeplink.tpl.html",'<div class="deeplink-container" ng-if="vm.moment">\n<div class="main-content-left">\n<div moment-card delete="vm.deleteMoment()" moment="{{::vm.moment}}" ordinal-rank="0"></div>\n</div>\n<div class="main-content-right">\n<div class="column-list">\n<div class="title primary-text" translate="moment_deeplink_featuring"></div>\n<div class="column-scroll">\n<div class="list-item">\n<img class="circle-thumb"\nng-src="{{::(vm.imageApis.thumb+vm.moment.broadcaster.userId)}}"\nfallback-src="{{::vm.imageApis.nothumb}}"\nng-click="vm.openProfile(vm.moment.broadcaster.userId)" />\n<div class="description">\n<div class="short-text primary-text clickable" ng-click="vm.openProfile(vm.moment.broadcaster.userId)">\n{{::vm.moment.broadcaster.name}}\n</div>\n<div class="short-text text-muted" translate="_broadcaster"></div>\n</div>\n<div track-source="MOMENT" track-context="PROFILE">\n<div fan-button channel="vm.moment.broadcaster"></div>\n</div>\n</div>\n<div class="list-item">\n<img class="circle-thumb"\nng-src="{{::(vm.imageApis.thumb+vm.moment.owner.userId)}}"\nfallback-src="{{::vm.imageApis.nothumb}}"\nng-click="vm.openProfile(vm.moment.owner.userId)"/>\n<div class="description">\n<div class="short-text primary-text clickable" ng-click="vm.openProfile(vm.moment.owner.userId)">\n{{::vm.moment.owner.name}}\n</div>\n<div class="short-text text-muted">{{::vm.title}}</div>\n</div>\n<div track-source="MOMENT" track-context="PROFILE">\n<div fan-button channel="vm.moment.owner"></div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/channel/post.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/channel/post.tpl.html","\n")}]),angular.module("angularjsapp/src/app/states/main/explore/explore.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/explore/explore.tpl.html",'<div class="main-content explore-content clearfix live-thumbs">\n\n<div class="main-content-left"\nng-class="{\'large\': !showMiniplayer && !eps.list && query !== undefined}"\ninfinite-scroll="getItems()"\ncan-load="!finished"\nthreshold="{{::(resultsView==\'new\' ? 0 : 200)}}"\npagescroll="true">\n\n\n<!-- QUEUE (TAG) -->\n<div class="explore_results" ng-if="queue[0] && tag">\n<h3 class="explore_header" translate="explore_tag_title_live" translate-values="{tag:\'#\'+tag}"></h3>\n<div class="explore_items clearfix">\n<div ng-repeat="person in queue" class="result">\n\n<div\nclass="thumb box-thumb"\nng-style="::{\'background-image\': \'url(\'+person.thumb+\'), url(\'+cdn.nothumb+\')\'}"\nng-href="/{{::person.profile}}"\nng-click="selectUser(person, false, true);trackBroadcaster();"\nprevent-default>\n<a\nng-click="selectUser(person, false, true);trackBroadcaster();"\nng-href="/{{::person.profile}}"\nprevent-default>\n<img\nalt="{{::person.profile}}"\nng-src="{{::person.thumb}}"\nclass="user-profile" >\n</img>\n</a>\n<a\nng-click="showTag($event, tag)"\nng-href="/explore/{{::tag}}"\nclass="user-tag short-text"\nprevent-default>\n#{{::tag}}\n</a>\n<div class="tag-fade"></div>\n</div>\n<div class="result-text">\n<a\nng-href="/{{::person.profile}}" prevent-default\nng-click="showProfileSummary(person.userId)"\nclass="result-text text1 name short-text">\n<i class="ynicon ynicon-level"></i>{{::person.level}} {{::person.fullName}}\n</a>\n<span>\n<i class="ynicon ynicon-broadcast pull-left"></i>\n<span class="user-status pull-left"> <span translate="_live"></span> &#8226;</span>\n</span>\n<div ng-if="::person.viewers!=undefined" class="user-viewers">\n<i class="ynicon ynicon-viewers"></i> {{::person.viewers}}\n</div>\n<div ng-if="::person.viewers==undefined" class="user-fans">{{::person.totalFans || person.fans}} fans</div>\n</div>\n\n</div>\n</div>\n<div class="explore_more" ng-if="queueMore" ng-click="getQueue()">\n<span ng-if="getQueueLoading">Loading...</span>\n<span ng-if="!getQueueLoading">View more</span>\n</div>\n</div>\n\n<!-- ITEMS (TAG) -->\n<div class="explore_results" ng-if="resultsView==\'new\' && results[0]" ng-class="{tag:tag}">\n<h3 class="explore_header" translate="explore_tag_title_best" translate-values="{tag:tag}"></h3>\n<div class="explore_items clearfix">\n<div ng-repeat="person in results" class="result">\n\n<div\nclass="tagged-cover thumb box-thumb"\nng-style="::{\'background-image\': \'url(\'+person.cover+\'), url(\'+cdn.nothumb+\')\'}"\nng-href="/{{::person.profile}}"\nng-click="selectUser(person, false, true);trackBroadcaster();"\nprevent-default>\n</div>\n<a\nng-click="selectUser(person, false, true);trackBroadcaster();"\nng-href="/{{::person.profile}}"\nclass="tagged-thumb"\nprevent-default>\n<img\nalt="{{::person.profile}}"\nng-src="{{::person.thumb}}"\nclass="thumb circle-thumb" >\n</img>\n</a>\n<div class="tagged-text">\n<a\nng-href="/{{::person.profile}}" prevent-default\nng-click="showProfileSummary(person.userId)"\nclass="tagged-title name short-text">\n<i class="ynicon ynicon-level"></i>{{::person.level}} {{::person.fullName}}\n</a>\n<div class="tagged-fans user-fans">{{::person.totalFans || person.fans}} fans</div>\n<div class="tagged-desc user-fans">{{::person.desc}}</div>\n</div>\n\n<div class="tagged-button wide_button_container" fan-button channel="person" classname="wide"></div>\n\n</div>\n</div>\n</div>\n\n<!-- ITEMS (ALL or SEARCH) -->\n<div class="explore_results" ng-if="resultsView==\'old\'">\n<h3 class="explore_header" ng-if="!tag" translate="explore_header"></h3>\n<h3 class="explore_header" ng-if="tag" translate="explore_tag_title" translate-values="{tag:tag}"></h3>\n<h3 class="explore_header" ng-if="noresults" translate="explore_no_user_found"></h3>\n<div ng-repeat="person in results" class="result">\n<div\nclass="thumb box-thumb"\nng-href="/{{::person.profile}}"\nng-click="selectUser(person, false, true);trackBroadcaster();"\nprevent-default>\n<img\nalt="{{::person.profile}}"\nng-src="{{::person.thumb}}"\nfallback-src="{{::person.thumb_backup}}"\nclass="user-profile" >\n</img>\n<a\nng-if="person.tag"\nng-click="showTag($event, person.tag)"\nng-href="/explore/{{::person.tag}}"\nclass="user-tag short-text"\nprevent-default>\n#{{::person.tag}}\n</a>\n<div class="tag-fade"></div>\n</div>\n<a\nng-href="/{{::person.profile}}" prevent-default\nng-click="showProfileSummary(person.userId)"\nclass="result-text text1 name short-text">\n<i class="ynicon ynicon-level"></i>{{::person.level}} {{::person.fullName}}\n</a>\n<div class="result-text text2">\n<span>\n<i ng-if="::person.tag" class="ynicon ynicon-broadcast pull-left"></i>\n<span ng-if="::person.tag" class="user-status pull-left"> <span translate="_live"></span> &#8226;</span>\n</span>\n<div ng-if="::person.viewers!=undefined" class="user-viewers">\n<i class="ynicon ynicon-viewers"></i> {{::person.viewers}}\n</div>\n<div ng-if="::person.viewers==undefined" class="user-fans">{{::person.totalFans || person.fans}} fans</div>\n</div>\n</div>\n</div>\n\n</div>\n\n<div class="main-content-right" ng-if="showMiniplayer || (eps.list && eps.list.length > 0) || !query">\n\n<!-- MINI PLAYER -->\n<mini-player ng-if="showMiniplayer && broadcasterService.exploreBroadcaster && broadcasterService.exploreBroadcaster.media" broadcast="broadcasterService.exploreBroadcaster" show-broadcast="showBroadcast()"></mini-player>\n\n<!-- vip list -->\n<div class="column-list" ng-if="!query" top-broadcasters-height>\n<div class="title primary-text" translate="explore_topbroadcasters"></div>\n<div class="column-scroll mini-scroll">\n<div ng-repeat="vip in ::vips.list" class="list-item">\n<img class="circle-thumb"\nng-src="{{::vip.thumbnail}}}"\nfallback-src="{{::cdn.nothumb}}"\nng-click="showProfileSummary(vip.userId)" />\n<div class="description short-text clickable" ng-click="showProfileSummary(vip.userId)">{{::vip.name}}</div>\n<div class="fan-button-placeholder" track-source="EXPLORE_VIP">\n<div fan-button size="small" channel="vip"></div>\n</div>\n</div>\n</div>\n</div>\n<!-- ep list -->\n<div class="column-list" ng-if="eps.list && eps.list.length > 0">\n<div class="title" translate="_editors_choice"></div>\n<div class="column-scroll mini-scroll">\n<div ng-repeat="ep in ::eps.list" class="list-item">\n<img class="circle-thumb"\nng-src="{{::cdn.thumb+ep.userId}}}"\nfallback-src="{{::cdn.nothumb}}"\nng-click="showProfileSummary(ep.userId)"/>\n<div class="description short-text clickable" ng-click="showProfileSummary(ep.userId)">{{::ep.name}}</div>\n<div class="fan-button-placeholder" track-source="EXPLORE_EP">\n<div fan-button size="small" channel="ep"></div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/leaderboards/leaderboard-header.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/leaderboards/leaderboard-header.tpl.html",'<div class="lb-heading" id="lb-broadcasters" ng-style="::{\'border-bottom\': \'3px solid\' + color}">\n<div class="icon-cat-container" ng-style="::{\'background-color\': color}">\n<span class="ynicon {{::icon}}"></span>\n</div>\n<h1 class="lb-title" translate="{{::title}}"></h1>\n<h2 class="lb-time">{{::time}}</h2>\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/states/main/leaderboards/leaderboard-single.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/leaderboards/leaderboard-single.tpl.html",'<div class="lb-cell" ng-repeat="cell in cells">\n<div class="lb-cell-inner">\n<span class="lb-position" ng-if="::(target !== \'editors_choice\')">{{::cell.position}}</span>\n<span class="ynicon ynicon-icon_editorschoice" ng-if="::(target === \'editors_choice\')"></span>\n<img class="lb-thumb" ng-src="{{::cell.src}}" ng-attr-alt="{{::cell.profile + \' thumbnail\'}}" ng-click="showProfileSummary(cell.userId)"/>\n<div class="lb-user-info">\n<span class="lb-username short-text" ng-click="showProfileSummary(cell.userId)">{{::cell.profile}}</span>\n<span class="lb-likes short-text" ng-if="::(target === \'editors_choice\')">{{::cell.totalFansSquashed}} <span translate="_fans"></span></span>\n<span class="lb-likes short-text" ng-if="::(target === \'top_broadcasters\' || target === \'moment_creators\')">{{::cell.likes }} <span translate="eob_likes"></span></span>\n<span class="lb-likes lb-fans short-text" ng-if="::(target === \'top_fans\')"><span class="ynicon ynicon-icon-bar"></span> {{::cell.fanList}} <span ng-if="::cell.moreFans" translate="_more"></span></span>\n</div>\n</div>\n\n<div class="fan-button-container" track-source="{{::dataTracking[target]}}" track-context="LEADBOARDS">\n<div fan-button channel="cell" size="tiny" track-source="{{::dataTracking[target]}}"></div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/leaderboards/leaderboards.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/leaderboards/leaderboards.tpl.html",'<div id="leaderboards">\n<div id="leaderboard-container"> <!-- scroll on here -->\n\n<div class="leaderboard-headers">\n<div class="leaderboard">\n<leaderboard-header title="leaderboards_editors_choice" icon="ynicon-icon_editorschoice" time="24 hours"></leaderboard-header>\n</div>\n\n<div class="leaderboard">\n<leaderboard-header title="leaderboards_top_broadcasters" icon="ynicon-icon-topbroadcaster" time="24 hours"></leaderboard-header>\n</div>\n\n<div class="leaderboard">\n<leaderboard-header title="leaderboards_top_fans" icon="ynicon-icon-topfans" time="48 hours"></leaderboard-header>\n</div>\n\n<div class="leaderboard">\n<leaderboard-header title="leaderboards_top_moment_create" icon="ynicon-icon_moments" time="48 hours"></leaderboard-header>\n</div>\n</div>\n\n<div class="leaderboard-lists">\n<div class="leaderboard mini-scroll" only-scroll infinite-scroll="vm.fetchMoreInLeaderBoard(vm.leaderboards.editorsChoice)">\n<leaderboard target="editors_choice" list="vm.leaderboards.editorsChoice"></leaderboard>\n</div>\n\n<div class="leaderboard mini-scroll" only-scroll infinite-scroll="vm.fetchMoreInLeaderBoard(vm.leaderboards.topBroadcasters)">\n<leaderboard target="top_broadcasters" list="vm.leaderboards.topBroadcasters"></leaderboard>\n</div>\n\n<div class="leaderboard mini-scroll" only-scroll infinite-scroll="vm.fetchMoreInLeaderBoard(vm.leaderboards.topFans)">\n<leaderboard target="top_fans" list="vm.leaderboards.topFans"></leaderboard>\n</div>\n\n<div class="leaderboard mini-scroll" only-scroll infinite-scroll="vm.fetchMoreInLeaderBoard(vm.leaderboards.momentCreators)">\n<leaderboard target="moment_creators" list="vm.leaderboards.momentCreators"></leaderboard>\n</div>\n</div>\n\n</div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/main.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/main.tpl.html",'<div data-header></div>\n\n<div class="notification normal type_{{$root.notifications.normal.type}}" ng-class="{active: $root.notifications.normal.active}">\n<alert type="{{$root.notifications.normal.type}}" bind-html-compile="$root.notifications.normal.message"></alert>\n<button class="close" ng-click="closeNotification( $root.notifications.normal.group )" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n<div class="notification sticky type_{{$root.notifications.normal.type}}" ng-class="{active: $root.notifications.sticky.active}">\n<alert type="{{$root.notifications.sticky.type}}" bind-html-compile="$root.notifications.sticky.message"></alert>\n<button class="close" ng-click="closeNotification( $root.notifications.sticky.group )" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n<div class="notification sticky banner type_{{$root.banners.sticky.type}}" ng-class="{active: $root.banners.sticky.active}">\n<alert type="{{$root.banners.sticky.type}}">\n<span ng-if="$root.banners.sticky.active" bind-html-compile="$parent.$root.banners.sticky.message"></span>\n</alert>\n<button class="close" ng-click="closeBanner( $root.banners.sticky.group )" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n<div class="container" id="main" ng-class="{banned: session.user.banId !== 0, \'sticky-active\': $root.notifications.sticky.active, \'banner-active\':  $root.banners.sticky.active}">\n<div data-leftsidebar></div>\n<div class="main-content" data-ui-view></div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/missing/missing.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/missing/missing.tpl.html",'<div style="width:800px;height:150px;margin-left:auto;margin-right:auto;text-align:center;font-family:Arial, Helvetica, sans-serif;font-size:26px;margin-top:20px;color:#555;text-align:center;margin-left:auto;margin-right:auto;background:#dcdcdc;text-align:center;vertical-align:middle;-moz-border-radius:15px;border-radius:15px;">\n<div style="position:relative;text-align:center;top:25px;" translate="missing_user_doesnot_exist" translate-values="{ value: \'{{username}}\' }"></div>\n<div style="position:relative;text-align:center;top:40px;">\n<a href="/">\n<img ng-src="{{::cdn.base}}/images/btn_watchlivebroadcasts.png" name="watchbutton" border="0"></a>\n</div>\n</div>\n')}]),angular.module("angularjsapp/src/app/states/main/moments-feed/moments-feed.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/moments-feed/moments-feed.tpl.html",'<div class="moment-feed">\n<div class="main-content-left">\n<h3 translate="moment_feed_title"></h3>\n<div infinite-scroll="vm.getItems()" can-load="!vm.finished" threshold="300" pagescroll="true">\n<div ng-if="vm.moments">\n<ul class="moments">\n<li ng-repeat="moment in vm.moments track by $id(moment)">\n<div moment-card delete="vm.removeMoment(moment)" moment="{{::moment}}" hide-collection="vm.removeMoment(moment)" ordinal-rank="{{::$index}}"></div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class="main-content-right">\n<h4 class="primary-text" translate="moment_feed_education"></h4>\n<div class="moment-education" translate="moment_feed_desc"></div>\n</div>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/main/settings/settings.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/main/settings/settings.tpl.html",'<div class="settings-page">\n<div class="settings-for" ng-if="session.administrator">\nADMIN: Adjust settings for: <input type="text" ng-model="onbehalf.userId" ng-blur="onbehalf.update()">\n<a href="#" ng-if="onbehalf.userId!=session.user.userId && onbehalf.userId!=0" ng-click="onbehalf.reset()">Reset (back to my settings)</a>\n</div>\n<div class="navigation">\n<div class="tab-header" ng-class="{\'active\': page==\'info\'}" ng-click="switchTab(\'info\')" translate="settings_tab_information"></div>\n<div class="tab-header" ng-class="{\'active\': page==\'notifications\'}" ng-click="switchTab(\'notifications\')" translate="settings_tab_notifications"></div>\n<div class="tab-header" ng-class="{\'active\': page==\'accounts\'}" ng-click="switchTab(\'accounts\')" translate="settings_tab_connected_accounts"></div>\n<div class="tab-header" ng-class="{\'active\': page==\'privacy\'}" ng-click="switchTab(\'privacy\')" translate="settings_tab_privacy"></div>\n<div class="tab-header" ng-class="{\'active\': page==\'subscriptions\'}" ng-click="switchTab(\'subscriptions\')" translate="settings_tab_subscriptions"></div>\n</div>\n<div class="pages" ng-show="settings">\n<div class="info-page" ng-show="page==\'info\'" ng-class="{\'edit-mode\':editing}">\n<form novalidate name="infoForm">\n<div class="form-horizontal">\n<a class="pull-right" ng-click="startEdit()" href="javascript:void(0)" translate="_edit"></a>\n<div class="control-group control-nickname">\n<label class="control-label pull-left" translate="settings_nickname"></label>\n<div class="controls pull-left">\n<div class="username editable">\n<span class="edit-hide profileUrlString">{{settings.user.profile}}</span>\n<div class="edit-field">\n<input placeholder="{{::(\'settings_nickname\') | translate}}"\ntype="text"\nmaxlength="25"\nclass="form-control"\nng-model="settings.user.profile"\nng-change="toEdit(\'profileUrlString\', settings.user.profile)">\n</div>\n</div>\n<div class="url">\n<a ng-href="{{::config.settings.ServerLocalBaseUrl}}/{{settings.user.profile}}">{{::config.settings.ServerLocalBaseUrl}}/{{settings.user.profile}}</a>\n</div>\n<div class="nickname-warning">\n{{ \'settings_nickname_warning\' | translate }}\n</div>\n<div class="checkbox">\n<input type="checkbox"\nng-model="settings.user.useprofile"\nng-change="toEdit(\'useprofile\', settings.user.useprofile)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.user.useprofile===1"\n>\n{{ \'settings_nickname_tooltip\' | translate }}\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_email"></label>\n<div class="controls pull-left">\n<div class="username editable">\n<span class="edit-hide emailAddress">{{settings.user.email}}</span>\n<div class="edit-field">\n<input placeholder="{{::(\'settings_email\') | translate}}"\nname="info.email"\nclass="form-control"\ntype="text"\nng-model="settings.user.email"\nng-change="toEdit(\'emailAddress\', settings.user.email)"\nng-pattern="emailRegex"\ntooltip="Invalid email"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-placement="top error"\nyn-valid>\n</div>\n</div>\n</div>\n<i class="ynicon ynicon-icon-check isEmailConfirmed" ng-if="session.user.isEmailConfirmed==1"></i>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_mailing_address"></label>\n<div class="controls pull-left">\n<div class="address editable">\n<span class="edit-hide address1">{{settings.user.mailAddress1}}</span>\n<br class="edit-hide">\n<span class="edit-hide address2">{{settings.user.mailAddress2}}</span>\n<div class="edit-field">\n<input placeholder="{{::(\'settings_mailing_address_placeholder1\') | translate}}"\nname="info.adress1"\nclass="form-control"\ntype="text"\nng-model="settings.user.mailAddress1"\nng-change="toEdit(\'mailAddress1\', settings.user.mailAddress1)"\nng-maxlength="50"\ntooltip="Invalid address"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-position="top error"\nyn-valid><br>\n<input placeholder="{{::(\'settings_mailing_address_placeholder2\') | translate}}"\nname="info.address2"\nclass="form-control"\ntype="text"\nng-model="settings.user.mailAddress2"\nng-change="toEdit(\'mailAddress2\', settings.user.mailAddress2)"\nng-maxlength="50"\ntooltip="Invalid address"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-position="top error"\nyn-valid></div>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_city"></label>\n<div class="controls pull-left">\n<div class="city editable">\n<span class="edit-hide city">{{settings.user.mailCity}}</span>\n<div class="edit-field">\n<input placeholder="{{::(\'settings_city\') | translate}}"\nname="info.city"\ntype="text"\nclass="form-control"\nng-model="settings.user.mailCity"\nng-change="toEdit(\'mailCity\', settings.user.mailCity)"\nng-pattern="\'^[^!-&(-,.-@[-`{-~]*$\'"\nng-maxlength="25"\ntooltip="Invalid city"\ntooltip-trigger="show"\ntooltip-append-to-body="true"\ntooltip-position="top error"\nyn-valid>\n</div>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_state"></label>\n<div class="controls pull-left">\n<div class="state editable">\n<span class="edit-hide stateCode">{{select.state[settings.user.mailState]}}</span>\n<div class="edit-field">\n<select id="stateCode"\nclass="form-control"\nng-model="settings.user.mailState"\nng-change="toEdit(\'mailState\', settings.user.mailState)"\nng-options="option.code as option.name for option in state">\n</select>\n</div>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_country"></label>\n<div class="controls pull-left">\n<div class="country editable">\n<span class="edit-hide countryCode">{{select.country[settings.user.mailCountry]}}</span>\n<div class="edit-field">\n<select id="countryCode"\nclass="form-control"\nng-model="settings.user.mailCountry"\nng-change="toEdit(\'mailCountry\', settings.user.mailCountry)"\nng-options="option.code as option.name for option in country">\n</select>\n</div>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_locale"></label>\n<div class="controls pull-left">\n<div class="locales editable">\n<span class="edit-hide localName">{{select.locale[settings.user.locale]}}</span>\n<div class="edit-field">\n<select id="locale"\nclass="form-control"\nng-model="settings.user.locale"\nng-change="toEdit(\'locale\', settings.user.locale)"\nng-options="option.code as option.name for option in locale">\n</select>\n</div>\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group" ng-if="(settings.user.disabledGoodies!=undefined)">\n<label class="control-label pull-left" translate="settings_gift_management"></label>\n<div class="controls">\n<div class="checkbox">\n<input type="checkbox"\nng-model="settings.user.disabledGoodies.TIP"\nng-change="toEditGoodies(\'TIP\', settings.user.disabledGoodies.TIP)"\nng-true-value="false"\nng-false-value="true"\nng-checked="!settings.user.disabledGoodies.TIP"\n>\n<span translate="settings_enable_tips"></span>\n</div>\n<div class="text-muted" translate="settings_enable_tips_info">\n</div>\n</div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_tshirt_size"></label>\n<div class="controls pull-left">\n<t-shirt-size class="editable">\n<span class="edit-hide tshirt">{{select.tshirt[settings.user.tshirt]}}</span>\n<div class="edit-field">\n<select id="tshirt"\nclass="form-control"\nng-model="settings.user.tshirt"\nng-change="toEdit(\'tshirt\', settings.user.tshirt)"\nng-options="option.code as option.name for option in tshirt">\n</select>\n</div>\n</t-shirt-size>\n<div class="text-muted" translate="settings_tshirt_size_tooltip">\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left" translate="settings_gender"></label>\n<div class="controls pull-left">\n<div class="editable">\n<span class="edit-hide gender">{{select.gender[settings.user.gender]}}</span>\n<div class="edit-field">\n<select id="gender"\nclass="form-control"\nng-model="settings.user.gender"\nng-change="toEdit(\'gender\', settings.user.gender)"\nng-options="option.code as option.name for option in gender">\n</select>\n</div>\n</div>\n<div class="text-muted" translate="settings_gender_tooltip">\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left">Stream URL</label>\n<div class="controls pull-left">\n<div class="editable">\n<span class="streamurl">\n{{settings.directStreaming.url}}\n</span>\n</div>\n<div class="text-muted">\nYou can broadcast directly to YouNow using 3rd party video mixers and broadcasting tools like <a href="https://obsproject.com/" target="_blank">OBS</a>. Click <a href="https://younow.zendesk.com/hc/en-us/articles/206439166-External-Streaming-Settings" target="_blank">here</a> for advanced instructions.\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="control-group">\n<label class="control-label pull-left">Stream Key</label>\n<div class="controls pull-left">\n<div class="editable">\n<div class="streamkey">\n{{settings.directStreaming.stream}} - <a href="#" ng-click="resetStreamKey()">Reset</a>\n</div>\n</div>\n<div class="text-muted">\nUse this unique key to log into 3rd party tools like OBS.\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="edit-actions">\n<button class="btn btn-primary" type="button" ng-click="saveChanges()" translate="_save"></button>\n<button class="btn btn-cancel" type="button" ng-click="cancelEdit()" translate="_cancel"></button>\n</div>\n</div>\n</form>\n</div>\n<div class="notifications-page" ng-show="page==\'notifications\'" ng-class="{\'edit-mode\':editing}">\n<div class="form-horizontal" ng-if="pushEnabled">\n<fieldset class="parent-fieldset">\n<div class="push-settings">\n<legend translate="settings_desktop_push_heading"></legend>\n<div>\n<input type="checkbox"\nng-model="pushSubscribed"\nng-change="togglePushSubscribed(pushSubscribed)"\nng-true-value="1"\nng-false-value="0"\nng-checked="pushSubscribed===1">\n<span translate="settings_desktop_push_description"></span>\n</div>\n</div>\n</fieldset>\n</div>\n<div class="form-horizontal">\n<fieldset class="parent-fieldset">\n<div>\n<legend translate="settings_notify_me_when"></legend>\n<div class="icons">\n<img class="push pull-right" ng-src="{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_push.png">\n<img class="inapp pull-right" ng-src="{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_yn.png">\n<img class="email pull-right" ng-src="{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_email.png">\n</div>\n<div class="icons-legend">\n<span class="push pull-right" translate="settings_push"></span>\n<span class="inapp pull-right" translate="settings_onyounow"></span>\n<span class="email pull-right" translate="settings_email"></span>\n</div>\n</div>\n<fieldset class="form-group" ng-repeat="notification in settings.notifications">\n<span class="control-label">{{notification.description}}</span>\n<div class="controls">\n<input ng-repeat="type in [\'push\',\'inapp\',\'email\']"\ntype="checkbox"\nng-class="type"\nng-model="notification[type]"\nng-change="toEdit(\'option_\'+notification[type+\'_value\'], notification[type])"\nng-true-value="1"\nng-false-value="0"\nng-checked="notification[type]===1"\nng-disabled="notification[type]===-1">\n</fieldset>\n<fieldset class="form-group">\n<span class="control-label">{{settings.getUpdates.optionName}}</span>\n<div class="controls">\n<input type="checkbox" class="email"\nng-model="settings.getUpdates.state"\nng-change="toEdit(\'option_\'+settings.getUpdates.optionValue, settings.getUpdates.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.getUpdates.state===1"></div>\n</fieldset>\n</fieldset>\n<div class="edit-actions">\n<button class="btn btn-primary" type="button" ng-click="saveChanges()" translate="_save"></button>\n<button class="btn btn-cancel" type="button" ng-click="cancelEdit()" translate="_cancel"></button>\n</div>\n</div>\n</div>\n<div class="connected-accounts-page" ng-show="page==\'accounts\'" ng-class="{\'edit-mode\':editing}">\n<div class="form-horizontal">\n<fieldset class="control-group">\n<div class="facebook-not-connected" ng-hide="settings.user.facebookId">\n<div class="top">\n<div class="fb-logo logo not-connected pull-left"><i class="ynicon ynicon-social-fb"></i></div>\n<legend class="pull-left">Facebook</legend>\n</div>\n<div class="instructions" translate="settings_connect_your_facebook">\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'facebook\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i><span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="facebook-connected" ng-show="settings.user.facebookId">\n<div class="top">\n<div class="fb-logo logo connected pull-left"><i class="ynicon ynicon-social-fb"></i></div>\n<legend class="pull-left">\nFacebook\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.firstName+\' \'+settings.user.lastName"></span>\n<span class="facebook-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'facebook\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n<fieldset class="extra-fb pull-left">\n<div class="control-group fb-pages">\n<div class="control-label pull-left"><span translate="settings_facebook_page" class="inline"></span>:</div>\n<div class="controls pull-left">\n<a href class="fb-pages-cta pull-left" ng-click="loadFbPages()" ng-if="settings.user.facebookPageTitle.length === 0 && !fbPages.editing" translate="settings_facebook_page_add"></a>\n<a class="pull-left" ng-href="{{settings.user.websiteUrl}}" ng-if="settings.user.facebookPageTitle.length > 0 && !fbPages.editing" target="_blank">{{settings.user.facebookPageTitle}}</a>\n<select class="form-control pull-left"\nng-model="fbPages.fbPageSelected"\nng-change="updateFbPage()"\nng-options="page.name for page in fbPages.pages"\nng-if="fbPages.editing && fbPages.hasPages">\n</select>\n<span ng-if="!fbPages.hasPages && fbPages.editing" class="pull-left text-muted" translate="settings_no_facebook_pages"></span>\n<span class="disconnect pull-left" ng-if="settings.user.facebookPageTitle.length > 0 || fbPages.editing">\n( <a href="javascript:void(0)" ng-if="fbPages.editing" ng-click="changeFbState(\'cancel\')" translate="_cancel"></a>\n<a href="javascript:void(0)" ng-if="settings.user.facebookPageTitle.length > 0 && !fbPages.editing" ng-click="loadFbPages()" translate="_change"></a>\n<span class="text-muted" ng-if="settings.user.facebookPageTitle.length > 0 && !fbPages.editing"> | </span>\n<a href="javascript:void(0)" ng-if="settings.user.facebookPageTitle.length > 0 && !fbPages.editing" ng-click="changeFbState(\'disconnect\')" translate="_disconnect"></a> )\n</span>\n</div>\n</div>\n<div class="fb-connected" ng-if="settings.user.facebookPageTitle.length > 0">\n<div class="checkbox">\n<input type="checkbox"\nng-model="settings.pubFacebook.state"\nng-change="toEdit(\'option_\'+settings.pubFacebook.optionValue, settings.pubFacebook.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.pubFacebook.state===1"\n>\n<span translate="settings_share_on_my_page"></span>\n</div>\n</div>\n</fieldset>\n</div>\n</fieldset>\n<fieldset class="control-group twitter">\n<div class="twitter-not-connected" ng-hide="settings.user.twitterId">\n<div class="top">\n<div class="twitter-logo logo not-connected pull-left"><i class="ynicon ynicon-social-tw"></i></div>\n<legend class="pull-left" translate="">Twitter</legend>\n</div>\n<div class="instructions" translate="settings_connect_your_twitter">\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'twitter\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i>\n<span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="twitter-connected" ng-show="settings.user.twitterId">\n<div class="top ">\n<div class="twitter-logo logo connected pull-left"><i class="ynicon ynicon-social-tw"></i></div>\n<legend class="pull-left">\n<span translate="">Twitter</span>\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.twitterHandle"></span>\n<span class="twitter-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'twitter\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n<div class="checkbox">\n<input type="checkbox"\nng-model="settings.pubTwitter.state"\nng-change="toEdit(\'option_\'+settings.pubTwitter.optionValue, settings.pubTwitter.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.pubTwitter.state===1"\n>\n<span translate="settings_notify_my_followers"></span>\n</div>\n</div>\n</fieldset>\n<fieldset class="control-group">\n<div class="instagram-not-connected" ng-hide="settings.user.instagramId">\n<div class="top ">\n<div class="instagram-logo logo not-connected pull-left"><i class="ynicon ynicon-social-insta"></i></div>\n<legend class="pull-left" translate="">Instagram</legend>\n</div>\n<div class="instructions " translate="settings_connect_your_instagram">\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'instagram\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i>\n<span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="instagram-connected" ng-show="settings.user.instagramId">\n<div class="top ">\n<div class="instagram-logo logo connected pull-left"><i class="ynicon ynicon-social-insta"></i></div>\n<legend class="pull-left">\n<span translate="">Instagram</span>\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.instagramHandle"></span>\n<span class="instagram-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'instagram\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n</div>\n</fieldset>\n<fieldset class="control-group">\n<div class="google-not-connected" ng-hide="settings.user.googleId">\n<div class="top ">\n<div class="google-logo logo not-connected pull-left"><i class="ynicon ynicon-social-gp"></i></div>\n<legend class="pull-left" translate="">Google+</legend>\n</div>\n<div class="instructions " translate="settings_connect_your_google">\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'google\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i>\n<span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="google-connected" ng-show="settings.user.googleId">\n<div class="top ">\n<div class="google-logo logo connected pull-left"><i class="ynicon ynicon-social-gp"></i></div>\n<legend class="pull-left">\n<span translate="">Google+</span>\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.googleHandle"></span>\n<span class="google-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'google\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n</div>\n</fieldset>\n<fieldset class="control-group">\n<div class="youtube-not-connected" ng-hide="settings.user.youTubeUserName">\n<div class="top">\n<div class="youtube-logo logo not-connected pull-left">\n<img ng-src="{{config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_yt.png"></div>\n<legend class="pull-left" translate="">YouTube Channel</legend>\n</div>\n<div class="instructions" translate="settings_connect_your_youtube">\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'youtube\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i>\n<span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="youtube-connected" ng-show="settings.user.youTubeUserName">\n<div class="top ">\n<div class="youtube-logo logo connected pull-left">\n<img ng-src="{{config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_yt.png"></div>\n<legend class="pull-left">\n<span translate="">YouTube</span>\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.youTubeTitle"></span>\n<span class="youtube-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'youtube\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n<div class="checkbox" style="margin-left: 65px;" ng-show="session.administrator || session.user.partner==1 || session.user.youTubeSubscriberCount>100000">\n<input type="checkbox"\nng-model="settings.youtubeAnnotations.state"\nng-change="toEdit(\'option_\'+settings.youtubeAnnotations.optionValue, settings.youtubeAnnotations.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.youtubeAnnotations.state===1"\n>\n<span translate="settings_connect_youtube_info"></span>\n</div>\n<div class="checkbox" style="margin-left: 65px;">\n<input type="checkbox"\nng-model="settings.youtubeSimulcast.state"\nng-change="checkYoutube(settings.youtubeSimulcast.state); toEdit(\'option_\'+settings.youtubeSimulcast.optionValue, settings.youtubeSimulcast.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.youtubeSimulcast.state===1"\n>\n<span translate="settings_connect_youtube_simulcast"></span>\n</div>\n<div ng-hide="settings.youtubeSimulcast.state===0">\n<div class="checkbox" style="margin-left: 65px;">\n<input type="checkbox"\nng-model="settings.keepYoutube.state"\nng-change="toEdit(\'option_\'+settings.keepYoutube.optionValue, settings.keepYoutube.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.keepYoutube.state===1"\n>\n<span translate="settings_connect_youtube_keep"></span>\n<select id="youtubeLivePrivacyStatus"\nclass="form-control youtube-privacy"\nng-model="settings.user.youtubeLivePrivacyStatus"\nng-change="toEdit(\'youtubeLivePrivacyStatus\', settings.user.youtubeLivePrivacyStatus)"\nng-options="option.code as option.name for option in youtubePrivacy">\n</select>\n</div>\n<div class="contentid-disclaimer">\nPlease note, YouTube Content ID copyright will apply if simulcast replays are saved to your channel.\n</div>\n</div>\n</div>\n</fieldset>\n<fieldset class="control-group">\n<div class="tumblr-not-connected" ng-hide="settings.user.tumblrId">\n<div class="top ">\n<div class="tumblr-logo logo not-connected pull-left"><i class="ynicon ynicon-social-tm"></i></div>\n<legend class="pull-left" translate="">Tumblr</legend>\n</div>\n<div class="instructions ">\nConnect your Tumblr account to gain new followers and notify them when you go live.\n</div>\n<div class="connect">\n<button class="btn btn-cancel" ng-click="session.connect(\'tumblr\',\'SETTINGS\', session.user.userId)">\n<i class="ynicon ynicon-refresh"></i>\n<span translate="_connect"></span>\n</button>\n</div>\n</div>\n<div class="tumblr-connected" ng-show="settings.user.tumblrId">\n<div class="top ">\n<div class="tumblr-logo logo connected pull-left"><i class="ynicon ynicon-social-tm"></i></div>\n<legend class="pull-left">\n<span translate="">Tumblr</span>\n<div class="pull-right">\n<span class="identity pull-left" ng-bind="settings.user.tumblrBlogTitle"></span>\n<span class="tumblr-disconnect disconnect pull-left">\n(\n<a href="javascript:void(0)" ng-click="disconnect(\'tumblr\')" translate="_disconnect"></a>\n)\n</span>\n</div>\n</legend>\n</div>\n<div class="checkbox">\n<input type="checkbox"\nng-model="settings.pubTumblr.state"\nng-change="toEdit(\'option_\'+settings.pubTumblr.optionValue, settings.pubTumblr.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.pubTumblr.state===1"\n>\n<span translate="settings_notify_my_followers"></span>\n</div>\n</div>\n</fieldset>\n<div class="notice">\n<span translate="settings_to_terminate_visit"></span>\n<a href="javascript:void(0)" ng-click="page=\'privacy\'" translate="settings_privacy_setting"></a>\n</div>\n<div class="edit-actions">\n<button class="btn btn-primary" type="button" ng-click="saveChanges()" translate="_save"></button>\n<button class="btn btn-cancel" type="button" ng-click="cancelEdit()" translate="_cancel"></button>\n</div>\n</div>\n</div>\n<div class="privacy-page" ng-show="page==\'privacy\'" ng-class="{\'edit-mode\':editing}">\n<div class="form-horizontal">\n<fieldset>\n<legend translate="settings_control_how_others_see_you"></legend>\n<div class="hide-my-city  control-group">\n<div class="control-label pull-left">\n<input type="checkbox"\nng-model="settings.hideCity.state"\nng-change="toEdit(\'option_\'+settings.hideCity.optionValue, settings.hideCity.state)"\nng-true-value="1"\nng-false-value="0"\nng-checked="settings.hideCity.state===1"></div>\n<div class="controls pull-left">\n<div translate="settings_hide_my_city"></div>\n<div class="text-muted" translate="settings_when_selected_your_city_will_not_display">\n</div>\n</div>\n<div class="clear"></div>\n</div>\n<div class="all-broadcasts-private control-group hidden">\n<div class="control-label">\n<input name="option_broadcastsPrivate" type="checkbox"></div>\n<div class="controls">\n<span translate="settings_mark_all_broadcasts_private"></span>\n<span class="note" translate="settings_means_broadcasts_only_viewed_by_you"></span>\n</div>\n</div>\n<div class="status-offline  control-group hidden">\n<div class="control-label">\n<input name="option_statusOffline" type="checkbox"></div>\n<div class="controls">\n<span class="" translate="settings_display_my_status_as_offline"></span>\n<span class="note " translate="settings_when_offline_selected">\n</span>\n</div>\n</div>\n<div class="controls">\n<div class="deactivate">\n<button class="btn btn-important" ng-click="terminating = true; editing = false;" ng-hide="terminating">\n<span translate="settings_terminate_account"></span>\n</button>\n<div ng-show="terminating">\n<span class="instructions  pull-left" translate="settings_confirm_terminate_forever">\n</span>\n<snap class="note  pull-left" translate="settings_this_will_delete_everything">\n</snap>\n<div class="pull-left">\n<btn-group>\n<button class="btn btn-important" ng-click="disconnect(\'deactivation\')"><span translate="settings_yes_terminate"></span></button>\n<button class="btn btn-cancel" ng-click="terminating=false"><span translate="_cancel"></span></button>\n</btn-group>\n</div>\n<input name="deactivation" type="hidden" value=""></div>\n</div>\n<div class="edit-actions">\n<button class="btn btn-primary" type="button" ng-click="saveChanges()" translate="_save"></button>\n<button class="btn btn-cancel" type="button" ng-click="cancelEdit()" translate="_cancel"></button>\n</div>\n</div>\n</fieldset>\n<div class="reactivate" ng-show="terminated">\n<div class="instructions ">\n<span translate="settings_your_account_has_been_closed"></span>\n</div>\n</div>\n</div>\n</div>\n\n<div class="subscriptions-page" ng-show="page==\'subscriptions\'" ng-class="{\'edit-mode\':editing}">\n\n<div class="form-horizontal">\n\n<div class="nos" ng-if="!subscriptions[0]">\n<div class="sthumbs">\n<img class="sthumbs_image" ng-src="{{::cdn.base}}/angularjsapp/src/assets/images/subscriptions/settings_thumbs.png" />\n</div>\n<div class="stitle" translate="settings_subscription_title"></div>\n<div class="stext">\n<b translate="settings_subscription_subtitle"></b>\n<ul>\n<li translate="settings_subscription_li1"></li>\n<li translate="settings_subscription_li2"></li>\n<li translate="settings_subscription_li3"></li>\n<li translate="settings_subscription_li4"></li>\n<li translate="settings_subscription_li5"></li>\n</ul>\n</div>\n</div>\n\n<div class="subscriptions" ng-if="subscriptions">\n<h1 ng-if="::subscriptions.length > 0" translate="manage_subs"></h1>\n<div class="sub" ng-repeat="sub in subscriptions">\n\n<div class="left">\n<div class="thumb circle-thumb" ng-style="{\'background-image\':\'url(\'+sub.channelThumb+\'),url(\'+sub.channelNoThumb+\')\'}">\n<img class="ynbadge" ng-src="{{ sub.channelBadge }}" />\n</div>\n</div>\n\n<div class="middle ">\n\n<!-- WHO -->\n<p class="spay pay-profile primary-text">{{ sub.channelName }}</p>\n\n<!-- HOW -->\n<p>\n<strong translate="purchased_on"></strong>\n<span ng-if="sub.subscriptionPlatform.name !== \'YouNow.com\'" translate="purchased_on_device" translate-values="{type: sub.subscriptionPlatform.name}"></span>\n<span ng-if="sub.subscriptionPlatform.name == \'YouNow.com\'">YouNow.com</span>\n</p>\n\n<!-- $$$  -->\n<span class="spay pay-price" translate="subscribe_monthly" translate-values="{value:\'$\'+sub.subscriptionPrice}"></span>\n\n<!-- EDIT -->\n<span ng-if="(session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_PAST_DUE\') || (session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_ACTIVE\')" class="spay pay-modify">\n<a class="update-link" translate="update_info" ng-click="modifySubscription( sub.channelId, sub );"></a>\n</span>\n\n</div>\n\n\n<div class="middle offset">\n\n<!-- VANILLA PAID THROUGH -->\n<span ng-if="session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_ACTIVE\'" class="spay pay-due"> <strong translate="paid_through"></strong> {{sub.paidThroughDate}}\n</span>\n\n<!-- SPICY PAYMENT PAST DUE -->\n<span ng-if="session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_PAST_DUE\'" class="spay pay-due">\n<p class="warn bold" translate="settings_subscription_pastdue"></p>\n<p class="warn"> <span translate="benefits_exp"> </span> {{sub.paidThroughDate}}</p>\n</span>\n\n<!-- CANCELLED BUT STILL ACTIVE -->\n<span ng-if="session.subStatus[ sub.channelId ]===false || ( session.subStatus[ sub.channelId ]===undefined && sub.subscriptionState==\'SUBSCRIPTION_ACTIVE_TO_CANCEL\' )" class="spay pay-due pay-warn">\n<p class="warn bold" translate="sub_cancelled"></p>\n<p class="warn"><span translate="benefits_exp"> </span> {{sub.paidThroughDate}}</p>\n</span>\n\n<!--  ENDED -->\n<p ng-if="session.subStatus[ sub.channelId ]===undefined && sub.subscriptionState==\'SUBSCRIPTION_CANCELLED\'" class="warn bold" translate="settings_subscription_ended"></p>\n\n</div>\n\n\n<div class="right offset">\n\n<span ng-if="(session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_PAST_DUE\') || (session.subStatus[ sub.channelId ] && sub.subscriptionState==\'SUBSCRIPTION_ACTIVE\')" class="spay pay-modify">\n<!-- CANCEL BUTTON -->\n<span class="btn btn-cancel" ng-click="cancelSubscription( sub.channelId, sub );" translate="cancel_sub"></span>\n</span>\n\n<span ng-if="!session.subStatus[ sub.channelId ]" class="spay pay-modify">\n<!-- RESUBSCRIBE -->\n<span class="btn btn-small btn-resub" ng-click="newSubscription( sub.channelId );">\n<span translate="renew_sub"></span>\n</span>\n</span>\n\n</div>\n\n</div>\n</div>\n\n</div>\n</div>\n\n</div>\n</div>\n\n');
}]),angular.module("angularjsapp/src/app/states/partner/earnings.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/earnings.tpl.html",'<div data-header></div>\n<div ng-include src="vm.PARTNER_EARNINGS_PAGE"></div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n\n')}]),angular.module("angularjsapp/src/app/states/partner/faq.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/faq.tpl.html",'<div data-header></div>\n<div class="notification" ng-class="{active: $root.notificationActive, fixed: $root.notificationFixed}">\n<alert type="{{$root.notificationType}}" ng-bind-html="$root.notificationMessage"></alert>\n<button class="close" ng-click="closeNotification()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n<div id="partnersFaq" class="partnersContent">\n\n<div ng-class="{\'ready\': infoPartnersFaqReady, \'rtl\': rtl}">\n<div class="container">\n<div class="content" id="partnersFaqContent" ng-bind-html="partnersFaqContent">\n</div>\n</div>\n</div>\n\n</div>\n<div data-footer ng-if="infoPartnersFaqReady"></div>\n')}]),angular.module("angularjsapp/src/app/states/partner/partials/active.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/active.tpl.html",'<div class="container">\n\n<div class="userearningswelcome">\n<div class="userearningsowenothumb">\n<div class="userearningstitlecongrats">Congrats {{vm.getUsername()}}</div>\n<div class="userearningsowenumnothumb">You\'re In!</div>\n</div>\n</div>\n\n<hr />\n\n<div class="body">\n<p>As a Partner you can now earn revenue by broadcasting.<br />Check your estimated earnings at anytime from the header!</p>\n</div>\n\n<div class="image">\n<img ng-src="{{::vm.config.settings.ServerCDNBaseUrl}}/images/partners/image_welcome_menu.jpg" width="438" height="162">\n</div>\n\n\n<div class="apply">\n<p><a href="/partners/earnings" class="btn" translate="earnings_goto"></a></p>\n</div>\n\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html",'<div class="container">\n\n<h9 class="title">Updated Partner Agreement</h9>\n<p>We update our terms of service to our partners from time to time. Please be sure to review and accept the updated Partner Agreement (shown bellow) before you proceed.</p>\n<p>Our standard for signing up partners is high, so it is a testament to your talent that you are one of the very few in our selective program.</p>\n<p>As a Partner you must agree to the following: </p>\n\n<ul>\n<li>Treat all YouNow viewers/users with respect.</li>\n<li>To receive payment, you are legally required to sign a W9 tax form or its international equivalent.</li>\n<li>You will receive payment at the beginning of the month following your broadcasts, provided you have earned at least $100 that month. If you\'ve earned less, money will be rolled over into the following month - assuming there is a minimum of $100.</li>\n<li>We reserve the right to review your broadcasts and revoke earnings if they violate our <a href="/partner/agreement.php" target="_blank">Partner Agreement</a> or <a href="/partner/guidelines.html" target="_blank">Partner Guidelines</a>.</li>\n</ul>\n\n<span class="message error" ng-if="vm.agreeFormInvalid">Please check the box below to confirm the Partner Agreement.</span>\n<p>\n<form id="aggreeForm">\n<input type="checkbox" name="agree" value="agree" style="margin-right:10px;" ng-model="vm.agreeFormChecked">\nI agree to the UPDATED <a href="/partner/agreement.php" target="_blank">Partner Agreement</a> and <a href="/terms.php" target="_blank">Terms and Conditions</a>.\n</form>\n</p>\n<span class="message error" ng-if="vm.agreeFormError">Sorry. Something went wrong. Please refresh the page.</span>\n\n</div>\n\n<div class="apply">\n<p>\n<button href="#" class="btn btn-partner" ng-click="vm.submitAgreeForm()" ng-disabled="vm.agreeFormProcessing">\n'+"{{ vm.agreeFormProcessing ? 'Sending...' : 'Yes, I agree' }}\n</button>\n</p>\n</div>\n")}]),angular.module("angularjsapp/src/app/states/partner/partials/application_pending.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/application_pending.tpl.html",'<div ng-if="!vm.pendingForm">\n\n<section class="intro">\n<div class="container">\n\n<div class="info">\n<h1>Earning Revenue is Simple</h1>\n<p class="text">Our Partner Program rewards top talent on YouNow. Earn revenue based on audience participation  not someone else\'s ads.</p>\n<p><a href="#" class="btn btn-apply" ng-click="vm.enablePendingForm()">Apply</a></p>\n</div>\n\n</div>\n</section>\n\n<section class="body">\n<div class="container">\n\n<div class="title">\n<h9>What you need to know</h9>\n</div>\n<div class="columns">\n\n<div class="column column2">\n<h7>Audience Engagement, Not Ads</h7>\n<p>\nThe more viewers, audience interaction and premium gifts, the more revenue you make! It\'s all about engagement, not ads.\n</p>\n</div>\n<div class="column column2">\n<h7>Earn After Every Broadcast</h7>\n<p>\nAt the end of each broadcast you see your estimated earnings, or check your earnings at anytime from your profile!\n</p>\n</div>\n<div class="column column2">\n<h7>Payment is Easy</h7>\n<p>\nAs a Partner, you earn revenue at the end of each broadcast, and get paid out once a month  no hassle!\n</p>\n</div>\n<div class="column column2">\n<h7>What We Expect from Partners</h7>\n<p>\nWe expect Partners to maintain average concurrent viewership of 500+, broadcast regularly (3x / week), and have content that conforms to our <a href="/partner/agreement.php" target="_blank">Terms of Service</a> and <a href="/partner/dmca.html" target="_blank">DMCA Guidelines</a>.\n</p>\n</div>\n\n</div>\n\n<div class="apply">\n<a href="#" class="btn" ng-click="vm.enablePendingForm();">Apply</a>\n</div>\n\n</div>\n</section>\n\n</div>\n\n<div class="partner" id="partnerApply" ng-if="vm.pendingForm">\n<div class="container">\n\n<h9>Become a Partner</h9>\n<hr />\n<p>Apply today and start monetizing your broadcasts.</p>\n<form name="pendingForm" novalidate ng-submit="vm.submitPendingForm();" ng-class="{\'submitted\':vm.pendingFormSubmitted}">\n<div class="input-row">\nFull Name*<br>\n<input name="name" type="text" ng-model="vm.pendingForm.name" required>\n</div>\n<div class="input-row">\nEmail*<br>\n<input name="email" height="25" type="text" ng-model="vm.pendingForm.email" required ng-pattern="/^[_a-z0-9]+(.[_a-z0-9]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/">\n</div>\n<div class="input-row">\nPhone Number*<br>\n<input name="phone" height="25" type="text" ng-model="vm.pendingForm.phone" required ng-pattern="/^(?(d{3}))?[ .-]?(d{3})[ .-]?(d{4})$/">\n</div>\n<div class="input-row">\nSocial Links*<br>\n<textarea rows="4" placeholder="Ex. www.twitter.com/yourhandle, www,youtube.com/username, etc." ng-model="vm.pendingForm.social" required></textarea>\n</div>\n<div class="input-row">\nTell us more about you and your desire to become a YouNow Partner*\n<textarea rows="4" ng-model="vm.pendingForm.about" required></textarea>\n</div>\n\n<p class="message error" ng-if="vm.pendingFormError">Sorry. Something went wrong. Please refresh the page.</p>\n\n<div class="apply">\n<button type="submit" class="btn">Submit</button>\n</div>\n</form>\n\n</div>\n\n</div>\n')}]),angular.module("angularjsapp/src/app/states/partner/partials/not.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/not.tpl.html",'<div class="intro">\n<div class="container">\n\n<div class="info">\n<h1 class="orange">YouNow Partner Program</h1>\n<p>Are you an exceptionally talented broadcaster, personality or influencer?\n<br /> Interested in leveraging the YouNow platform to earn actual income?\n<br /> With our Partner Program now you can!</p>\n<p>\n<br />Learn more below to see if you qualify.</p>\n</div>\n\n</div>\n</div>\n\n\n<div class="features">\n<div class="container">\n\n<div class="preamble twelve columns offset-by-two">\n<h9>MAKING MONEY ON YOUNOW IS SIMPLE:\n<br>\n</h9>\n</div>\n\n<div class="columns">\n<div class="column3 column">\n<img src="images/partners/simple1.png">\n<h5>CREATE ENGAGING CONTENT</h5>\n<p>Make an impact with your live broadcasts! Be inspiring and interactive. Keep your audience wanting more.</p>\n</div>\n\n<div class="column3 column">\n<img src="images/partners/simple2.png">\n<h5>BUILD YOUR FAN BASE</h5>\n<p>Connect with your fans, grow a loyal audience, and get exposed to more and more new fans every day.</p>\n</div>\n\n<div class="column3 column">\n<img src="images/partners/simple3.png">\n<h5>MAKE $$$</h5>\n<p>Earn instantly during each broadcast! <br />Finally, it pays to be a top-of-the-line YouNower.</p>\n</div>\n</div>\n\n</div>\n</div>\n\n\n<div class="tour tour-easy">\n<div class="container">\n<div class="info">\n<h9>HOW DOES IT WORK? IT\'S EASY!</h9>\n<ul class="list-features">\n<li>Broadcast awesome live content on YouNow</li>\n<li>Fans love you and engage with your broadcast</li>\n<li>The more viewers, audience interaction and gifts you get, <br />the more revenue you earn!</li>\n</ul>\n</div>\n</div>\n</div>\n\n\n<div class="tour tour-anyone">\n<div class="container">\n<div class="info">\n<h9>CAN ANYONE BE A YOUNOW PARTNER?</h9>\n<p>The YouNow Partner Program is geared exclusively to qualified content creators. To qualify as a YouNow Partner, we look for:</p>\n<ul class="list-features">\n<li>Average concurrent viewership of 500+ </li>\n<li>Content that conforms to our <a href="/policy/en/terms" target="_blank">Terms of Service</a> and <a href="/policy/en/dmca" target="_blank">DMCA Guidelines</a></li>\n</ul>\n<p>\nOnce you\'re a Partner, we ask that you follow our\n<a ng-if="config.UILanguage == \'en\'" href="/policy/en/partners" target="_blank">Partner guidelines</a>\n<a ng-if="config.UILanguage == \'de\'" href="/policy/de/partner" target="_blank">Partner guidelines</a>\n.\n</p>\n<p>\nIf you create content elsewhere (for example, on YouTube, Vine, Twitter or Instagram) you should still apply! Multi-platform audiences will only serve to increase your earning potential. We look for:\n</p>\n<ul class="list-features">\n<li>Average views per video: 25,000+</li>\n<li>Subscribers / Followers: 75,000+</li>\n</ul>\n<p>THE ABOVE REQUIREMENTS SERVE AS GENERAL GUIDELINES. WE MAY DENY ANY APPLICATION THAT CONFORMS TO THESE GUIDELINES, OR MAKE EXCEPTIONS FOR OUTSTANDING TALENT, AT OUR DISCRETION.\n</p>\n</div>\n</div>\n</div>\n\n\n<div class="apply">\n<a class="btn" href="https://younow.wufoo.com/forms/younow-partner-program-application/">Apply Now</a>\n</div>\n\n')}]),angular.module("angularjsapp/src/app/states/partner/partials/pending.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/pending.tpl.html",'<section class="thankyou">\n<div class="container">\n<h9 class="title">Thank You</h9>\n<p>Awesome. We are excited you\'re interested in working with us. We will be in contact with you in the coming days.</p>\n</div>\n</section>\n')}]),angular.module("angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html",'<div class="container">\n\n<h9 class="title">Congrats {{vm.getUsername()}}!</h9>\n<p>Our standard for signing up partners is high, so it is a testament to your talent that you are one of the very few in our selective program.</p>\n<p>As a Partner you must agree to the following:</p>\n\n<ul>\n<li>Treat all YouNow viewers/users with respect.</li>\n<li>To receive payment, you are legally required to sign a W9 tax form or its international equivalent.</li>\n<li>You will receive payment at the beginning of the month following your broadcasts, provided you have earned at least $100 that month. If you\'ve earned less, money will be rolled over into the following month - assuming there is a minimum of $100.</li>\n<li>We reserve the right to review your broadcasts and revoke earnings if they violate our <a href="/partner/agreement.php" target="_blank">Partner Agreement</a> or <a href="/partner/guidelines.html" target="_blank">Partner Guidelines</a>.</li>\n</ul>\n\n<span class="message error" ng-if="vm.agreeFormInvalid">Please check the box below to confirm the Partner Agreement.</span>\n<p>\n<form id="aggreeForm">\n<input type="checkbox" name="agree" value="agree" style="margin-right:10px;" ng-model="vm.agreeFormChecked">\nI agree to the <a href="/partner/agreement.php" target="_blank">Partner Agreement</a> and <a href="/terms.php" target="_blank">Terms and Conditions</a>.\n</form>\n</p>\n<span class="message error" ng-if="vm.agreeFormError">Sorry. Something went wrong. Please refresh the page.</span>\n\n</div>\n\n<div class="apply">\n<p>\n<button href="#" class="btn btn-partner" ng-click="vm.submitAgreeForm()" ng-disabled="vm.agreeFormProcessing">\n'+"{{ vm.agreeFormProcessing ? 'Sending...' : 'Yes, I agree' }}\n</button>\n</p>\n</div>\n")}]),angular.module("angularjsapp/src/app/states/partner/partner.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/partner.tpl.html",'<div data-header></div>\n<div class="notification" ng-class="{active: $root.notificationActive, fixed: $root.notificationFixed}">\n<alert type="{{$root.notificationType}}" ng-bind-html="$root.notificationMessage"></alert>\n<button class="close" ng-click="closeNotification()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n<div id="partnersPage" class="partnersContent">\n\n<div class="notpartner" id="partner0" ng-if="vm.session.user.userId===0 || vm.session.user.partner===0 || vm.session.user.partner===4 || vm.session.user.partner===5 || vm.session.user.partner===8 || vm.session.user.partner===9 || vm.session.user.partner===10 || vm.session.isAdmin()">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/not.tpl.html\'"></div>\n</div>\n\n<div class="partner" id="partner1" ng-if="vm.session.user.partner===1">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/active.tpl.html\'"></div>\n</div>\n\n<div class="partner" id="partner2" ng-if="vm.session.user.partner==2">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/application_pending.tpl.html\'"></div>\n</div>\n\n<div class="partner" id="partner3" ng-if="vm.session.user.partner==3">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/pending.tpl.html\'"></div>\n</div>\n\n<div class="partner" id="partner6" ng-if="vm.session.user.partner==6">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html\'"></div>\n</div>\n\n<div class="partner" id="partner7" ng-if="vm.session.user.partner==7">\n<div ng-include src="\'angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html\'"></div>\n</div>\n\n</div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n\n')}]),angular.module("angularjsapp/src/app/states/partner/payment-settings.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/partner/payment-settings.tpl.html",'<div data-header></div>\n<div class="notification" ng-class="{active: $root.notificationActive, fixed: $root.notificationFixed}">\n<alert type="{{$root.notificationType}}" ng-bind-html="$root.notificationMessage"></alert>\n<button class="close" ng-click="closeNotification()" type="button">\n<i class="ynicon ynicon-close"></i>\n</button>\n</div>\n\n<!-- Desktop View Start -->\n<div ng-if="::!vm.mobile" id="partnersEarnings" class="partnersContent">\n\n<div class="userearnings">\n<div class="userearningsowenothumb">\n<div class="userearningstitle" translate="tipalti_title"></div>\n<p class="caption" translate="tipalti_caption" translate-values="{a_open:\'<a href=\'mailto:PartnerPayments@YouNow.com?Subject=Partner%Payments\' target=\'_blank\'>\',a_close:\'</a>\'}"></p>\n</div>\n</div>\n\n<hr>\n\n<div class="iframe-container">\n<tipalti-iframe class="tipalti-iframe"> </tipalti-iframe>\n</div>\n\n</div>\n<!-- Desktop View End -->\n\n<!-- Mobile View Start -->\n<div ng-if="::vm.mobile" id="partnersEarnings" class="partnersContent">\n\n<div class="userearnings">\n<div class="userearningsowenothumb" ng-init="">\n<div class="userearningstitle" translate="tipalti_title_mobile"></div>\n<p class="caption" translate="tipalti_caption_mobile"></p>\n</div>\n</div>\n\n</div>\n<!-- Mobile View End -->\n\n<div data-footer ng-hide="$root.hideFooter"></div>\n\n')}]),angular.module("angularjsapp/src/app/states/policy/policy.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/policy/policy.tpl.html",'<div data-header></div>\n<div id="docs" ng-class="{\'ready\': ready, \'rtl\': rtl}">\n<div id="doc-header">{{docTitle}}</div>\n<div id="doc-sidebar">\n<div ng-repeat="section in sections" class="doc-section" ng-click="scrollTo(section.offsetTop)">{{section.innerText}}</div>\n</div>\n<div id="doc-content" ng-bind-html="docContent"></div>\n</div>\n<div data-footer ng-hide="$root.hideFooter"></div>\n')}]),angular.module("angularjsapp/src/app/states/streetteam/streetteam.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/states/streetteam/streetteam.tpl.html",'<div data-header></div>\n<div class="container">\n<div class="streetteam" ng-if="vm.data.template">\n<div class="streetteam-title" ng-bind="vm.data.template.title"></div>\n<div class="streetteam-container">\n<div class="streetteam-subtitle" ng-bind="vm.data.template.subtitle"></div>\n<div class="streetteam-message" ng-bind-html="vm.data.template.html"></div>\n<div class="streetteam-buttons">\n<button\nclass="btn"\nng-if="vm.data.template.join"\nng-bind="vm.data.template.join"\nng-click="vm.toggle()"\n></button>\n<button\nclass="btn"\nng-if="vm.data.template.return"\nng-bind="vm.data.template.return"\nng-click="vm.goBack()"\n></button>\n<button\nclass="btn optout"\nng-if="vm.data.template.leave"\nng-bind="vm.data.template.leave"\nng-click="vm.toggle()"\n></button>\n</div>\n</div>\n</div>\n</div>\n')}]),angular.module("angularjsapp/src/app/../core/states/content-creator/content-creator.tpl.html",[]).run(["$templateCache",function(e){e.put("angularjsapp/src/app/../core/states/content-creator/content-creator.tpl.html",'<section class="xTemp homeSection search-container content-creator-container">\n\n<div class="search-top">\n<a>\n<img class="younow-logo" ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_younow_white.png">\n</a>\n<div class="get-partnered" ng-click="vm.scrollToSignUp()">\n<div class="call">\n<p>GET PARTNERED</p>\n</div>\n<div class="arrow">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/right_arrow.png">\n</div>\n</div>\n\n</div>\n\n\n<!-- younow-home-app-promo -->\n<div class="home-video-container">\n<video class="home-video" autoplay="" loop="" ng-attr-poster="{{::vm.configSettings.ServerCDNBaseUrl +\'/images/about/novideo.jpg\'}}" id="homeVideo">\n<source ng-src="{{::vm.configSettings.ServerCDNBaseUrl + \'/landing/video/younow_shade2.webmhd.webm\'}}" type="video/webm">\n<source "{{::vm.configSettings.ServerCDNBaseUrl + \'/landing/video/younow_shade2.mp4\'}}" type="video/mp4">\n</video>\n<div ng-style="::{\'background-image\': \'url(\'+vm.configSettings.ServerCDNBaseUrl + \'/images/bike_girl2.jpg\'+\')\'}" class="mobile-banner"></div>\n</div>\n<h1>Go Live. Hang with Fans. Monetize.</h1>\n</section>\n\n<div scrolled-class="385" class="get-partnered-panel" id="get-partnered" ng-click="vm.scrollToSignUp()">\n<div class="call-to-action">\n<p> GET PARTNERED</p>\n</div>\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/white_down_caret.png">\n</div>\n\n\n<div class="benefits">\n<div class="guest">\n<h4 scrolled-class="385" >Guest <br> Broadcasting</h4>\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature1_GuestBC.jpg">\n<p>Bring your audience in to broadcast with you.</p>\n</div>\n<div class="earn">\n<h4>Earn Money From Tips &amp; Gifts</h4>\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature2_Tips.jpg">\n<p>Viewers buy bars. Bars buy gifts. Gifts make YouNow Partners real money.</p>\n</div>\n<div class="audience">\n<h4>Expand Your Audience</h4>\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature3_Subscribe.jpg">\n<p>Fans can subscribe to your YouTube channel and follow you on Twitter directly from the app.</p>\n</div>\n</div>\n\n<div class="how-it-works">\n\n<h2>\nHOW DOES IT WORK?\n</h2>\n\n<div class="tutorial-vid">\n<iframe src="https://player.vimeo.com/video/130339308"  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div>\n\n\n<div class="benefits white">\n<div ng-class="{\'visible\': vm.selectedTestimonial === \'1\'}" class="guest">\n\n<img class="arrow left " ng-click="vm.nextTestimonial(\'back\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png">\n<img class="headshot" ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_haileyknox.jpg">\n<img class="arrow right" ng-click="vm.nextTestimonial(\'next\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png">\n\n<p>"YouNow has helped me to find my audience like no other platform could, and has opened opportunities for me to connect with fans in very real and meaningful way."</p>\n\n<p class="author">- Hailey Knox</p>\n</div>\n<div ng-class="{\'visible\': vm.selectedTestimonial === \'2\'}" class="audience">\n\n<img class="arrow left" ng-click="vm.nextTestimonial(\'back\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png">\n<img class="headshot" ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_twaimz.jpg">\n<img class="arrow right" ng-click="vm.nextTestimonial(\'next\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png">\n\n<p>"I am OBSESSED with YouNow! Its a great way to connect with people I like to call my friends, not fans!"</p>\n\n<p class="author">- twaimz</p>\n</div>\n<div ng-class="{\'visible\': vm.selectedTestimonial === \'3\'}" class="earn">\n\n<img class="arrow left" ng-click="vm.nextTestimonial(\'back\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png">\n<img class="headshot" ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_LABeast.jpg">\n<img class="arrow right" ng-click="vm.nextTestimonial(\'next\') "ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png">\n\n<p>"YouNow has given me the gift to have face to face conversations any time, 365 days of the year, worldwide with the people I care about the most  my loyal and dedicated fans."</p>\n\n<p class="author">- L.A. Beast</p>\n</div>\n</div>\n\n<div class="featured-in">\n<p>ALSO FEATURED IN</p>\n</div>\n\n<div class="logos">\n<div>\n<a target="_blank" href=" http://www.billboard.com/articles/business/6836149/younow-music-live-streaming-adi-sideman-hailey-knox">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_billboard.png">\n</a>\n\n<a target="_blank" href="http://variety.com/2015/digital/news/never-mind-periscope-or-meerkat-younow-has-already-paid-top-live-streamers-1-million-1201483789/">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_variety.png">\n</a>\n\n<a target="_blank" href="http://dailydot.com/entertainment/younow-livestreaming-platform/?tw=dd">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_dailydot.png">\n</a>\n\n<a target="_blank" href="http://www.slate.com/articles/technology/users/2015/12/younow_a_live_streaming_social_network_is_making_stars.2.html">\n<img id="scroll-point" ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_slate.png">\n</a>\n</div>\n\n</div>\n\n\n</div>\n\n\n<div class="get-started" ng-class="{\'hidden\': vm.success}">\n<h2>Let\'s Get Started!</h2>\n<h4> Leave your contact details and we\'ll be in touch soon.</h4>\n\n<!-- need to validate these -->\n<form ng-class="{\'submitted-form\': vm.submittedForm}">\n<div class="name">\n<div class="input-block name" yn-enter="vm.submitPartnerInfo()">\n<input ng-model="vm.partnerInfo.firstName" required placeholder="First Name"></input>\n<div class="warning">First Name Required</div>\n</div>\n\n<div class="input-block name" yn-enter="vm.submitPartnerInfo()">\n<input ng-model="vm.partnerInfo.lastName" required placeholder="Last Name"></input>\n<div class="warning">Last Name Required</div>\n</div>\n</div>\n<div class="input-block email" yn-enter="vm.submitPartnerInfo()">\n<input ng-model="vm.partnerInfo.email" required type="email" class="email" placeholder="Email"></input>\n<div class="warning">Valid Email Required</div>\n</div><br>\n\n<div class="input-block phone" yn-enter="vm.submitPartnerInfo()">\n<input ng-model="vm.partnerInfo.phone" required type="number" ng-minlength="10" ng-maxlength="11" class="number" placeholder="Phone Number"></input>\n<div class="warning">Valid Phone Number Required (no dashes or parentheses)</div>\n</div>\n</form>\n\n<div ng-click="vm.submitPartnerInfo()"class="interest-btn">\n<p> I\'m Interested! Help me get partnered!</p>\n</div>\n\n</div>\n\n<div class="success get-started" ng-class="{\'visible\': vm.success}">\n<h2>Thanks! We\'ll Be in touch soon</h2>\n<h4> In the meantime, sign up on YouNow!</h4>\n\n<a target="_blank" href="https://www.younow.com/">\n<div class="green-btn">\n<p>Create a YouNow Account</p>\n</div>\n</a>\n\n<h1> DOWNLOAD THE APP</h1>\n\n<a href="https://itunes.apple.com/app/apple-store/id471347413">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/apple_download.png">\n</a>\n<a href="https://play.google.com/store/apps/details?id=younow.live">\n<img ng-src="{{::vm.configSettings.ServerCDNBaseUrl}}/images/android_download.png">\n</a>\n</div>\n\n')}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n<div class="panel-heading">\n<h4 class="panel-title">\n<a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n</h4>\n</div>\n<div class="panel-collapse" collapse="!isOpen">\n<div class="panel-body" ng-transclude></div>\n</div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>\n')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n<button ng-show="closeable" type="button" class="close" ng-click="close()">\n<span aria-hidden="true">&times;</span>\n<span class="sr-only" translate="_OK"></span>\n</button>\n<div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n<li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n</ol>\n<div class="carousel-inner" ng-transclude></div>\n<a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n<a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n'active': leaving || (active && !entering),\n'prev': (next || active) && direction=='prev',\n'next': (next || active) && direction=='next',\n'right': direction=='prev',\n'left': direction=='next'\n}\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n<daypicker ng-switch-when="day" tabindex="0"></daypicker>\n<monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n<yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>\n')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n<thead>\n<tr>\n<th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n<th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n<th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n</tr>\n<tr>\n<th ng-show="showWeeks" class="text-center"></th>\n<th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat="row in rows track by $index">\n<td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n<td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n<button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n</td>\n</tr>\n</tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n<thead>\n<tr>\n<th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n<th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n<th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat="row in rows track by $index">\n<td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n<button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n</td>\n</tr>\n</tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n<li ng-transclude></li>\n<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n<span class="btn-group pull-left">\n<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n</span>\n<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n</li>\n</ul>\n');
}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n<thead>\n<tr>\n<th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n<th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n<th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n</tr>\n</thead>\n<tbody>\n<tr ng-repeat="row in rows track by $index">\n<td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n<button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n</td>\n</tr>\n</tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\nng-class="{in: animate}"\nng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" id="modalWindow" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n<div class="modal-dialog" yn-modal-draggable ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n<li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n<li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n<li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n<li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n<li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n<div class="arrow"></div>\n\n<div class="popover-inner">\n<h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n<div class="popover-content" ng-bind="content"></div>\n</div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>\n')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n<i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n<span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n</i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n<a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n<ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n<div class="tab-content">\n<div class="tab-pane"\nng-repeat="tab in tabs"\nng-class="{active: tab.active}"\ntab-content-transclude="tab">\n</div>\n</div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n<tbody>\n<tr class="text-center">\n<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n<td>&nbsp;</td>\n<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n<td ng-show="showMeridian"></td>\n</tr>\n<tr>\n<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n</td>\n<td>:</td>\n<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n</td>\n<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n</tr>\n<tr class="text-center">\n<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n<td>&nbsp;</td>\n<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n<td ng-show="showMeridian"></td>\n</tr>\n</tbody>\n</table>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="::{ \'margin-top\': \'31px\', width: \'270px\', left: 0}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n<li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-mousedown="selectMatch($index)" role="option" id="{{match.id}}">\n<div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n</li>\n</ul>\n')}]);
